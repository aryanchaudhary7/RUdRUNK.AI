(self.webpackChunkd2c = self.webpackChunkd2c || []).push([[1390], {
    42053: ()=>{
        tinymce.IconManager.add("default", {
            icons: {
                "accessibility-check": '<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',
                "action-next": '<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',
                "action-prev": '<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',
                "align-center": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                "align-justify": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                "align-left": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                "align-none": '<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',
                "align-right": '<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                "arrow-left": '<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',
                "arrow-right": '<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',
                bold: '<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',
                bookmark: '<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',
                "border-style": '<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',
                "border-width": '<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',
                brightness: '<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',
                browse: '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',
                cancel: '<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',
                "cell-background-color": '<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',
                "cell-border-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',
                "change-case": '<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',
                "character-count": '<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',
                "checklist-rtl": '<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
                checklist: '<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',
                checkmark: '<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',
                "chevron-down": '<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',
                "chevron-left": '<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',
                "chevron-right": '<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',
                "chevron-up": '<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',
                close: '<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',
                "code-sample": '<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',
                "color-levels": '<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',
                "color-picker": '<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',
                "color-swatch-remove-color": '<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',
                "color-swatch": '<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',
                "comment-add": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',
                comment: '<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',
                contrast: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',
                copy: '<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',
                crop: '<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',
                "cut-column": '<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',
                "cut-row": '<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',
                cut: '<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',
                "document-properties": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
                drag: '<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',
                "duplicate-column": '<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',
                "duplicate-row": '<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',
                duplicate: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',
                "edit-block": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',
                "edit-image": '<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',
                "embed-page": '<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',
                embed: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',
                emoji: '<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',
                export: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',
                fill: '<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',
                "flip-horizontally": '<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',
                "flip-vertically": '<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',
                "format-painter": '<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',
                format: '<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',
                fullscreen: '<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',
                gallery: '<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',
                gamma: '<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',
                help: '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',
                "highlight-bg-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',
                home: '<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',
                "horizontal-rule": '<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',
                "image-options": '<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',
                image: '<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',
                indent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',
                info: '<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',
                "insert-character": '<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',
                "insert-time": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',
                invert: '<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',
                italic: '<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',
                language: '<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',
                "line-height": '<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',
                line: '<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',
                link: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',
                "list-bull-circle": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
                "list-bull-default": '<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
                "list-bull-square": '<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',
                "list-num-default-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
                "list-num-default": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',
                "list-num-lower-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-lower-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-lower-greek-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-lower-greek": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-lower-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',
                "list-num-lower-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',
                "list-num-upper-alpha-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-upper-alpha": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',
                "list-num-upper-roman-rtl": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',
                "list-num-upper-roman": '<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',
                lock: '<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',
                ltr: '<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',
                "more-drawer": '<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',
                "new-document": '<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',
                "new-tab": '<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',
                "non-breaking": '<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',
                notice: '<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',
                "ordered-list-rtl": '<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
                "ordered-list": '<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',
                orientation: '<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',
                outdent: '<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',
                "page-break": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',
                paragraph: '<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',
                "paste-column-after": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
                "paste-column-before": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
                "paste-row-after": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
                "paste-row-before": '<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',
                "paste-text": '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',
                paste: '<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',
                "permanent-pen": '<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',
                plus: '<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',
                preferences: '<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',
                preview: '<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',
                print: '<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',
                quote: '<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',
                redo: '<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',
                reload: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',
                "remove-formatting": '<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',
                remove: '<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',
                "resize-handle": '<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',
                resize: '<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',
                "restore-draft": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',
                "rotate-left": '<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',
                "rotate-right": '<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',
                rtl: '<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',
                save: '<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',
                search: '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',
                "select-all": '<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',
                selected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',
                settings: '<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',
                sharpen: '<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',
                sourcecode: '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',
                "spell-check": '<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',
                "strike-through": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',
                subscript: '<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',
                superscript: '<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',
                "table-caption": '<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',
                "table-cell-classes": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',
                "table-cell-properties": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',
                "table-cell-select-all": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',
                "table-cell-select-inner": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',
                "table-classes": '<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',
                "table-delete-column": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',
                "table-delete-row": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',
                "table-delete-table": '<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',
                "table-insert-column-after": '<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',
                "table-insert-column-before": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',
                "table-insert-row-above": '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',
                "table-insert-row-after": '<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',
                "table-left-header": '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',
                "table-merge-cells": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',
                "table-row-numbering-rtl": '<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',
                "table-row-numbering": '<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',
                "table-row-properties": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',
                "table-split-cells": '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',
                "table-top-header": '<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',
                table: '<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',
                template: '<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',
                "temporary-placeholder": '<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',
                "text-color": '<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',
                toc: '<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                translate: '<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',
                underline: '<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',
                undo: '<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',
                unlink: '<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',
                unlock: '<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',
                "unordered-list": '<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',
                unselected: '<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',
                upload: '<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',
                user: '<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',
                "vertical-align": '<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',
                visualblocks: '<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',
                visualchars: '<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',
                warning: '<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',
                "zoom-in": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',
                "zoom-out": '<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'
            }
        })
    }
    ,
    64989: (zo,xr,cn)=>{
        cn(42053)
    }
    ,
    14258: ()=>{
        !function() {
            "use strict";
            var zo = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , cn = function(me, Le) {
                var je = function(me, Le) {
                    return me.fire("insertCustomChar", {
                        chr: Le
                    })
                }(me, Le).chr;
                me.execCommand("mceInsertContent", !1, je)
            }
              , vr = ("array",
            function(Le) {
                return "array" === function(me) {
                    var Le = typeof me;
                    return null === me ? "null" : "object" === Le && (Array.prototype.isPrototypeOf(me) || me.constructor && "Array" === me.constructor.name) ? "array" : "object" === Le && (String.prototype.isPrototypeOf(me) || me.constructor && "String" === me.constructor.name) ? "string" : Le
                }(Le)
            }
            )
              , wn = function(Le) {
                return null === Le
            }
              , fn = function() {}
              , Hr = function(me) {
                return function() {
                    return me
                }
            }
              , gn = function(me) {
                return me
            }
              , _t = Hr(!1)
              , lr = Hr(!0)
              , oo = function() {
                return xe
            }
              , xe = function() {
                var me = function(We) {
                    return We()
                }
                  , Le = gn;
                return {
                    fold: function(We, Bt) {
                        return We()
                    },
                    isSome: _t,
                    isNone: lr,
                    getOr: Le,
                    getOrThunk: me,
                    getOrDie: function(We) {
                        throw new Error(We || "error: getOrDie called on none.")
                    },
                    getOrNull: Hr(null),
                    getOrUndefined: Hr(void 0),
                    or: Le,
                    orThunk: me,
                    map: oo,
                    each: fn,
                    bind: oo,
                    exists: _t,
                    forall: lr,
                    filter: function() {
                        return oo()
                    },
                    toArray: function() {
                        return []
                    },
                    toString: Hr("none()")
                }
            }()
              , hn = function(me) {
                var Le = Hr(me)
                  , je = function() {
                    return Bt
                }
                  , We = function(Gn) {
                    return Gn(me)
                }
                  , Bt = {
                    fold: function(Gn, $n) {
                        return $n(me)
                    },
                    isSome: lr,
                    isNone: _t,
                    getOr: Le,
                    getOrThunk: Le,
                    getOrDie: Le,
                    getOrNull: Le,
                    getOrUndefined: Le,
                    or: je,
                    orThunk: je,
                    map: function(Gn) {
                        return hn(Gn(me))
                    },
                    each: function(Gn) {
                        Gn(me)
                    },
                    bind: We,
                    exists: We,
                    forall: We,
                    filter: function(Gn) {
                        return Gn(me) ? Bt : xe
                    },
                    toArray: function() {
                        return [me]
                    },
                    toString: function() {
                        return "some(" + me + ")"
                    }
                };
                return Bt
            }
              , Pt = {
                some: hn,
                none: oo,
                from: function(me) {
                    return null == me ? xe : hn(me)
                }
            }
              , Xe = Array.prototype.push
              , Mr = function(me, Le) {
                for (var je = me.length, We = new Array(je), Bt = 0; Bt < je; Bt++)
                    We[Bt] = Le(me[Bt], Bt);
                return We
            }
              , En = function(me, Le) {
                return function(me) {
                    for (var Le = [], je = 0, We = me.length; je < We; ++je) {
                        if (!vr(me[je]))
                            throw new Error("Arr.flatten item " + je + " was not an array, input: " + me);
                        Xe.apply(Le, me[je])
                    }
                    return Le
                }(Mr(me, Le))
            }
              , In = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , st = In.isArray
              , ge = "User Defined"
              , on = function(me) {
                return st(me) ? function(me) {
                    return In.grep(me, function(Le) {
                        return st(Le) && 2 === Le.length
                    })
                }(me) : "function" == typeof me ? me() : []
            }
              , Ot = function(me) {
                var Le = function(me, Le) {
                    var je = function(me) {
                        return me.getParam("charmap")
                    }(me);
                    je && (Le = [{
                        name: ge,
                        characters: on(je)
                    }]);
                    var We = function(me) {
                        return me.getParam("charmap_append")
                    }(me);
                    if (We) {
                        var Bt = In.grep(Le, function(Gn) {
                            return Gn.name === ge
                        });
                        return Bt.length ? (Bt[0].characters = [].concat(Bt[0].characters).concat(on(We)),
                        Le) : Le.concat({
                            name: ge,
                            characters: on(We)
                        })
                    }
                    return Le
                }(me, [{
                    name: "Currency",
                    characters: [[36, "dollar sign"], [162, "cent sign"], [8364, "euro sign"], [163, "pound sign"], [165, "yen sign"], [164, "currency sign"], [8352, "euro-currency sign"], [8353, "colon sign"], [8354, "cruzeiro sign"], [8355, "french franc sign"], [8356, "lira sign"], [8357, "mill sign"], [8358, "naira sign"], [8359, "peseta sign"], [8360, "rupee sign"], [8361, "won sign"], [8362, "new sheqel sign"], [8363, "dong sign"], [8365, "kip sign"], [8366, "tugrik sign"], [8367, "drachma sign"], [8368, "german penny symbol"], [8369, "peso sign"], [8370, "guarani sign"], [8371, "austral sign"], [8372, "hryvnia sign"], [8373, "cedi sign"], [8374, "livre tournois sign"], [8375, "spesmilo sign"], [8376, "tenge sign"], [8377, "indian rupee sign"], [8378, "turkish lira sign"], [8379, "nordic mark sign"], [8380, "manat sign"], [8381, "ruble sign"], [20870, "yen character"], [20803, "yuan character"], [22291, "yuan character, in hong kong and taiwan"], [22278, "yen/yuan character variant one"]]
                }, {
                    name: "Text",
                    characters: [[169, "copyright sign"], [174, "registered sign"], [8482, "trade mark sign"], [8240, "per mille sign"], [181, "micro sign"], [183, "middle dot"], [8226, "bullet"], [8230, "three dot leader"], [8242, "minutes / feet"], [8243, "seconds / inches"], [167, "section sign"], [182, "paragraph sign"], [223, "sharp s / ess-zed"]]
                }, {
                    name: "Quotations",
                    characters: [[8249, "single left-pointing angle quotation mark"], [8250, "single right-pointing angle quotation mark"], [171, "left pointing guillemet"], [187, "right pointing guillemet"], [8216, "left single quotation mark"], [8217, "right single quotation mark"], [8220, "left double quotation mark"], [8221, "right double quotation mark"], [8218, "single low-9 quotation mark"], [8222, "double low-9 quotation mark"], [60, "less-than sign"], [62, "greater-than sign"], [8804, "less-than or equal to"], [8805, "greater-than or equal to"], [8211, "en dash"], [8212, "em dash"], [175, "macron"], [8254, "overline"], [164, "currency sign"], [166, "broken bar"], [168, "diaeresis"], [161, "inverted exclamation mark"], [191, "turned question mark"], [710, "circumflex accent"], [732, "small tilde"], [176, "degree sign"], [8722, "minus sign"], [177, "plus-minus sign"], [247, "division sign"], [8260, "fraction slash"], [215, "multiplication sign"], [185, "superscript one"], [178, "superscript two"], [179, "superscript three"], [188, "fraction one quarter"], [189, "fraction one half"], [190, "fraction three quarters"]]
                }, {
                    name: "Mathematical",
                    characters: [[402, "function / florin"], [8747, "integral"], [8721, "n-ary sumation"], [8734, "infinity"], [8730, "square root"], [8764, "similar to"], [8773, "approximately equal to"], [8776, "almost equal to"], [8800, "not equal to"], [8801, "identical to"], [8712, "element of"], [8713, "not an element of"], [8715, "contains as member"], [8719, "n-ary product"], [8743, "logical and"], [8744, "logical or"], [172, "not sign"], [8745, "intersection"], [8746, "union"], [8706, "partial differential"], [8704, "for all"], [8707, "there exists"], [8709, "diameter"], [8711, "backward difference"], [8727, "asterisk operator"], [8733, "proportional to"], [8736, "angle"]]
                }, {
                    name: "Extended Latin",
                    characters: [[192, "A - grave"], [193, "A - acute"], [194, "A - circumflex"], [195, "A - tilde"], [196, "A - diaeresis"], [197, "A - ring above"], [256, "A - macron"], [198, "ligature AE"], [199, "C - cedilla"], [200, "E - grave"], [201, "E - acute"], [202, "E - circumflex"], [203, "E - diaeresis"], [274, "E - macron"], [204, "I - grave"], [205, "I - acute"], [206, "I - circumflex"], [207, "I - diaeresis"], [298, "I - macron"], [208, "ETH"], [209, "N - tilde"], [210, "O - grave"], [211, "O - acute"], [212, "O - circumflex"], [213, "O - tilde"], [214, "O - diaeresis"], [216, "O - slash"], [332, "O - macron"], [338, "ligature OE"], [352, "S - caron"], [217, "U - grave"], [218, "U - acute"], [219, "U - circumflex"], [220, "U - diaeresis"], [362, "U - macron"], [221, "Y - acute"], [376, "Y - diaeresis"], [562, "Y - macron"], [222, "THORN"], [224, "a - grave"], [225, "a - acute"], [226, "a - circumflex"], [227, "a - tilde"], [228, "a - diaeresis"], [229, "a - ring above"], [257, "a - macron"], [230, "ligature ae"], [231, "c - cedilla"], [232, "e - grave"], [233, "e - acute"], [234, "e - circumflex"], [235, "e - diaeresis"], [275, "e - macron"], [236, "i - grave"], [237, "i - acute"], [238, "i - circumflex"], [239, "i - diaeresis"], [299, "i - macron"], [240, "eth"], [241, "n - tilde"], [242, "o - grave"], [243, "o - acute"], [244, "o - circumflex"], [245, "o - tilde"], [246, "o - diaeresis"], [248, "o slash"], [333, "o macron"], [339, "ligature oe"], [353, "s - caron"], [249, "u - grave"], [250, "u - acute"], [251, "u - circumflex"], [252, "u - diaeresis"], [363, "u - macron"], [253, "y - acute"], [254, "thorn"], [255, "y - diaeresis"], [563, "y - macron"], [913, "Alpha"], [914, "Beta"], [915, "Gamma"], [916, "Delta"], [917, "Epsilon"], [918, "Zeta"], [919, "Eta"], [920, "Theta"], [921, "Iota"], [922, "Kappa"], [923, "Lambda"], [924, "Mu"], [925, "Nu"], [926, "Xi"], [927, "Omicron"], [928, "Pi"], [929, "Rho"], [931, "Sigma"], [932, "Tau"], [933, "Upsilon"], [934, "Phi"], [935, "Chi"], [936, "Psi"], [937, "Omega"], [945, "alpha"], [946, "beta"], [947, "gamma"], [948, "delta"], [949, "epsilon"], [950, "zeta"], [951, "eta"], [952, "theta"], [953, "iota"], [954, "kappa"], [955, "lambda"], [956, "mu"], [957, "nu"], [958, "xi"], [959, "omicron"], [960, "pi"], [961, "rho"], [962, "final sigma"], [963, "sigma"], [964, "tau"], [965, "upsilon"], [966, "phi"], [967, "chi"], [968, "psi"], [969, "omega"]]
                }, {
                    name: "Symbols",
                    characters: [[8501, "alef symbol"], [982, "pi symbol"], [8476, "real part symbol"], [978, "upsilon - hook symbol"], [8472, "Weierstrass p"], [8465, "imaginary part"]]
                }, {
                    name: "Arrows",
                    characters: [[8592, "leftwards arrow"], [8593, "upwards arrow"], [8594, "rightwards arrow"], [8595, "downwards arrow"], [8596, "left right arrow"], [8629, "carriage return"], [8656, "leftwards double arrow"], [8657, "upwards double arrow"], [8658, "rightwards double arrow"], [8659, "downwards double arrow"], [8660, "left right double arrow"], [8756, "therefore"], [8834, "subset of"], [8835, "superset of"], [8836, "not a subset of"], [8838, "subset of or equal to"], [8839, "superset of or equal to"], [8853, "circled plus"], [8855, "circled times"], [8869, "perpendicular"], [8901, "dot operator"], [8968, "left ceiling"], [8969, "right ceiling"], [8970, "left floor"], [8971, "right floor"], [9001, "left-pointing angle bracket"], [9002, "right-pointing angle bracket"], [9674, "lozenge"], [9824, "black spade suit"], [9827, "black club suit"], [9829, "black heart suit"], [9830, "black diamond suit"], [8194, "en space"], [8195, "em space"], [8201, "thin space"], [8204, "zero width non-joiner"], [8205, "zero width joiner"], [8206, "left-to-right mark"], [8207, "right-to-left mark"]]
                }]);
                return Le.length > 1 ? [{
                    name: "All",
                    characters: En(Le, function(je) {
                        return je.characters
                    })
                }].concat(Le) : Le
            }
              , D = String.fromCodePoint
              , pn = function(me, Le) {
                return -1 !== me.indexOf(Le)
            }
              , bn = function() {
                for (var me = [], Le = 0; Le < arguments.length; Le++)
                    me[Le] = arguments[Le];
                if (D)
                    return D.apply(void 0, me);
                for (var je = [], Bt = "", Gn = 0, $n = me.length; Gn !== $n; ++Gn) {
                    var Cr = +me[Gn];
                    if (!(Cr < 1114111 && Cr >>> 0 === Cr))
                        throw RangeError("Invalid code point: " + Cr);
                    (Cr <= 65535 ? je.push(Cr) : je.push(55296 + ((Cr -= 65536) >> 10), Cr % 1024 + 56320)) >= 16383 && (Bt += String.fromCharCode.apply(null, je),
                    je.length = 0)
                }
                return Bt + String.fromCharCode.apply(null, je)
            }
              , kr = function(me, Le) {
                var je = []
                  , We = Le.toLowerCase();
                return function(me, Le) {
                    for (var je = 0, We = me.length; je < We; je++)
                        Le(me[je])
                }(me.characters, function(Bt) {
                    (function(me, Le, je) {
                        return !!pn(bn(me).toLowerCase(), je) || pn(Le.toLowerCase(), je) || pn(Le.toLowerCase().replace(/\s+/g, ""), je)
                    }
                    )(Bt[0], Bt[1], We) && je.push(Bt)
                }),
                Mr(je, function(Bt) {
                    return {
                        text: Bt[1],
                        value: bn(Bt[0]),
                        icon: bn(Bt[0])
                    }
                })
            }
              , jn = "pattern"
              , nn = function(me, Le) {
                var je = function() {
                    return [{
                        label: "Search",
                        type: "input",
                        name: jn
                    }, {
                        type: "collection",
                        name: "results"
                    }]
                }
                  , $n = function(me) {
                    var Le = me;
                    return {
                        get: function() {
                            return Le
                        },
                        set: function(Bt) {
                            Le = Bt
                        }
                    }
                }(1 === Le.length ? ge : "All")
                  , Un = function(me, Le) {
                    var je = null
                      , We = function() {
                        wn(je) || (clearTimeout(je),
                        je = null)
                    };
                    return {
                        cancel: We,
                        throttle: function() {
                            for (var Gn = [], $n = 0; $n < arguments.length; $n++)
                                Gn[$n] = arguments[$n];
                            We(),
                            je = setTimeout(function() {
                                je = null,
                                me.apply(null, Gn)
                            }, 40)
                        }
                    }
                }(function(pt) {
                    var Et = pt.getData().pattern;
                    !function(pt, Et) {
                        (function(me, Le) {
                            return function(me, Le, je) {
                                for (var We = 0, Bt = me.length; We < Bt; We++) {
                                    var Gn = me[We];
                                    if (Le(Gn, We))
                                        return Pt.some(Gn);
                                    if (je(Gn, We))
                                        break
                                }
                                return Pt.none()
                            }(me, Le, _t)
                        }
                        )(Le, function(Vt) {
                            return Vt.name === $n.get()
                        }).each(function(Vt) {
                            var Yt = kr(Vt, Et);
                            pt.setData({
                                results: Yt
                            })
                        })
                    }(pt, Et)
                })
                  , xo = 1 === Le.length ? {
                    type: "panel",
                    items: je()
                } : {
                    type: "tabpanel",
                    tabs: Mr(Le, function(pt) {
                        return {
                            title: pt.name,
                            name: pt.name,
                            items: je()
                        }
                    })
                }
                  , Fo = {
                    pattern: "",
                    results: kr(Le[0], "")
                };
                me.windowManager.open({
                    title: "Special Character",
                    size: "normal",
                    body: xo,
                    buttons: [{
                        type: "cancel",
                        name: "close",
                        text: "Close",
                        primary: !0
                    }],
                    initialData: Fo,
                    onAction: function(pt, Et) {
                        "results" === Et.name && (cn(me, Et.value),
                        pt.close())
                    },
                    onTabChange: function(pt, Et) {
                        $n.set(Et.newTabName),
                        Un.throttle(pt)
                    },
                    onChange: function(pt, Et) {
                        Et.name === jn && Un.throttle(pt)
                    }
                }).focus(jn)
            }
              , kt = tinymce.util.Tools.resolve("tinymce.util.Promise");
            zo.add("charmap", function(me) {
                var Le = Ot(me);
                return function(me, Le) {
                    me.addCommand("mceShowCharmap", function() {
                        nn(me, Le)
                    })
                }(me, Le),
                function(me) {
                    me.ui.registry.addButton("charmap", {
                        icon: "insert-character",
                        tooltip: "Special character",
                        onAction: function() {
                            return me.execCommand("mceShowCharmap")
                        }
                    }),
                    me.ui.registry.addMenuItem("charmap", {
                        icon: "insert-character",
                        text: "Special character...",
                        onAction: function() {
                            return me.execCommand("mceShowCharmap")
                        }
                    })
                }(me),
                function(me, Le) {
                    me.ui.registry.addAutocompleter("charmap", {
                        ch: ":",
                        columns: "auto",
                        minChars: 2,
                        fetch: function(je, We) {
                            return new kt(function(Bt, Gn) {
                                Bt(kr(Le, je))
                            }
                            )
                        },
                        onAction: function(je, We, Bt) {
                            me.selection.setRng(We),
                            me.insertContent(Bt),
                            je.hide()
                        }
                    })
                }(me, Le[0]),
                function(me) {
                    return {
                        getCharMap: function() {
                            return Ot(me)
                        },
                        insertChar: function(We) {
                            cn(me, We)
                        }
                    }
                }(me)
            })
        }()
    }
    ,
    62339: ()=>{
        !function() {
            "use strict";
            tinymce.util.Tools.resolve("tinymce.PluginManager").add("code", function(wn) {
                return function(wn) {
                    wn.addCommand("mceCodeEditor", function() {
                        !function(wn) {
                            var fn = function(wn) {
                                return wn.getContent({
                                    source_view: !0
                                })
                            }(wn);
                            wn.windowManager.open({
                                title: "Source Code",
                                size: "large",
                                body: {
                                    type: "panel",
                                    items: [{
                                        type: "textarea",
                                        name: "code"
                                    }]
                                },
                                buttons: [{
                                    type: "cancel",
                                    name: "cancel",
                                    text: "Cancel"
                                }, {
                                    type: "submit",
                                    name: "save",
                                    text: "Save",
                                    primary: !0
                                }],
                                initialData: {
                                    code: fn
                                },
                                onSubmit: function(Hr) {
                                    (function(wn, fn) {
                                        wn.focus(),
                                        wn.undoManager.transact(function() {
                                            wn.setContent(fn)
                                        }),
                                        wn.selection.setCursorLocation(),
                                        wn.nodeChanged()
                                    }
                                    )(wn, Hr.getData().code),
                                    Hr.close()
                                }
                            })
                        }(wn)
                    })
                }(wn),
                function(wn) {
                    var fn = function() {
                        return wn.execCommand("mceCodeEditor")
                    };
                    wn.ui.registry.addButton("code", {
                        icon: "sourcecode",
                        tooltip: "Source code",
                        onAction: fn
                    }),
                    wn.ui.registry.addMenuItem("code", {
                        icon: "sourcecode",
                        text: "Source code",
                        onAction: fn
                    })
                }(wn),
                {}
            })
        }()
    }
    ,
    32739: ()=>{
        !function() {
            "use strict";
            var ct, qe, zo = tinymce.util.Tools.resolve("tinymce.PluginManager"), cn = function(ct) {
                return function() {
                    return ct
                }
            }, Nn = cn(!1), Lr = cn(!0), vr = function() {
                return wn
            }, wn = {
                fold: function(pn, bn) {
                    return pn()
                },
                isSome: Nn,
                isNone: Lr,
                getOr: qe = function(ct) {
                    return ct
                }
                ,
                getOrThunk: ct = function(pn) {
                    return pn()
                }
                ,
                getOrDie: function(pn) {
                    throw new Error(pn || "error: getOrDie called on none.")
                },
                getOrNull: cn(null),
                getOrUndefined: cn(void 0),
                or: qe,
                orThunk: ct,
                map: vr,
                each: function() {},
                bind: vr,
                exists: Nn,
                forall: Lr,
                filter: function() {
                    return vr()
                },
                toArray: function() {
                    return []
                },
                toString: cn("none()")
            }, fn = function(ct) {
                var qe = cn(ct)
                  , D = function() {
                    return bn
                }
                  , pn = function(tt) {
                    return tt(ct)
                }
                  , bn = {
                    fold: function(tt, kr) {
                        return kr(ct)
                    },
                    isSome: Lr,
                    isNone: Nn,
                    getOr: qe,
                    getOrThunk: qe,
                    getOrDie: qe,
                    getOrNull: qe,
                    getOrUndefined: qe,
                    or: D,
                    orThunk: D,
                    map: function(tt) {
                        return fn(tt(ct))
                    },
                    each: function(tt) {
                        tt(ct)
                    },
                    bind: pn,
                    exists: pn,
                    forall: pn,
                    filter: function(tt) {
                        return tt(ct) ? bn : wn
                    },
                    toArray: function() {
                        return [ct]
                    },
                    toString: function() {
                        return "some(" + ct + ")"
                    }
                };
                return bn
            }, gn = {
                some: fn,
                none: vr,
                from: function(ct) {
                    return null == ct ? wn : fn(ct)
                }
            }, xe = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"), hn = function(ct) {
                return ct && "PRE" === ct.nodeName && -1 !== ct.className.indexOf("language-")
            }, Cn = function(ct) {
                return function(qe, D) {
                    return ct(D)
                }
            }, Pt = "undefined" != typeof window ? window : Function("return this;")(), Xe = {}, Mr = {
                exports: Xe
            }, Fn = {};
            !function(ct, qe, D, pn) {
                var kr, jn, bn = window.Prism;
                window.Prism = {
                    manual: !0
                },
                kr = this,
                jn = function() {
                    var kt, re, kr = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== Fn ? Fn : "undefined" != typeof self ? self : {}, jn = {
                        exports: {}
                    };
                    return kt = jn,
                    re = function(Re) {
                        var me = /(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i
                          , Le = 0
                          , je = {}
                          , We = {
                            manual: Re.Prism && Re.Prism.manual,
                            disableWorkerMessageHandler: Re.Prism && Re.Prism.disableWorkerMessageHandler,
                            util: {
                                encode: function pt(Et) {
                                    return Et instanceof Bt ? new Bt(Et.type,pt(Et.content),Et.alias) : Array.isArray(Et) ? Et.map(pt) : Et.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/\u00a0/g, " ")
                                },
                                type: function(pt) {
                                    return Object.prototype.toString.call(pt).slice(8, -1)
                                },
                                objId: function(pt) {
                                    return pt.__id || Object.defineProperty(pt, "__id", {
                                        value: ++Le
                                    }),
                                    pt.__id
                                },
                                clone: function pt(Et, Vt) {
                                    var Yt, vn;
                                    switch (Vt = Vt || {},
                                    We.util.type(Et)) {
                                    case "Object":
                                        if (vn = We.util.objId(Et),
                                        Vt[vn])
                                            return Vt[vn];
                                        for (var cr in Vt[vn] = Yt = {},
                                        Et)
                                            Et.hasOwnProperty(cr) && (Yt[cr] = pt(Et[cr], Vt));
                                        return Yt;
                                    case "Array":
                                        return vn = We.util.objId(Et),
                                        Vt[vn] ? Vt[vn] : (Vt[vn] = Yt = [],
                                        Et.forEach(function(Sr, An) {
                                            Yt[An] = pt(Sr, Vt)
                                        }),
                                        Yt);
                                    default:
                                        return Et
                                    }
                                },
                                getLanguage: function(pt) {
                                    for (; pt; ) {
                                        var Et = me.exec(pt.className);
                                        if (Et)
                                            return Et[1].toLowerCase();
                                        pt = pt.parentElement
                                    }
                                    return "none"
                                },
                                setLanguage: function(pt, Et) {
                                    pt.className = pt.className.replace(RegExp(me.source, "gi"), ""),
                                    pt.classList.add("language-" + Et)
                                },
                                currentScript: function() {
                                    if ("undefined" == typeof document)
                                        return null;
                                    if ("currentScript"in document)
                                        return document.currentScript;
                                    try {
                                        throw new Error
                                    } catch (Yt) {
                                        var pt = (/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Yt.stack) || [])[1];
                                        if (pt) {
                                            var Et = document.getElementsByTagName("script");
                                            for (var Vt in Et)
                                                if (Et[Vt].src == pt)
                                                    return Et[Vt]
                                        }
                                        return null
                                    }
                                },
                                isActive: function(pt, Et, Vt) {
                                    for (var Yt = "no-" + Et; pt; ) {
                                        var vn = pt.classList;
                                        if (vn.contains(Et))
                                            return !0;
                                        if (vn.contains(Yt))
                                            return !1;
                                        pt = pt.parentElement
                                    }
                                    return !!Vt
                                }
                            },
                            languages: {
                                plain: je,
                                plaintext: je,
                                text: je,
                                txt: je,
                                extend: function(pt, Et) {
                                    var Vt = We.util.clone(We.languages[pt]);
                                    for (var Yt in Et)
                                        Vt[Yt] = Et[Yt];
                                    return Vt
                                },
                                insertBefore: function(pt, Et, Vt, Yt) {
                                    var vn = (Yt = Yt || We.languages)[pt]
                                      , cr = {};
                                    for (var Sr in vn)
                                        if (vn.hasOwnProperty(Sr)) {
                                            if (Sr == Et)
                                                for (var An in Vt)
                                                    Vt.hasOwnProperty(An) && (cr[An] = Vt[An]);
                                            Vt.hasOwnProperty(Sr) || (cr[Sr] = vn[Sr])
                                        }
                                    var Jr = Yt[pt];
                                    return Yt[pt] = cr,
                                    We.languages.DFS(We.languages, function(Ar, ee) {
                                        ee === Jr && Ar != pt && (this[Ar] = cr)
                                    }),
                                    cr
                                },
                                DFS: function pt(Et, Vt, Yt, vn) {
                                    vn = vn || {};
                                    var cr = We.util.objId;
                                    for (var Sr in Et)
                                        if (Et.hasOwnProperty(Sr)) {
                                            Vt.call(Et, Sr, Et[Sr], Yt || Sr);
                                            var An = Et[Sr]
                                              , Jr = We.util.type(An);
                                            "Object" !== Jr || vn[cr(An)] ? "Array" === Jr && !vn[cr(An)] && (vn[cr(An)] = !0,
                                            pt(An, Vt, Sr, vn)) : (vn[cr(An)] = !0,
                                            pt(An, Vt, null, vn))
                                        }
                                }
                            },
                            plugins: {},
                            highlightAll: function(pt, Et) {
                                We.highlightAllUnder(document, pt, Et)
                            },
                            highlightAllUnder: function(pt, Et, Vt) {
                                var Yt = {
                                    callback: Vt,
                                    container: pt,
                                    selector: 'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'
                                };
                                We.hooks.run("before-highlightall", Yt),
                                Yt.elements = Array.prototype.slice.apply(Yt.container.querySelectorAll(Yt.selector)),
                                We.hooks.run("before-all-elements-highlight", Yt);
                                for (var cr, vn = 0; cr = Yt.elements[vn++]; )
                                    We.highlightElement(cr, !0 === Et, Yt.callback)
                            },
                            highlightElement: function(pt, Et, Vt) {
                                var Yt = We.util.getLanguage(pt)
                                  , vn = We.languages[Yt];
                                We.util.setLanguage(pt, Yt);
                                var cr = pt.parentElement;
                                cr && "pre" === cr.nodeName.toLowerCase() && We.util.setLanguage(cr, Yt);
                                var An = {
                                    element: pt,
                                    language: Yt,
                                    grammar: vn,
                                    code: pt.textContent
                                };
                                function Jr(ee) {
                                    An.highlightedCode = ee,
                                    We.hooks.run("before-insert", An),
                                    An.element.innerHTML = An.highlightedCode,
                                    We.hooks.run("after-highlight", An),
                                    We.hooks.run("complete", An),
                                    Vt && Vt.call(An.element)
                                }
                                if (We.hooks.run("before-sanity-check", An),
                                (cr = An.element.parentElement) && "pre" === cr.nodeName.toLowerCase() && !cr.hasAttribute("tabindex") && cr.setAttribute("tabindex", "0"),
                                !An.code)
                                    return We.hooks.run("complete", An),
                                    void (Vt && Vt.call(An.element));
                                if (We.hooks.run("before-highlight", An),
                                An.grammar)
                                    if (Et && Re.Worker) {
                                        var Ar = new Worker(We.filename);
                                        Ar.onmessage = function(ee) {
                                            Jr(ee.data)
                                        }
                                        ,
                                        Ar.postMessage(JSON.stringify({
                                            language: An.language,
                                            code: An.code,
                                            immediateClose: !0
                                        }))
                                    } else
                                        Jr(We.highlight(An.code, An.grammar, An.language));
                                else
                                    Jr(We.util.encode(An.code))
                            },
                            highlight: function(pt, Et, Vt) {
                                var Yt = {
                                    code: pt,
                                    grammar: Et,
                                    language: Vt
                                };
                                if (We.hooks.run("before-tokenize", Yt),
                                !Yt.grammar)
                                    throw new Error('The language "' + Yt.language + '" has no grammar.');
                                return Yt.tokens = We.tokenize(Yt.code, Yt.grammar),
                                We.hooks.run("after-tokenize", Yt),
                                Bt.stringify(We.util.encode(Yt.tokens), Yt.language)
                            },
                            tokenize: function(pt, Et) {
                                var Vt = Et.rest;
                                if (Vt) {
                                    for (var Yt in Vt)
                                        Et[Yt] = Vt[Yt];
                                    delete Et.rest
                                }
                                var vn = new Cr;
                                return Gt(vn, vn.head, pt),
                                $n(pt, vn, Et, vn.head, 0),
                                function(pt) {
                                    for (var Et = [], Vt = pt.head.next; Vt !== pt.tail; )
                                        Et.push(Vt.value),
                                        Vt = Vt.next;
                                    return Et
                                }(vn)
                            },
                            hooks: {
                                all: {},
                                add: function(pt, Et) {
                                    var Vt = We.hooks.all;
                                    Vt[pt] = Vt[pt] || [],
                                    Vt[pt].push(Et)
                                },
                                run: function(pt, Et) {
                                    var Vt = We.hooks.all[pt];
                                    if (Vt && Vt.length)
                                        for (var vn, Yt = 0; vn = Vt[Yt++]; )
                                            vn(Et)
                                }
                            },
                            Token: Bt
                        };
                        function Bt(pt, Et, Vt, Yt) {
                            this.type = pt,
                            this.content = Et,
                            this.alias = Vt,
                            this.length = 0 | (Yt || "").length
                        }
                        function Gn(pt, Et, Vt, Yt) {
                            pt.lastIndex = Et;
                            var vn = pt.exec(Vt);
                            if (vn && Yt && vn[1]) {
                                var cr = vn[1].length;
                                vn.index += cr,
                                vn[0] = vn[0].slice(cr)
                            }
                            return vn
                        }
                        function $n(pt, Et, Vt, Yt, vn, cr) {
                            for (var Sr in Vt)
                                if (Vt.hasOwnProperty(Sr) && Vt[Sr]) {
                                    var An = Vt[Sr];
                                    An = Array.isArray(An) ? An : [An];
                                    for (var Jr = 0; Jr < An.length; ++Jr) {
                                        if (cr && cr.cause == Sr + "," + Jr)
                                            return;
                                        var Ar = An[Jr]
                                          , ee = Ar.inside
                                          , Do = !!Ar.lookbehind
                                          , Ma = !!Ar.greedy
                                          , Ra = Ar.alias;
                                        if (Ma && !Ar.pattern.global) {
                                            var Go = Ar.pattern.toString().match(/[imsuy]*$/)[0];
                                            Ar.pattern = RegExp(Ar.pattern.source, Go + "g")
                                        }
                                        for (var xa = Ar.pattern || Ar, Mo = Yt.next, Qr = vn; Mo !== Et.tail && !(cr && Qr >= cr.reach); Qr += Mo.value.length,
                                        Mo = Mo.next) {
                                            var St = Mo.value;
                                            if (Et.length > pt.length)
                                                return;
                                            if (!(St instanceof Bt)) {
                                                var en, yr = 1;
                                                if (Ma) {
                                                    if (!(en = Gn(xa, Qr, pt, Do)) || en.index >= pt.length)
                                                        break;
                                                    var bo = en.index
                                                      , qo = en.index + en[0].length
                                                      , Ca = Qr;
                                                    for (Ca += Mo.value.length; bo >= Ca; )
                                                        Ca += (Mo = Mo.next).value.length;
                                                    if (Qr = Ca -= Mo.value.length,
                                                    Mo.value instanceof Bt)
                                                        continue;
                                                    for (var fa = Mo; fa !== Et.tail && (Ca < qo || "string" == typeof fa.value); fa = fa.next)
                                                        yr++,
                                                        Ca += fa.value.length;
                                                    yr--,
                                                    St = pt.slice(Qr, Ca),
                                                    en.index -= Qr
                                                } else if (!(en = Gn(xa, 0, St, Do)))
                                                    continue;
                                                var va = en[0]
                                                  , Ga = St.slice(0, bo = en.index)
                                                  , qi = St.slice(bo + va.length)
                                                  , da = Qr + St.length;
                                                cr && da > cr.reach && (cr.reach = da);
                                                var za = Mo.prev;
                                                if (Ga && (za = Gt(Et, za, Ga),
                                                Qr += Ga.length),
                                                Un(Et, za, yr),
                                                Mo = Gt(Et, za, new Bt(Sr,ee ? We.tokenize(va, ee) : va,Ra,va)),
                                                qi && Gt(Et, Mo, qi),
                                                yr > 1) {
                                                    var Vo = {
                                                        cause: Sr + "," + Jr,
                                                        reach: da
                                                    };
                                                    $n(pt, Et, Vt, Mo.prev, Qr, Vo),
                                                    cr && Vo.reach > cr.reach && (cr.reach = Vo.reach)
                                                }
                                            }
                                        }
                                    }
                                }
                        }
                        function Cr() {
                            var pt = {
                                value: null,
                                prev: null,
                                next: null
                            }
                              , Et = {
                                value: null,
                                prev: pt,
                                next: null
                            };
                            pt.next = Et,
                            this.head = pt,
                            this.tail = Et,
                            this.length = 0
                        }
                        function Gt(pt, Et, Vt) {
                            var Yt = Et.next
                              , vn = {
                                value: Vt,
                                prev: Et,
                                next: Yt
                            };
                            return Et.next = vn,
                            Yt.prev = vn,
                            pt.length++,
                            vn
                        }
                        function Un(pt, Et, Vt) {
                            for (var Yt = Et.next, vn = 0; vn < Vt && Yt !== pt.tail; vn++)
                                Yt = Yt.next;
                            Et.next = Yt,
                            Yt.prev = Et,
                            pt.length -= vn
                        }
                        if (Re.Prism = We,
                        Bt.stringify = function pt(Et, Vt) {
                            if ("string" == typeof Et)
                                return Et;
                            if (Array.isArray(Et)) {
                                var Yt = "";
                                return Et.forEach(function(Jr) {
                                    Yt += pt(Jr, Vt)
                                }),
                                Yt
                            }
                            var vn = {
                                type: Et.type,
                                content: pt(Et.content, Vt),
                                tag: "span",
                                classes: ["token", Et.type],
                                attributes: {},
                                language: Vt
                            }
                              , cr = Et.alias;
                            cr && (Array.isArray(cr) ? Array.prototype.push.apply(vn.classes, cr) : vn.classes.push(cr)),
                            We.hooks.run("wrap", vn);
                            var Sr = "";
                            for (var An in vn.attributes)
                                Sr += " " + An + '="' + (vn.attributes[An] || "").replace(/"/g, "&quot;") + '"';
                            return "<" + vn.tag + ' class="' + vn.classes.join(" ") + '"' + Sr + ">" + vn.content + "</" + vn.tag + ">"
                        }
                        ,
                        !Re.document)
                            return Re.addEventListener && (We.disableWorkerMessageHandler || Re.addEventListener("message", function(pt) {
                                var Et = JSON.parse(pt.data)
                                  , Vt = Et.language
                                  , vn = Et.immediateClose;
                                Re.postMessage(We.highlight(Et.code, We.languages[Vt], Vt)),
                                vn && Re.close()
                            }, !1)),
                            We;
                        var Fo = We.util.currentScript();
                        function ja() {
                            We.manual || We.highlightAll()
                        }
                        if (Fo && (We.filename = Fo.src,
                        Fo.hasAttribute("data-manual") && (We.manual = !0)),
                        !We.manual) {
                            var la = document.readyState;
                            "loading" === la || "interactive" === la && Fo && Fo.defer ? document.addEventListener("DOMContentLoaded", ja) : window.requestAnimationFrame ? window.requestAnimationFrame(ja) : window.setTimeout(ja, 16)
                        }
                        return We
                    }("undefined" != typeof window ? window : "undefined" != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope ? self : {}),
                    kt.exports && (kt.exports = re),
                    void 0 !== kr && (kr.Prism = re),
                    Prism.languages.clike = {
                        comment: [{
                            pattern: /(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,
                            lookbehind: !0,
                            greedy: !0
                        }, {
                            pattern: /(^|[^\\:])\/\/.*/,
                            lookbehind: !0,
                            greedy: !0
                        }],
                        string: {
                            pattern: /(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,
                            greedy: !0
                        },
                        "class-name": {
                            pattern: /(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,
                            lookbehind: !0,
                            inside: {
                                punctuation: /[.\\]/
                            }
                        },
                        keyword: /\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,
                        boolean: /\b(?:false|true)\b/,
                        function: /\b\w+(?=\()/,
                        number: /\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,
                        operator: /[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,
                        punctuation: /[{}[\];(),.:]/
                    },
                    function(kt) {
                        function Mn(re, Re) {
                            return "___" + re.toUpperCase() + Re + "___"
                        }
                        Object.defineProperties(kt.languages["markup-templating"] = {}, {
                            buildPlaceholders: {
                                value: function(re, Re, me, Le) {
                                    if (re.language === Re) {
                                        var je = re.tokenStack = [];
                                        re.code = re.code.replace(me, function(We) {
                                            if ("function" == typeof Le && !Le(We))
                                                return We;
                                            for (var Gn, Bt = je.length; -1 !== re.code.indexOf(Gn = Mn(Re, Bt)); )
                                                ++Bt;
                                            return je[Bt] = We,
                                            Gn
                                        }),
                                        re.grammar = kt.languages.markup
                                    }
                                }
                            },
                            tokenizePlaceholders: {
                                value: function(re, Re) {
                                    if (re.language === Re && re.tokenStack) {
                                        re.grammar = kt.languages[Re];
                                        var me = 0
                                          , Le = Object.keys(re.tokenStack);
                                        !function je(We) {
                                            for (var Bt = 0; Bt < We.length && !(me >= Le.length); Bt++) {
                                                var Gn = We[Bt];
                                                if ("string" == typeof Gn || Gn.content && "string" == typeof Gn.content) {
                                                    var $n = Le[me]
                                                      , Cr = re.tokenStack[$n]
                                                      , Gt = "string" == typeof Gn ? Gn : Gn.content
                                                      , Un = Mn(Re, $n)
                                                      , xo = Gt.indexOf(Un);
                                                    if (xo > -1) {
                                                        ++me;
                                                        var Fo = Gt.substring(0, xo)
                                                          , ja = new kt.Token(Re,kt.tokenize(Cr, re.grammar),"language-" + Re,Cr)
                                                          , la = Gt.substring(xo + Un.length)
                                                          , pt = [];
                                                        Fo && pt.push.apply(pt, je([Fo])),
                                                        pt.push(ja),
                                                        la && pt.push.apply(pt, je([la])),
                                                        "string" == typeof Gn ? We.splice.apply(We, [Bt, 1].concat(pt)) : Gn.content = pt
                                                    }
                                                } else
                                                    Gn.content && je(Gn.content)
                                            }
                                            return We
                                        }(re.tokens)
                                    }
                                }
                            }
                        })
                    }(Prism),
                    Prism.languages.c = Prism.languages.extend("clike", {
                        comment: {
                            pattern: /\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,
                            greedy: !0
                        },
                        string: {
                            pattern: /"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,
                            greedy: !0
                        },
                        "class-name": {
                            pattern: /(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,
                            lookbehind: !0
                        },
                        keyword: /\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,
                        function: /\b[a-z_]\w*(?=\s*\()/i,
                        number: /(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,
                        operator: />>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/
                    }),
                    Prism.languages.insertBefore("c", "string", {
                        char: {
                            pattern: /'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,
                            greedy: !0
                        }
                    }),
                    Prism.languages.insertBefore("c", "string", {
                        macro: {
                            pattern: /(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,
                            lookbehind: !0,
                            greedy: !0,
                            alias: "property",
                            inside: {
                                string: [{
                                    pattern: /^(#\s*include\s*)<[^>]+>/,
                                    lookbehind: !0
                                }, Prism.languages.c.string],
                                char: Prism.languages.c.char,
                                comment: Prism.languages.c.comment,
                                "macro-name": [{
                                    pattern: /(^#\s*define\s+)\w+\b(?!\()/i,
                                    lookbehind: !0
                                }, {
                                    pattern: /(^#\s*define\s+)\w+\b(?=\()/i,
                                    lookbehind: !0,
                                    alias: "function"
                                }],
                                directive: {
                                    pattern: /^(#\s*)[a-z]+/,
                                    lookbehind: !0,
                                    alias: "keyword"
                                },
                                "directive-hash": /^#/,
                                punctuation: /##|\\(?=[\r\n])/,
                                expression: {
                                    pattern: /\S[\s\S]*/,
                                    inside: Prism.languages.c
                                }
                            }
                        }
                    }),
                    Prism.languages.insertBefore("c", "function", {
                        constant: /\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/
                    }),
                    delete Prism.languages.c.boolean,
                    function(kt) {
                        var Mn = /\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/
                          , re = /\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g, function() {
                            return Mn.source
                        });
                        kt.languages.cpp = kt.languages.extend("c", {
                            "class-name": [{
                                pattern: RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g, function() {
                                    return Mn.source
                                })),
                                lookbehind: !0
                            }, /\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/, /\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i, /\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],
                            keyword: Mn,
                            number: {
                                pattern: /(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,
                                greedy: !0
                            },
                            operator: />>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,
                            boolean: /\b(?:false|true)\b/
                        }),
                        kt.languages.insertBefore("cpp", "string", {
                            module: {
                                pattern: RegExp(/(\b(?:import|module)\s+)/.source + "(?:" + /"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source + "|" + /<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g, function() {
                                    return re
                                }) + ")"),
                                lookbehind: !0,
                                greedy: !0,
                                inside: {
                                    string: /^[<"][\s\S]+/,
                                    operator: /:/,
                                    punctuation: /\./
                                }
                            },
                            "raw-string": {
                                pattern: /R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,
                                alias: "string",
                                greedy: !0
                            }
                        }),
                        kt.languages.insertBefore("cpp", "keyword", {
                            "generic-function": {
                                pattern: /\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,
                                inside: {
                                    function: /^\w+/,
                                    generic: {
                                        pattern: /<[\s\S]+/,
                                        alias: "class-name",
                                        inside: kt.languages.cpp
                                    }
                                }
                            }
                        }),
                        kt.languages.insertBefore("cpp", "operator", {
                            "double-colon": {
                                pattern: /::/,
                                alias: "punctuation"
                            }
                        }),
                        kt.languages.insertBefore("cpp", "class-name", {
                            "base-clause": {
                                pattern: /(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,
                                lookbehind: !0,
                                greedy: !0,
                                inside: kt.languages.extend("cpp", {})
                            }
                        }),
                        kt.languages.insertBefore("inside", "double-colon", {
                            "class-name": /\b[a-z_]\w*\b(?!\s*::)/i
                        }, kt.languages.cpp["base-clause"])
                    }(Prism),
                    function(kt) {
                        function Mn(Qr, St) {
                            return Qr.replace(/<<(\d+)>>/g, function(yr, en) {
                                return "(?:" + St[+en] + ")"
                            })
                        }
                        function re(Qr, St, yr) {
                            return RegExp(Mn(Qr, St), yr || "")
                        }
                        function Re(Qr, St) {
                            for (var yr = 0; yr < St; yr++)
                                Qr = Qr.replace(/<<self>>/g, function() {
                                    return "(?:" + Qr + ")"
                                });
                            return Qr.replace(/<<self>>/g, "[^\\s\\S]")
                        }
                        var me_type = "bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void"
                          , me_typeDeclaration = "class enum interface record struct"
                          , me_contextual = "add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)"
                          , me_other = "abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";
                        function Le(Qr) {
                            return "\\b(?:" + Qr.trim().replace(/ /g, "|") + ")\\b"
                        }
                        var je = Le(me_typeDeclaration)
                          , We = RegExp(Le(me_type + " " + me_typeDeclaration + " " + me_contextual + " " + me_other))
                          , Bt = Le(me_typeDeclaration + " " + me_contextual + " " + me_other)
                          , Gn = Le(me_type + " " + me_typeDeclaration + " " + me_other)
                          , $n = Re(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source, 2)
                          , Cr = Re(/\((?:[^()]|<<self>>)*\)/.source, 2)
                          , Gt = /@?\b[A-Za-z_]\w*\b/.source
                          , Un = Mn(/<<0>>(?:\s*<<1>>)?/.source, [Gt, $n])
                          , xo = Mn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source, [Bt, Un])
                          , Fo = /\[\s*(?:,\s*)*\]/.source
                          , ja = Mn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source, [xo, Fo])
                          , la = Mn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source, [$n, Cr, Fo])
                          , pt = Mn(/\(<<0>>+(?:,<<0>>+)+\)/.source, [la])
                          , Et = Mn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source, [pt, xo, Fo])
                          , Vt = {
                            keyword: We,
                            punctuation: /[<>()?,.:[\]]/
                        }
                          , Yt = /'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source
                          , vn = /"(?:\\.|[^\\"\r\n])*"/.source;
                        kt.languages.csharp = kt.languages.extend("clike", {
                            string: [{
                                pattern: re(/(^|[^$\\])<<0>>/.source, [/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source]),
                                lookbehind: !0,
                                greedy: !0
                            }, {
                                pattern: re(/(^|[^@$\\])<<0>>/.source, [vn]),
                                lookbehind: !0,
                                greedy: !0
                            }],
                            "class-name": [{
                                pattern: re(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source, [xo]),
                                lookbehind: !0,
                                inside: Vt
                            }, {
                                pattern: re(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source, [Gt, Et]),
                                lookbehind: !0,
                                inside: Vt
                            }, {
                                pattern: re(/(\busing\s+)<<0>>(?=\s*=)/.source, [Gt]),
                                lookbehind: !0
                            }, {
                                pattern: re(/(\b<<0>>\s+)<<1>>/.source, [je, Un]),
                                lookbehind: !0,
                                inside: Vt
                            }, {
                                pattern: re(/(\bcatch\s*\(\s*)<<0>>/.source, [xo]),
                                lookbehind: !0,
                                inside: Vt
                            }, {
                                pattern: re(/(\bwhere\s+)<<0>>/.source, [Gt]),
                                lookbehind: !0
                            }, {
                                pattern: re(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source, [ja]),
                                lookbehind: !0,
                                inside: Vt
                            }, {
                                pattern: re(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source, [Et, Gn, Gt]),
                                inside: Vt
                            }],
                            keyword: We,
                            number: /(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,
                            operator: />>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,
                            punctuation: /\?\.?|::|[{}[\];(),.:]/
                        }),
                        kt.languages.insertBefore("csharp", "number", {
                            range: {
                                pattern: /\.\./,
                                alias: "operator"
                            }
                        }),
                        kt.languages.insertBefore("csharp", "punctuation", {
                            "named-parameter": {
                                pattern: re(/([(,]\s*)<<0>>(?=\s*:)/.source, [Gt]),
                                lookbehind: !0,
                                alias: "punctuation"
                            }
                        }),
                        kt.languages.insertBefore("csharp", "class-name", {
                            namespace: {
                                pattern: re(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source, [Gt]),
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\./
                                }
                            },
                            "type-expression": {
                                pattern: re(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source, [Cr]),
                                lookbehind: !0,
                                alias: "class-name",
                                inside: Vt
                            },
                            "return-type": {
                                pattern: re(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source, [Et, xo]),
                                inside: Vt,
                                alias: "class-name"
                            },
                            "constructor-invocation": {
                                pattern: re(/(\bnew\s+)<<0>>(?=\s*[[({])/.source, [Et]),
                                lookbehind: !0,
                                inside: Vt,
                                alias: "class-name"
                            },
                            "generic-method": {
                                pattern: re(/<<0>>\s*<<1>>(?=\s*\()/.source, [Gt, $n]),
                                inside: {
                                    function: re(/^<<0>>/.source, [Gt]),
                                    generic: {
                                        pattern: RegExp($n),
                                        alias: "class-name",
                                        inside: Vt
                                    }
                                }
                            },
                            "type-list": {
                                pattern: re(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source, [je, Un, Gt, Et, We.source, Cr, /\bnew\s*\(\s*\)/.source]),
                                lookbehind: !0,
                                inside: {
                                    "record-arguments": {
                                        pattern: re(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source, [Un, Cr]),
                                        lookbehind: !0,
                                        greedy: !0,
                                        inside: kt.languages.csharp
                                    },
                                    keyword: We,
                                    "class-name": {
                                        pattern: RegExp(Et),
                                        greedy: !0,
                                        inside: Vt
                                    },
                                    punctuation: /[,()]/
                                }
                            },
                            preprocessor: {
                                pattern: /(^[\t ]*)#.*/m,
                                lookbehind: !0,
                                alias: "property",
                                inside: {
                                    directive: {
                                        pattern: /(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,
                                        lookbehind: !0,
                                        alias: "keyword"
                                    }
                                }
                            }
                        });
                        var Sr = vn + "|" + Yt
                          , An = Mn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source, [Sr])
                          , Jr = Re(Mn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source, [An]), 2)
                          , Ar = /\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source
                          , ee = Mn(/<<0>>(?:\s*\(<<1>>*\))?/.source, [xo, Jr]);
                        kt.languages.insertBefore("csharp", "class-name", {
                            attribute: {
                                pattern: re(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source, [Ar, ee]),
                                lookbehind: !0,
                                greedy: !0,
                                inside: {
                                    target: {
                                        pattern: re(/^<<0>>(?=\s*:)/.source, [Ar]),
                                        alias: "keyword"
                                    },
                                    "attribute-arguments": {
                                        pattern: re(/\(<<0>>*\)/.source, [Jr]),
                                        inside: kt.languages.csharp
                                    },
                                    "class-name": {
                                        pattern: RegExp(xo),
                                        inside: {
                                            punctuation: /\./
                                        }
                                    },
                                    punctuation: /[:,]/
                                }
                            }
                        });
                        var Do = /:[^}\r\n]+/.source
                          , Ma = Re(Mn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source, [An]), 2)
                          , Ra = Mn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source, [Ma, Do])
                          , Go = Re(Mn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source, [Sr]), 2)
                          , xa = Mn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source, [Go, Do]);
                        function Mo(Qr, St) {
                            return {
                                interpolation: {
                                    pattern: re(/((?:^|[^{])(?:\{\{)*)<<0>>/.source, [Qr]),
                                    lookbehind: !0,
                                    inside: {
                                        "format-string": {
                                            pattern: re(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source, [St, Do]),
                                            lookbehind: !0,
                                            inside: {
                                                punctuation: /^:/
                                            }
                                        },
                                        punctuation: /^\{|\}$/,
                                        expression: {
                                            pattern: /[\s\S]+/,
                                            alias: "language-csharp",
                                            inside: kt.languages.csharp
                                        }
                                    }
                                },
                                string: /[\s\S]+/
                            }
                        }
                        kt.languages.insertBefore("csharp", "string", {
                            "interpolation-string": [{
                                pattern: re(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source, [Ra]),
                                lookbehind: !0,
                                greedy: !0,
                                inside: Mo(Ra, Ma)
                            }, {
                                pattern: re(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source, [xa]),
                                lookbehind: !0,
                                greedy: !0,
                                inside: Mo(xa, Go)
                            }],
                            char: {
                                pattern: RegExp(Yt),
                                greedy: !0
                            }
                        }),
                        kt.languages.dotnet = kt.languages.cs = kt.languages.csharp
                    }(Prism),
                    function(kt) {
                        var Mn = /(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;
                        kt.languages.css = {
                            comment: /\/\*[\s\S]*?\*\//,
                            atrule: {
                                pattern: RegExp("@[\\w-](?:" + /[^;{\s"']|\s+(?!\s)/.source + "|" + Mn.source + ")*?" + /(?:;|(?=\s*\{))/.source),
                                inside: {
                                    rule: /^@[\w-]+/,
                                    "selector-function-argument": {
                                        pattern: /(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,
                                        lookbehind: !0,
                                        alias: "selector"
                                    },
                                    keyword: {
                                        pattern: /(^|[^\w-])(?:and|not|only|or)(?![\w-])/,
                                        lookbehind: !0
                                    }
                                }
                            },
                            url: {
                                pattern: RegExp("\\burl\\((?:" + Mn.source + "|" + /(?:[^\\\r\n()"']|\\[\s\S])*/.source + ")\\)", "i"),
                                greedy: !0,
                                inside: {
                                    function: /^url/i,
                                    punctuation: /^\(|\)$/,
                                    string: {
                                        pattern: RegExp("^" + Mn.source + "$"),
                                        alias: "url"
                                    }
                                }
                            },
                            selector: {
                                pattern: RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|" + Mn.source + ")*(?=\\s*\\{)"),
                                lookbehind: !0
                            },
                            string: {
                                pattern: Mn,
                                greedy: !0
                            },
                            property: {
                                pattern: /(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,
                                lookbehind: !0
                            },
                            important: /!important\b/i,
                            function: {
                                pattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,
                                lookbehind: !0
                            },
                            punctuation: /[(){};:,]/
                        },
                        kt.languages.css.atrule.inside.rest = kt.languages.css;
                        var re = kt.languages.markup;
                        re && (re.tag.addInlined("style", "css"),
                        re.tag.addAttribute("style", "css"))
                    }(Prism),
                    function(kt) {
                        var Mn = /\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/
                          , re = /(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source
                          , Re = {
                            pattern: RegExp(/(^|[^\w.])/.source + re + /[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),
                            lookbehind: !0,
                            inside: {
                                namespace: {
                                    pattern: /^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,
                                    inside: {
                                        punctuation: /\./
                                    }
                                },
                                punctuation: /\./
                            }
                        };
                        kt.languages.java = kt.languages.extend("clike", {
                            string: {
                                pattern: /(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,
                                lookbehind: !0,
                                greedy: !0
                            },
                            "class-name": [Re, {
                                pattern: RegExp(/(^|[^\w.])/.source + re + /[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),
                                lookbehind: !0,
                                inside: Re.inside
                            }, {
                                pattern: RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source + re + /[A-Z]\w*\b/.source),
                                lookbehind: !0,
                                inside: Re.inside
                            }],
                            keyword: Mn,
                            function: [kt.languages.clike.function, {
                                pattern: /(::\s*)[a-z_]\w*/,
                                lookbehind: !0
                            }],
                            number: /\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,
                            operator: {
                                pattern: /(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,
                                lookbehind: !0
                            },
                            constant: /\b[A-Z][A-Z_\d]+\b/
                        }),
                        kt.languages.insertBefore("java", "string", {
                            "triple-quoted-string": {
                                pattern: /"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,
                                greedy: !0,
                                alias: "string"
                            },
                            char: {
                                pattern: /'(?:\\.|[^'\\\r\n]){1,6}'/,
                                greedy: !0
                            }
                        }),
                        kt.languages.insertBefore("java", "class-name", {
                            annotation: {
                                pattern: /(^|[^.])@\w+(?:\s*\.\s*\w+)*/,
                                lookbehind: !0,
                                alias: "punctuation"
                            },
                            generics: {
                                pattern: /<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,
                                inside: {
                                    "class-name": Re,
                                    keyword: Mn,
                                    punctuation: /[<>(),.:]/,
                                    operator: /[?&|]/
                                }
                            },
                            import: [{
                                pattern: RegExp(/(\bimport\s+)/.source + re + /(?:[A-Z]\w*|\*)(?=\s*;)/.source),
                                lookbehind: !0,
                                inside: {
                                    namespace: Re.inside.namespace,
                                    punctuation: /\./,
                                    operator: /\*/,
                                    "class-name": /\w+/
                                }
                            }, {
                                pattern: RegExp(/(\bimport\s+static\s+)/.source + re + /(?:\w+|\*)(?=\s*;)/.source),
                                lookbehind: !0,
                                alias: "static",
                                inside: {
                                    namespace: Re.inside.namespace,
                                    static: /\b\w+$/,
                                    punctuation: /\./,
                                    operator: /\*/,
                                    "class-name": /\w+/
                                }
                            }],
                            namespace: {
                                pattern: RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g, function() {
                                    return Mn.source
                                })),
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\./
                                }
                            }
                        })
                    }(Prism),
                    Prism.languages.javascript = Prism.languages.extend("clike", {
                        "class-name": [Prism.languages.clike["class-name"], {
                            pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,
                            lookbehind: !0
                        }],
                        keyword: [{
                            pattern: /((?:^|\})\s*)catch\b/,
                            lookbehind: !0
                        }, {
                            pattern: /(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,
                            lookbehind: !0
                        }],
                        function: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,
                        number: {
                            pattern: RegExp(/(^|[^\w$])/.source + "(?:" + /NaN|Infinity/.source + "|" + /0[bB][01]+(?:_[01]+)*n?/.source + "|" + /0[oO][0-7]+(?:_[0-7]+)*n?/.source + "|" + /0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source + "|" + /\d+(?:_\d+)*n/.source + "|" + /(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source + ")" + /(?![\w$])/.source),
                            lookbehind: !0
                        },
                        operator: /--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/
                    }),
                    Prism.languages.javascript["class-name"][0].pattern = /(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,
                    Prism.languages.insertBefore("javascript", "keyword", {
                        regex: {
                            pattern: RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source + /\//.source + "(?:" + /(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source + "|" + /(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source + ")" + /(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),
                            lookbehind: !0,
                            greedy: !0,
                            inside: {
                                "regex-source": {
                                    pattern: /^(\/)[\s\S]+(?=\/[a-z]*$)/,
                                    lookbehind: !0,
                                    alias: "language-regex",
                                    inside: Prism.languages.regex
                                },
                                "regex-delimiter": /^\/|\/$/,
                                "regex-flags": /^[a-z]+$/
                            }
                        },
                        "function-variable": {
                            pattern: /#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,
                            alias: "function"
                        },
                        parameter: [{
                            pattern: /(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,
                            lookbehind: !0,
                            inside: Prism.languages.javascript
                        }, {
                            pattern: /(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,
                            lookbehind: !0,
                            inside: Prism.languages.javascript
                        }, {
                            pattern: /(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,
                            lookbehind: !0,
                            inside: Prism.languages.javascript
                        }, {
                            pattern: /((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,
                            lookbehind: !0,
                            inside: Prism.languages.javascript
                        }],
                        constant: /\b[A-Z](?:[A-Z_]|\dx?)*\b/
                    }),
                    Prism.languages.insertBefore("javascript", "string", {
                        hashbang: {
                            pattern: /^#!.*/,
                            greedy: !0,
                            alias: "comment"
                        },
                        "template-string": {
                            pattern: /`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,
                            greedy: !0,
                            inside: {
                                "template-punctuation": {
                                    pattern: /^`|`$/,
                                    alias: "string"
                                },
                                interpolation: {
                                    pattern: /((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,
                                    lookbehind: !0,
                                    inside: {
                                        "interpolation-punctuation": {
                                            pattern: /^\$\{|\}$/,
                                            alias: "punctuation"
                                        },
                                        rest: Prism.languages.javascript
                                    }
                                },
                                string: /[\s\S]+/
                            }
                        },
                        "string-property": {
                            pattern: /((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,
                            lookbehind: !0,
                            greedy: !0,
                            alias: "property"
                        }
                    }),
                    Prism.languages.insertBefore("javascript", "operator", {
                        "literal-property": {
                            pattern: /((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,
                            lookbehind: !0,
                            alias: "property"
                        }
                    }),
                    Prism.languages.markup && (Prism.languages.markup.tag.addInlined("script", "javascript"),
                    Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source, "javascript")),
                    Prism.languages.js = Prism.languages.javascript,
                    Prism.languages.markup = {
                        comment: {
                            pattern: /<!--(?:(?!<!--)[\s\S])*?-->/,
                            greedy: !0
                        },
                        prolog: {
                            pattern: /<\?[\s\S]+?\?>/,
                            greedy: !0
                        },
                        doctype: {
                            pattern: /<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,
                            greedy: !0,
                            inside: {
                                "internal-subset": {
                                    pattern: /(^[^\[]*\[)[\s\S]+(?=\]>$)/,
                                    lookbehind: !0,
                                    greedy: !0,
                                    inside: null
                                },
                                string: {
                                    pattern: /"[^"]*"|'[^']*'/,
                                    greedy: !0
                                },
                                punctuation: /^<!|>$|[[\]]/,
                                "doctype-tag": /^DOCTYPE/i,
                                name: /[^\s<>'"]+/
                            }
                        },
                        cdata: {
                            pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
                            greedy: !0
                        },
                        tag: {
                            pattern: /<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,
                            greedy: !0,
                            inside: {
                                tag: {
                                    pattern: /^<\/?[^\s>\/]+/,
                                    inside: {
                                        punctuation: /^<\/?/,
                                        namespace: /^[^\s>\/:]+:/
                                    }
                                },
                                "special-attr": [],
                                "attr-value": {
                                    pattern: /=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,
                                    inside: {
                                        punctuation: [{
                                            pattern: /^=/,
                                            alias: "attr-equals"
                                        }, {
                                            pattern: /^(\s*)["']|["']$/,
                                            lookbehind: !0
                                        }]
                                    }
                                },
                                punctuation: /\/?>/,
                                "attr-name": {
                                    pattern: /[^\s>\/]+/,
                                    inside: {
                                        namespace: /^[^\s>\/:]+:/
                                    }
                                }
                            }
                        },
                        entity: [{
                            pattern: /&[\da-z]{1,8};/i,
                            alias: "named-entity"
                        }, /&#x?[\da-f]{1,8};/i]
                    },
                    Prism.languages.markup.tag.inside["attr-value"].inside.entity = Prism.languages.markup.entity,
                    Prism.languages.markup.doctype.inside["internal-subset"].inside = Prism.languages.markup,
                    Prism.hooks.add("wrap", function(kt) {
                        "entity" === kt.type && (kt.attributes.title = kt.content.replace(/&amp;/, "&"))
                    }),
                    Object.defineProperty(Prism.languages.markup.tag, "addInlined", {
                        value: function(Mn, re) {
                            var Re = {};
                            Re["language-" + re] = {
                                pattern: /(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,
                                lookbehind: !0,
                                inside: Prism.languages[re]
                            },
                            Re.cdata = /^<!\[CDATA\[|\]\]>$/i;
                            var me = {
                                "included-cdata": {
                                    pattern: /<!\[CDATA\[[\s\S]*?\]\]>/i,
                                    inside: Re
                                }
                            };
                            me["language-" + re] = {
                                pattern: /[\s\S]+/,
                                inside: Prism.languages[re]
                            };
                            var Le = {};
                            Le[Mn] = {
                                pattern: RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g, function() {
                                    return Mn
                                }), "i"),
                                lookbehind: !0,
                                greedy: !0,
                                inside: me
                            },
                            Prism.languages.insertBefore("markup", "cdata", Le)
                        }
                    }),
                    Object.defineProperty(Prism.languages.markup.tag, "addAttribute", {
                        value: function(kt, Mn) {
                            Prism.languages.markup.tag.inside["special-attr"].push({
                                pattern: RegExp(/(^|["'\s])/.source + "(?:" + kt + ")" + /\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source, "i"),
                                lookbehind: !0,
                                inside: {
                                    "attr-name": /^[^\s=]+/,
                                    "attr-value": {
                                        pattern: /=[\s\S]+/,
                                        inside: {
                                            value: {
                                                pattern: /(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,
                                                lookbehind: !0,
                                                alias: [Mn, "language-" + Mn],
                                                inside: Prism.languages[Mn]
                                            },
                                            punctuation: [{
                                                pattern: /^=/,
                                                alias: "attr-equals"
                                            }, /"|'/]
                                        }
                                    }
                                }
                            })
                        }
                    }),
                    Prism.languages.html = Prism.languages.markup,
                    Prism.languages.mathml = Prism.languages.markup,
                    Prism.languages.svg = Prism.languages.markup,
                    Prism.languages.xml = Prism.languages.extend("markup", {}),
                    Prism.languages.ssml = Prism.languages.xml,
                    Prism.languages.atom = Prism.languages.xml,
                    Prism.languages.rss = Prism.languages.xml,
                    function(kt) {
                        var Mn = /\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/
                          , re = [{
                            pattern: /\b(?:false|true)\b/i,
                            alias: "boolean"
                        }, {
                            pattern: /(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,
                            greedy: !0,
                            lookbehind: !0
                        }, {
                            pattern: /(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,
                            greedy: !0,
                            lookbehind: !0
                        }, /\b(?:null)\b/i, /\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/]
                          , Re = /\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i
                          , me = /<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/
                          , Le = /[{}\[\](),:;]/;
                        kt.languages.php = {
                            delimiter: {
                                pattern: /\?>$|^<\?(?:php(?=\s)|=)?/i,
                                alias: "important"
                            },
                            comment: Mn,
                            variable: /\$+(?:\w+\b|(?=\{))/,
                            package: {
                                pattern: /(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            },
                            "class-name-definition": {
                                pattern: /(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,
                                lookbehind: !0,
                                alias: "class-name"
                            },
                            "function-definition": {
                                pattern: /(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,
                                lookbehind: !0,
                                alias: "function"
                            },
                            keyword: [{
                                pattern: /(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,
                                alias: "type-casting",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,
                                alias: "type-hint",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,
                                alias: "return-type",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,
                                alias: "type-declaration",
                                greedy: !0
                            }, {
                                pattern: /(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,
                                alias: "type-declaration",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /\b(?:parent|self|static)(?=\s*::)/i,
                                alias: "static-context",
                                greedy: !0
                            }, {
                                pattern: /(\byield\s+)from\b/i,
                                lookbehind: !0
                            }, /\bclass\b/i, {
                                pattern: /((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,
                                lookbehind: !0
                            }],
                            "argument-name": {
                                pattern: /([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,
                                lookbehind: !0
                            },
                            "class-name": [{
                                pattern: /(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /(\|\s*)\b[a-z_]\w*(?!\\)\b/i,
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,
                                greedy: !0
                            }, {
                                pattern: /(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,
                                alias: "class-name-fully-qualified",
                                greedy: !0,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,
                                alias: "class-name-fully-qualified",
                                greedy: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,
                                alias: "class-name-fully-qualified",
                                greedy: !0,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /\b[a-z_]\w*(?=\s*\$)/i,
                                alias: "type-declaration",
                                greedy: !0
                            }, {
                                pattern: /(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,
                                alias: ["class-name-fully-qualified", "type-declaration"],
                                greedy: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /\b[a-z_]\w*(?=\s*::)/i,
                                alias: "static-context",
                                greedy: !0
                            }, {
                                pattern: /(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,
                                alias: ["class-name-fully-qualified", "static-context"],
                                greedy: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,
                                alias: "type-hint",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,
                                alias: ["class-name-fully-qualified", "type-hint"],
                                greedy: !0,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }, {
                                pattern: /(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,
                                alias: "return-type",
                                greedy: !0,
                                lookbehind: !0
                            }, {
                                pattern: /(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,
                                alias: ["class-name-fully-qualified", "return-type"],
                                greedy: !0,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            }],
                            constant: re,
                            function: {
                                pattern: /(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /\\/
                                }
                            },
                            property: {
                                pattern: /(->\s*)\w+/,
                                lookbehind: !0
                            },
                            number: Re,
                            operator: me,
                            punctuation: Le
                        };
                        var je = {
                            pattern: /\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,
                            lookbehind: !0,
                            inside: kt.languages.php
                        }
                          , We = [{
                            pattern: /<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,
                            alias: "nowdoc-string",
                            greedy: !0,
                            inside: {
                                delimiter: {
                                    pattern: /^<<<'[^']+'|[a-z_]\w*;$/i,
                                    alias: "symbol",
                                    inside: {
                                        punctuation: /^<<<'?|[';]$/
                                    }
                                }
                            }
                        }, {
                            pattern: /<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,
                            alias: "heredoc-string",
                            greedy: !0,
                            inside: {
                                delimiter: {
                                    pattern: /^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,
                                    alias: "symbol",
                                    inside: {
                                        punctuation: /^<<<"?|[";]$/
                                    }
                                },
                                interpolation: je
                            }
                        }, {
                            pattern: /`(?:\\[\s\S]|[^\\`])*`/,
                            alias: "backtick-quoted-string",
                            greedy: !0
                        }, {
                            pattern: /'(?:\\[\s\S]|[^\\'])*'/,
                            alias: "single-quoted-string",
                            greedy: !0
                        }, {
                            pattern: /"(?:\\[\s\S]|[^\\"])*"/,
                            alias: "double-quoted-string",
                            greedy: !0,
                            inside: {
                                interpolation: je
                            }
                        }];
                        kt.languages.insertBefore("php", "variable", {
                            string: We,
                            attribute: {
                                pattern: /#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,
                                greedy: !0,
                                inside: {
                                    "attribute-content": {
                                        pattern: /^(#\[)[\s\S]+(?=\]$)/,
                                        lookbehind: !0,
                                        inside: {
                                            comment: Mn,
                                            string: We,
                                            "attribute-class-name": [{
                                                pattern: /([^:]|^)\b[a-z_]\w*(?!\\)\b/i,
                                                alias: "class-name",
                                                greedy: !0,
                                                lookbehind: !0
                                            }, {
                                                pattern: /([^:]|^)(?:\\?\b[a-z_]\w*)+/i,
                                                alias: ["class-name", "class-name-fully-qualified"],
                                                greedy: !0,
                                                lookbehind: !0,
                                                inside: {
                                                    punctuation: /\\/
                                                }
                                            }],
                                            constant: re,
                                            number: Re,
                                            operator: me,
                                            punctuation: Le
                                        }
                                    },
                                    delimiter: {
                                        pattern: /^#\[|\]$/,
                                        alias: "punctuation"
                                    }
                                }
                            }
                        }),
                        kt.hooks.add("before-tokenize", function(Bt) {
                            /<\?/.test(Bt.code) && kt.languages["markup-templating"].buildPlaceholders(Bt, "php", /<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)
                        }),
                        kt.hooks.add("after-tokenize", function(Bt) {
                            kt.languages["markup-templating"].tokenizePlaceholders(Bt, "php")
                        })
                    }(Prism),
                    Prism.languages.python = {
                        comment: {
                            pattern: /(^|[^\\])#.*/,
                            lookbehind: !0,
                            greedy: !0
                        },
                        "string-interpolation": {
                            pattern: /(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,
                            greedy: !0,
                            inside: {
                                interpolation: {
                                    pattern: /((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,
                                    lookbehind: !0,
                                    inside: {
                                        "format-spec": {
                                            pattern: /(:)[^:(){}]+(?=\}$)/,
                                            lookbehind: !0
                                        },
                                        "conversion-option": {
                                            pattern: /![sra](?=[:}]$)/,
                                            alias: "punctuation"
                                        },
                                        rest: null
                                    }
                                },
                                string: /[\s\S]+/
                            }
                        },
                        "triple-quoted-string": {
                            pattern: /(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,
                            greedy: !0,
                            alias: "string"
                        },
                        string: {
                            pattern: /(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,
                            greedy: !0
                        },
                        function: {
                            pattern: /((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,
                            lookbehind: !0
                        },
                        "class-name": {
                            pattern: /(\bclass\s+)\w+/i,
                            lookbehind: !0
                        },
                        decorator: {
                            pattern: /(^[\t ]*)@\w+(?:\.\w+)*/m,
                            lookbehind: !0,
                            alias: ["annotation", "punctuation"],
                            inside: {
                                punctuation: /\./
                            }
                        },
                        keyword: /\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,
                        builtin: /\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,
                        boolean: /\b(?:False|None|True)\b/,
                        number: /\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,
                        operator: /[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,
                        punctuation: /[{}[\];(),.:]/
                    },
                    Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest = Prism.languages.python,
                    Prism.languages.py = Prism.languages.python,
                    function(kt) {
                        kt.languages.ruby = kt.languages.extend("clike", {
                            comment: {
                                pattern: /#.*|^=begin\s[\s\S]*?^=end/m,
                                greedy: !0
                            },
                            "class-name": {
                                pattern: /(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,
                                lookbehind: !0,
                                inside: {
                                    punctuation: /[.\\]/
                                }
                            },
                            keyword: /\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,
                            operator: /\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,
                            punctuation: /[(){}[\].,;]/
                        }),
                        kt.languages.insertBefore("ruby", "operator", {
                            "double-colon": {
                                pattern: /::/,
                                alias: "punctuation"
                            }
                        });
                        var Mn = {
                            pattern: /((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,
                            lookbehind: !0,
                            inside: {
                                content: {
                                    pattern: /^(#\{)[\s\S]+(?=\}$)/,
                                    lookbehind: !0,
                                    inside: kt.languages.ruby
                                },
                                delimiter: {
                                    pattern: /^#\{|\}$/,
                                    alias: "punctuation"
                                }
                            }
                        };
                        delete kt.languages.ruby.function;
                        var re = "(?:" + [/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source, /\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source, /\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source, /\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source, /<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|") + ")"
                          , Re = /(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;
                        kt.languages.insertBefore("ruby", "keyword", {
                            "regex-literal": [{
                                pattern: RegExp(/%r/.source + re + /[egimnosux]{0,6}/.source),
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    regex: /[\s\S]+/
                                }
                            }, {
                                pattern: /(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,
                                lookbehind: !0,
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    regex: /[\s\S]+/
                                }
                            }],
                            variable: /[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,
                            symbol: [{
                                pattern: RegExp(/(^|[^:]):/.source + Re),
                                lookbehind: !0,
                                greedy: !0
                            }, {
                                pattern: RegExp(/([\r\n{(,][ \t]*)/.source + Re + /(?=:(?!:))/.source),
                                lookbehind: !0,
                                greedy: !0
                            }],
                            "method-definition": {
                                pattern: /(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,
                                lookbehind: !0,
                                inside: {
                                    function: /\b\w+$/,
                                    keyword: /^self\b/,
                                    "class-name": /^\w+/,
                                    punctuation: /\./
                                }
                            }
                        }),
                        kt.languages.insertBefore("ruby", "string", {
                            "string-literal": [{
                                pattern: RegExp(/%[qQiIwWs]?/.source + re),
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    string: /[\s\S]+/
                                }
                            }, {
                                pattern: /("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    string: /[\s\S]+/
                                }
                            }, {
                                pattern: /<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,
                                alias: "heredoc-string",
                                greedy: !0,
                                inside: {
                                    delimiter: {
                                        pattern: /^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,
                                        inside: {
                                            symbol: /\b\w+/,
                                            punctuation: /^<<[-~]?/
                                        }
                                    },
                                    interpolation: Mn,
                                    string: /[\s\S]+/
                                }
                            }, {
                                pattern: /<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,
                                alias: "heredoc-string",
                                greedy: !0,
                                inside: {
                                    delimiter: {
                                        pattern: /^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,
                                        inside: {
                                            symbol: /\b\w+/,
                                            punctuation: /^<<[-~]?'|'$/
                                        }
                                    },
                                    string: /[\s\S]+/
                                }
                            }],
                            "command-literal": [{
                                pattern: RegExp(/%x/.source + re),
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    command: {
                                        pattern: /[\s\S]+/,
                                        alias: "string"
                                    }
                                }
                            }, {
                                pattern: /`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,
                                greedy: !0,
                                inside: {
                                    interpolation: Mn,
                                    command: {
                                        pattern: /[\s\S]+/,
                                        alias: "string"
                                    }
                                }
                            }]
                        }),
                        delete kt.languages.ruby.string,
                        kt.languages.insertBefore("ruby", "number", {
                            builtin: /\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,
                            constant: /\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/
                        }),
                        kt.languages.rb = kt.languages.ruby
                    }(Prism),
                    {
                        boltExport: jn.exports
                    }
                }
                ,
                "object" == typeof qe && void 0 !== D ? D.exports = jn() : (kr = "undefined" != typeof globalThis ? globalThis : kr || self).EphoxContactWrapper = jn();
                window;
                window.Prism = bn
            }(0, Xe, Mr);
            var an = Mr.exports.boltExport
              , En = function(ct) {
                return Pt.Prism && function(ct) {
                    return ct.getParam("codesample_global_prismjs", !1, "boolean")
                }(ct) ? Pt.Prism : an
            }
              , In = function(ct) {
                var qe = ct.selection ? ct.selection.getNode() : null;
                return function(ct, qe) {
                    return ct ? gn.some(qe) : gn.none()
                }(hn(qe), qe)
            }
              , ca = function(ct) {
                var qe = function(ct) {
                    var D = function(ct) {
                        return ct.getParam("codesample_languages")
                    }(ct);
                    return D || [{
                        text: "HTML/XML",
                        value: "markup"
                    }, {
                        text: "JavaScript",
                        value: "javascript"
                    }, {
                        text: "CSS",
                        value: "css"
                    }, {
                        text: "PHP",
                        value: "php"
                    }, {
                        text: "Ruby",
                        value: "ruby"
                    }, {
                        text: "Python",
                        value: "python"
                    }, {
                        text: "Java",
                        value: "java"
                    }, {
                        text: "C",
                        value: "c"
                    }, {
                        text: "C#",
                        value: "csharp"
                    }, {
                        text: "C++",
                        value: "cpp"
                    }]
                }(ct)
                  , D = function(ct) {
                    return function(ct, qe) {
                        return 0 < ct.length ? gn.some(ct[0]) : gn.none()
                    }(ct)
                }(qe).fold(cn(""), function(tt) {
                    return tt.value
                })
                  , pn = function(ct, qe) {
                    return In(ct).fold(function() {
                        return qe
                    }, function(pn) {
                        var bn = pn.className.match(/language-(\w+)/);
                        return bn ? bn[1] : qe
                    })
                }(ct, D)
                  , bn = function(ct) {
                    return In(ct).fold(cn(""), function(D) {
                        return D.textContent
                    })
                }(ct);
                ct.windowManager.open({
                    title: "Insert/Edit Code Sample",
                    size: "large",
                    body: {
                        type: "panel",
                        items: [{
                            type: "selectbox",
                            name: "language",
                            label: "Language",
                            items: qe
                        }, {
                            type: "textarea",
                            name: "code",
                            label: "Code view"
                        }]
                    },
                    buttons: [{
                        type: "cancel",
                        name: "cancel",
                        text: "Cancel"
                    }, {
                        type: "submit",
                        name: "save",
                        text: "Save",
                        primary: !0
                    }],
                    initialData: {
                        language: pn,
                        code: bn
                    },
                    onSubmit: function(tt) {
                        var kr = tt.getData();
                        (function(ct, qe, D) {
                            ct.undoManager.transact(function() {
                                var pn = In(ct);
                                return D = xe.DOM.encode(D),
                                pn.fold(function() {
                                    ct.insertContent('<pre id="__new" class="language-' + qe + '">' + D + "</pre>"),
                                    ct.selection.select(ct.$("#__new").removeAttr("id")[0])
                                }, function(bn) {
                                    ct.dom.setAttrib(bn, "class", "language-" + qe),
                                    bn.innerHTML = D,
                                    En(ct).highlightElement(bn),
                                    ct.selection.select(bn)
                                })
                            })
                        }
                        )(ct, kr.language, kr.code),
                        tt.close()
                    }
                })
            };
            zo.add("codesample", function(ct) {
                (function(ct) {
                    var qe = ct.$;
                    ct.on("PreProcess", function(D) {
                        qe("pre[contenteditable=false]", D.node).filter(Cn(hn)).each(function(pn, bn) {
                            var tt = qe(bn)
                              , kr = bn.textContent;
                            tt.attr("class", qe.trim(tt.attr("class"))),
                            tt.removeAttr("contentEditable"),
                            tt.empty().append(qe("<code></code>").each(function() {
                                this.textContent = kr
                            }))
                        })
                    }),
                    ct.on("SetContent", function() {
                        var D = qe("pre").filter(Cn(hn)).filter(function(pn, bn) {
                            return "false" !== bn.contentEditable
                        });
                        D.length && ct.undoManager.transact(function() {
                            D.each(function(pn, bn) {
                                qe(bn).find("br").each(function(tt, kr) {
                                    kr.parentNode.replaceChild(ct.getDoc().createTextNode("\n"), kr)
                                }),
                                bn.contentEditable = "false",
                                bn.innerHTML = ct.dom.encode(bn.textContent),
                                En(ct).highlightElement(bn),
                                bn.className = qe.trim(bn.className)
                            })
                        })
                    })
                }
                )(ct),
                function(ct) {
                    var qe = function() {
                        return ct.execCommand("codesample")
                    };
                    ct.ui.registry.addToggleButton("codesample", {
                        icon: "code-sample",
                        tooltip: "Insert/edit code sample",
                        onAction: qe,
                        onSetup: function(D) {
                            var pn = function() {
                                D.setActive(function(ct) {
                                    var qe = ct.selection.getStart();
                                    return ct.dom.is(qe, 'pre[class*="language-"]')
                                }(ct))
                            };
                            return ct.on("NodeChange", pn),
                            function() {
                                return ct.off("NodeChange", pn)
                            }
                        }
                    }),
                    ct.ui.registry.addMenuItem("codesample", {
                        text: "Code sample...",
                        icon: "code-sample",
                        onAction: qe
                    })
                }(ct),
                function(ct) {
                    ct.addCommand("codesample", function() {
                        var qe = ct.selection.getNode();
                        ct.selection.isCollapsed() || hn(qe) ? ca(ct) : ct.formatter.toggle("code")
                    })
                }(ct),
                ct.on("dblclick", function(qe) {
                    hn(qe.target) && ca(ct)
                })
            })
        }()
    }
    ,
    27294: ()=>{
        !function() {
            "use strict";
            var zo = function(ae) {
                var on = ae;
                return {
                    get: function() {
                        return on
                    },
                    set: function(wt) {
                        on = wt
                    }
                }
            }
              , xr = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , cn = function() {
                return cn = Object.assign || function(on) {
                    for (var Ct, Ot = 1, wt = arguments.length; Ot < wt; Ot++)
                        for (var ct in Ct = arguments[Ot])
                            Object.prototype.hasOwnProperty.call(Ct, ct) && (on[ct] = Ct[ct]);
                    return on
                }
                ,
                cn.apply(this, arguments)
            }
              , br = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , Nn = tinymce.util.Tools.resolve("tinymce.html.DomParser")
              , Lr = tinymce.util.Tools.resolve("tinymce.html.Node")
              , vr = tinymce.util.Tools.resolve("tinymce.html.Serializer")
              , wn = function(ae) {
                return ae.getParam("fullpage_hide_in_source_view")
            }
              , Hr = function(ae) {
                return ae.getParam("fullpage_default_encoding")
            }
              , gn = function(ae) {
                return ae.getParam("fullpage_default_font_family")
            }
              , _t = function(ae) {
                return ae.getParam("fullpage_default_font_size")
            }
              , Cn = function(ae, on) {
                return Nn({
                    validate: !1,
                    root_name: "#document"
                }, ae.schema).parse(on, {
                    format: "xhtml"
                })
            }
              , _n = br.each
              , En = function(ae) {
                return ae.replace(/<\/?[A-Z]+/g, function(on) {
                    return on.toLowerCase()
                })
            }
              , Kn = function(ae) {
                var Ct, on = "", Ot = "";
                return function(ae) {
                    return ae.getParam("fullpage_default_xml_pi")
                }(ae) && (on += '<?xml version="1.0" encoding="' + (Hr(ae) || "ISO-8859-1") + '" ?>\n'),
                on += function(ae) {
                    return ae.getParam("fullpage_default_doctype", "<!DOCTYPE html>")
                }(ae),
                on += "\n<html>\n<head>\n",
                (Ct = function(ae) {
                    return ae.getParam("fullpage_default_title")
                }(ae)) && (on += "<title>" + Ct + "</title>\n"),
                (Ct = Hr(ae)) && (on += '<meta http-equiv="Content-Type" content="text/html; charset=' + Ct + '" />\n'),
                (Ct = gn(ae)) && (Ot += "font-family: " + Ct + ";"),
                (Ct = _t(ae)) && (Ot += "font-size: " + Ct + ";"),
                (Ct = function(ae) {
                    return ae.getParam("fullpage_default_text_color")
                }(ae)) && (Ot += "color: " + Ct + ";"),
                on + "</head>\n<body" + (Ot ? ' style="' + Ot + '"' : "") + ">\n"
            };
            xr.add("fullpage", function(ae) {
                var on = zo("")
                  , Ct = zo("");
                (function(ae, on) {
                    ae.addCommand("mceFullPageProperties", function() {
                        !function(ae, on) {
                            var Ct = function(ae, on) {
                                var wt, ct, Ct = Cn(ae, on), Ot = {}, qe = function(D, pn) {
                                    return D.attr(pn) || ""
                                };
                                return Ot.fontface = gn(ae),
                                Ot.fontsize = _t(ae),
                                7 === (wt = Ct.firstChild).type && (Ot.xml_pi = !0,
                                (ct = /encoding="([^"]+)"/.exec(wt.value)) && (Ot.docencoding = ct[1])),
                                (wt = Ct.getAll("#doctype")[0]) && (Ot.doctype = "<!DOCTYPE" + wt.value + ">"),
                                (wt = Ct.getAll("title")[0]) && wt.firstChild && (Ot.title = wt.firstChild.value),
                                br.each(Ct.getAll("meta"), function(D) {
                                    var tt, pn = D.attr("name"), bn = D.attr("http-equiv");
                                    pn ? Ot[pn.toLowerCase()] = D.attr("content") : "Content-Type" === bn && (tt = /charset\s*=\s*(.*)\s*/gi.exec(D.attr("content"))) && (Ot.docencoding = tt[1])
                                }),
                                (wt = Ct.getAll("html")[0]) && (Ot.langcode = qe(wt, "lang") || qe(wt, "xml:lang")),
                                Ot.stylesheets = [],
                                br.each(Ct.getAll("link"), function(D) {
                                    "stylesheet" === D.attr("rel") && Ot.stylesheets.push(D.attr("href"))
                                }),
                                (wt = Ct.getAll("body")[0]) && (Ot.langdir = qe(wt, "dir"),
                                Ot.style = qe(wt, "style"),
                                Ot.visited_color = qe(wt, "vlink"),
                                Ot.link_color = qe(wt, "link"),
                                Ot.active_color = qe(wt, "alink")),
                                Ot
                            }(ae, on.get())
                              , wt = cn(cn({}, {
                                title: "",
                                keywords: "",
                                description: "",
                                robots: "",
                                author: "",
                                docencoding: ""
                            }), Ct);
                            ae.windowManager.open({
                                title: "Metadata and Document Properties",
                                size: "normal",
                                body: {
                                    type: "panel",
                                    items: [{
                                        name: "title",
                                        type: "input",
                                        label: "Title"
                                    }, {
                                        name: "keywords",
                                        type: "input",
                                        label: "Keywords"
                                    }, {
                                        name: "description",
                                        type: "input",
                                        label: "Description"
                                    }, {
                                        name: "robots",
                                        type: "input",
                                        label: "Robots"
                                    }, {
                                        name: "author",
                                        type: "input",
                                        label: "Author"
                                    }, {
                                        name: "docencoding",
                                        type: "input",
                                        label: "Encoding"
                                    }]
                                },
                                buttons: [{
                                    type: "cancel",
                                    name: "cancel",
                                    text: "Cancel"
                                }, {
                                    type: "submit",
                                    name: "save",
                                    text: "Save",
                                    primary: !0
                                }],
                                initialData: wt,
                                onSubmit: function(ct) {
                                    var qe = ct.getData()
                                      , D = function(ae, on, Ct) {
                                        var Ot, wt, ct = ae.dom, qe = function(jn, nn, ir) {
                                            jn.attr(nn, ir || void 0)
                                        }, D = function(jn) {
                                            Ot.firstChild ? Ot.insert(jn, Ot.firstChild) : Ot.append(jn)
                                        }, pn = Cn(ae, Ct);
                                        if ((Ot = pn.getAll("head")[0]) || (wt = pn.getAll("html")[0],
                                        Ot = new Lr("head",1),
                                        wt.firstChild ? wt.insert(Ot, wt.firstChild, !0) : wt.append(Ot)),
                                        wt = pn.firstChild,
                                        on.xml_pi) {
                                            var bn = 'version="1.0"';
                                            on.docencoding && (bn += ' encoding="' + on.docencoding + '"'),
                                            7 !== wt.type && (wt = new Lr("xml",7),
                                            pn.insert(wt, pn.firstChild, !0)),
                                            wt.value = bn
                                        } else
                                            wt && 7 === wt.type && wt.remove();
                                        wt = pn.getAll("#doctype")[0],
                                        on.doctype ? (wt || (wt = new Lr("#doctype",10),
                                        on.xml_pi ? pn.insert(wt, pn.firstChild) : D(wt)),
                                        wt.value = on.doctype.substring(9, on.doctype.length - 1)) : wt && wt.remove(),
                                        wt = null,
                                        br.each(pn.getAll("meta"), function(jn) {
                                            "Content-Type" === jn.attr("http-equiv") && (wt = jn)
                                        }),
                                        on.docencoding ? (wt || ((wt = new Lr("meta",1)).attr("http-equiv", "Content-Type"),
                                        wt.shortEnded = !0,
                                        D(wt)),
                                        wt.attr("content", "text/html; charset=" + on.docencoding)) : wt && wt.remove(),
                                        wt = pn.getAll("title")[0],
                                        on.title ? (wt ? wt.empty() : (wt = new Lr("title",1),
                                        D(wt)),
                                        wt.append(new Lr("#text",3)).value = on.title) : wt && wt.remove(),
                                        br.each("keywords,description,author,copyright,robots".split(","), function(jn) {
                                            var ir, kt, nn = pn.getAll("meta"), Mn = on[jn];
                                            for (ir = 0; ir < nn.length; ir++)
                                                if ((kt = nn[ir]).attr("name") === jn)
                                                    return void (Mn ? kt.attr("content", Mn) : kt.remove());
                                            Mn && ((wt = new Lr("meta",1)).attr("name", jn),
                                            wt.attr("content", Mn),
                                            wt.shortEnded = !0,
                                            D(wt))
                                        });
                                        var tt = {};
                                        br.each(pn.getAll("link"), function(jn) {
                                            "stylesheet" === jn.attr("rel") && (tt[jn.attr("href")] = jn)
                                        }),
                                        br.each(on.stylesheets, function(jn) {
                                            tt[jn] || ((wt = new Lr("link",1)).attr({
                                                rel: "stylesheet",
                                                text: "text/css",
                                                href: jn
                                            }),
                                            wt.shortEnded = !0,
                                            D(wt)),
                                            delete tt[jn]
                                        }),
                                        br.each(tt, function(jn) {
                                            jn.remove()
                                        }),
                                        (wt = pn.getAll("body")[0]) && (qe(wt, "dir", on.langdir),
                                        qe(wt, "style", on.style),
                                        qe(wt, "vlink", on.visited_color),
                                        qe(wt, "link", on.link_color),
                                        qe(wt, "alink", on.active_color),
                                        ct.setAttribs(ae.getBody(), {
                                            style: on.style,
                                            dir: on.dir,
                                            vLink: on.visited_color,
                                            link: on.link_color,
                                            aLink: on.active_color
                                        })),
                                        (wt = pn.getAll("html")[0]) && (qe(wt, "lang", on.langcode),
                                        qe(wt, "xml:lang", on.langcode)),
                                        Ot.firstChild || Ot.remove();
                                        var kr = vr({
                                            validate: !1,
                                            indent: !0,
                                            indent_before: "head,html,body,meta,title,script,link,style",
                                            indent_after: "head,html,body,meta,title,script,link,style"
                                        }).serialize(pn);
                                        return kr.substring(0, kr.indexOf("</body>"))
                                    }(ae, br.extend(Ct, qe), on.get());
                                    on.set(D),
                                    ct.close()
                                }
                            })
                        }(ae, on)
                    })
                }
                )(ae, on),
                function(ae) {
                    ae.ui.registry.addButton("fullpage", {
                        tooltip: "Metadata and document properties",
                        icon: "document-properties",
                        onAction: function() {
                            ae.execCommand("mceFullPageProperties")
                        }
                    }),
                    ae.ui.registry.addMenuItem("fullpage", {
                        text: "Metadata and document properties",
                        icon: "document-properties",
                        onAction: function() {
                            ae.execCommand("mceFullPageProperties")
                        }
                    })
                }(ae),
                function(ae, on, Ct) {
                    ae.on("BeforeSetContent", function(Ot) {
                        !function(ae, on, Ct, Ot) {
                            var wt, ct, qe, D = "", pn = ae.dom;
                            if (!(Ot.selection || (qe = function(ae, on) {
                                return br.each(ae, function(Ct) {
                                    on = on.replace(Ct, function(Ot) {
                                        return "\x3c!--mce:protected " + escape(Ot) + "--\x3e"
                                    })
                                }),
                                on
                            }(function(ae) {
                                return ae.getParam("protect")
                            }(ae), Ot.content),
                            "raw" === Ot.format && on.get() || Ot.source_view && wn(ae)))) {
                                0 === qe.length && !Ot.source_view && (qe = br.trim(on.get()) + "\n" + br.trim(qe) + "\n" + br.trim(Ct.get())),
                                -1 !== (wt = (qe = qe.replace(/<(\/?)BODY/gi, "<$1body")).indexOf("<body")) ? (wt = qe.indexOf(">", wt),
                                on.set(En(qe.substring(0, wt + 1))),
                                -1 === (ct = qe.indexOf("</body", wt)) && (ct = qe.length),
                                Ot.content = br.trim(qe.substring(wt + 1, ct)),
                                Ct.set(En(qe.substring(ct)))) : (on.set(Kn(ae)),
                                Ct.set("\n</body>\n</html>"));
                                var bn = Cn(ae, on.get());
                                _n(bn.getAll("style"), function(ir) {
                                    ir.firstChild && (D += ir.firstChild.value)
                                });
                                var tt = bn.getAll("body")[0];
                                tt && pn.setAttribs(ae.getBody(), {
                                    style: tt.attr("style") || "",
                                    dir: tt.attr("dir") || "",
                                    vLink: tt.attr("vlink") || "",
                                    link: tt.attr("link") || "",
                                    aLink: tt.attr("alink") || ""
                                }),
                                pn.remove("fullpage_styles");
                                var kr = ae.getDoc().getElementsByTagName("head")[0];
                                D && pn.add(kr, "style", {
                                    id: "fullpage_styles"
                                }).appendChild(document.createTextNode(D));
                                var nn = {};
                                br.each(kr.getElementsByTagName("link"), function(ir) {
                                    "stylesheet" === ir.rel && ir.getAttribute("data-mce-fullpage") && (nn[ir.href] = ir)
                                }),
                                br.each(bn.getAll("link"), function(ir) {
                                    var kt = ir.attr("href");
                                    if (!kt)
                                        return !0;
                                    !nn[kt] && "stylesheet" === ir.attr("rel") && pn.add(kr, "link", {
                                        rel: "stylesheet",
                                        text: "text/css",
                                        href: kt,
                                        "data-mce-fullpage": "1"
                                    }),
                                    delete nn[kt]
                                }),
                                br.each(nn, function(ir) {
                                    ir.parentNode.removeChild(ir)
                                })
                            }
                        }(ae, on, Ct, Ot)
                    }),
                    ae.on("GetContent", function(Ot) {
                        !function(ae, on, Ct, Ot) {
                            "html" === Ot.format && !Ot.selection && (!Ot.source_view || !wn(ae)) && (Ot.content = function(ae) {
                                return ae.replace(/<!--mce:protected ([\s\S]*?)-->/g, function(on, Ct) {
                                    return unescape(Ct)
                                })
                            }(br.trim(on) + "\n" + br.trim(Ot.content) + "\n" + br.trim(Ct)))
                        }(ae, on.get(), Ct.get(), Ot)
                    })
                }(ae, on, Ct)
            })
        }()
    }
    ,
    21816: ()=>{
        !function() {
            "use strict";
            var zo = function(R) {
                var C = R;
                return {
                    get: function() {
                        return C
                    },
                    set: function(ie) {
                        C = ie
                    }
                }
            }
              , xr = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , Nn = function(R) {
                return function(C) {
                    return function(R) {
                        var C = typeof R;
                        return null === R ? "null" : "object" === C && (Array.prototype.isPrototypeOf(R) || R.constructor && "Array" === R.constructor.name) ? "array" : "object" === C && (String.prototype.isPrototypeOf(R) || R.constructor && "String" === R.constructor.name) ? "string" : C
                    }(C) === R
                }
            }
              , Lr = function(R) {
                return function(C) {
                    return typeof C === R
                }
            }
              , vr = Nn("string")
              , wn = Nn("array")
              , fn = Lr("boolean")
              , gn = function(R) {
                return !function(R) {
                    return null == R
                }(R)
            }
              , _t = Lr("function")
              , lr = Lr("number")
              , oo = function() {}
              , Cn = function(R) {
                return function() {
                    return R
                }
            };
            function Xe(R) {
                for (var C = [], B = 1; B < arguments.length; B++)
                    C[B - 1] = arguments[B];
                return function() {
                    for (var G = [], ie = 0; ie < arguments.length; ie++)
                        G[ie] = arguments[ie];
                    var Ae = C.concat(G);
                    return R.apply(null, Ae)
                }
            }
            var R, C, Mr = Cn(!1), Fn = Cn(!0), an = function() {
                return Se
            }, Se = {
                fold: function(G, ie) {
                    return G()
                },
                isSome: Mr,
                isNone: Fn,
                getOr: C = function(R) {
                    return R
                }
                ,
                getOrThunk: R = function(G) {
                    return G()
                }
                ,
                getOrDie: function(G) {
                    throw new Error(G || "error: getOrDie called on none.")
                },
                getOrNull: Cn(null),
                getOrUndefined: Cn(void 0),
                or: C,
                orThunk: R,
                map: an,
                each: oo,
                bind: an,
                exists: Mr,
                forall: Fn,
                filter: function() {
                    return an()
                },
                toArray: function() {
                    return []
                },
                toString: Cn("none()")
            }, _n = function(R) {
                var C = Cn(R)
                  , B = function() {
                    return ie
                }
                  , G = function(Ae) {
                    return Ae(R)
                }
                  , ie = {
                    fold: function(Ae, lt) {
                        return lt(R)
                    },
                    isSome: Fn,
                    isNone: Mr,
                    getOr: C,
                    getOrThunk: C,
                    getOrDie: C,
                    getOrNull: C,
                    getOrUndefined: C,
                    or: B,
                    orThunk: B,
                    map: function(Ae) {
                        return _n(Ae(R))
                    },
                    each: function(Ae) {
                        Ae(R)
                    },
                    bind: G,
                    exists: G,
                    forall: G,
                    filter: function(Ae) {
                        return Ae(R) ? ie : Se
                    },
                    toArray: function() {
                        return [R]
                    },
                    toString: function() {
                        return "some(" + R + ")"
                    }
                };
                return ie
            }, In = {
                some: _n,
                none: an,
                from: function(R) {
                    return null == R ? Se : _n(R)
                }
            }, Kn = function() {
                return Kn = Object.assign || function(C) {
                    for (var B, G = 1, ie = arguments.length; G < ie; G++)
                        for (var Ae in B = arguments[G])
                            Object.prototype.hasOwnProperty.call(B, Ae) && (C[Ae] = B[Ae]);
                    return C
                }
                ,
                Kn.apply(this, arguments)
            }, $o = function(R) {
                var C = zo(In.none())
                  , B = function() {
                    return C.get().each(R)
                };
                return {
                    clear: function() {
                        B(),
                        C.set(In.none())
                    },
                    isSet: function() {
                        return C.get().isSome()
                    },
                    get: function() {
                        return C.get()
                    },
                    set: function(Sn) {
                        B(),
                        C.set(In.some(Sn))
                    }
                }
            }, st = function() {
                return $o(function(R) {
                    return R.unbind()
                })
            }, ca = Array.prototype.push, ae = function(R, C) {
                for (var B = R.length, G = new Array(B), ie = 0; ie < B; ie++)
                    G[ie] = C(R[ie], ie);
                return G
            }, on = function(R, C) {
                for (var B = 0, G = R.length; B < G; B++)
                    C(R[B], B)
            }, Ct = function(R, C) {
                for (var B = [], G = 0, ie = R.length; G < ie; G++) {
                    var Ae = R[G];
                    C(Ae, G) && B.push(Ae)
                }
                return B
            }, wt = function(R, C) {
                return function(R, C, B) {
                    for (var G = 0, ie = R.length; G < ie; G++) {
                        var Ae = R[G];
                        if (C(Ae, G))
                            return In.some(Ae);
                        if (B(Ae, G))
                            break
                    }
                    return In.none()
                }(R, C, Mr)
            }, tt = Object.keys, jn = function(R, C) {
                return -1 !== R.indexOf(C)
            }, nn = function(R) {
                return void 0 !== R.style && _t(R.style.getPropertyValue)
            }, re = function(R) {
                if (null == R)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: R
                }
            }, me_fromDom = re;
            "undefined" != typeof window || Function("return this;")();
            var $n = function(R) {
                return function(C) {
                    return function(R) {
                        return R.dom.nodeType
                    }(C) === R
                }
            }
              , Cr = $n(1)
              , Gt = $n(3)
              , Un = $n(9)
              , xo = $n(11)
              , Vt = function() {
                return Yt(0, 0)
            }
              , Yt = function(R, C) {
                return {
                    major: R,
                    minor: C
                }
            }
              , vn = {
                nu: Yt,
                detect: function(R, C) {
                    var B = String(C).toLowerCase();
                    return 0 === R.length ? Vt() : function(R, C) {
                        var B = function(R, C) {
                            for (var B = 0; B < R.length; B++) {
                                var G = R[B];
                                if (G.test(C))
                                    return G
                            }
                        }(R, C);
                        if (!B)
                            return {
                                major: 0,
                                minor: 0
                            };
                        var G = function(ie) {
                            return Number(C.replace(B, "$" + ie))
                        };
                        return Yt(G(1), G(2))
                    }(R, B)
                },
                unknown: Vt
            }
              , Sr = function(R, C) {
                var B = String(C).toLowerCase();
                return wt(R, function(G) {
                    return G.search(B)
                })
            }
              , Ar = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/
              , ee = function(R) {
                return function(C) {
                    return jn(C, R)
                }
            }
              , Do = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(R) {
                    return jn(R, "edge/") && jn(R, "chrome") && jn(R, "safari") && jn(R, "applewebkit")
                }
            }, {
                name: "Chrome",
                brand: "Chromium",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ar],
                search: function(R) {
                    return jn(R, "chrome") && !jn(R, "chromeframe")
                }
            }, {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(R) {
                    return jn(R, "msie") || jn(R, "trident")
                }
            }, {
                name: "Opera",
                versionRegexes: [Ar, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: ee("opera")
            }, {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: ee("firefox")
            }, {
                name: "Safari",
                versionRegexes: [Ar, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(R) {
                    return (jn(R, "safari") || jn(R, "mobile/")) && jn(R, "applewebkit")
                }
            }]
              , Ma = [{
                name: "Windows",
                search: ee("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "iOS",
                search: function(R) {
                    return jn(R, "iphone") || jn(R, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            }, {
                name: "Android",
                search: ee("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "OSX",
                search: ee("mac os x"),
                versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
            }, {
                name: "Linux",
                search: ee("linux"),
                versionRegexes: []
            }, {
                name: "Solaris",
                search: ee("sunos"),
                versionRegexes: []
            }, {
                name: "FreeBSD",
                search: ee("freebsd"),
                versionRegexes: []
            }, {
                name: "ChromeOS",
                search: ee("cros"),
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
            }]
              , Ra = {
                browsers: Cn(Do),
                oses: Cn(Ma)
            }
              , St = "Firefox"
              , qo = function(R) {
                var C = R.current
                  , G = function(ie) {
                    return function() {
                        return C === ie
                    }
                };
                return {
                    current: C,
                    version: R.version,
                    isEdge: G("Edge"),
                    isChrome: G("Chrome"),
                    isIE: G("IE"),
                    isOpera: G("Opera"),
                    isFirefox: G(St),
                    isSafari: G("Safari")
                }
            }
              , Ca_unknown = function() {
                return qo({
                    current: void 0,
                    version: vn.unknown()
                })
            }
              , Ca_nu = qo
              , fa = (Cn("Edge"),
            Cn("Chrome"),
            Cn("IE"),
            Cn("Opera"),
            Cn(St),
            Cn("Safari"),
            "Windows")
              , va = "Android"
              , da = "Solaris"
              , za = "FreeBSD"
              , hu = "ChromeOS"
              , cs = function(R) {
                var C = R.current
                  , G = function(ie) {
                    return function() {
                        return C === ie
                    }
                };
                return {
                    current: C,
                    version: R.version,
                    isWindows: G(fa),
                    isiOS: G("iOS"),
                    isAndroid: G(va),
                    isOSX: G("OSX"),
                    isLinux: G("Linux"),
                    isSolaris: G(da),
                    isFreeBSD: G(za),
                    isChromeOS: G(hu)
                }
            }
              , Ii_unknown = function() {
                return cs({
                    current: void 0,
                    version: vn.unknown()
                })
            }
              , Ii_nu = cs
              , uo_detect = (Cn(fa),
            Cn("iOS"),
            Cn(va),
            Cn("Linux"),
            Cn("OSX"),
            Cn(da),
            Cn(za),
            Cn(hu),
            function(R, C, B) {
                var G = Ra.browsers()
                  , ie = Ra.oses()
                  , Ae = C.bind(function(or) {
                    return function(R, C) {
                        return function(R, C) {
                            for (var B = 0; B < R.length; B++) {
                                var G = C(R[B]);
                                if (G.isSome())
                                    return G
                            }
                            return In.none()
                        }(C.brands, function(B) {
                            var G = B.brand.toLowerCase();
                            return wt(R, function(ie) {
                                var Ae;
                                return G === (null === (Ae = ie.brand) || void 0 === Ae ? void 0 : Ae.toLowerCase())
                            }).map(function(ie) {
                                return {
                                    current: ie.name,
                                    version: vn.nu(parseInt(B.version, 10), 0)
                                }
                            })
                        })
                    }(G, or)
                }).orThunk(function() {
                    return function(R, C) {
                        return Sr(R, C).map(function(B) {
                            var G = vn.detect(B.versionRegexes, C);
                            return {
                                current: B.name,
                                version: G
                            }
                        })
                    }(G, R)
                }).fold(Ca_unknown, Ca_nu)
                  , lt = function(R, C) {
                    return Sr(R, C).map(function(B) {
                        var G = vn.detect(B.versionRegexes, C);
                        return {
                            current: B.name,
                            version: G
                        }
                    })
                }(ie, R).fold(Ii_unknown, Ii_nu)
                  , Sn = function(R, C, B, G) {
                    var ie = R.isiOS() && !0 === /ipad/i.test(B)
                      , Ae = R.isiOS() && !ie
                      , lt = R.isiOS() || R.isAndroid()
                      , Sn = lt || G("(pointer:coarse)")
                      , or = ie || !Ae && lt && G("(min-device-width:768px)")
                      , Xt = Ae || lt && !or
                      , un = C.isSafari() && R.isiOS() && !1 === /safari/i.test(B)
                      , Bn = !Xt && !or && !un;
                    return {
                        isiPad: Cn(ie),
                        isiPhone: Cn(Ae),
                        isTablet: Cn(or),
                        isPhone: Cn(Xt),
                        isTouch: Cn(Sn),
                        isAndroid: R.isAndroid,
                        isiOS: R.isiOS,
                        isWebView: Cn(un),
                        isDesktop: Cn(Bn)
                    }
                }(lt, Ae, R, B);
                return {
                    browser: Ae,
                    os: lt,
                    deviceType: Sn
                }
            }
            )
              , qa = function(R) {
                return window.matchMedia(R).matches
            }
              , vi = function(R) {
                var B, C = !1;
                return function() {
                    for (var G = [], ie = 0; ie < arguments.length; ie++)
                        G[ie] = arguments[ie];
                    return C || (C = !0,
                    B = R.apply(null, G)),
                    B
                }
            }(function() {
                return uo_detect(navigator.userAgent, In.from(navigator.userAgentData), qa)
            })
              , pu = function(R, C) {
                var B = R.dom;
                if (1 !== B.nodeType)
                    return !1;
                var G = B;
                if (void 0 !== G.matches)
                    return G.matches(C);
                if (void 0 !== G.msMatchesSelector)
                    return G.msMatchesSelector(C);
                if (void 0 !== G.webkitMatchesSelector)
                    return G.webkitMatchesSelector(C);
                if (void 0 !== G.mozMatchesSelector)
                    return G.mozMatchesSelector(C);
                throw new Error("Browser lacks native selectors")
            }
              , Ee = function(R) {
                return me_fromDom(R.dom.ownerDocument)
            }
              , nr = function(R) {
                return ae(R.dom.childNodes, me_fromDom)
            }
              , Ur = _t(Element.prototype.attachShadow) && _t(Node.prototype.getRootNode)
              , ma = Cn(Ur)
              , so = Ur ? function(R) {
                return me_fromDom(R.dom.getRootNode())
            }
            : function(R) {
                return Un(R) ? R : Ee(R)
            }
              , Fa = function(R) {
                var C = so(R);
                return function(R) {
                    return xo(R) && gn(R.dom.host)
                }(C) ? In.some(C) : In.none()
            }
              , Io = function(R) {
                return me_fromDom(R.dom.host)
            }
              , bu = function(R) {
                var C = Gt(R) ? R.dom.parentNode : R.dom;
                if (null == C || null === C.ownerDocument)
                    return !1;
                var B = C.ownerDocument;
                return Fa(me_fromDom(C)).fold(function() {
                    return B.body.contains(C)
                }, function(R, C) {
                    return function(B) {
                        return R(C(B))
                    }
                }(bu, Io))
            }
              , xt = function(R, C) {
                var B = R.dom.getAttribute(C);
                return null === B ? void 0 : B
            }
              , yo = function(R, C) {
                R.dom.removeAttribute(C)
            }
              , Ci = function(R, C) {
                var B = R.dom;
                !function(R, C) {
                    for (var B = tt(R), G = 0, ie = B.length; G < ie; G++) {
                        var Ae = B[G];
                        C(R[Ae], Ae)
                    }
                }(C, function(G, ie) {
                    !function(R, C, B) {
                        if (!vr(B))
                            throw console.error("Invalid call to CSS.set. Property ", C, ":: Value ", B, ":: Element ", R),
                            new Error("CSS value must be a string: " + B);
                        nn(R) && R.style.setProperty(C, B)
                    }(B, ie, G)
                })
            }
              , er = function(R) {
                var C = me_fromDom(function(R) {
                    if (ma() && gn(R.target)) {
                        var C = me_fromDom(R.target);
                        if (Cr(C) && function(R) {
                            return gn(R.dom.shadowRoot)
                        }(C) && R.composed && R.composedPath) {
                            var B = R.composedPath();
                            if (B)
                                return function(R) {
                                    return function(R, C) {
                                        return 0 < R.length ? In.some(R[0]) : In.none()
                                    }(R)
                                }(B)
                        }
                    }
                    return In.from(R.target)
                }(R).getOr(R.target))
                  , B = function() {
                    return R.stopPropagation()
                }
                  , G = function() {
                    return R.preventDefault()
                }
                  , ie = function(R, C) {
                    return function() {
                        for (var B = [], G = 0; G < arguments.length; G++)
                            B[G] = arguments[G];
                        return R(C.apply(null, B))
                    }
                }(G, B);
                return function(R, C, B, G, ie, Ae, lt) {
                    return {
                        target: R,
                        x: C,
                        y: B,
                        stop: G,
                        prevent: ie,
                        kill: Ae,
                        raw: lt
                    }
                }(C, R.clientX, R.clientY, B, G, ie, R)
            }
              , Oe = function(R, C, B, G) {
                R.dom.removeEventListener(C, B, G)
            }
              , Or = Fn
              , js = function(R, C, B) {
                return function(R, C, B, G) {
                    return function(R, C, B, G, ie) {
                        var Ae = function(R, C) {
                            return function(B) {
                                R(B) && C(er(B))
                            }
                        }(B, G);
                        return R.dom.addEventListener(C, Ae, ie),
                        {
                            unbind: Xe(Oe, R, C, Ae, ie)
                        }
                    }(R, C, B, G, !1)
                }(R, C, Or, B)
            }
              , yu = function(R, C) {
                return {
                    left: R,
                    top: C,
                    translate: function(G, ie) {
                        return yu(R + G, C + ie)
                    }
                }
            }
              , fs = yu
              , Li = function(R) {
                var C = void 0 === R ? window : R;
                return vi().browser.isFirefox() ? In.none() : In.from(C.visualViewport)
            }
              , Ta = function(R, C, B, G) {
                return {
                    x: R,
                    y: C,
                    width: B,
                    height: G,
                    right: R + B,
                    bottom: C + G
                }
            }
              , wu = function(R) {
                var C = void 0 === R ? window : R
                  , G = function(R) {
                    var C = void 0 !== R ? R.dom : document;
                    return fs(C.body.scrollLeft || C.documentElement.scrollLeft, C.body.scrollTop || C.documentElement.scrollTop)
                }(me_fromDom(C.document));
                return Li(C).fold(function() {
                    var ie = C.document.documentElement;
                    return Ta(G.left, G.top, ie.clientWidth, ie.clientHeight)
                }, function(ie) {
                    return Ta(Math.max(ie.pageLeft, G.left), Math.max(ie.pageTop, G.top), ie.width, ie.height)
                })
            }
              , gi = function(R, C, B) {
                return Li(B).map(function(G) {
                    var ie = function(Ae) {
                        return C(er(Ae))
                    };
                    return G.addEventListener(R, ie),
                    {
                        unbind: function() {
                            return G.removeEventListener(R, ie)
                        }
                    }
                }).getOrThunk(function() {
                    return {
                        unbind: oo
                    }
                })
            }
              , Ki = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
              , J = tinymce.util.Tools.resolve("tinymce.Env")
              , we = tinymce.util.Tools.resolve("tinymce.util.Delay")
              , Ne = function(R, C) {
                R.fire("FullscreenStateChanged", {
                    state: C
                }),
                R.fire("ResizeEditor")
            }
              , at = function(R) {
                return R.getParam("fullscreen_native", !1, "boolean")
            }
              , _a = function(R) {
                return R.dom === function(R) {
                    return void 0 !== R.fullscreenElement ? R.fullscreenElement : void 0 !== R.msFullscreenElement ? R.msFullscreenElement : void 0 !== R.webkitFullscreenElement ? R.webkitFullscreenElement : null
                }(Ee(R).dom)
            }
              , ks = function(R, C) {
                return function(R, C) {
                    return Ct(function(R) {
                        return function(R) {
                            return In.from(R.dom.parentNode).map(me_fromDom)
                        }(R).map(nr).map(function(B) {
                            return Ct(B, function(G) {
                                return !function(R, C) {
                                    return R.dom === C.dom
                                }(R, G)
                            })
                        }).getOr([])
                    }(R), C)
                }(R, function(B) {
                    return pu(B, C)
                })
            }
              , Pu = "data-ephox-mobile-fullscreen-style"
              , Dr = "position:absolute!important;"
              , Tc = "top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;"
              , vs = J.os.isAndroid()
              , Yi = function(R) {
                var C = function(R, C) {
                    var B = R.dom
                      , ie = window.getComputedStyle(B).getPropertyValue(C);
                    return "" !== ie || bu(R) ? ie : function(R, C) {
                        return nn(R) ? R.style.getPropertyValue(C) : ""
                    }(B, C)
                }(R, "background-color");
                return void 0 !== C && "" !== C ? "background-color:" + C + "!important" : "background-color:rgb(255,255,255)!important;"
            }
              , ka = function(R, C, B) {
                var ie = function(Xt) {
                    return function(un) {
                        var Bn = xt(un, "style")
                          , ur = void 0 === Bn ? "no-styles" : Bn.trim();
                        ur !== Xt && (function(R, C, B) {
                            !function(R, C, B) {
                                if (!(vr(B) || fn(B) || lr(B)))
                                    throw console.error("Invalid call to Attribute.set. Key ", C, ":: Value ", B, ":: Element ", R),
                                    new Error("Attribute value was not simple");
                                R.setAttribute(C, B + "")
                            }(R.dom, C, B)
                        }(un, Pu, ur),
                        Ci(un, R.parseStyle(Xt)))
                    }
                }
                  , Ae = function(R, C, B) {
                    return function(R, C, B) {
                        return Ct(function(R, C) {
                            for (var B = _t(C) ? C : Mr, G = R.dom, ie = []; null != G.parentNode; ) {
                                var Ae = G.parentNode
                                  , lt = me_fromDom(Ae);
                                if (ie.push(lt),
                                !0 === B(lt))
                                    break;
                                G = Ae
                            }
                            return ie
                        }(R, B), C)
                    }(R, function(G) {
                        return pu(G, "*")
                    }, void 0)
                }(C)
                  , lt = function(R, C) {
                    return function(R) {
                        for (var C = [], B = 0, G = R.length; B < G; ++B) {
                            if (!wn(R[B]))
                                throw new Error("Arr.flatten item " + B + " was not an array, input: " + R);
                            ca.apply(C, R[B])
                        }
                        return C
                    }(ae(R, C))
                }(Ae, function(Xt) {
                    return ks(Xt, "*:not(.tox-silver-sink)")
                })
                  , Sn = Yi(B);
                on(lt, ie("display:none!important;")),
                on(Ae, ie(Dr + Tc + Sn)),
                ie((!0 === vs ? "" : Dr) + Tc + Sn)(C)
            }
              , Eo = Ki.DOM
              , ds = Li().fold(function() {
                return {
                    bind: oo,
                    unbind: oo
                }
            }, function(R) {
                var C = function() {
                    var R = $o(oo);
                    return Kn(Kn({}, R), {
                        on: function(B) {
                            return R.get().each(B)
                        }
                    })
                }()
                  , B = st()
                  , G = st()
                  , lt = we.throttle(function() {
                    document.body.scrollTop = 0,
                    document.documentElement.scrollTop = 0,
                    window.requestAnimationFrame(function() {
                        C.on(function(Xt) {
                            return Ci(Xt, {
                                top: R.offsetTop + "px",
                                left: R.offsetLeft + "px",
                                height: R.height + "px",
                                width: R.width + "px"
                            })
                        })
                    })
                }, 50);
                return {
                    bind: function(Xt) {
                        C.set(Xt),
                        lt(),
                        B.set(gi("resize", lt)),
                        G.set(gi("scroll", lt))
                    },
                    unbind: function() {
                        C.on(function() {
                            B.clear(),
                            G.clear()
                        }),
                        C.clear()
                    }
                }
            })
              , Ti = function(R, C) {
                var B = document.body
                  , G = document.documentElement
                  , ie = R.getContainer()
                  , Ae = me_fromDom(ie)
                  , lt = function(R) {
                    var C = me_fromDom(R.getElement());
                    return Fa(C).map(Io).getOrThunk(function() {
                        return function(R) {
                            var C = R.dom.body;
                            if (null == C)
                                throw new Error("Body is not available yet");
                            return me_fromDom(C)
                        }(Ee(C))
                    })
                }(R)
                  , Sn = C.get()
                  , or = me_fromDom(R.getBody())
                  , Xt = J.deviceType.isTouch()
                  , un = ie.style
                  , ur = R.iframeElement.style
                  , So = function(Ia) {
                    Ia(B, "tox-fullscreen"),
                    Ia(G, "tox-fullscreen"),
                    Ia(ie, "tox-fullscreen"),
                    Fa(Ae).map(function(no) {
                        return Io(no).dom
                    }).each(function(no) {
                        Ia(no, "tox-fullscreen"),
                        Ia(no, "tox-shadowhost")
                    })
                }
                  , to = function() {
                    Xt && function(R) {
                        var C = function(R) {
                            return function(R, C) {
                                var B = document;
                                return function(R) {
                                    return 1 !== R.nodeType && 9 !== R.nodeType && 11 !== R.nodeType || 0 === R.childElementCount
                                }(B) ? [] : ae(B.querySelectorAll(R), me_fromDom)
                            }(R)
                        }("[" + Pu + "]");
                        on(C, function(B) {
                            var G = xt(B, Pu);
                            "no-styles" !== G ? Ci(B, R.parseStyle(G)) : yo(B, "style"),
                            yo(B, Pu)
                        })
                    }(R.dom),
                    So(Eo.removeClass),
                    ds.unbind(),
                    In.from(C.get()).each(function(Ia) {
                        return Ia.fullscreenChangeHandler.unbind()
                    })
                };
                if (Sn)
                    Sn.fullscreenChangeHandler.unbind(),
                    at(R) && _a(lt) && function(R) {
                        var C = R.dom;
                        C.exitFullscreen ? C.exitFullscreen() : C.msExitFullscreen ? C.msExitFullscreen() : C.webkitCancelFullScreen && C.webkitCancelFullScreen()
                    }(Ee(lt)),
                    ur.width = Sn.iframeWidth,
                    ur.height = Sn.iframeHeight,
                    un.width = Sn.containerWidth,
                    un.height = Sn.containerHeight,
                    un.top = Sn.containerTop,
                    un.left = Sn.containerLeft,
                    to(),
                    function(R) {
                        window.scrollTo(R.x, R.y)
                    }(Sn.scrollPos),
                    C.set(null),
                    Ne(R, !1),
                    R.off("remove", to);
                else {
                    var dr = js(Ee(lt), void 0 !== document.fullscreenElement ? "fullscreenchange" : void 0 !== document.msFullscreenElement ? "MSFullscreenChange" : void 0 !== document.webkitFullscreenElement ? "webkitfullscreenchange" : "fullscreenchange", function(Ia) {
                        at(R) && !_a(lt) && null !== C.get() && Ti(R, C)
                    })
                      , oi = {
                        scrollPos: wu(window),
                        containerWidth: un.width,
                        containerHeight: un.height,
                        containerTop: un.top,
                        containerLeft: un.left,
                        iframeWidth: ur.width,
                        iframeHeight: ur.height,
                        fullscreenChangeHandler: dr
                    };
                    Xt && ka(R.dom, Ae, or),
                    ur.width = ur.height = "100%",
                    un.width = un.height = "",
                    So(Eo.addClass),
                    ds.bind(Ae),
                    R.on("remove", to),
                    C.set(oi),
                    at(R) && function(R) {
                        var C = R.dom;
                        C.requestFullscreen ? C.requestFullscreen() : C.msRequestFullscreen ? C.msRequestFullscreen() : C.webkitRequestFullScreen && C.webkitRequestFullScreen()
                    }(lt),
                    Ne(R, !0)
                }
            }
              , ms = function(R, C) {
                return function(B) {
                    B.setActive(null !== C.get());
                    var G = function(ie) {
                        return B.setActive(ie.state)
                    };
                    return R.on("FullscreenStateChanged", G),
                    function() {
                        return R.off("FullscreenStateChanged", G)
                    }
                }
            };
            xr.add("fullscreen", function(R) {
                var C = zo(null);
                return R.inline || (function(R, C) {
                    R.addCommand("mceFullScreen", function() {
                        Ti(R, C)
                    })
                }(R, C),
                function(R, C) {
                    var B = function() {
                        return R.execCommand("mceFullScreen")
                    };
                    R.ui.registry.addToggleMenuItem("fullscreen", {
                        text: "Fullscreen",
                        icon: "fullscreen",
                        shortcut: "Meta+Shift+F",
                        onAction: B,
                        onSetup: ms(R, C)
                    }),
                    R.ui.registry.addToggleButton("fullscreen", {
                        tooltip: "Fullscreen",
                        icon: "fullscreen",
                        onAction: B,
                        onSetup: ms(R, C)
                    })
                }(R, C),
                R.addShortcut("Meta+Shift+F", "", "mceFullScreen")),
                function(R) {
                    return {
                        isFullscreen: function() {
                            return null !== R.get()
                        }
                    }
                }(C)
            })
        }()
    }
    ,
    67318: ()=>{
        !function() {
            "use strict";
            tinymce.util.Tools.resolve("tinymce.PluginManager").add("hr", function(Nn) {
                (function(Nn) {
                    Nn.addCommand("InsertHorizontalRule", function() {
                        Nn.execCommand("mceInsertContent", !1, "<hr />")
                    })
                }
                )(Nn),
                function(Nn) {
                    var Lr = function() {
                        return Nn.execCommand("InsertHorizontalRule")
                    };
                    Nn.ui.registry.addButton("hr", {
                        icon: "horizontal-rule",
                        tooltip: "Horizontal line",
                        onAction: Lr
                    }),
                    Nn.ui.registry.addMenuItem("hr", {
                        icon: "horizontal-rule",
                        text: "Horizontal line",
                        onAction: Lr
                    })
                }(Nn)
            })
        }()
    }
    ,
    85507: ()=>{
        !function() {
            "use strict";
            var zo = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , xr = function() {
                return xr = Object.assign || function(R) {
                    for (var C, B = 1, G = arguments.length; B < G; B++)
                        for (var ie in C = arguments[B])
                            Object.prototype.hasOwnProperty.call(C, ie) && (R[ie] = C[ie]);
                    return R
                }
                ,
                xr.apply(this, arguments)
            }
              , br = function(L) {
                return function(R) {
                    return function(L) {
                        var R = typeof L;
                        return null === L ? "null" : "object" === R && (Array.prototype.isPrototypeOf(L) || L.constructor && "Array" === L.constructor.name) ? "array" : "object" === R && (String.prototype.isPrototypeOf(L) || L.constructor && "String" === L.constructor.name) ? "string" : R
                    }(R) === L
                }
            }
              , Nn = function(L) {
                return function(R) {
                    return typeof R === L
                }
            }
              , vr = br("string")
              , wn = br("object")
              , fn = br("array")
              , Hr = (null,
            function(R) {
                return null === R
            }
            )
              , gn = Nn("boolean")
              , lr = function(L) {
                return !function(L) {
                    return null == L
                }(L)
            }
              , oo = Nn("function")
              , xe = Nn("number")
              , hn = function() {}
              , Cn = function(L) {
                return function() {
                    return L
                }
            }
              , Pt = function(L) {
                return L
            }
              , Xe = Cn(!1)
              , Mr = Cn(!0)
              , Fn = function() {
                return an
            }
              , an = function() {
                var L = function(B) {
                    return B()
                }
                  , R = Pt;
                return {
                    fold: function(B, G) {
                        return B()
                    },
                    isSome: Xe,
                    isNone: Mr,
                    getOr: R,
                    getOrThunk: L,
                    getOrDie: function(B) {
                        throw new Error(B || "error: getOrDie called on none.")
                    },
                    getOrNull: Cn(null),
                    getOrUndefined: Cn(void 0),
                    or: R,
                    orThunk: L,
                    map: Fn,
                    each: hn,
                    bind: Fn,
                    exists: Xe,
                    forall: Mr,
                    filter: function() {
                        return Fn()
                    },
                    toArray: function() {
                        return []
                    },
                    toString: Cn("none()")
                }
            }()
              , Se = function(L) {
                var R = Cn(L)
                  , C = function() {
                    return G
                }
                  , B = function(ie) {
                    return ie(L)
                }
                  , G = {
                    fold: function(ie, Ae) {
                        return Ae(L)
                    },
                    isSome: Mr,
                    isNone: Xe,
                    getOr: R,
                    getOrThunk: R,
                    getOrDie: R,
                    getOrNull: R,
                    getOrUndefined: R,
                    or: C,
                    orThunk: C,
                    map: function(ie) {
                        return Se(ie(L))
                    },
                    each: function(ie) {
                        ie(L)
                    },
                    bind: B,
                    exists: B,
                    forall: B,
                    filter: function(ie) {
                        return ie(L) ? G : an
                    },
                    toArray: function() {
                        return [L]
                    },
                    toString: function() {
                        return "some(" + L + ")"
                    }
                };
                return G
            }
              , En = {
                some: Se,
                none: Fn,
                from: function(L) {
                    return null == L ? an : Se(L)
                }
            }
              , In = Object.keys
              , Kn = Object.hasOwnProperty
              , ae = function(L, R) {
                return Kn.call(L, R)
            }
              , Ct = Array.prototype.push
              , Ot = function(L) {
                for (var R = [], C = 0, B = L.length; C < B; ++C) {
                    if (!fn(L[C]))
                        throw new Error("Arr.flatten item " + C + " was not an array, input: " + L);
                    Ct.apply(R, L[C])
                }
                return R
            };
            "undefined" != typeof window || Function("return this;")();
            var pn = function(L, R, C) {
                !function(L, R, C) {
                    if (!(vr(C) || gn(C) || xe(C)))
                        throw console.error("Invalid call to Attribute.set. Key ", R, ":: Value ", C, ":: Element ", L),
                        new Error("Attribute value was not simple");
                    L.setAttribute(R, C + "")
                }(L.dom, R, C)
            }
              , nn = function(L) {
                if (null == L)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: L
                }
            }
              , kt_fromDom = nn
              , Mn = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
              , re = tinymce.util.Tools.resolve("tinymce.util.Promise")
              , Re = tinymce.util.Tools.resolve("tinymce.util.URI")
              , me = tinymce.util.Tools.resolve("tinymce.util.XHR")
              , Le = function(L) {
                return L.getParam("image_dimensions", !0, "boolean")
            }
              , pt = function(L, R) {
                return Math.max(parseInt(L, 10), parseInt(R, 10))
            }
              , Vt = function(L) {
                return L && (L = L.replace(/px$/, "")),
                L
            }
              , Yt = function(L) {
                return L.length > 0 && /^[0-9]+$/.test(L) && (L += "px"),
                L
            }
              , vn = function(L) {
                if (L.margin) {
                    var R = String(L.margin).split(" ");
                    switch (R.length) {
                    case 1:
                        L["margin-top"] = L["margin-top"] || R[0],
                        L["margin-right"] = L["margin-right"] || R[0],
                        L["margin-bottom"] = L["margin-bottom"] || R[0],
                        L["margin-left"] = L["margin-left"] || R[0];
                        break;
                    case 2:
                        L["margin-top"] = L["margin-top"] || R[0],
                        L["margin-right"] = L["margin-right"] || R[1],
                        L["margin-bottom"] = L["margin-bottom"] || R[0],
                        L["margin-left"] = L["margin-left"] || R[1];
                        break;
                    case 3:
                        L["margin-top"] = L["margin-top"] || R[0],
                        L["margin-right"] = L["margin-right"] || R[1],
                        L["margin-bottom"] = L["margin-bottom"] || R[2],
                        L["margin-left"] = L["margin-left"] || R[1];
                        break;
                    case 4:
                        L["margin-top"] = L["margin-top"] || R[0],
                        L["margin-right"] = L["margin-right"] || R[1],
                        L["margin-bottom"] = L["margin-bottom"] || R[2],
                        L["margin-left"] = L["margin-left"] || R[3]
                    }
                    delete L.margin
                }
                return L
            }
              , Jr = function(L) {
                return "IMG" === L.nodeName && (L.hasAttribute("data-mce-object") || L.hasAttribute("data-mce-placeholder"))
            }
              , Ar = function(L, R) {
                return Re.isDomSafe(R, "img", L.settings)
            }
              , ee = Mn.DOM
              , Do = function(L) {
                return L.style.marginLeft && L.style.marginRight && L.style.marginLeft === L.style.marginRight ? Vt(L.style.marginLeft) : ""
            }
              , Ma = function(L) {
                return L.style.marginTop && L.style.marginBottom && L.style.marginTop === L.style.marginBottom ? Vt(L.style.marginTop) : ""
            }
              , Ra = function(L) {
                return L.style.borderWidth ? Vt(L.style.borderWidth) : ""
            }
              , Go = function(L, R) {
                return L.hasAttribute(R) ? L.getAttribute(R) : ""
            }
              , xa = function(L, R) {
                return L.style[R] ? L.style[R] : ""
            }
              , Mo = function(L) {
                return null !== L.parentNode && "FIGURE" === L.parentNode.nodeName
            }
              , Qr = function(L, R, C) {
                "" === C ? L.removeAttribute(R) : L.setAttribute(R, C)
            }
              , qo = function(L, R) {
                var C = L.getAttribute("style")
                  , B = R(null !== C ? C : "");
                B.length > 0 ? (L.setAttribute("style", B),
                L.setAttribute("data-mce-style", B)) : L.removeAttribute("style")
            }
              , Ca = function(L, R) {
                return function(C, B, G) {
                    C.style[B] ? (C.style[B] = Yt(G),
                    qo(C, R)) : Qr(C, B, G)
                }
            }
              , fa = function(L, R) {
                return L.style[R] ? Vt(L.style[R]) : Go(L, R)
            }
              , bo = function(L, R) {
                var C = Yt(R);
                L.style.marginLeft = C,
                L.style.marginRight = C
            }
              , va = function(L, R) {
                var C = Yt(R);
                L.style.marginTop = C,
                L.style.marginBottom = C
            }
              , Ga = function(L, R) {
                var C = Yt(R);
                L.style.borderWidth = C
            }
              , qi = function(L, R) {
                L.style.borderStyle = R
            }
              , za = function(L) {
                return "FIGURE" === L.nodeName
            }
              , Vo = function(L) {
                return 0 === ee.getAttrib(L, "alt").length && "presentation" === ee.getAttrib(L, "role")
            }
              , cs = function(L) {
                return Vo(L) ? "" : Go(L, "alt")
            }
              , qa = function(L, R) {
                return {
                    src: Go(R, "src"),
                    alt: cs(R),
                    title: Go(R, "title"),
                    width: fa(R, "width"),
                    height: fa(R, "height"),
                    class: Go(R, "class"),
                    style: L(Go(R, "style")),
                    caption: Mo(R),
                    hspace: Do(R),
                    vspace: Ma(R),
                    border: Ra(R),
                    borderStyle: xa(R, "borderStyle"),
                    isDecorative: Vo(R)
                }
            }
              , vi = function(L, R, C, B, G) {
                C[B] !== R[B] && G(L, B, C[B])
            }
              , ju = function(L, R, C) {
                if (C) {
                    ee.setAttrib(L, "role", "presentation");
                    var B = kt_fromDom(L);
                    pn(B, "alt", "")
                } else
                    Hr(R) ? function(L, R) {
                        L.dom.removeAttribute("alt")
                    }(B = kt_fromDom(L)) : (B = kt_fromDom(L),
                    pn(B, "alt", R)),
                    "presentation" === ee.getAttrib(L, "role") && ee.setAttrib(L, "role", "")
            }
              , di = function(L, R) {
                return function(C, B, G) {
                    L(C, G),
                    qo(C, R)
                }
            }
              , au = function(L, R, C) {
                var B = qa(L, C);
                vi(C, B, R, "caption", function(G, ie, Ae) {
                    return function(L) {
                        Mo(L) ? function(L) {
                            var R = L.parentNode;
                            ee.insertAfter(L, R),
                            ee.remove(R)
                        }(L) : function(L) {
                            var R = ee.create("figure", {
                                class: "image"
                            });
                            ee.insertAfter(R, L),
                            R.appendChild(L),
                            R.appendChild(ee.create("figcaption", {
                                contentEditable: "true"
                            }, "Caption")),
                            R.contentEditable = "false"
                        }(L)
                    }(G)
                }),
                vi(C, B, R, "src", Qr),
                vi(C, B, R, "title", Qr),
                vi(C, B, R, "width", Ca(0, L)),
                vi(C, B, R, "height", Ca(0, L)),
                vi(C, B, R, "class", Qr),
                vi(C, B, R, "style", di(function(G, ie) {
                    return Qr(G, "style", ie)
                }, L)),
                vi(C, B, R, "hspace", di(bo, L)),
                vi(C, B, R, "vspace", di(va, L)),
                vi(C, B, R, "border", di(Ga, L)),
                vi(C, B, R, "borderStyle", di(qi, L)),
                function(L, R, C) {
                    (C.alt !== R.alt || C.isDecorative !== R.isDecorative) && ju(L, C.alt, C.isDecorative)
                }(C, B, R)
            }
              , le = function(L, R) {
                var C = L.dom.styles.parse(R)
                  , B = vn(C)
                  , G = L.dom.styles.parse(L.dom.styles.serialize(B));
                return L.dom.styles.serialize(G)
            }
              , Ee = function(L) {
                var R = L.selection.getNode()
                  , C = L.dom.getParent(R, "figure.image");
                return C ? L.dom.select("img", C)[0] : R && ("IMG" !== R.nodeName || Jr(R)) ? null : R
            }
              , ze = function(L, R) {
                var C = L.dom
                  , B = function(L, R) {
                    var C = {};
                    return function(L, R, C, B) {
                        (function(L, R) {
                            for (var C = In(L), B = 0, G = C.length; B < G; B++) {
                                var ie = C[B];
                                R(L[ie], ie)
                            }
                        }
                        )(L, function(ie, Ae) {
                            (R(ie, Ae) ? C : B)(ie, Ae)
                        })
                    }(L, R, function(L) {
                        return function(R, C) {
                            L[C] = R
                        }
                    }(C), hn),
                    C
                }(L.schema.getTextBlockElements(), function(ie, Ae) {
                    return !L.schema.isValidChild(Ae, "figure")
                })
                  , G = C.getParent(R.parentNode, function(ie) {
                    return function(L, R) {
                        return ae(L, R) && null != L[R]
                    }(B, ie.nodeName)
                }, L.getBody());
                return G ? C.split(G, R) : R
            }
              , ma = function(L, R) {
                var C = Ee(L);
                if (C) {
                    var B = qa(function(Ae) {
                        return le(L, Ae)
                    }, C)
                      , G = xr(xr({}, B), R)
                      , ie = function(L, R) {
                        var C = R.src;
                        return xr(xr({}, R), {
                            src: Ar(L, C) ? C : ""
                        })
                    }(L, G);
                    G.src ? function(L, R) {
                        var C = Ee(L);
                        au(function(G) {
                            return le(L, G)
                        }, R, C),
                        function(L, R) {
                            L.dom.setAttrib(R, "src", R.getAttribute("src"))
                        }(L, C),
                        za(C.parentNode) ? (ze(L, C.parentNode),
                        L.selection.select(C.parentNode)) : (L.selection.select(C),
                        function(L, R, C) {
                            var B = function() {
                                C.onload = C.onerror = null,
                                L.selection && (L.selection.select(C),
                                L.nodeChanged())
                            };
                            C.onload = function() {
                                !R.width && !R.height && Le(L) && L.dom.setAttribs(C, {
                                    width: String(C.clientWidth),
                                    height: String(C.clientHeight)
                                }),
                                B()
                            }
                            ,
                            C.onerror = B
                        }(L, R, C))
                    }(L, ie) : function(L, R) {
                        if (R) {
                            var C = L.dom.is(R.parentNode, "figure.image") ? R.parentNode : R;
                            L.dom.remove(C),
                            L.focus(),
                            L.nodeChanged(),
                            L.dom.isEmpty(L.getBody()) && (L.setContent(""),
                            L.selection.setCursorLocation())
                        }
                    }(L, C)
                } else
                    R.src && function(L, R) {
                        var C = function(L, R) {
                            var C = document.createElement("img");
                            if (au(L, xr(xr({}, R), {
                                caption: !1
                            }), C),
                            ju(C, R.alt, R.isDecorative),
                            R.caption) {
                                var B = ee.create("figure", {
                                    class: "image"
                                });
                                return B.appendChild(C),
                                B.appendChild(ee.create("figcaption", {
                                    contentEditable: "true"
                                }, "Caption")),
                                B.contentEditable = "false",
                                B
                            }
                            return C
                        }(function(ie) {
                            return le(L, ie)
                        }, R);
                        L.dom.setAttrib(C, "data-mce-id", "__mcenew"),
                        L.focus(),
                        L.selection.setContent(C.outerHTML);
                        var B = L.dom.select('*[data-mce-id="__mcenew"]')[0];
                        if (L.dom.setAttrib(B, "data-mce-id", null),
                        za(B)) {
                            var G = ze(L, B);
                            L.selection.select(G)
                        } else
                            L.selection.select(B)
                    }(L, xr(xr({}, {
                        src: "",
                        alt: "",
                        title: "",
                        width: "",
                        height: "",
                        class: "",
                        style: "",
                        caption: !1,
                        hspace: "",
                        vspace: "",
                        border: "",
                        borderStyle: "",
                        isDecorative: !1
                    }), R))
            }
              , Io = function(L) {
                return function() {
                    for (var R = [], C = 0; C < arguments.length; C++)
                        R[C] = arguments[C];
                    if (0 === R.length)
                        throw new Error("Can't merge zero objects");
                    for (var B = {}, G = 0; G < R.length; G++) {
                        var ie = R[G];
                        for (var Ae in ie)
                            ae(ie, Ae) && (B[Ae] = L(B[Ae], ie[Ae]))
                    }
                    return B
                }
            }(function(L, R) {
                return wn(L) && wn(R) ? Io(L, R) : R
            })
              , ri = tinymce.util.Tools.resolve("tinymce.util.ImageUploader")
              , bu = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , Gu = function(L) {
                return vr(L.value) ? L.value : ""
            }
              , Ka = function(L, R) {
                var C = [];
                return bu.each(L, function(B) {
                    var G = function(L) {
                        return vr(L.text) ? L.text : vr(L.title) ? L.title : ""
                    }(B);
                    if (void 0 !== B.menu) {
                        var ie = Ka(B.menu, R);
                        C.push({
                            text: G,
                            items: ie
                        })
                    } else {
                        var Ae = R(B);
                        C.push({
                            text: G,
                            value: Ae
                        })
                    }
                }),
                C
            }
              , xt = function(L) {
                return void 0 === L && (L = Gu),
                function(R) {
                    return R ? En.from(R).map(function(C) {
                        return Ka(C, L)
                    }) : En.none()
                }
            }
              , Ci = function(L, R) {
                return function(L, R) {
                    for (var C = 0; C < L.length; C++) {
                        var B = R(L[C]);
                        if (B.isSome())
                            return B
                    }
                    return En.none()
                }(L, function(C) {
                    return function(L) {
                        return ae(L, "items")
                    }(C) ? Ci(C.items, R) : C.value === R ? En.some(C) : En.none()
                })
            }
              , zr_sanitizer = xt
              , zr_findEntry = function(L, R) {
                return L.bind(function(C) {
                    return Ci(C, R)
                })
            }
              , Si = function(L) {
                var R = zr_sanitizer(function(dr) {
                    return L.convertURL(dr.value || dr.url, "src")
                })
                  , C = new re(function(dr) {
                    !function(L, R) {
                        var C = function(L) {
                            return L.getParam("image_list", !1)
                        }(L);
                        vr(C) ? me.send({
                            url: C,
                            success: function(B) {
                                R(JSON.parse(B))
                            }
                        }) : oo(C) ? C(R) : R(C)
                    }(L, function(oi) {
                        dr(R(oi).map(function(Ia) {
                            return Ot([[{
                                text: "None",
                                value: ""
                            }], Ia])
                        }))
                    })
                }
                )
                  , B = function(L) {
                    return xt(Gu)(L)
                }(function(L) {
                    return L.getParam("image_class_list")
                }(L))
                  , G = function(L) {
                    return L.getParam("image_advtab", !1, "boolean")
                }(L)
                  , ie = function(L) {
                    return L.getParam("image_uploadtab", !0, "boolean")
                }(L)
                  , Ae = function(L) {
                    return lr(L.getParam("images_upload_url"))
                }(L)
                  , lt = function(L) {
                    return lr(L.getParam("images_upload_handler"))
                }(L)
                  , Sn = function(L) {
                    var R = Ee(L);
                    return R ? qa(function(C) {
                        return le(L, C)
                    }, R) : {
                        src: "",
                        alt: "",
                        title: "",
                        width: "",
                        height: "",
                        class: "",
                        style: "",
                        caption: !1,
                        hspace: "",
                        vspace: "",
                        border: "",
                        borderStyle: "",
                        isDecorative: !1
                    }
                }(L)
                  , or = function(L) {
                    return L.getParam("image_description", !0, "boolean")
                }(L)
                  , Xt = function(L) {
                    return L.getParam("image_title", !1, "boolean")
                }(L)
                  , un = Le(L)
                  , Bn = function(L) {
                    return L.getParam("image_caption", !1, "boolean")
                }(L)
                  , ur = function(L) {
                    return L.getParam("a11y_advanced_options", !1, "boolean")
                }(L)
                  , So = function(L) {
                    return L.getParam("automatic_uploads", !0, "boolean")
                }(L)
                  , to = En.some(function(L) {
                    return L.getParam("image_prepend_url", "", "string")
                }(L)).filter(function(dr) {
                    return vr(dr) && dr.length > 0
                });
                return C.then(function(dr) {
                    return {
                        image: Sn,
                        imageList: dr,
                        classList: B,
                        hasAdvTab: G,
                        hasUploadTab: ie,
                        hasUploadUrl: Ae,
                        hasUploadHandler: lt,
                        hasDescription: or,
                        hasImageTitle: Xt,
                        hasDimensions: un,
                        hasImageCaption: Bn,
                        prependURL: to,
                        hasAccessibilityOptions: ur,
                        automaticUploads: So
                    }
                })
            }
              , ls = function(L) {
                var Xt, C = L.imageList.map(function(Xt) {
                    return {
                        name: "images",
                        type: "listbox",
                        label: "Image list",
                        items: Xt
                    }
                }), B = {
                    name: "alt",
                    type: "input",
                    label: "Alternative description",
                    disabled: L.hasAccessibilityOptions && L.image.isDecorative
                }, lt = L.classList.map(function(Xt) {
                    return {
                        name: "classes",
                        type: "listbox",
                        label: "Class",
                        items: Xt
                    }
                });
                return Ot([[{
                    name: "src",
                    type: "urlinput",
                    filetype: "image",
                    label: "Source"
                }], C.toArray(), L.hasAccessibilityOptions && L.hasDescription ? [{
                    type: "label",
                    label: "Accessibility",
                    items: [{
                        name: "isDecorative",
                        type: "checkbox",
                        label: "Image is decorative"
                    }]
                }] : [], L.hasDescription ? [B] : [], L.hasImageTitle ? [{
                    name: "title",
                    type: "input",
                    label: "Image title"
                }] : [], L.hasDimensions ? [{
                    name: "dimensions",
                    type: "sizeinput"
                }] : [], [xr(xr({}, (Xt = L.classList.isSome() && L.hasImageCaption,
                Xt ? {
                    type: "grid",
                    columns: 2
                } : {
                    type: "panel"
                })), {
                    items: Ot([lt.toArray(), L.hasImageCaption ? [{
                        type: "label",
                        label: "Caption",
                        items: [{
                            type: "checkbox",
                            name: "caption",
                            label: "Show caption"
                        }]
                    }] : []])
                })]])
            }
              , Oe_makeTab = function(L) {
                return {
                    title: "General",
                    name: "general",
                    items: ls(L)
                }
            }
              , Oe_makeItems = ls
              , fs = function(L) {
                return {
                    src: {
                        value: L.src,
                        meta: {}
                    },
                    images: L.src,
                    alt: L.alt,
                    title: L.title,
                    dimensions: {
                        width: L.width,
                        height: L.height
                    },
                    classes: L.class,
                    caption: L.caption,
                    style: L.style,
                    vspace: L.vspace,
                    border: L.border,
                    hspace: L.hspace,
                    borderstyle: L.borderStyle,
                    fileinput: [],
                    isDecorative: L.isDecorative
                }
            }
              , Ru = function(L, R) {
                return {
                    src: L.src.value,
                    alt: 0 === L.alt.length && R ? null : L.alt,
                    title: L.title,
                    width: L.dimensions.width,
                    height: L.dimensions.height,
                    class: L.classes,
                    style: L.style,
                    caption: L.caption,
                    hspace: L.hspace,
                    vspace: L.vspace,
                    border: L.border,
                    borderStyle: L.borderstyle,
                    isDecorative: L.isDecorative
                }
            }
              , we = function(L, R, C, B) {
                (function(L, R) {
                    var C = R.getData();
                    (function(L, R) {
                        return /^(?:[a-zA-Z]+:)?\/\//.test(R) ? En.none() : L.prependURL.bind(function(C) {
                            return R.substring(0, C.length) !== C ? En.some(C + R) : En.none()
                        })
                    }
                    )(L, C.src.value).each(function(B) {
                        R.setData({
                            src: {
                                value: B,
                                meta: C.src.meta
                            }
                        })
                    })
                }
                )(R, B),
                function(L, R) {
                    var C = R.getData()
                      , B = C.src.meta;
                    if (void 0 !== B) {
                        var G = Io({}, C);
                        (function(L, R, C) {
                            L.hasDescription && vr(C.alt) && (R.alt = C.alt),
                            L.hasAccessibilityOptions && (R.isDecorative = C.isDecorative || R.isDecorative || !1),
                            L.hasImageTitle && vr(C.title) && (R.title = C.title),
                            L.hasDimensions && (vr(C.width) && (R.dimensions.width = C.width),
                            vr(C.height) && (R.dimensions.height = C.height)),
                            vr(C.class) && zr_findEntry(L.classList, C.class).each(function(B) {
                                R.classes = B.value
                            }),
                            L.hasImageCaption && gn(C.caption) && (R.caption = C.caption),
                            L.hasAdvTab && (vr(C.style) && (R.style = C.style),
                            vr(C.vspace) && (R.vspace = C.vspace),
                            vr(C.border) && (R.border = C.border),
                            vr(C.hspace) && (R.hspace = C.hspace),
                            vr(C.borderstyle) && (R.borderstyle = C.borderstyle))
                        }
                        )(L, G, B),
                        R.setData(G)
                    }
                }(R, B),
                function(L, R, C, B) {
                    var G = B.getData()
                      , ie = G.src.value
                      , Ae = G.src.meta || {};
                    !Ae.width && !Ae.height && R.hasDimensions && (function(L) {
                        return L.length > 0
                    }(ie) ? L.imageSize(ie).then(function(lt) {
                        C.open && B.setData({
                            dimensions: lt
                        })
                    }).catch(function(lt) {
                        return console.error(lt)
                    }) : B.setData({
                        dimensions: {
                            width: "",
                            height: ""
                        }
                    }))
                }(L, R, C, B),
                function(L, R, C) {
                    var B = C.getData()
                      , G = zr_findEntry(L.imageList, B.src.value);
                    R.prevImage = G,
                    C.setData({
                        images: G.map(function(ie) {
                            return ie.value
                        }).getOr("")
                    })
                }(R, C, B)
            }
              , Xi = function(L, R, C, B) {
                var G = B.getData();
                B.block("Uploading image"),
                function(L) {
                    return function(L, R) {
                        return 0 < L.length ? En.some(L[0]) : En.none()
                    }(L)
                }(G.fileinput).fold(function() {
                    B.unblock()
                }, function(ie) {
                    var Ae = URL.createObjectURL(ie)
                      , lt = function() {
                        B.unblock(),
                        URL.revokeObjectURL(Ae)
                    }
                      , Sn = function(or) {
                        B.setData({
                            src: {
                                value: or,
                                meta: {}
                            }
                        }),
                        B.showTab("general"),
                        we(L, R, C, B)
                    };
                    (function(L) {
                        return new re(function(R, C) {
                            var B = new FileReader;
                            B.onload = function() {
                                R(B.result)
                            }
                            ,
                            B.onerror = function() {
                                C(B.error.message)
                            }
                            ,
                            B.readAsDataURL(L)
                        }
                        )
                    }
                    )(ie).then(function(or) {
                        var Xt = L.createBlobCache(ie, Ae, or);
                        R.automaticUploads ? L.uploadImage(Xt).then(function(un) {
                            Sn(un.url),
                            lt()
                        }).catch(function(un) {
                            lt(),
                            L.alertErr(un)
                        }) : (L.addToBlobCache(Xt),
                        Sn(Xt.blobUri()),
                        B.unblock())
                    })
                })
            }
              , Pa = function(L, R, C) {
                return function(B, G) {
                    "src" === G.name ? we(L, R, C, B) : "images" === G.name ? function(L, R, C, B) {
                        var G = B.getData()
                          , ie = zr_findEntry(R.imageList, G.images);
                        ie.each(function(Ae) {
                            var lt = "" === G.alt || C.prevImage.map(function(Sn) {
                                return Sn.text === G.alt
                            }).getOr(!1);
                            B.setData(lt ? "" === Ae.value ? {
                                src: Ae,
                                alt: C.prevAlt
                            } : {
                                src: Ae,
                                alt: Ae.text
                            } : {
                                src: Ae
                            })
                        }),
                        C.prevImage = ie,
                        we(L, R, C, B)
                    }(L, R, C, B) : "alt" === G.name ? C.prevAlt = B.getData().alt : "style" === G.name ? function(L, R) {
                        var C = R.getData()
                          , B = function(L, R, C) {
                            var B = vn(L(C.style))
                              , G = Io({}, C);
                            return G.vspace = function(L) {
                                return L["margin-top"] && L["margin-bottom"] && L["margin-top"] === L["margin-bottom"] ? Vt(String(L["margin-top"])) : ""
                            }(B),
                            G.hspace = function(L) {
                                return L["margin-right"] && L["margin-left"] && L["margin-right"] === L["margin-left"] ? Vt(String(L["margin-right"])) : ""
                            }(B),
                            G.border = function(L) {
                                return L["border-width"] ? Vt(String(L["border-width"])) : ""
                            }(B),
                            G.borderstyle = function(L) {
                                return L["border-style"] ? String(L["border-style"]) : ""
                            }(B),
                            G.style = function(L, R, C) {
                                return R(L(R(C)))
                            }(L, R, B),
                            G
                        }(L.parseStyle, L.serializeStyle, C);
                        R.setData(B)
                    }(L, B) : "vspace" === G.name || "hspace" === G.name || "border" === G.name || "borderstyle" === G.name ? function(L, R, C) {
                        var B = Io(fs(R.image), C.getData())
                          , G = function(L, R) {
                            var C = document.createElement("img");
                            return Qr(C, "style", R.style),
                            (Do(C) || "" !== R.hspace) && bo(C, R.hspace),
                            (Ma(C) || "" !== R.vspace) && va(C, R.vspace),
                            (Ra(C) || "" !== R.border) && Ga(C, R.border),
                            (function(L) {
                                return xa(L, "borderStyle")
                            }(C) || "" !== R.borderStyle) && qi(C, R.borderStyle),
                            L(C.getAttribute("style"))
                        }(L.normalizeCss, Ru(B, !1));
                        C.setData({
                            style: G
                        })
                    }(L, R, B) : "fileinput" === G.name ? Xi(L, R, C, B) : "isDecorative" === G.name && (B.getData().isDecorative ? B.disable("alt") : B.enable("alt"))
                }
            }
              , xu = function(L) {
                return function() {
                    L.open = !1
                }
            }
              , ks = function(L) {
                return L.hasAdvTab || L.hasUploadUrl || L.hasUploadHandler ? {
                    type: "tabpanel",
                    tabs: Ot([[Oe_makeTab(L)], L.hasAdvTab ? [{
                        title: "Advanced",
                        name: "advanced",
                        items: [{
                            type: "input",
                            label: "Style",
                            name: "style"
                        }, {
                            type: "grid",
                            columns: 2,
                            items: [{
                                type: "input",
                                label: "Vertical space",
                                name: "vspace",
                                inputMode: "numeric"
                            }, {
                                type: "input",
                                label: "Horizontal space",
                                name: "hspace",
                                inputMode: "numeric"
                            }, {
                                type: "input",
                                label: "Border width",
                                name: "border",
                                inputMode: "numeric"
                            }, {
                                type: "listbox",
                                name: "borderstyle",
                                label: "Border style",
                                items: [{
                                    text: "Select...",
                                    value: ""
                                }, {
                                    text: "Solid",
                                    value: "solid"
                                }, {
                                    text: "Dotted",
                                    value: "dotted"
                                }, {
                                    text: "Dashed",
                                    value: "dashed"
                                }, {
                                    text: "Double",
                                    value: "double"
                                }, {
                                    text: "Groove",
                                    value: "groove"
                                }, {
                                    text: "Ridge",
                                    value: "ridge"
                                }, {
                                    text: "Inset",
                                    value: "inset"
                                }, {
                                    text: "Outset",
                                    value: "outset"
                                }, {
                                    text: "None",
                                    value: "none"
                                }, {
                                    text: "Hidden",
                                    value: "hidden"
                                }]
                            }]
                        }]
                    }] : [], L.hasUploadTab && (L.hasUploadUrl || L.hasUploadHandler) ? [{
                        title: "Upload",
                        name: "upload",
                        items: [{
                            type: "dropzone",
                            name: "fileinput"
                        }]
                    }] : []])
                } : {
                    type: "panel",
                    items: Oe_makeItems(L)
                }
            }
              , Zc = function(L) {
                return function(R) {
                    return function(C) {
                        var B = Io(fs(R.image), C.getData());
                        L.execCommand("mceUpdateImage", !1, Ru(B, R.hasAccessibilityOptions)),
                        L.editorUpload.uploadImagesAuto(),
                        C.close()
                    }
                }
            }
              , Dr = function(L) {
                return function(R) {
                    return Ar(L, R) ? function(L) {
                        return new re(function(R) {
                            var C = document.createElement("img")
                              , B = function(ie) {
                                C.onload = C.onerror = null,
                                C.parentNode && C.parentNode.removeChild(C),
                                R(ie)
                            };
                            C.onload = function() {
                                var ie = pt(C.width, C.clientWidth)
                                  , Ae = pt(C.height, C.clientHeight);
                                B(re.resolve({
                                    width: ie,
                                    height: Ae
                                }))
                            }
                            ,
                            C.onerror = function() {
                                B(re.reject("Failed to get image dimensions for: " + L))
                            }
                            ;
                            var G = C.style;
                            G.visibility = "hidden",
                            G.position = "fixed",
                            G.bottom = G.left = "0px",
                            G.width = G.height = "auto",
                            document.body.appendChild(C),
                            C.src = L
                        }
                        )
                    }(L.documentBaseURI.toAbsolute(R)).then(function(C) {
                        return {
                            width: String(C.width),
                            height: String(C.height)
                        }
                    }) : re.resolve({
                        width: "",
                        height: ""
                    })
                }
            }
              , Tc = function(L) {
                return function(R, C, B) {
                    return L.editorUpload.blobCache.create({
                        blob: R,
                        blobUri: C,
                        name: R.name ? R.name.replace(/\.[^\.]+$/, "") : null,
                        filename: R.name,
                        base64: B.split(",")[1]
                    })
                }
            }
              , ac = function(L) {
                return function(R) {
                    L.editorUpload.blobCache.add(R)
                }
            }
              , vs = function(L) {
                return function(R) {
                    L.windowManager.alert(R)
                }
            }
              , Yi = function(L) {
                return function(R) {
                    return le(L, R)
                }
            }
              , ka = function(L) {
                return function(R) {
                    return L.dom.parseStyle(R)
                }
            }
              , _c = function(L) {
                return function(R, C) {
                    return L.dom.serializeStyle(R, C)
                }
            }
              , Eo = function(L) {
                return function(R) {
                    return ri(L).upload([R], !1).then(function(C) {
                        return 0 === C.length ? re.reject("Failed to upload image") : !1 === C[0].status ? re.reject(C[0].error.message) : C[0]
                    })
                }
            }
              , Ya = function(L) {
                var R = {
                    onSubmit: Zc(L),
                    imageSize: Dr(L),
                    addToBlobCache: ac(L),
                    createBlobCache: Tc(L),
                    alertErr: vs(L),
                    normalizeCss: Yi(L),
                    parseStyle: ka(L),
                    serializeStyle: _c(L),
                    uploadImage: Eo(L)
                };
                return {
                    open: function() {
                        Si(L).then(function(L) {
                            return function(R) {
                                var C = function(L) {
                                    return {
                                        prevImage: zr_findEntry(L.imageList, L.image.src),
                                        prevAlt: L.image.alt,
                                        open: !0
                                    }
                                }(R);
                                return {
                                    title: "Insert/Edit Image",
                                    size: "normal",
                                    body: ks(R),
                                    buttons: [{
                                        type: "cancel",
                                        name: "cancel",
                                        text: "Cancel"
                                    }, {
                                        type: "submit",
                                        name: "save",
                                        text: "Save",
                                        primary: !0
                                    }],
                                    initialData: fs(R.image),
                                    onSubmit: L.onSubmit(R),
                                    onChange: Pa(L, R, C),
                                    onClose: xu(C)
                                }
                            }
                        }(R)).then(L.windowManager.open)
                    }
                }
            }
              , ds = function(L) {
                var R = L.attr("class");
                return R && /\bimage\b/.test(R)
            }
              , Ti = function(L) {
                return function(R) {
                    for (var C = R.length, B = function(ie) {
                        ie.attr("contenteditable", L ? "true" : null)
                    }; C--; ) {
                        var G = R[C];
                        ds(G) && (G.attr("contenteditable", L ? "false" : null),
                        bu.each(G.getAll("figcaption"), B))
                    }
                }
            };
            zo.add("image", function(L) {
                (function(L) {
                    L.on("PreInit", function() {
                        L.parser.addNodeFilter("figure", Ti(!0)),
                        L.serializer.addNodeFilter("figure", Ti(!1))
                    })
                }
                )(L),
                function(L) {
                    L.ui.registry.addToggleButton("image", {
                        icon: "image",
                        tooltip: "Insert/edit image",
                        onAction: Ya(L).open,
                        onSetup: function(R) {
                            return R.setActive(lr(Ee(L))),
                            L.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image", R.setActive).unbind
                        }
                    }),
                    L.ui.registry.addMenuItem("image", {
                        icon: "image",
                        text: "Image...",
                        onAction: Ya(L).open
                    }),
                    L.ui.registry.addContextMenu("image", {
                        update: function(R) {
                            return za(R) || function(L) {
                                return "IMG" === L.nodeName
                            }(R) && !Jr(R) ? ["image"] : []
                        }
                    })
                }(L),
                function(L) {
                    L.addCommand("mceImage", Ya(L).open),
                    L.addCommand("mceUpdateImage", function(R, C) {
                        L.undoManager.transact(function() {
                            return ma(L, C)
                        })
                    })
                }(L)
            })
        }()
    }
    ,
    33304: ()=>{
        !function() {
            "use strict";
            var zo = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , xr = tinymce.util.Tools.resolve("tinymce.util.VK")
              , br = function(J) {
                return function(we) {
                    return function(J) {
                        var we = typeof J;
                        return null === J ? "null" : "object" === we && (Array.prototype.isPrototypeOf(J) || J.constructor && "Array" === J.constructor.name) ? "array" : "object" === we && (String.prototype.isPrototypeOf(J) || J.constructor && "String" === J.constructor.name) ? "string" : we
                    }(we) === J
                }
            }
              , Nn = function(J) {
                return function(we) {
                    return typeof we === J
                }
            }
              , vr = br("string")
              , wn = br("array")
              , fn = (null,
            function(we) {
                return null === we
            }
            )
              , Hr = Nn("boolean")
              , gn = Nn("function")
              , _t = function() {}
              , lr = function(J) {
                return function() {
                    return J
                }
            }
              , oo = function(J) {
                return J
            }
              , xe = function(J, we) {
                return J === we
            }
              , hn = lr(!1)
              , Cn = lr(!0)
              , Pt = function() {
                return Xe
            }
              , Xe = function() {
                var J = function(at) {
                    return at()
                }
                  , we = oo;
                return {
                    fold: function(at, Nt) {
                        return at()
                    },
                    isSome: hn,
                    isNone: Cn,
                    getOr: we,
                    getOrThunk: J,
                    getOrDie: function(at) {
                        throw new Error(at || "error: getOrDie called on none.")
                    },
                    getOrNull: lr(null),
                    getOrUndefined: lr(void 0),
                    or: we,
                    orThunk: J,
                    map: Pt,
                    each: _t,
                    bind: Pt,
                    exists: hn,
                    forall: Cn,
                    filter: function() {
                        return Pt()
                    },
                    toArray: function() {
                        return []
                    },
                    toString: lr("none()")
                }
            }()
              , Mr = function(J) {
                var we = lr(J)
                  , Ne = function() {
                    return Nt
                }
                  , at = function(qn) {
                    return qn(J)
                }
                  , Nt = {
                    fold: function(qn, eo) {
                        return eo(J)
                    },
                    isSome: Cn,
                    isNone: hn,
                    getOr: we,
                    getOrThunk: we,
                    getOrDie: we,
                    getOrNull: we,
                    getOrUndefined: we,
                    or: Ne,
                    orThunk: Ne,
                    map: function(qn) {
                        return Mr(qn(J))
                    },
                    each: function(qn) {
                        qn(J)
                    },
                    bind: at,
                    exists: at,
                    forall: at,
                    filter: function(qn) {
                        return qn(J) ? Nt : Xe
                    },
                    toArray: function() {
                        return [J]
                    },
                    toString: function() {
                        return "some(" + J + ")"
                    }
                };
                return Nt
            }
              , an = {
                some: Mr,
                none: Pt,
                from: function(J) {
                    return null == J ? Xe : Mr(J)
                }
            }
              , Se = Array.prototype.indexOf
              , _n = Array.prototype.push
              , ge = function(J) {
                for (var we = [], Ne = 0, at = J.length; Ne < at; ++Ne) {
                    if (!wn(J[Ne]))
                        throw new Error("Arr.flatten item " + Ne + " was not an array, input: " + J);
                    _n.apply(we, J[Ne])
                }
                return we
            }
              , ae = function(J, we) {
                for (var Ne = 0; Ne < J.length; Ne++) {
                    var at = we(J[Ne], Ne);
                    if (at.isSome())
                        return at
                }
                return an.none()
            }
              , on = function(J, we, Ne) {
                return void 0 === Ne && (Ne = xe),
                J.exists(function(at) {
                    return Ne(at, we)
                })
            }
              , Ct = function(J) {
                for (var we = [], Ne = function(Nt) {
                    we.push(Nt)
                }, at = 0; at < J.length; at++)
                    J[at].each(Ne);
                return we
            }
              , Ot = function(J, we) {
                return J ? an.some(we) : an.none()
            }
              , wt = function(J) {
                var we = J.getParam("link_assume_external_targets", !1);
                return Hr(we) && we ? 1 : !vr(we) || "http" !== we && "https" !== we ? 0 : we
            }
              , D = function(J) {
                return J.getParam("default_link_target")
            }
              , pn = function(J) {
                return J.getParam("target_list", !0)
            }
              , bn = function(J) {
                return J.getParam("rel_list", [], "array")
            }
              , kr = function(J) {
                return J.getParam("link_title", !0, "boolean")
            }
              , jn = function(J) {
                return J.getParam("allow_unsafe_link_target", !1, "boolean")
            }
              , ir = function(J) {
                return J.getParam("link_default_protocol", "http", "string")
            }
              , kt = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , Mn = function(J) {
                return vr(J.value) ? J.value : ""
            }
              , Re = function(J, we) {
                var Ne = [];
                return kt.each(J, function(at) {
                    var Nt = function(J) {
                        return vr(J.text) ? J.text : vr(J.title) ? J.title : ""
                    }(at);
                    if (void 0 !== at.menu) {
                        var qn = Re(at.menu, we);
                        Ne.push({
                            text: Nt,
                            items: qn
                        })
                    } else {
                        var eo = we(at);
                        Ne.push({
                            text: Nt,
                            value: eo
                        })
                    }
                }),
                Ne
            }
              , me = function(J) {
                return void 0 === J && (J = Mn),
                function(we) {
                    return an.from(we).map(function(Ne) {
                        return Re(Ne, J)
                    })
                }
            }
              , We_sanitize = function(J) {
                return me(Mn)(J)
            }
              , We_sanitizeWith = me
              , We_createUi = function(J, we) {
                return function(Ne) {
                    return {
                        name: J,
                        type: "listbox",
                        label: we,
                        items: Ne
                    }
                }
            }
              , We_getValue = Mn
              , Bt = function() {
                return Bt = Object.assign || function(we) {
                    for (var Ne, at = 1, Nt = arguments.length; at < Nt; at++)
                        for (var qn in Ne = arguments[at])
                            Object.prototype.hasOwnProperty.call(Ne, qn) && (we[qn] = Ne[qn]);
                    return we
                }
                ,
                Bt.apply(this, arguments)
            }
              , Gn = Object.keys
              , $n = Object.hasOwnProperty
              , Fo = function(J, we) {
                return $n.call(J, we)
            }
              , la = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker")
              , pt = tinymce.util.Tools.resolve("tinymce.util.URI")
              , Et = function(J) {
                return J && "a" === J.nodeName.toLowerCase()
            }
              , Vt = function(J) {
                return Et(J) && !!cr(J)
            }
              , Yt = function(J, we) {
                if (J.collapsed)
                    return [];
                var Ne = J.cloneContents()
                  , at = new la(Ne.firstChild,Ne)
                  , Nt = []
                  , qn = Ne.firstChild;
                do {
                    we(qn) && Nt.push(qn)
                } while (qn = at.next());
                return Nt
            }
              , vn = function(J) {
                return /^\w+:/i.test(J)
            }
              , cr = function(J) {
                return J.getAttribute("data-mce-href") || J.getAttribute("href")
            }
              , Sr = function(J, we) {
                var Ir, Ne = ["noopener"], at = J ? J.split(/\s+/) : [], eo = function(Ir) {
                    return Ir.filter(function(_a) {
                        return -1 === kt.inArray(Ne, _a)
                    })
                }, Co = we ? (Ir = eo(Ir = at)).length > 0 ? Ir.concat(Ne) : Ne : eo(at);
                return Co.length > 0 ? function(Ir) {
                    return kt.trim(Ir.sort().join(" "))
                }(Co) : ""
            }
              , Jr = function(J, we) {
                return we = we || J.selection.getNode(),
                Ra(we) ? J.dom.select("a[href]", we)[0] : J.dom.getParent(we, "a[href]")
            }
              , Ar = function(J, we) {
                return function(J) {
                    return J.replace(/\uFEFF/g, "")
                }(we ? we.innerText || we.textContent : J.getContent({
                    format: "text"
                }))
            }
              , ee = function(J) {
                return kt.grep(J, Vt).length > 0
            }
              , Ma = function(J) {
                var we = J.schema.getTextInlineElements();
                return 0 === Yt(J.selection.getRng(), function(Nt) {
                    return 1 === Nt.nodeType && !Et(Nt) && !Fo(we, Nt.nodeName.toLowerCase())
                }).length
            }
              , Ra = function(J) {
                return J && "FIGURE" === J.nodeName && /\bimage\b/i.test(J.className)
            }
              , yr = function(J, we, Ne) {
                var at = J.selection.getNode()
                  , Nt = Jr(J, at)
                  , qn = function(J, we) {
                    var Ne = Bt({}, we);
                    if (!(bn(J).length > 0) && !1 === jn(J)) {
                        var at = Sr(Ne.rel, "_blank" === Ne.target);
                        Ne.rel = at || null
                    }
                    return an.from(Ne.target).isNone() && !1 === pn(J) && (Ne.target = D(J)),
                    Ne.href = function(J, we) {
                        return "http" !== we && "https" !== we || vn(J) ? J : we + "://" + J
                    }(Ne.href, wt(J)),
                    Ne
                }(J, function(J) {
                    return function(J, we, Ne) {
                        return function(J, we) {
                            for (var Ne = 0, at = J.length; Ne < at; Ne++)
                                we(J[Ne], Ne)
                        }(["title", "rel", "class", "target"], function(at, Nt) {
                            Ne = we(Ne, at)
                        }),
                        Ne
                    }(0, function(Ne, at) {
                        return J[at].each(function(Nt) {
                            Ne[at] = Nt.length > 0 ? Nt : null
                        }),
                        Ne
                    }, {
                        href: J.href
                    })
                }(Ne));
                J.undoManager.transact(function() {
                    Ne.href === we.href && we.attach(),
                    Nt ? (J.focus(),
                    function(J, we, Ne, at) {
                        Ne.each(function(Nt) {
                            Fo(we, "innerText") ? we.innerText = Nt : we.textContent = Nt
                        }),
                        J.dom.setAttribs(we, at),
                        J.selection.select(we)
                    }(J, Nt, Ne.text, qn)) : function(J, we, Ne, at) {
                        Ra(we) ? qi(J, we, at) : Ne.fold(function() {
                            J.execCommand("mceInsertLink", !1, at)
                        }, function(Nt) {
                            J.insertContent(J.dom.createHTML("a", at, J.dom.encode(Nt)))
                        })
                    }(J, at, Ne.text, qn)
                })
            }
              , Ca = function(J) {
                var Ne = J.href
                  , at = J.rel
                  , Nt = J.target
                  , qn = J.text
                  , eo = J.title;
                return function(J, we) {
                    var Ne = {};
                    return function(J, we, Ne, at) {
                        (function(J, we) {
                            for (var Ne = Gn(J), at = 0, Nt = Ne.length; at < Nt; at++) {
                                var qn = Ne[at];
                                we(J[qn], qn)
                            }
                        }
                        )(J, function(qn, eo) {
                            (we(qn, eo) ? Ne : at)(qn, eo)
                        })
                    }(J, function(Co, Ir) {
                        return !1 === fn(Co)
                    }, function(J) {
                        return function(we, Ne) {
                            J[Ne] = we
                        }
                    }(Ne), _t),
                    Ne
                }({
                    class: J.class.getOrNull(),
                    href: Ne,
                    rel: at.getOrNull(),
                    target: Nt.getOrNull(),
                    text: qn.getOrNull(),
                    title: eo.getOrNull()
                })
            }
              , bo = function(J, we, Ne) {
                var at = function(J, we) {
                    var Ne = we.href;
                    return Bt(Bt({}, we), {
                        href: pt.isDomSafe(Ne, "a", J.settings) ? Ne : ""
                    })
                }(J, Ne);
                J.hasPlugin("rtc", !0) ? J.execCommand("createlink", !1, Ca(at)) : yr(J, we, at)
            }
              , va = function(J) {
                J.hasPlugin("rtc", !0) ? J.execCommand("unlink") : function(J) {
                    J.undoManager.transact(function() {
                        var we = J.selection.getNode();
                        Ra(we) ? Ga(J, we) : function(J) {
                            var we = J.dom
                              , Ne = J.selection
                              , at = Ne.getBookmark()
                              , Nt = Ne.getRng().cloneRange()
                              , qn = we.getParent(Nt.startContainer, "a[href]", J.getBody())
                              , eo = we.getParent(Nt.endContainer, "a[href]", J.getBody());
                            qn && Nt.setStartBefore(qn),
                            eo && Nt.setEndAfter(eo),
                            Ne.setRng(Nt),
                            J.execCommand("unlink"),
                            Ne.moveToBookmark(at)
                        }(J),
                        J.focus()
                    })
                }(J)
            }
              , Ga = function(J, we) {
                var Ne = J.dom.select("img", we)[0];
                if (Ne) {
                    var at = J.dom.getParents(Ne, "a[href]", we)[0];
                    at && (at.parentNode.insertBefore(Ne, at),
                    J.dom.remove(at))
                }
            }
              , qi = function(J, we, Ne) {
                var at = J.dom.select("img", we)[0];
                if (at) {
                    var Nt = J.dom.create("a", Ne);
                    at.parentNode.insertBefore(Nt, at),
                    Nt.appendChild(at)
                }
            }
              , za = function(J, we) {
                return ae(we, function(Ne) {
                    return function(J) {
                        return function(J, we) {
                            return Fo(J, "items") && null != J.items
                        }(J)
                    }(Ne) ? za(J, Ne.items) : Ot(Ne.value === J, Ne)
                })
            }
              , Ii_init = function(J, we) {
                var Ne = {
                    text: J.text,
                    title: J.title
                }
                  , eo = function(Ir, _a) {
                    var Xa = function(J, we) {
                        return "link" === we ? J.link : "anchor" === we ? J.anchor : an.none()
                    }(we, _a.name).getOr([]);
                    return function(J, we, Ne, at) {
                        var Nt = at[we]
                          , qn = J.length > 0;
                        return void 0 !== Nt ? za(Nt, Ne).map(function(eo) {
                            return {
                                url: {
                                    value: eo.value,
                                    meta: {
                                        text: qn ? J : eo.text,
                                        attach: _t
                                    }
                                },
                                text: qn ? J : eo.text
                            }
                        }) : an.none()
                    }(Ne.text, _a.name, Xa, Ir)
                };
                return {
                    onChange: function(Ir, _a) {
                        var Xa = _a.name;
                        return "url" === Xa ? function(Ir) {
                            var _a = function(Ir) {
                                return Ot(Ne.text.length <= 0, an.from(Ir.meta.text).getOr(Ir.value))
                            }(Ir.url)
                              , Xa = function(Ir) {
                                return Ot(Ne.title.length <= 0, an.from(Ir.meta.title).getOr(""))
                            }(Ir.url);
                            return _a.isSome() || Xa.isSome() ? an.some(Bt(Bt({}, _a.map(function(Xi) {
                                return {
                                    text: Xi
                                }
                            }).getOr({})), Xa.map(function(Xi) {
                                return {
                                    title: Xi
                                }
                            }).getOr({}))) : an.none()
                        }(Ir()) : function(J, we) {
                            return function(J, we) {
                                return Se.call(J, we)
                            }(J, we) > -1
                        }(["anchor", "link"], Xa) ? eo(Ir(), _a) : (("text" === Xa || "title" === Xa) && (Ne[Xa] = Ir()[Xa]),
                        an.none())
                    }
                }
            }
              , oa = tinymce.util.Tools.resolve("tinymce.util.Delay")
              , uo = tinymce.util.Tools.resolve("tinymce.util.Promise")
              , vi = function(J) {
                var we = J.href;
                return we.indexOf("@") > 0 && -1 === we.indexOf("/") && -1 === we.indexOf("mailto:") ? an.some({
                    message: "The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",
                    preprocess: function(at) {
                        return Bt(Bt({}, at), {
                            href: "mailto:" + we
                        })
                    }
                }) : an.none()
            }
              , ju = function(J, we) {
                return function(Ne) {
                    var at = Ne.href;
                    return 1 === J && !vn(at) || 0 === J && /^\s*www(\.|\d\.)/i.test(at) ? an.some({
                        message: "The URL you entered seems to be an external link. Do you want to add the required " + we + ":// prefix?",
                        preprocess: function(qn) {
                            return Bt(Bt({}, qn), {
                                href: we + "://" + at
                            })
                        }
                    }) : an.none()
                }
            }
              , le_getAnchors = function(J) {
                var Ne = function(J, we) {
                    return ge(function(J, we) {
                        for (var Ne = J.length, at = new Array(Ne), Nt = 0; Nt < Ne; Nt++)
                            at[Nt] = we(J[Nt], Nt);
                        return at
                    }(J, we))
                }(J.dom.select("a:not([href])"), function(at) {
                    var Nt = at.name || at.id;
                    return Nt ? [{
                        text: Nt,
                        value: "#" + Nt
                    }] : []
                });
                return Ne.length > 0 ? an.some([{
                    text: "None",
                    value: ""
                }].concat(Ne)) : an.none()
            }
              , ze_getClasses = function(J) {
                var we = function(J) {
                    return J.getParam("link_class_list", [], "array")
                }(J);
                return we.length > 0 ? We_sanitize(we) : an.none()
            }
              , $e = tinymce.util.Tools.resolve("tinymce.util.XHR")
              , Ur_getRels = function(J, we) {
                var Ne = bn(J);
                if (Ne.length > 0) {
                    var at = on(we, "_blank");
                    return (!1 === jn(J) ? We_sanitizeWith(function(Co) {
                        return Sr(We_getValue(Co), at)
                    }) : We_sanitize)(Ne)
                }
                return an.none()
            }
              , ma = [{
                text: "Current window",
                value: ""
            }, {
                text: "New window",
                value: "_blank"
            }]
              , Fa_getTargets = function(J) {
                var we = pn(J);
                return wn(we) ? We_sanitize(we).orThunk(function() {
                    return an.some(ma)
                }) : !1 === we ? an.none() : an.some(ma)
            }
              , Io = function(J, we, Ne) {
                var at = J.getAttrib(we, Ne);
                return null !== at && at.length > 0 ? an.some(at) : an.none()
            }
              , bu_collect = function(J, we) {
                return function(J) {
                    var we = function(at) {
                        return J.convertURL(at.value || at.url, "href")
                    }
                      , Ne = function(J) {
                        return J.getParam("link_list")
                    }(J);
                    return new uo(function(at) {
                        vr(Ne) ? $e.send({
                            url: Ne,
                            success: function(Nt) {
                                return at(function(J) {
                                    try {
                                        return an.some(JSON.parse(J))
                                    } catch (we) {
                                        return an.none()
                                    }
                                }(Nt))
                            },
                            error: function(Nt) {
                                return at(an.none())
                            }
                        }) : gn(Ne) ? Ne(function(Nt) {
                            return at(an.some(Nt))
                        }) : at(an.from(Ne))
                    }
                    ).then(function(at) {
                        return at.bind(We_sanitizeWith(we)).map(function(Nt) {
                            return Nt.length > 0 ? [{
                                text: "None",
                                value: ""
                            }].concat(Nt) : Nt
                        })
                    })
                }(J).then(function(Ne) {
                    var at = function(J, we) {
                        var Ne = J.dom
                          , Nt = Ma(J) ? an.some(Ar(J.selection, we)) : an.none()
                          , qn = we ? an.some(Ne.getAttrib(we, "href")) : an.none()
                          , eo = we ? an.from(Ne.getAttrib(we, "target")) : an.none()
                          , Co = Io(Ne, we, "rel")
                          , Ir = Io(Ne, we, "class");
                        return {
                            url: qn,
                            text: Nt,
                            title: Io(Ne, we, "title"),
                            target: eo,
                            rel: Co,
                            linkClass: Ir
                        }
                    }(J, we);
                    return {
                        anchor: at,
                        catalogs: {
                            targets: Fa_getTargets(J),
                            rels: Ur_getRels(J, at.target),
                            classes: ze_getClasses(J),
                            anchor: le_getAnchors(J),
                            link: Ne
                        },
                        optNode: an.from(we),
                        flags: {
                            titleEnabled: kr(J)
                        }
                    }
                })
            }
              , yo = function(J) {
                var we = function(J) {
                    var we = Jr(J);
                    return bu_collect(J, we)
                }(J);
                we.then(function(Ne) {
                    var at = function(J, we) {
                        return function(Ne) {
                            var at = Ne.getData();
                            if (!at.url.value)
                                return va(J),
                                void Ne.close();
                            var Nt = function(Co) {
                                return an.from(at[Co]).filter(function(Ir) {
                                    return !on(we.anchor[Co], Ir)
                                })
                            }
                              , qn = {
                                href: at.url.value,
                                text: Nt("text"),
                                target: Nt("target"),
                                rel: Nt("rel"),
                                class: Nt("linkClass"),
                                title: Nt("title")
                            }
                              , eo = {
                                href: at.url.value,
                                attach: void 0 !== at.url.meta && at.url.meta.attach ? at.url.meta.attach : _t
                            };
                            (function(J, we) {
                                return ae([vi, ju(wt(J), ir(J))], function(Ne) {
                                    return Ne(we)
                                }).fold(function() {
                                    return uo.resolve(we)
                                }, function(Ne) {
                                    return new uo(function(at) {
                                        !function(J, we, Ne) {
                                            var at = J.selection.getRng();
                                            oa.setEditorTimeout(J, function() {
                                                J.windowManager.confirm(we, function(Nt) {
                                                    J.selection.setRng(at),
                                                    Ne(Nt)
                                                })
                                            })
                                        }(J, Ne.message, function(Nt) {
                                            at(Nt ? Ne.preprocess(we) : we)
                                        })
                                    }
                                    )
                                })
                            }
                            )(J, qn).then(function(Co) {
                                bo(J, eo, Co)
                            }),
                            Ne.close()
                        }
                    }(J, Ne);
                    return function(J, we, Ne) {
                        var Nt = J.anchor.text.map(function() {
                            return {
                                name: "text",
                                type: "input",
                                label: "Text to display"
                            }
                        }).toArray()
                          , qn = J.flags.titleEnabled ? [{
                            name: "title",
                            type: "input",
                            label: "Title"
                        }] : []
                          , Co = function(J, we) {
                            var Ne = J.anchor
                              , at = Ne.url.getOr("");
                            return {
                                url: {
                                    value: at,
                                    meta: {
                                        original: {
                                            value: at
                                        }
                                    }
                                },
                                text: Ne.text.getOr(""),
                                title: Ne.title.getOr(""),
                                anchor: at,
                                link: at,
                                rel: Ne.rel.getOr(""),
                                target: Ne.target.or(we).getOr(""),
                                linkClass: Ne.linkClass.getOr("")
                            }
                        }(J, an.from(D(Ne)))
                          , Ir = J.catalogs
                          , _a = Ii_init(Co, Ir);
                        return {
                            title: "Insert/Edit Link",
                            size: "normal",
                            body: {
                                type: "panel",
                                items: ge([[{
                                    name: "url",
                                    type: "urlinput",
                                    filetype: "file",
                                    label: "URL"
                                }], Nt, qn, Ct([Ir.anchor.map(We_createUi("anchor", "Anchors")), Ir.rels.map(We_createUi("rel", "Rel")), Ir.targets.map(We_createUi("target", "Open link in...")), Ir.link.map(We_createUi("link", "Link list")), Ir.classes.map(We_createUi("linkClass", "Class"))])])
                            },
                            buttons: [{
                                type: "cancel",
                                name: "cancel",
                                text: "Cancel"
                            }, {
                                type: "submit",
                                name: "save",
                                text: "Save",
                                primary: !0
                            }],
                            initialData: Co,
                            onChange: function(Xi, Pa) {
                                _a.onChange(Xi.getData, {
                                    name: Pa.name
                                }).each(function(ks) {
                                    Xi.setData(ks)
                                })
                            },
                            onSubmit: we
                        }
                    }(Ne, at, J)
                }).then(function(Ne) {
                    J.windowManager.open(Ne)
                })
            }
              , _s = function(J, we) {
                return J.dom.getParent(we, "a[href]")
            }
              , zr = function(J) {
                return _s(J, J.selection.getStart())
            }
              , er = function(J, we) {
                if (we) {
                    var Ne = cr(we);
                    if (/^#/.test(Ne)) {
                        var at = J.$(Ne);
                        at.length && J.selection.scrollIntoView(at[0], !0)
                    } else
                        !function(J) {
                            var we = document.createElement("a");
                            we.target = "_blank",
                            we.href = J,
                            we.rel = "noreferrer noopener";
                            var Ne = document.createEvent("MouseEvents");
                            Ne.initMouseEvent("click", !0, !0, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null),
                            function(J, we) {
                                document.body.appendChild(J),
                                J.dispatchEvent(we),
                                document.body.removeChild(J)
                            }(we, Ne)
                        }(we.href)
                }
            }
              , Si = function(J) {
                return function() {
                    yo(J)
                }
            }
              , ls = function(J) {
                return function() {
                    er(J, zr(J))
                }
            }
              , Oe = function(J, we) {
                return J.on("NodeChange", we),
                function() {
                    return J.off("NodeChange", we)
                }
            }
              , Or = function(J) {
                return function(we) {
                    var Ne = function() {
                        return we.setActive(!J.mode.isReadOnly() && null !== Jr(J, J.selection.getNode()))
                    };
                    return Ne(),
                    Oe(J, Ne)
                }
            }
              , js = function(J) {
                return function(we) {
                    var Ne = function() {
                        return we.setDisabled(null === Jr(J, J.selection.getNode()))
                    };
                    return Ne(),
                    Oe(J, Ne)
                }
            }
              , yu = function(J) {
                return function(we) {
                    var Ne = function(Nt) {
                        return ee(Nt) || function(J) {
                            return Yt(J, Vt).length > 0
                        }(J.selection.getRng())
                    }
                      , at = J.dom.getParents(J.selection.getStart());
                    return we.setDisabled(!Ne(at)),
                    Oe(J, function(Nt) {
                        return we.setDisabled(!Ne(Nt.parents))
                    })
                }
            };
            zo.add("link", function(J) {
                (function(J) {
                    J.ui.registry.addToggleButton("link", {
                        icon: "link",
                        tooltip: "Insert/edit link",
                        onAction: Si(J),
                        onSetup: Or(J)
                    }),
                    J.ui.registry.addButton("openlink", {
                        icon: "new-tab",
                        tooltip: "Open link",
                        onAction: ls(J),
                        onSetup: js(J)
                    }),
                    J.ui.registry.addButton("unlink", {
                        icon: "unlink",
                        tooltip: "Remove link",
                        onAction: function() {
                            return va(J)
                        },
                        onSetup: yu(J)
                    })
                }
                )(J),
                function(J) {
                    J.ui.registry.addMenuItem("openlink", {
                        text: "Open link",
                        icon: "new-tab",
                        onAction: ls(J),
                        onSetup: js(J)
                    }),
                    J.ui.registry.addMenuItem("link", {
                        icon: "link",
                        text: "Link...",
                        shortcut: "Meta+K",
                        onAction: Si(J)
                    }),
                    J.ui.registry.addMenuItem("unlink", {
                        icon: "unlink",
                        text: "Remove link",
                        onAction: function() {
                            return va(J)
                        },
                        onSetup: yu(J)
                    })
                }(J),
                function(J) {
                    J.ui.registry.addContextMenu("link", {
                        update: function(at) {
                            return ee(J.dom.getParents(at, "a")) ? "link unlink openlink" : "link"
                        }
                    })
                }(J),
                function(J) {
                    var Ne = function(Nt) {
                        var qn = J.selection.getNode();
                        return Nt.setDisabled(!Jr(J, qn)),
                        _t
                    };
                    J.ui.registry.addContextForm("quicklink", {
                        launch: {
                            type: "contextformtogglebutton",
                            icon: "link",
                            tooltip: "Link",
                            onSetup: Or(J)
                        },
                        label: "Link",
                        predicate: function(Nt) {
                            return !!Jr(J, Nt) && function(J) {
                                return J.getParam("link_context_toolbar", !1, "boolean")
                            }(J)
                        },
                        initValue: function() {
                            var Nt = Jr(J);
                            return Nt ? cr(Nt) : ""
                        },
                        commands: [{
                            type: "contextformtogglebutton",
                            icon: "link",
                            tooltip: "Link",
                            primary: !0,
                            onSetup: function(Nt) {
                                var qn = J.selection.getNode();
                                return Nt.setActive(!!Jr(J, qn)),
                                Or(J)(Nt)
                            },
                            onAction: function(Nt) {
                                var qn = Nt.getValue()
                                  , eo = function(Nt) {
                                    var qn = Jr(J)
                                      , eo = Ma(J);
                                    if (!qn && eo) {
                                        var Co = Ar(J.selection, qn);
                                        return an.some(Co.length > 0 ? Co : Nt)
                                    }
                                    return an.none()
                                }(qn);
                                bo(J, {
                                    href: qn,
                                    attach: _t
                                }, {
                                    href: qn,
                                    text: eo,
                                    title: an.none(),
                                    rel: an.none(),
                                    target: an.none(),
                                    class: an.none()
                                }),
                                function(Nt) {
                                    Nt.selection.collapse(!1)
                                }(J),
                                Nt.hide()
                            }
                        }, {
                            type: "contextformbutton",
                            icon: "unlink",
                            tooltip: "Remove link",
                            onSetup: Ne,
                            onAction: function(Nt) {
                                va(J),
                                Nt.hide()
                            }
                        }, {
                            type: "contextformbutton",
                            icon: "new-tab",
                            tooltip: "Open link",
                            onSetup: Ne,
                            onAction: function(Nt) {
                                ls(J)(),
                                Nt.hide()
                            }
                        }]
                    })
                }(J),
                function(J) {
                    J.on("click", function(we) {
                        var Ne = _s(J, we.target);
                        Ne && xr.metaKeyPressed(we) && (we.preventDefault(),
                        er(J, Ne))
                    }),
                    J.on("keydown", function(we) {
                        var Ne = zr(J);
                        Ne && 13 === we.keyCode && function(J) {
                            return !0 === J.altKey && !1 === J.shiftKey && !1 === J.ctrlKey && !1 === J.metaKey
                        }(we) && (we.preventDefault(),
                        er(J, Ne))
                    })
                }(J),
                function(J) {
                    J.addCommand("mceLink", function() {
                        !function(J) {
                            return J.getParam("link_quicklink", !1, "boolean")
                        }(J) ? Si(J)() : J.fire("contexttoolbar-show", {
                            toolbarKey: "quicklink"
                        })
                    })
                }(J),
                function(J) {
                    J.addShortcut("Meta+K", "", function() {
                        J.execCommand("mceLink")
                    })
                }(J)
            })
        }()
    }
    ,
    98505: ()=>{
        !function() {
            "use strict";
            var M, U, zo = tinymce.util.Tools.resolve("tinymce.PluginManager"), cn = function(M) {
                return function(U) {
                    return function(M) {
                        var U = typeof M;
                        return null === M ? "null" : "object" === U && (Array.prototype.isPrototypeOf(M) || M.constructor && "Array" === M.constructor.name) ? "array" : "object" === U && (String.prototype.isPrototypeOf(M) || M.constructor && "String" === M.constructor.name) ? "string" : U
                    }(U) === M
                }
            }, br = function(M) {
                return function(U) {
                    return typeof U === M
                }
            }, Nn = cn("string"), Lr = cn("object"), vr = cn("array"), wn = br("boolean"), fn = br("function"), Hr = br("number"), gn = function() {}, _t = function(M) {
                return function() {
                    return M
                }
            }, oo = function(M, U) {
                return M === U
            }, xe = function(M) {
                return function(U) {
                    return !M(U)
                }
            }, hn = _t(!1), Cn = _t(!0), Pt = function() {
                return Xe
            }, Xe = {
                fold: function(fe, Pe) {
                    return fe()
                },
                isSome: hn,
                isNone: Cn,
                getOr: U = function(M) {
                    return M
                }
                ,
                getOrThunk: M = function(fe) {
                    return fe()
                }
                ,
                getOrDie: function(fe) {
                    throw new Error(fe || "error: getOrDie called on none.")
                },
                getOrNull: _t(null),
                getOrUndefined: _t(void 0),
                or: U,
                orThunk: M,
                map: Pt,
                each: gn,
                bind: Pt,
                exists: hn,
                forall: Cn,
                filter: function() {
                    return Pt()
                },
                toArray: function() {
                    return []
                },
                toString: _t("none()")
            }, Mr = function(M) {
                var U = _t(M)
                  , Y = function() {
                    return Pe
                }
                  , fe = function(Ft) {
                    return Ft(M)
                }
                  , Pe = {
                    fold: function(Ft, Rn) {
                        return Rn(M)
                    },
                    isSome: Cn,
                    isNone: hn,
                    getOr: U,
                    getOrThunk: U,
                    getOrDie: U,
                    getOrNull: U,
                    getOrUndefined: U,
                    or: Y,
                    orThunk: Y,
                    map: function(Ft) {
                        return Mr(Ft(M))
                    },
                    each: function(Ft) {
                        Ft(M)
                    },
                    bind: fe,
                    exists: fe,
                    forall: fe,
                    filter: function(Ft) {
                        return Ft(M) ? Pe : Xe
                    },
                    toArray: function() {
                        return [M]
                    },
                    toString: function() {
                        return "some(" + M + ")"
                    }
                };
                return Pe
            }, an = {
                some: Mr,
                none: Pt,
                from: function(M) {
                    return null == M ? Xe : Mr(M)
                }
            }, Se = Array.prototype.slice, _n = Array.prototype.push, En = function(M, U) {
                for (var Y = M.length, fe = new Array(Y), Pe = 0; Pe < Y; Pe++)
                    fe[Pe] = U(M[Pe], Pe);
                return fe
            }, In = function(M, U) {
                for (var Y = 0, fe = M.length; Y < fe; Y++)
                    U(M[Y], Y)
            }, Kn = function(M, U) {
                for (var Y = [], fe = 0, Pe = M.length; fe < Pe; fe++) {
                    var Ft = M[fe];
                    U(Ft, fe) && Y.push(Ft)
                }
                return Y
            }, st = function(M, U, Y) {
                return In(M, function(fe, Pe) {
                    Y = U(Y, fe, Pe)
                }),
                Y
            }, ge = function(M, U, Y) {
                for (var fe = 0, Pe = M.length; fe < Pe; fe++) {
                    var Ft = M[fe];
                    if (U(Ft, fe))
                        return an.some(Ft);
                    if (Y(Ft, fe))
                        break
                }
                return an.none()
            }, ca = function(M, U) {
                return ge(M, U, hn)
            }, on = function(M, U) {
                return function(M) {
                    for (var U = [], Y = 0, fe = M.length; Y < fe; ++Y) {
                        if (!vr(M[Y]))
                            throw new Error("Arr.flatten item " + Y + " was not an array, input: " + M);
                        _n.apply(U, M[Y])
                    }
                    return U
                }(En(M, U))
            }, Ct = function(M) {
                var U = Se.call(M, 0);
                return U.reverse(),
                U
            }, Ot = function(M, U) {
                return U >= 0 && U < M.length ? an.some(M[U]) : an.none()
            }, wt = function(M) {
                return Ot(M, 0)
            }, ct = function(M) {
                return Ot(M, M.length - 1)
            }, D = function() {
                return D = Object.assign || function(U) {
                    for (var Y, fe = 1, Pe = arguments.length; fe < Pe; fe++)
                        for (var Ft in Y = arguments[fe])
                            Object.prototype.hasOwnProperty.call(Y, Ft) && (U[Ft] = Y[Ft]);
                    return U
                }
                ,
                D.apply(this, arguments)
            }, ir = function() {
                return kt(0, 0)
            }, kt = function(M, U) {
                return {
                    major: M,
                    minor: U
                }
            }, Mn = {
                nu: kt,
                detect: function(M, U) {
                    var Y = String(U).toLowerCase();
                    return 0 === M.length ? ir() : function(M, U) {
                        var Y = function(M, U) {
                            for (var Y = 0; Y < M.length; Y++) {
                                var fe = M[Y];
                                if (fe.test(U))
                                    return fe
                            }
                        }(M, U);
                        if (!Y)
                            return {
                                major: 0,
                                minor: 0
                            };
                        var fe = function(Pe) {
                            return Number(U.replace(Y, "$" + Pe))
                        };
                        return kt(fe(1), fe(2))
                    }(M, Y)
                },
                unknown: ir
            }, Re = function(M, U) {
                var Y = String(U).toLowerCase();
                return ca(M, function(fe) {
                    return fe.search(Y)
                })
            }, je = function(M, U) {
                return -1 !== M.indexOf(U)
            }, Bt = function(M) {
                return function(U) {
                    return U.replace(M, "")
                }
            }(/^\s+|\s+$/g), Cr = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/, Gt = function(M) {
                return function(U) {
                    return je(U, M)
                }
            }, Un = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(M) {
                    return je(M, "edge/") && je(M, "chrome") && je(M, "safari") && je(M, "applewebkit")
                }
            }, {
                name: "Chrome",
                brand: "Chromium",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Cr],
                search: function(M) {
                    return je(M, "chrome") && !je(M, "chromeframe")
                }
            }, {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(M) {
                    return je(M, "msie") || je(M, "trident")
                }
            }, {
                name: "Opera",
                versionRegexes: [Cr, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: Gt("opera")
            }, {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: Gt("firefox")
            }, {
                name: "Safari",
                versionRegexes: [Cr, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(M) {
                    return (je(M, "safari") || je(M, "mobile/")) && je(M, "applewebkit")
                }
            }], xo = [{
                name: "Windows",
                search: Gt("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "iOS",
                search: function(M) {
                    return je(M, "iphone") || je(M, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            }, {
                name: "Android",
                search: Gt("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "OSX",
                search: Gt("mac os x"),
                versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
            }, {
                name: "Linux",
                search: Gt("linux"),
                versionRegexes: []
            }, {
                name: "Solaris",
                search: Gt("sunos"),
                versionRegexes: []
            }, {
                name: "FreeBSD",
                search: Gt("freebsd"),
                versionRegexes: []
            }, {
                name: "ChromeOS",
                search: Gt("cros"),
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
            }], Fo = {
                browsers: _t(Un),
                oses: _t(xo)
            }, Vt = "Firefox", cr = function(M) {
                var U = M.current
                  , fe = function(Pe) {
                    return function() {
                        return U === Pe
                    }
                };
                return {
                    current: U,
                    version: M.version,
                    isEdge: fe("Edge"),
                    isChrome: fe("Chrome"),
                    isIE: fe("IE"),
                    isOpera: fe("Opera"),
                    isFirefox: fe(Vt),
                    isSafari: fe("Safari")
                }
            }, Sr_unknown = function() {
                return cr({
                    current: void 0,
                    version: Mn.unknown()
                })
            }, Sr_nu = cr, An = (_t("Edge"),
            _t("Chrome"),
            _t("IE"),
            _t("Opera"),
            _t(Vt),
            _t("Safari"),
            "Windows"), Ar = "Android", Ma = "Solaris", Ra = "FreeBSD", Go = "ChromeOS", Mo = function(M) {
                var U = M.current
                  , fe = function(Pe) {
                    return function() {
                        return U === Pe
                    }
                };
                return {
                    current: U,
                    version: M.version,
                    isWindows: fe(An),
                    isiOS: fe("iOS"),
                    isAndroid: fe(Ar),
                    isOSX: fe("OSX"),
                    isLinux: fe("Linux"),
                    isSolaris: fe(Ma),
                    isFreeBSD: fe(Ra),
                    isChromeOS: fe(Go)
                }
            }, Qr_unknown = function() {
                return Mo({
                    current: void 0,
                    version: Mn.unknown()
                })
            }, Qr_nu = Mo, yr_detect = (_t(An),
            _t("iOS"),
            _t(Ar),
            _t("Linux"),
            _t("OSX"),
            _t(Ma),
            _t(Ra),
            _t(Go),
            function(M, U, Y) {
                var fe = Fo.browsers()
                  , Pe = Fo.oses()
                  , Ft = U.bind(function(Tn) {
                    return function(M, U) {
                        return function(M, U) {
                            for (var Y = 0; Y < M.length; Y++) {
                                var fe = U(M[Y]);
                                if (fe.isSome())
                                    return fe
                            }
                            return an.none()
                        }(U.brands, function(Y) {
                            var fe = Y.brand.toLowerCase();
                            return ca(M, function(Pe) {
                                var Ft;
                                return fe === (null === (Ft = Pe.brand) || void 0 === Ft ? void 0 : Ft.toLowerCase())
                            }).map(function(Pe) {
                                return {
                                    current: Pe.name,
                                    version: Mn.nu(parseInt(Y.version, 10), 0)
                                }
                            })
                        })
                    }(fe, Tn)
                }).orThunk(function() {
                    return function(M, U) {
                        return Re(M, U).map(function(Y) {
                            var fe = Mn.detect(Y.versionRegexes, U);
                            return {
                                current: Y.name,
                                version: fe
                            }
                        })
                    }(fe, M)
                }).fold(Sr_unknown, Sr_nu)
                  , Rn = function(M, U) {
                    return Re(M, U).map(function(Y) {
                        var fe = Mn.detect(Y.versionRegexes, U);
                        return {
                            current: Y.name,
                            version: fe
                        }
                    })
                }(Pe, M).fold(Qr_unknown, Qr_nu)
                  , Pr = function(M, U, Y, fe) {
                    var Pe = M.isiOS() && !0 === /ipad/i.test(Y)
                      , Ft = M.isiOS() && !Pe
                      , Rn = M.isiOS() || M.isAndroid()
                      , Pr = Rn || fe("(pointer:coarse)")
                      , Tn = Pe || !Ft && Rn && fe("(min-device-width:768px)")
                      , hr = Ft || Rn && !Tn
                      , fo = U.isSafari() && M.isiOS() && !1 === /safari/i.test(Y)
                      , $a = !hr && !Tn && !fo;
                    return {
                        isiPad: _t(Pe),
                        isiPhone: _t(Ft),
                        isTablet: _t(Tn),
                        isPhone: _t(hr),
                        isTouch: _t(Pr),
                        isAndroid: M.isAndroid,
                        isiOS: M.isiOS,
                        isWebView: _t(fo),
                        isDesktop: _t($a)
                    }
                }(Rn, Ft, M, Y);
                return {
                    browser: Ft,
                    os: Rn,
                    deviceType: Pr
                }
            }
            ), en = function(M) {
                return window.matchMedia(M).matches
            }, qo = function(M) {
                var Y, U = !1;
                return function() {
                    for (var fe = [], Pe = 0; Pe < arguments.length; Pe++)
                        fe[Pe] = arguments[Pe];
                    return U || (U = !0,
                    Y = M.apply(null, fe)),
                    Y
                }
            }(function() {
                return yr_detect(navigator.userAgent, an.from(navigator.userAgentData), en)
            }), za = function(M) {
                if (null == M)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: M
                }
            }, Vo_fromTag = function(M, U) {
                var fe = (U || document).createElement(M);
                return za(fe)
            }, Vo_fromDom = za, Ii = function(M, U) {
                return M.dom === U.dom
            }, qa = function(M, U) {
                return qo().browser.isIE() ? function(M, U) {
                    return function(M, U) {
                        return function(M, U, Y) {
                            return 0 != (M.compareDocumentPosition(U) & Y)
                        }(M, U, Node.DOCUMENT_POSITION_CONTAINED_BY)
                    }(M.dom, U.dom)
                }(M, U) : function(M, U) {
                    var Y = M.dom
                      , fe = U.dom;
                    return Y !== fe && Y.contains(fe)
                }(M, U)
            }, ju = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"), pu = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"), di = tinymce.util.Tools.resolve("tinymce.util.VK"), au = Object.keys, le = function(M, U) {
                for (var Y = au(M), fe = 0, Pe = Y.length; fe < Pe; fe++) {
                    var Ft = Y[fe];
                    U(M[Ft], Ft)
                }
            };
            "undefined" != typeof window || Function("return this;")();
            var qt = function(M) {
                return M.dom.nodeName.toLowerCase()
            }
              , Tr = function(U) {
                return 1 === function(M) {
                    return M.dom.nodeType
                }(U)
            }
              , Ur = function(M) {
                return function(U) {
                    return Tr(U) && qt(U) === M
                }
            }
              , so = function(M, U) {
                var Y = M.dom;
                le(U, function(fe, Pe) {
                    !function(M, U, Y) {
                        if (!(Nn(Y) || wn(Y) || Hr(Y)))
                            throw console.error("Invalid call to Attribute.set. Key ", U, ":: Value ", Y, ":: Element ", M),
                            new Error("Attribute value was not simple");
                        M.setAttribute(U, Y + "")
                    }(Y, Pe, fe)
                })
            }
              , Fa = function(M) {
                return st(M.dom.attributes, function(U, Y) {
                    return U[Y.name] = Y.value,
                    U
                }, {})
            }
              , Io = function(M) {
                return an.from(M.dom.parentNode).map(Vo_fromDom)
            }
              , Sa = function(M) {
                return En(M.dom.childNodes, Vo_fromDom)
            }
              , ri = function(M, U) {
                return an.from(M.dom.childNodes[U]).map(Vo_fromDom)
            }
              , bu = function(M) {
                return ri(M, 0)
            }
              , Gu = function(M) {
                return ri(M, M.dom.childNodes.length - 1)
            }
              , Wr = function(M, U) {
                Io(M).each(function(fe) {
                    fe.dom.insertBefore(U.dom, M.dom)
                })
            }
              , Ka = function(M, U) {
                M.dom.appendChild(U.dom)
            }
              , yo = function(M, U) {
                In(U, function(Y) {
                    Ka(M, Y)
                })
            }
              , mi = function(M) {
                var U = M.dom;
                null !== U.parentNode && U.parentNode.removeChild(U)
            }
              , _s = function(M) {
                return function(M, U) {
                    return Vo_fromDom(M.dom.cloneNode(!0))
                }(M)
            }
              , oc = function(M, U) {
                var Y = function(M, U) {
                    var Y = Vo_fromTag(U)
                      , fe = Fa(M);
                    return so(Y, fe),
                    Y
                }(M, U);
                Wr(M, Y);
                var fe = Sa(M);
                return yo(Y, fe),
                mi(M),
                Y
            }
              , er = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils")
              , Si = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , ls = function(M) {
                return function(U) {
                    return U && U.nodeName.toLowerCase() === M
                }
            }
              , Ke = function(M) {
                return function(U) {
                    return U && M.test(U.nodeName)
                }
            }
              , Oe = function(M) {
                return M && 3 === M.nodeType
            }
              , Or = Ke(/^(OL|UL|DL)$/)
              , js = Ke(/^(OL|UL)$/)
              , yu = ls("ol")
              , fs = Ke(/^(LI|DT|DD)$/)
              , Ru = Ke(/^(DT|DD)$/)
              , Li = Ke(/^(TH|TD)$/)
              , Ta = ls("br")
              , gi = function(M, U) {
                return U && !!M.schema.getTextBlockElements()[U.nodeName]
            }
              , Ki = function(M, U) {
                return M && M.nodeName in U
            }
              , we = function(M, U, Y) {
                var fe = M.isEmpty(U);
                return !(Y && M.select("span[data-mce-type=bookmark]", U).length > 0) && fe
            }
              , Ne = function(M, U) {
                return M.isChildOf(U, M.getRoot())
            }
              , eo = function(M, U) {
                var Rn, Pr, Tn, Y = M.dom, fe = M.schema.getBlockElements(), Pe = Y.createFragment(), Ft = function(M) {
                    var U = M.getParam("forced_root_block", "p");
                    return !1 === U ? "" : !0 === U ? "p" : U
                }(M);
                if (Ft && ((Pr = Y.create(Ft)).tagName === Ft.toUpperCase() && Y.setAttribs(Pr, function(M) {
                    return M.getParam("forced_root_block_attrs", {})
                }(M)),
                Ki(U.firstChild, fe) || Pe.appendChild(Pr)),
                U)
                    for (; Rn = U.firstChild; )
                        !Tn && ("SPAN" !== Rn.nodeName || "bookmark" !== Rn.getAttribute("data-mce-type")) && (Tn = !0),
                        Ki(Rn, fe) ? (Pe.appendChild(Rn),
                        Pr = null) : Ft ? (Pr || (Pr = Y.create(Ft),
                        Pe.appendChild(Pr)),
                        Pr.appendChild(Rn)) : Pe.appendChild(Rn);
                return Ft ? Tn || Pr.appendChild(Y.create("br", {
                    "data-mce-bogus": "1"
                })) : Pe.appendChild(Y.create("br")),
                Pe
            }
              , Co = er.DOM
              , _a = Ur("dd")
              , Xa = Ur("dt")
              , Pa = function(M) {
                Xa(M) && oc(M, "dd")
            }
              , ks = function(M, U) {
                if (Oe(M))
                    return {
                        container: M,
                        offset: U
                    };
                var Y = ju.getNode(M, U);
                return Oe(Y) ? {
                    container: Y,
                    offset: U >= M.childNodes.length ? Y.data.length : 0
                } : Y.previousSibling && Oe(Y.previousSibling) ? {
                    container: Y.previousSibling,
                    offset: Y.previousSibling.data.length
                } : Y.nextSibling && Oe(Y.nextSibling) ? {
                    container: Y.nextSibling,
                    offset: 0
                } : {
                    container: M,
                    offset: U
                }
            }
              , Pu = function(M) {
                var U = M.cloneRange()
                  , Y = ks(M.startContainer, M.startOffset);
                U.setStart(Y.container, Y.offset);
                var fe = ks(M.endContainer, M.endOffset);
                return U.setEnd(fe.container, fe.offset),
                U
            }
              , Zc = tinymce.util.Tools.resolve("tinymce.dom.DomQuery")
              , Dr = function(M, U) {
                var Y = U || M.selection.getStart(!0);
                return M.dom.getParent(Y, "OL,UL,DL", Eo(M, Y))
            }
              , ka = function(M) {
                var U = M.selection.getSelectedBlocks();
                return Kn(function(M, U) {
                    var Y = Si.map(U, function(fe) {
                        return M.dom.getParent(fe, "li,dd,dt", Eo(M, fe)) || fe
                    });
                    return Zc.unique(Y)
                }(M, U), fs)
            }
              , Eo = function(M, U) {
                var Y = M.dom.getParents(U, "TD,TH");
                return Y.length > 0 ? Y[0] : M.getBody()
            }
              , Ya = function(M, U) {
                var Y = M.dom.getParents(U, "ol,ul", Eo(M, U));
                return ct(Y)
            }
              , Ti = function(M, U) {
                var Y = En(U, function(fe) {
                    return Ya(M, fe).getOr(fe)
                });
                return Zc.unique(Y)
            }
              , Qo = function(M, U, Y) {
                return void 0 === Y && (Y = oo),
                M.exists(function(fe) {
                    return Y(fe, U)
                })
            }
              , ms = function(M, U, Y) {
                return M.isSome() && U.isSome() ? an.some(Y(M.getOrDie(), U.getOrDie())) : an.none()
            }
              , L = function(M, U, Y) {
                return M.fire("ListMutation", {
                    action: U,
                    element: Y
                })
            }
              , B = function(M, U, Y) {
                !function(M, U, Y) {
                    if (!Nn(Y))
                        throw console.error("Invalid call to CSS.set. Property ", U, ":: Value ", Y, ":: Element ", M),
                        new Error("CSS value must be a string: " + Y);
                    (function(M) {
                        return void 0 !== M.style && fn(M.style.getPropertyValue)
                    }
                    )(M) && M.style.setProperty(U, Y)
                }(M.dom, U, Y)
            }
              , G = function(M, U) {
                Ka(M.item, U.list)
            }
              , lt = function(M, U) {
                var Y = {
                    list: Vo_fromTag(U, M),
                    item: Vo_fromTag("li", M)
                };
                return Ka(Y.list, Y.item),
                Y
            }
              , dr = function(M) {
                return function(M, U) {
                    var Y = M.dom;
                    if (1 !== Y.nodeType)
                        return !1;
                    var fe = Y;
                    if (void 0 !== fe.matches)
                        return fe.matches(U);
                    if (void 0 !== fe.msMatchesSelector)
                        return fe.msMatchesSelector(U);
                    if (void 0 !== fe.webkitMatchesSelector)
                        return fe.webkitMatchesSelector(U);
                    if (void 0 !== fe.mozMatchesSelector)
                        return fe.mozMatchesSelector(U);
                    throw new Error("Browser lacks native selectors")
                }(M, "OL,UL")
            }
              , oi = function(M) {
                return bu(M).exists(dr)
            }
              , no = function(M) {
                return M.depth > 0
            }
              , aa = function(M) {
                return M.isSelected
            }
              , Ku = function(M) {
                var U = Sa(M)
                  , Y = function(M) {
                    return Gu(M).exists(dr)
                }(M) ? U.slice(0, -1) : U;
                return En(Y, _s)
            }
              , dn = function(M) {
                return In(M, function(U, Y) {
                    (function(M, U) {
                        var Y = M[U].depth
                          , fe = function(Ft) {
                            return Ft.depth === Y && !Ft.dirty
                        }
                          , Pe = function(Ft) {
                            return Ft.depth < Y
                        };
                        return ge(Ct(M.slice(0, U)), fe, Pe).orThunk(function() {
                            return ge(M.slice(U + 1), fe, Pe)
                        })
                    }
                    )(M, Y).fold(function() {
                        U.dirty && function(M) {
                            M.listAttributes = function(M, U) {
                                var Y = {};
                                return function(M, U, Y, fe) {
                                    le(M, function(Ft, Rn) {
                                        (U(Ft, Rn) ? Y : fe)(Ft, Rn)
                                    })
                                }(M, U, function(M) {
                                    return function(U, Y) {
                                        M[Y] = U
                                    }
                                }(Y), gn),
                                Y
                            }(M.listAttributes, function(U, Y) {
                                return "start" !== Y
                            })
                        }(U)
                    }, function(fe) {
                        return function(M, U) {
                            M.listType = U.listType,
                            M.listAttributes = D({}, U.listAttributes)
                        }(U, fe)
                    })
                }),
                M
            }
              , Qc = function(M, U, Y, fe) {
                return bu(fe).filter(dr).fold(function() {
                    U.each(function(Rn) {
                        Ii(Rn.start, fe) && Y.set(!0)
                    });
                    var Pe = function(M, U, Y) {
                        return Io(M).filter(Tr).map(function(fe) {
                            return {
                                depth: U,
                                dirty: !1,
                                isSelected: Y,
                                content: Ku(M),
                                itemAttributes: Fa(M),
                                listAttributes: Fa(fe),
                                listType: qt(fe)
                            }
                        })
                    }(fe, M, Y.get());
                    U.each(function(Rn) {
                        Ii(Rn.end, fe) && Y.set(!1)
                    });
                    var Ft = Gu(fe).filter(dr).map(function(Rn) {
                        return Ja(M, U, Y, Rn)
                    }).getOr([]);
                    return Pe.toArray().concat(Ft)
                }, function(Pe) {
                    return Ja(M, U, Y, Pe)
                })
            }
              , Ja = function(M, U, Y, fe) {
                return on(Sa(fe), function(Pe) {
                    return (dr(Pe) ? Ja : Qc)(M + 1, U, Y, Pe)
                })
            }
              , Cu = function(M, U) {
                var Y = dn(U);
                return function(M, U) {
                    var Y = st(U, function(fe, Pe) {
                        return Pe.depth > fe.length ? function(M, U, Y) {
                            var fe = function(M, U, Y) {
                                for (var fe = [], Pe = 0; Pe < Y; Pe++)
                                    fe.push(lt(M, U.listType));
                                return fe
                            }(M, Y, Y.depth - U.length);
                            return function(M) {
                                for (var U = 1; U < M.length; U++)
                                    G(M[U - 1], M[U])
                            }(fe),
                            function(M, U) {
                                for (var Y = 0; Y < M.length - 1; Y++)
                                    B(M[Y].item, "list-style-type", "none");
                                ct(M).each(function(fe) {
                                    so(fe.list, U.listAttributes),
                                    so(fe.item, U.itemAttributes),
                                    yo(fe.item, U.content)
                                })
                            }(fe, Y),
                            function(M, U) {
                                ms(ct(M), wt(U), G)
                            }(U, fe),
                            U.concat(fe)
                        }(M, fe, Pe) : function(M, U, Y) {
                            var fe = U.slice(0, Y.depth);
                            return ct(fe).each(function(Pe) {
                                var Ft = function(M, U, Y) {
                                    var fe = Vo_fromTag("li", M);
                                    return so(fe, U),
                                    yo(fe, Y),
                                    fe
                                }(M, Y.itemAttributes, Y.content);
                                (function(M, U) {
                                    Ka(M.list, U),
                                    M.item = U
                                }
                                )(Pe, Ft),
                                function(M, U) {
                                    qt(M.list) !== U.listType && (M.list = oc(M.list, U.listType)),
                                    so(M.list, U.listAttributes)
                                }(Pe, Y)
                            }),
                            fe
                        }(M, fe, Pe)
                    }, []);
                    return wt(Y).map(function(fe) {
                        return fe.list
                    })
                }(M.contentDocument, Y).toArray()
            }
              , La = function(M, U, Y) {
                var fe = function(M, U) {
                    var Y = function(M) {
                        var U = !1;
                        return {
                            get: function() {
                                return U
                            },
                            set: function(Pe) {
                                U = Pe
                            }
                        }
                    }();
                    return En(M, function(Pe) {
                        return {
                            sourceList: Pe,
                            entries: Ja(0, U, Y, Pe)
                        }
                    })
                }(U, function(M) {
                    var U = En(ka(M), Vo_fromDom);
                    return ms(ca(U, xe(oi)), ca(Ct(U), xe(oi)), function(Y, fe) {
                        return {
                            start: Y,
                            end: fe
                        }
                    })
                }(M));
                In(fe, function(Pe) {
                    !function(M, U) {
                        In(Kn(M, aa), function(Y) {
                            return function(M, U) {
                                switch (M) {
                                case "Indent":
                                    U.depth++;
                                    break;
                                case "Outdent":
                                    U.depth--;
                                    break;
                                case "Flatten":
                                    U.depth = 0
                                }
                                U.dirty = !0
                            }(U, Y)
                        })
                    }(Pe.entries, Y);
                    var Ft = function(M, U) {
                        return on(function(M, U) {
                            if (0 === M.length)
                                return [];
                            for (var Y = U(M[0]), fe = [], Pe = [], Ft = 0, Rn = M.length; Ft < Rn; Ft++) {
                                var Pr = M[Ft]
                                  , Tn = U(Pr);
                                Tn !== Y && (fe.push(Pe),
                                Pe = []),
                                Y = Tn,
                                Pe.push(Pr)
                            }
                            return 0 !== Pe.length && fe.push(Pe),
                            fe
                        }(U, no), function(Y) {
                            return wt(Y).exists(no) ? Cu(M, Y) : function(M, U) {
                                var Y = dn(U);
                                return En(Y, function(fe) {
                                    var Pe = function(M, U) {
                                        var fe = document.createDocumentFragment();
                                        return In(M, function(Pe) {
                                            fe.appendChild(Pe.dom)
                                        }),
                                        Vo_fromDom(fe)
                                    }(fe.content);
                                    return Vo_fromDom(eo(M, Pe.dom))
                                })
                            }(M, Y)
                        })
                    }(M, Pe.entries);
                    In(Ft, function(Rn) {
                        L(M, "Indent" === Y ? "IndentList" : "OutdentList", Rn.dom)
                    }),
                    function(M, U) {
                        In(U, function(Y) {
                            Wr(M, Y)
                        })
                    }(Pe.sourceList, Ft),
                    mi(Pe.sourceList)
                })
            }
              , Qv = function(M, U) {
                var Y = En(function(M) {
                    var U = function(M) {
                        var U = Ya(M, M.selection.getStart())
                          , Y = Kn(M.selection.getSelectedBlocks(), js);
                        return U.toArray().concat(Y)
                    }(M);
                    return Ti(M, U)
                }(M), Vo_fromDom)
                  , fe = En(function(M) {
                    return Kn(ka(M), Ru)
                }(M), Vo_fromDom)
                  , Pe = !1;
                if (Y.length || fe.length) {
                    var Ft = M.selection.getBookmark();
                    La(M, Y, U),
                    function(M, U, Y) {
                        In(Y, "Indent" === U ? Pa : function(fe) {
                            return function(M, U) {
                                _a(U) ? oc(U, "dt") : Xa(U) && Io(U).each(function(Y) {
                                    return function(M, U, Y) {
                                        var hr, Pe = Co.select('span[data-mce-type="bookmark"]', U), Ft = eo(M, Y), Rn = Co.createRng();
                                        Rn.setStartAfter(Y),
                                        Rn.setEndAfter(U);
                                        for (var Pr = Rn.extractContents(), Tn = Pr.firstChild; Tn; Tn = Tn.firstChild)
                                            if ("LI" === Tn.nodeName && M.dom.isEmpty(Tn)) {
                                                Co.remove(Tn);
                                                break
                                            }
                                        M.dom.isEmpty(Pr) || Co.insertAfter(Pr, U),
                                        Co.insertAfter(Ft, U),
                                        we(M.dom, Y.parentNode) && (hr = Y.parentNode,
                                        Si.each(Pe, function(fo) {
                                            hr.parentNode.insertBefore(fo, Y.parentNode)
                                        }),
                                        Co.remove(hr)),
                                        Co.remove(Y),
                                        we(M.dom, U) && Co.remove(U)
                                    }(M, Y.dom, U.dom)
                                })
                            }(M, fe)
                        }
                        )
                    }(M, U, fe),
                    M.selection.moveToBookmark(Ft),
                    M.selection.setRng(Pu(M.selection.getRng())),
                    M.nodeChanged(),
                    Pe = !0
                }
                return Pe
            }
              , No = function(M) {
                return Qv(M, "Indent")
            }
              , uc = function(M) {
                return Qv(M, "Outdent")
            }
              , jf = function(M) {
                return Qv(M, "Flatten")
            }
              , am = tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager")
              , ia = er.DOM
              , hs = function(M) {
                var U = {}
                  , Y = function(fe) {
                    var Pe = M[fe ? "startContainer" : "endContainer"]
                      , Ft = M[fe ? "startOffset" : "endOffset"];
                    if (1 === Pe.nodeType) {
                        var Rn = ia.create("span", {
                            "data-mce-type": "bookmark"
                        });
                        Pe.hasChildNodes() ? (Ft = Math.min(Ft, Pe.childNodes.length - 1),
                        fe ? Pe.insertBefore(Rn, Pe.childNodes[Ft]) : ia.insertAfter(Rn, Pe.childNodes[Ft])) : Pe.appendChild(Rn),
                        Pe = Rn,
                        Ft = 0
                    }
                    U[fe ? "startContainer" : "endContainer"] = Pe,
                    U[fe ? "startOffset" : "endOffset"] = Ft
                };
                return Y(!0),
                M.collapsed || Y(),
                U
            }
              , Gs = function(M) {
                var U = function(fe) {
                    var Pe, Rn = Pe = M[fe ? "startContainer" : "endContainer"], Pr = M[fe ? "startOffset" : "endOffset"];
                    !Rn || (1 === Rn.nodeType && (Pr = function(Tn) {
                        for (var hr = Tn.parentNode.firstChild, fo = 0; hr; ) {
                            if (hr === Tn)
                                return fo;
                            (1 !== hr.nodeType || "bookmark" !== hr.getAttribute("data-mce-type")) && fo++,
                            hr = hr.nextSibling
                        }
                        return -1
                    }(Rn),
                    Rn = Rn.parentNode,
                    ia.remove(Pe),
                    !Rn.hasChildNodes() && ia.isBlock(Rn) && Rn.appendChild(ia.create("br"))),
                    M[fe ? "startContainer" : "endContainer"] = Rn,
                    M[fe ? "startOffset" : "endOffset"] = Pr)
                };
                U(!0),
                U();
                var Y = ia.createRng();
                return Y.setStart(M.startContainer, M.startOffset),
                M.endContainer && Y.setEnd(M.endContainer, M.endOffset),
                Pu(Y)
            }
              , Gf = function(M) {
                switch (M) {
                case "UL":
                    return "ToggleUlList";
                case "OL":
                    return "ToggleOlList";
                case "DL":
                    return "ToggleDLList"
                }
            }
              , Yo = function(M) {
                return /\btox\-/.test(M.className)
            }
              , Ha = function(M, U, Y) {
                var fe = function(Ft) {
                    var Rn = ge(Ft.parents, Or, Li).filter(function(Pr) {
                        return Pr.nodeName === U && !Yo(Pr)
                    }).isSome();
                    Y(Rn)
                }
                  , Pe = M.dom.getParents(M.selection.getNode());
                return fe({
                    parents: Pe
                }),
                M.on("NodeChange", fe),
                function() {
                    return M.off("NodeChange", fe)
                }
            }
              , Su = function(M, U) {
                Si.each(U, function(Y, fe) {
                    M.setAttribute(fe, Y)
                })
            }
              , Xu = function(M, U, Y) {
                (function(M, U, Y) {
                    M.setStyle(U, "list-style-type", Y["list-style-type"] ? Y["list-style-type"] : null)
                }
                )(M, U, Y),
                function(M, U, Y) {
                    Su(U, Y["list-attributes"]),
                    Si.each(M.select("li", U), function(fe) {
                        Su(fe, Y["list-item-attributes"])
                    })
                }(M, U, Y)
            }
              , Hi = function(M, U, Y, fe) {
                var Pe = U[Y ? "startContainer" : "endContainer"];
                for (1 === Pe.nodeType && (Pe = Pe.childNodes[Math.min(U[Y ? "startOffset" : "endOffset"], Pe.childNodes.length - 1)] || Pe),
                !Y && Ta(Pe.nextSibling) && (Pe = Pe.nextSibling); Pe.parentNode !== fe; ) {
                    if (gi(M, Pe) || /^(TD|TH)$/.test(Pe.parentNode.nodeName))
                        return Pe;
                    Pe = Pe.parentNode
                }
                return Pe
            }
              , qf = function(M, U, Y) {
                var fe = M.selection.getRng()
                  , Pe = "LI"
                  , Ft = Eo(M, M.selection.getStart(!0))
                  , Rn = M.dom;
                if ("false" !== Rn.getContentEditable(M.selection.getNode())) {
                    "DL" === (U = U.toUpperCase()) && (Pe = "DT");
                    var Pr = hs(fe)
                      , Tn = function(M, U, Y) {
                        for (var Pr, fe = [], Pe = M.dom, Ft = Hi(M, U, !0, Y), Rn = Hi(M, U, !1, Y), Tn = [], hr = Ft; hr && (Tn.push(hr),
                        hr !== Rn); hr = hr.nextSibling)
                            ;
                        return Si.each(Tn, function(fo) {
                            if (gi(M, fo))
                                return fe.push(fo),
                                void (Pr = null);
                            if (Pe.isBlock(fo) || Ta(fo))
                                return Ta(fo) && Pe.remove(fo),
                                void (Pr = null);
                            var $a = fo.nextSibling;
                            am.isBookmarkNode(fo) && (Or($a) || gi(M, $a) || !$a && fo.parentNode === Y) ? Pr = null : (Pr || (Pr = Pe.create("p"),
                            fo.parentNode.insertBefore(Pr, fo),
                            fe.push(Pr)),
                            Pr.appendChild(fo))
                        }),
                        fe
                    }(M, fe, Ft);
                    Si.each(Tn, function(hr) {
                        var fo, $a = hr.previousSibling;
                        fs(hr.parentNode) || ($a && Or($a) && $a.nodeName === U && function(M, U, Y) {
                            var fe = M.getStyle(U, "list-style-type")
                              , Pe = Y ? Y["list-style-type"] : "";
                            return fe === (null === Pe ? "" : Pe)
                        }(Rn, $a, Y) ? (fo = $a,
                        hr = Rn.rename(hr, Pe),
                        $a.appendChild(hr)) : (fo = Rn.create(U),
                        hr.parentNode.insertBefore(fo, hr),
                        fo.appendChild(hr),
                        hr = Rn.rename(hr, Pe)),
                        function(M, U, Y) {
                            Si.each(["margin", "margin-right", "margin-bottom", "margin-left", "margin-top", "padding", "padding-right", "padding-bottom", "padding-left", "padding-top"], function(fe) {
                                var Pe;
                                return M.setStyle(U, ((Pe = {})[fe] = "",
                                Pe))
                            })
                        }(Rn, hr),
                        Xu(Rn, fo, Y),
                        El(M.dom, fo))
                    }),
                    M.selection.setRng(Gs(Pr))
                }
            }
              , rd = function(M, U, Y) {
                return function(M, U) {
                    return M && U && Or(M) && M.nodeName === U.nodeName
                }(U, Y) && function(M, U, Y) {
                    return M.getStyle(U, "list-style-type", !0) === M.getStyle(Y, "list-style-type", !0)
                }(M, U, Y) && function(M, U) {
                    return M.className === U.className
                }(U, Y)
            }
              , El = function(M, U) {
                var Y, fe;
                if (rd(M, U, Y = U.nextSibling)) {
                    for (; fe = Y.firstChild; )
                        U.appendChild(fe);
                    M.remove(Y)
                }
                if (rd(M, U, Y = U.previousSibling)) {
                    for (; fe = Y.lastChild; )
                        U.insertBefore(fe, U.firstChild);
                    M.remove(Y)
                }
            }
              , Mi = function(M) {
                return "list-style-type"in M
            }
              , Ri = function(M, U, Y) {
                var fe = Dr(M)
                  , Pe = function(M) {
                    var U = Dr(M)
                      , Y = M.selection.getSelectedBlocks();
                    return function(M, U) {
                        return M && 1 === U.length && U[0] === M
                    }(U, Y) ? function(M) {
                        return Kn(M.querySelectorAll("ol,ul,dl"), Or)
                    }(U) : Kn(Y, function(fe) {
                        return Or(fe) && U !== fe
                    })
                }(M)
                  , Ft = Lr(Y) ? Y : {};
                Pe.length > 0 ? function(M, U, Y, fe, Pe) {
                    var Ft = Or(U);
                    if (Ft && U.nodeName === fe && !Mi(Pe))
                        jf(M);
                    else {
                        qf(M, fe, Pe);
                        var Rn = hs(M.selection.getRng())
                          , Pr = Ft ? function(M, U, Y) {
                            if (Y || 2 === arguments.length)
                                for (var Ft, fe = 0, Pe = U.length; fe < Pe; fe++)
                                    (Ft || !(fe in U)) && (Ft || (Ft = Array.prototype.slice.call(U, 0, fe)),
                                    Ft[fe] = U[fe]);
                            return M.concat(Ft || Array.prototype.slice.call(U))
                        }([U], Y, !0) : Y;
                        Si.each(Pr, function(Tn) {
                            !function(M, U, Y, fe) {
                                if (U.nodeName !== Y) {
                                    var Pe = M.dom.rename(U, Y);
                                    Xu(M.dom, Pe, fe),
                                    L(M, Gf(Y), Pe)
                                } else
                                    Xu(M.dom, U, fe),
                                    L(M, Gf(Y), U)
                            }(M, Tn, fe, Pe)
                        }),
                        M.selection.setRng(Gs(Rn))
                    }
                }(M, fe, Pe, U, Ft) : function(M, U, Y, fe) {
                    if (U !== M.getBody())
                        if (U)
                            if (U.nodeName !== Y || Mi(fe) || Yo(U)) {
                                var Pe = hs(M.selection.getRng());
                                Xu(M.dom, U, fe);
                                var Ft = M.dom.rename(U, Y);
                                El(M.dom, Ft),
                                M.selection.setRng(Gs(Pe)),
                                qf(M, Y, fe),
                                L(M, Gf(Y), Ft)
                            } else
                                jf(M);
                        else
                            qf(M, Y, fe),
                            L(M, Gf(Y), U)
                }(M, fe, U, Ft)
            }
              , ao = er.DOM
              , mf = function(M, U, Y, fe) {
                var Pe = U.startContainer
                  , Ft = U.startOffset;
                if (Oe(Pe) && (Y ? Ft < Pe.data.length : Ft > 0))
                    return Pe;
                var Rn = M.schema.getNonEmptyElements();
                1 === Pe.nodeType && (Pe = ju.getNode(Pe, Ft));
                var Pr = new pu(Pe,fe);
                for (Y && function(M, U) {
                    return !!Ta(U) && M.isBlock(U.nextSibling) && !Ta(U.previousSibling)
                }(M.dom, Pe) && Pr.next(); Pe = Pr[Y ? "next" : "prev2"](); )
                    if ("LI" === Pe.nodeName && !Pe.hasChildNodes() || Rn[Pe.nodeName] || Oe(Pe) && Pe.data.length > 0)
                        return Pe
            }
              , Nu = function(M, U) {
                var Y = U.childNodes;
                return 1 === Y.length && !Or(Y[0]) && M.isBlock(Y[0])
            }
              , iu = function(M, U, Y) {
                var fe, Pe = U.parentNode;
                if (Ne(M, U) && Ne(M, Y)) {
                    Or(Y.lastChild) && (fe = Y.lastChild),
                    Pe === Y.lastChild && Ta(Pe.previousSibling) && M.remove(Pe.previousSibling);
                    var Ft = Y.lastChild;
                    Ft && Ta(Ft) && U.hasChildNodes() && M.remove(Ft),
                    we(M, Y, !0) && M.$(Y).empty(),
                    function(M, U, Y) {
                        var fe, Pe = Nu(M, Y) ? Y.firstChild : Y;
                        if (function(M, U) {
                            Nu(M, U) && M.remove(U.firstChild, !0)
                        }(M, U),
                        !we(M, U, !0))
                            for (; fe = U.firstChild; )
                                Pe.appendChild(fe)
                    }(M, U, Y),
                    fe && Y.appendChild(fe);
                    var Pr = qa(Vo_fromDom(Y), Vo_fromDom(U)) ? M.getParents(U, Or, Y) : [];
                    M.remove(U),
                    In(Pr, function(Tn) {
                        we(M, Tn) && Tn !== M.getRoot() && M.remove(Tn)
                    })
                }
            }
              , um = function(M, U) {
                var Y = M.dom
                  , fe = M.selection
                  , Pe = fe.getStart()
                  , Ft = Eo(M, Pe)
                  , Rn = Y.getParent(fe.getStart(), "LI", Ft);
                if (Rn) {
                    var Pr = Rn.parentNode;
                    if (Pr === M.getBody() && we(Y, Pr))
                        return !0;
                    var Tn = Pu(fe.getRng())
                      , hr = Y.getParent(mf(M, Tn, U, Ft), "LI", Ft);
                    if (hr && hr !== Rn)
                        return M.undoManager.transact(function() {
                            U ? function(M, U, Y, fe) {
                                var Pe = M.dom;
                                if (Pe.isEmpty(fe))
                                    !function(M, U, Y) {
                                        M.dom.$(Y).empty(),
                                        iu(M.dom, U, Y),
                                        M.selection.setCursorLocation(Y, 0)
                                    }(M, Y, fe);
                                else {
                                    var Ft = hs(U);
                                    iu(Pe, Y, fe),
                                    M.selection.setRng(Gs(Ft))
                                }
                            }(M, Tn, hr, Rn) : function(M) {
                                return M.parentNode.firstChild === M
                            }(Rn) ? uc(M) : function(M, U, Y, fe) {
                                var Pe = hs(U);
                                iu(M.dom, Y, fe);
                                var Ft = Gs(Pe);
                                M.selection.setRng(Ft)
                            }(M, Tn, Rn, hr)
                        }),
                        !0;
                    if (!hr && !U && 0 === Tn.startOffset && 0 === Tn.endOffset)
                        return M.undoManager.transact(function() {
                            jf(M)
                        }),
                        !0
                }
                return !1
            }
              , tl = function(M, U) {
                return M.selection.isCollapsed() ? function(M, U) {
                    return um(M, U) || function(M, U) {
                        var Y = M.dom
                          , fe = M.selection.getStart()
                          , Pe = Eo(M, fe)
                          , Ft = Y.getParent(fe, Y.isBlock, Pe);
                        if (Ft && Y.isEmpty(Ft)) {
                            var Rn = Pu(M.selection.getRng())
                              , Pr = Y.getParent(mf(M, Rn, U, Pe), "LI", Pe);
                            if (Pr)
                                return M.undoManager.transact(function() {
                                    (function(M, U, Y) {
                                        var fe = M.getParent(U.parentNode, M.isBlock, Y);
                                        M.remove(U),
                                        fe && M.isEmpty(fe) && M.remove(fe)
                                    }
                                    )(Y, Ft, Pe),
                                    El(Y, Pr.parentNode),
                                    M.selection.select(Pr, !0),
                                    M.selection.collapse(U)
                                }),
                                !0
                        }
                        return !1
                    }(M, U)
                }(M, U) : function(M) {
                    var U = M.selection.getStart()
                      , Y = Eo(M, U);
                    return !!(M.dom.getParent(U, "LI,DT,DD", Y) || ka(M).length > 0) && (M.undoManager.transact(function() {
                        M.execCommand("Delete"),
                        function(M, U) {
                            var Y = Si.grep(M.select("ol,ul", U));
                            Si.each(Y, function(fe) {
                                !function(M, U) {
                                    var fe, Y = U.parentNode;
                                    "LI" === Y.nodeName && Y.firstChild === U && ((fe = Y.previousSibling) && "LI" === fe.nodeName ? (fe.appendChild(U),
                                    we(M, Y) && ao.remove(Y)) : ao.setStyle(Y, "listStyleType", "none")),
                                    Or(Y) && (fe = Y.previousSibling) && "LI" === fe.nodeName && fe.appendChild(U)
                                }(M, fe)
                            })
                        }(M.dom, M.getBody())
                    }),
                    !0)
                }(M)
            }
              , Ji = function(M) {
                var U = Ct(Bt(M).split(""))
                  , Y = En(U, function(fe, Pe) {
                    var Ft = fe.toUpperCase().charCodeAt(0) - "A".charCodeAt(0) + 1;
                    return Math.pow(26, Pe) * Ft
                });
                return st(Y, function(fe, Pe) {
                    return fe + Pe
                }, 0)
            }
              , Ec = function(M) {
                if (--M < 0)
                    return "";
                var U = M % 26
                  , Y = Math.floor(M / 26);
                return Ec(Y) + String.fromCharCode("A".charCodeAt(0) + U)
            }
              , Zu = function(M) {
                var U = parseInt(M.start, 10);
                return Qo(M.listStyleType, "upper-alpha") ? Ec(U) : Qo(M.listStyleType, "lower-alpha") ? Ec(U).toLowerCase() : M.start
            }
              , sm = function(M, U) {
                return function() {
                    var Y = Dr(M);
                    return Y && Y.nodeName === U
                }
            }
              , cm = function(M) {
                M.addCommand("mceListProps", function() {
                    !function(M) {
                        var U = Dr(M);
                        !yu(U) || M.windowManager.open({
                            title: "List Properties",
                            body: {
                                type: "panel",
                                items: [{
                                    type: "input",
                                    name: "start",
                                    label: "Start list at number",
                                    inputMode: "numeric"
                                }]
                            },
                            initialData: {
                                start: Zu({
                                    start: M.dom.getAttrib(U, "start", "1"),
                                    listStyleType: an.some(M.dom.getStyle(U, "list-style-type"))
                                })
                            },
                            buttons: [{
                                type: "cancel",
                                name: "cancel",
                                text: "Cancel"
                            }, {
                                type: "submit",
                                name: "save",
                                text: "Save",
                                primary: !0
                            }],
                            onSubmit: function(Y) {
                                (function(M) {
                                    switch (function(M) {
                                        return function(M) {
                                            return /^[0-9]+$/.test(M)
                                        }(M) ? 2 : function(M) {
                                            return /^[A-Z]+$/.test(M)
                                        }(M) ? 0 : function(M) {
                                            return /^[a-z]+$/.test(M)
                                        }(M) ? 1 : function(M) {
                                            return !function(M) {
                                                return M.length > 0
                                            }(M)
                                        }(M) ? 3 : 4
                                    }(M)) {
                                    case 2:
                                        return an.some({
                                            listStyleType: an.none(),
                                            start: M
                                        });
                                    case 0:
                                        return an.some({
                                            listStyleType: an.some("upper-alpha"),
                                            start: Ji(M).toString()
                                        });
                                    case 1:
                                        return an.some({
                                            listStyleType: an.some("lower-alpha"),
                                            start: Ji(M).toString()
                                        });
                                    case 3:
                                        return an.some({
                                            listStyleType: an.none(),
                                            start: ""
                                        });
                                    case 4:
                                        return an.none()
                                    }
                                }
                                )(Y.getData().start).each(function(Pe) {
                                    M.execCommand("mceListUpdate", !1, {
                                        attrs: {
                                            start: "1" === Pe.start ? "" : Pe.start
                                        },
                                        styles: {
                                            "list-style-type": Pe.listStyleType.getOr("")
                                        }
                                    })
                                }),
                                Y.close()
                            }
                        })
                    }(M)
                })
            };
            zo.add("lists", function(M) {
                return !1 === M.hasPlugin("rtc", !0) ? (function(M) {
                    (function(M) {
                        return M.getParam("lists_indent_on_tab", !0)
                    }
                    )(M) && function(M) {
                        M.on("keydown", function(U) {
                            U.keyCode !== di.TAB || di.metaKeyPressed(U) || M.undoManager.transact(function() {
                                (U.shiftKey ? uc(M) : No(M)) && U.preventDefault()
                            })
                        })
                    }(M),
                    function(M) {
                        M.on("keydown", function(U) {
                            U.keyCode === di.BACKSPACE ? tl(M, !1) && U.preventDefault() : U.keyCode === di.DELETE && tl(M, !0) && U.preventDefault()
                        })
                    }(M)
                }(M),
                function(M) {
                    M.on("BeforeExecCommand", function(U) {
                        var Y = U.command.toLowerCase();
                        "indent" === Y ? No(M) : "outdent" === Y && uc(M)
                    }),
                    M.addCommand("InsertUnorderedList", function(U, Y) {
                        Ri(M, "UL", Y)
                    }),
                    M.addCommand("InsertOrderedList", function(U, Y) {
                        Ri(M, "OL", Y)
                    }),
                    M.addCommand("InsertDefinitionList", function(U, Y) {
                        Ri(M, "DL", Y)
                    }),
                    M.addCommand("RemoveList", function() {
                        jf(M)
                    }),
                    cm(M),
                    M.addCommand("mceListUpdate", function(U, Y) {
                        Lr(Y) && function(M, U) {
                            var Y = Dr(M);
                            M.undoManager.transact(function() {
                                Lr(U.styles) && M.dom.setStyles(Y, U.styles),
                                Lr(U.attrs) && le(U.attrs, function(fe, Pe) {
                                    return M.dom.setAttrib(Y, Pe, fe)
                                })
                            })
                        }(M, Y)
                    }),
                    M.addQueryStateHandler("InsertUnorderedList", sm(M, "UL")),
                    M.addQueryStateHandler("InsertOrderedList", sm(M, "OL")),
                    M.addQueryStateHandler("InsertDefinitionList", sm(M, "DL"))
                }(M)) : cm(M),
                function(M) {
                    var U = function(Y) {
                        return function() {
                            return M.execCommand(Y)
                        }
                    };
                    M.hasPlugin("advlist") || (M.ui.registry.addToggleButton("numlist", {
                        icon: "ordered-list",
                        active: !1,
                        tooltip: "Numbered list",
                        onAction: U("InsertOrderedList"),
                        onSetup: function(Y) {
                            return Ha(M, "OL", Y.setActive)
                        }
                    }),
                    M.ui.registry.addToggleButton("bullist", {
                        icon: "unordered-list",
                        active: !1,
                        tooltip: "Bullet list",
                        onAction: U("InsertUnorderedList"),
                        onSetup: function(Y) {
                            return Ha(M, "UL", Y.setActive)
                        }
                    }))
                }(M),
                function(M) {
                    var U = {
                        text: "List properties...",
                        icon: "ordered-list",
                        onAction: function() {
                            return M.execCommand("mceListProps")
                        },
                        onSetup: function(Y) {
                            return Ha(M, "OL", function(fe) {
                                return Y.setDisabled(!fe)
                            })
                        }
                    };
                    M.ui.registry.addMenuItem("listprops", U),
                    M.ui.registry.addContextMenu("lists", {
                        update: function(Y) {
                            var fe = Dr(M, Y);
                            return yu(fe) ? ["listprops"] : []
                        }
                    })
                }(M),
                function(M) {
                    return {
                        backspaceDelete: function(U) {
                            tl(M, U)
                        }
                    }
                }(M)
            })
        }()
    }
    ,
    73574: ()=>{
        !function() {
            "use strict";
            var le, Ee, zo = tinymce.util.Tools.resolve("tinymce.PluginManager"), xr = function() {
                return xr = Object.assign || function(Ee) {
                    for (var ze, $e = 1, qt = arguments.length; $e < qt; $e++)
                        for (var Ie in ze = arguments[$e])
                            Object.prototype.hasOwnProperty.call(ze, Ie) && (Ee[Ie] = ze[Ie]);
                    return Ee
                }
                ,
                xr.apply(this, arguments)
            }, br = function(le) {
                return function(Ee) {
                    return function(le) {
                        var Ee = typeof le;
                        return null === le ? "null" : "object" === Ee && (Array.prototype.isPrototypeOf(le) || le.constructor && "Array" === le.constructor.name) ? "array" : "object" === Ee && (String.prototype.isPrototypeOf(le) || le.constructor && "String" === le.constructor.name) ? "string" : Ee
                    }(Ee) === le
                }
            }, Nn = br("string"), Lr = br("object"), vr = br("array"), fn = function(le) {
                return !function(le) {
                    return null == le
                }(le)
            }, gn = function(le) {
                return function() {
                    return le
                }
            }, lr = gn(!1), oo = gn(!0), xe = function() {
                return hn
            }, hn = {
                fold: function($e, qt) {
                    return $e()
                },
                isSome: lr,
                isNone: oo,
                getOr: Ee = function(le) {
                    return le
                }
                ,
                getOrThunk: le = function($e) {
                    return $e()
                }
                ,
                getOrDie: function($e) {
                    throw new Error($e || "error: getOrDie called on none.")
                },
                getOrNull: gn(null),
                getOrUndefined: gn(void 0),
                or: Ee,
                orThunk: le,
                map: xe,
                each: function() {},
                bind: xe,
                exists: lr,
                forall: oo,
                filter: function() {
                    return xe()
                },
                toArray: function() {
                    return []
                },
                toString: gn("none()")
            }, Cn = function(le) {
                var Ee = gn(le)
                  , ze = function() {
                    return qt
                }
                  , $e = function(Ie) {
                    return Ie(le)
                }
                  , qt = {
                    fold: function(Ie, nr) {
                        return nr(le)
                    },
                    isSome: oo,
                    isNone: lr,
                    getOr: Ee,
                    getOrThunk: Ee,
                    getOrDie: Ee,
                    getOrNull: Ee,
                    getOrUndefined: Ee,
                    or: ze,
                    orThunk: ze,
                    map: function(Ie) {
                        return Cn(Ie(le))
                    },
                    each: function(Ie) {
                        Ie(le)
                    },
                    bind: $e,
                    exists: $e,
                    forall: $e,
                    filter: function(Ie) {
                        return Ie(le) ? qt : hn
                    },
                    toArray: function() {
                        return [le]
                    },
                    toString: function() {
                        return "some(" + le + ")"
                    }
                };
                return qt
            }, Xe = {
                some: Cn,
                none: xe,
                from: function(le) {
                    return null == le ? hn : Cn(le)
                }
            }, Mr = Array.prototype.push, Fn = function(le, Ee) {
                for (var ze = 0, $e = le.length; ze < $e; ze++)
                    Ee(le[ze], ze)
            }, an = function(le) {
                for (var Ee = [], ze = 0, $e = le.length; ze < $e; ++ze) {
                    if (!vr(le[ze]))
                        throw new Error("Arr.flatten item " + ze + " was not an array, input: " + le);
                    Mr.apply(Ee, le[ze])
                }
                return Ee
            }, Se = function(le) {
                var Ee = le;
                return {
                    get: function() {
                        return Ee
                    },
                    set: function(qt) {
                        Ee = qt
                    }
                }
            }, _n = Object.keys, En = Object.hasOwnProperty, Kn = function(le, Ee) {
                return $o(le, Ee) ? Xe.from(le[Ee]) : Xe.none()
            }, $o = function(le, Ee) {
                return En.call(le, Ee)
            }, st = function(le) {
                return le.getParam("media_scripts")
            }, ae = function(le) {
                return le.getParam("media_live_embeds", !0)
            }, qe = tinymce.util.Tools.resolve("tinymce.util.Tools"), D = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"), pn = tinymce.util.Tools.resolve("tinymce.html.SaxParser"), bn = function(le, Ee) {
                if (le)
                    for (var ze = 0; ze < le.length; ze++)
                        if (-1 !== Ee.indexOf(le[ze].filter))
                            return le[ze]
            }, tt = D.DOM, kr = function(le) {
                return le.replace(/px$/, "")
            }, nn = function(le, Ee) {
                var ze = Se(!1)
                  , $e = {};
                return pn({
                    validate: !1,
                    allow_conditional_comments: !0,
                    start: function(qt, Ie) {
                        if (!ze.get())
                            if ($o(Ie.map, "data-ephox-embed-iri"))
                                ze.set(!0),
                                $e = function(le) {
                                    var Ee = le.map.style
                                      , ze = Ee ? tt.parseStyle(Ee) : {};
                                    return {
                                        type: "ephox-embed-iri",
                                        source: le.map["data-ephox-embed-iri"],
                                        altsource: "",
                                        poster: "",
                                        width: Kn(ze, "max-width").map(kr).getOr(""),
                                        height: Kn(ze, "max-height").map(kr).getOr("")
                                    }
                                }(Ie);
                            else {
                                if (!$e.source && "param" === qt && ($e.source = Ie.map.movie),
                                ("iframe" === qt || "object" === qt || "embed" === qt || "video" === qt || "audio" === qt) && ($e.type || ($e.type = qt),
                                $e = qe.extend(Ie.map, $e)),
                                "script" === qt) {
                                    var nr = bn(le, Ie.map.src);
                                    if (!nr)
                                        return;
                                    $e = {
                                        type: "script",
                                        source: Ie.map.src,
                                        width: String(nr.width),
                                        height: String(nr.height)
                                    }
                                }
                                "source" === qt && ($e.source ? $e.altsource || ($e.altsource = Ie.map.src) : $e.source = Ie.map.src),
                                "img" === qt && !$e.poster && ($e.poster = Ie.map.src)
                            }
                    }
                }).parse(Ee),
                $e.source = $e.source || $e.src || $e.data,
                $e.altsource = $e.altsource || "",
                $e.poster = $e.poster || "",
                $e
            }, ir = function(le) {
                return {
                    mp3: "audio/mpeg",
                    m4a: "audio/x-m4a",
                    wav: "audio/wav",
                    mp4: "video/mp4",
                    webm: "video/webm",
                    ogg: "video/ogg",
                    swf: "application/x-shockwave-flash"
                }[le.toLowerCase().split(".").pop()] || ""
            }, kt = tinymce.util.Tools.resolve("tinymce.html.Schema"), Mn = tinymce.util.Tools.resolve("tinymce.html.Writer"), re = D.DOM, Re = function(le) {
                return /^[0-9.]+$/.test(le) ? le + "px" : le
            }, me = function(le, Ee) {
                !function(le, Ee) {
                    for (var ze = _n(le), $e = 0, qt = ze.length; $e < qt; $e++) {
                        var Ie = ze[$e];
                        Ee(le[Ie], Ie)
                    }
                }(Ee, function(ze, $e) {
                    var qt = "" + ze;
                    if (le.map[$e])
                        for (var Ie = le.length; Ie--; ) {
                            var nr = le[Ie];
                            nr.name === $e && (qt ? (le.map[$e] = qt,
                            nr.value = qt) : (delete le.map[$e],
                            le.splice(Ie, 1)))
                        }
                    else
                        qt && (le.push({
                            name: $e,
                            value: qt
                        }),
                        le.map[$e] = qt)
                })
            }, je = ["source", "altsource"], We = function(le, Ee, ze) {
                var nr, $e = Mn(), qt = Se(!1), Ie = 0;
                return pn({
                    validate: !1,
                    allow_conditional_comments: !0,
                    comment: function(Tr) {
                        $e.comment(Tr)
                    },
                    cdata: function(Tr) {
                        $e.cdata(Tr)
                    },
                    text: function(Tr, Ur) {
                        $e.text(Tr, Ur)
                    },
                    start: function(Tr, Ur, ma) {
                        if (!qt.get())
                            if ($o(Ur.map, "data-ephox-embed-iri"))
                                qt.set(!0),
                                function(le, Ee) {
                                    var ze = Ee.map.style
                                      , $e = ze ? re.parseStyle(ze) : {};
                                    $e["max-width"] = Re(le.width),
                                    $e["max-height"] = Re(le.height),
                                    me(Ee, {
                                        style: re.serializeStyle($e)
                                    })
                                }(Ee, Ur);
                            else {
                                switch (Tr) {
                                case "video":
                                case "object":
                                case "embed":
                                case "img":
                                case "iframe":
                                    void 0 !== Ee.height && void 0 !== Ee.width && me(Ur, {
                                        width: Ee.width,
                                        height: Ee.height
                                    })
                                }
                                if (ze)
                                    switch (Tr) {
                                    case "video":
                                        me(Ur, {
                                            poster: Ee.poster,
                                            src: ""
                                        }),
                                        Ee.altsource && me(Ur, {
                                            src: ""
                                        });
                                        break;
                                    case "iframe":
                                        me(Ur, {
                                            src: Ee.source
                                        });
                                        break;
                                    case "source":
                                        if (Ie < 2 && (me(Ur, {
                                            src: Ee[je[Ie]],
                                            type: Ee[je[Ie] + "mime"]
                                        }),
                                        !Ee[je[Ie]]))
                                            return;
                                        Ie++;
                                        break;
                                    case "img":
                                        if (!Ee.poster)
                                            return;
                                        nr = !0
                                    }
                            }
                        $e.start(Tr, Ur, ma)
                    },
                    end: function(Tr) {
                        if (!qt.get()) {
                            if ("video" === Tr && ze)
                                for (var Ur = 0; Ur < 2; Ur++)
                                    if (Ee[je[Ur]]) {
                                        var ma = [];
                                        ma.map = {},
                                        Ie <= Ur && (me(ma, {
                                            src: Ee[je[Ur]],
                                            type: Ee[je[Ur] + "mime"]
                                        }),
                                        $e.start("source", ma, !0))
                                    }
                            if (Ee.poster && "object" === Tr && ze && !nr) {
                                var so = [];
                                so.map = {},
                                me(so, {
                                    src: Ee.poster,
                                    width: Ee.width,
                                    height: Ee.height
                                }),
                                $e.start("img", so, !0)
                            }
                        }
                        $e.end(Tr)
                    }
                }, kt({})).parse(le),
                $e.getContent()
            }, Bt = [{
                regex: /youtu\.be\/([\w\-_\?&=.]+)/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "www.youtube.com/embed/$1",
                allowFullscreen: !0
            }, {
                regex: /youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "www.youtube.com/embed/$2?$4",
                allowFullscreen: !0
            }, {
                regex: /youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,
                type: "iframe",
                w: 560,
                h: 314,
                url: "www.youtube.com/embed/$1",
                allowFullscreen: !0
            }, {
                regex: /vimeo\.com\/([0-9]+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: "player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",
                allowFullscreen: !0
            }, {
                regex: /vimeo\.com\/(.*)\/([0-9]+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: "player.vimeo.com/video/$2?title=0&amp;byline=0",
                allowFullscreen: !0
            }, {
                regex: /maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,
                type: "iframe",
                w: 425,
                h: 350,
                url: 'maps.google.com/maps/ms?msid=$2&output=embed"',
                allowFullscreen: !1
            }, {
                regex: /dailymotion\.com\/video\/([^_]+)/,
                type: "iframe",
                w: 480,
                h: 270,
                url: "www.dailymotion.com/embed/video/$1",
                allowFullscreen: !0
            }, {
                regex: /dai\.ly\/([^_]+)/,
                type: "iframe",
                w: 480,
                h: 270,
                url: "www.dailymotion.com/embed/video/$1",
                allowFullscreen: !0
            }], $n = function(le, Ee) {
                for (var ze = function(le) {
                    var Ee = le.match(/^(https?:\/\/|www\.)(.+)$/i);
                    return Ee && Ee.length > 1 ? "www." === Ee[1] ? "https://" : Ee[1] : "https://"
                }(Ee), $e = le.regex.exec(Ee), qt = ze + le.url, Ie = function(Tr) {
                    qt = qt.replace("$" + Tr, function() {
                        return $e[Tr] ? $e[Tr] : ""
                    })
                }, nr = 0; nr < $e.length; nr++)
                    Ie(nr);
                return qt.replace(/\?$/, "")
            }, la = function(le, Ee) {
                var ze = qe.extend({}, Ee);
                if (!ze.source && (qe.extend(ze, nn(st(le), ze.embed)),
                !ze.source))
                    return "";
                ze.altsource || (ze.altsource = ""),
                ze.poster || (ze.poster = ""),
                ze.source = le.convertURL(ze.source, "source"),
                ze.altsource = le.convertURL(ze.altsource, "source"),
                ze.sourcemime = ir(ze.source),
                ze.altsourcemime = ir(ze.altsource),
                ze.poster = le.convertURL(ze.poster, "poster");
                var $e = function(le) {
                    var Ee = Bt.filter(function(ze) {
                        return ze.regex.test(le)
                    });
                    return Ee.length > 0 ? qe.extend({}, Ee[0], {
                        url: $n(Ee[0], le)
                    }) : null
                }(ze.source);
                if ($e && (ze.source = $e.url,
                ze.type = $e.type,
                ze.allowfullscreen = $e.allowFullscreen,
                ze.width = ze.width || String($e.w),
                ze.height = ze.height || String($e.h)),
                ze.embed)
                    return We(ze.embed, ze, !0);
                var qt = bn(st(le), ze.source);
                qt && (ze.type = "script",
                ze.width = String(qt.width),
                ze.height = String(qt.height));
                var Ie = function(le) {
                    return le.getParam("audio_template_callback")
                }(le)
                  , nr = function(le) {
                    return le.getParam("video_template_callback")
                }(le);
                return ze.width = ze.width || "300",
                ze.height = ze.height || "150",
                qe.each(ze, function(Tr, Ur) {
                    ze[Ur] = le.dom.encode("" + Tr)
                }),
                "iframe" === ze.type ? function(le) {
                    return '<iframe src="' + le.source + '" width="' + le.width + '" height="' + le.height + '"' + (le.allowfullscreen ? ' allowFullscreen="1"' : "") + "></iframe>"
                }(ze) : "application/x-shockwave-flash" === ze.sourcemime ? function(le) {
                    var Ee = '<object data="' + le.source + '" width="' + le.width + '" height="' + le.height + '" type="application/x-shockwave-flash">';
                    return le.poster && (Ee += '<img src="' + le.poster + '" width="' + le.width + '" height="' + le.height + '" />'),
                    Ee + "</object>"
                }(ze) : -1 !== ze.sourcemime.indexOf("audio") ? function(le, Ee) {
                    return Ee ? Ee(le) : '<audio controls="controls" src="' + le.source + '">' + (le.altsource ? '\n<source src="' + le.altsource + '"' + (le.altsourcemime ? ' type="' + le.altsourcemime + '"' : "") + " />\n" : "") + "</audio>"
                }(ze, Ie) : "script" === ze.type ? function(le) {
                    return '<script src="' + le.source + '"><\/script>'
                }(ze) : function(le, Ee) {
                    return Ee ? Ee(le) : '<video width="' + le.width + '" height="' + le.height + '"' + (le.poster ? ' poster="' + le.poster + '"' : "") + ' controls="controls">\n<source src="' + le.source + '"' + (le.sourcemime ? ' type="' + le.sourcemime + '"' : "") + " />\n" + (le.altsource ? '<source src="' + le.altsource + '"' + (le.altsourcemime ? ' type="' + le.altsourcemime + '"' : "") + " />\n" : "") + "</video>"
                }(ze, nr)
            }, pt = function(le) {
                return le.hasAttribute("data-mce-object") || le.hasAttribute("data-ephox-embed-iri")
            }, Vt = tinymce.util.Tools.resolve("tinymce.util.Promise"), Yt = {}, Sr = function(le) {
                return function(Ee) {
                    return la(le, Ee)
                }
            }, An = function(le, Ee) {
                var ze = function(le) {
                    return le.getParam("media_url_resolver")
                }(le);
                return ze ? function(le, Ee, ze) {
                    return new Vt(function($e, qt) {
                        var Ie = function(nr) {
                            return nr.html && (Yt[le.source] = nr),
                            $e({
                                url: le.source,
                                html: nr.html ? nr.html : Ee(le)
                            })
                        };
                        Yt[le.source] ? Ie(Yt[le.source]) : ze({
                            url: le.source
                        }, Ie, qt)
                    }
                    )
                }(Ee, Sr(le), ze) : function(le, Ee) {
                    return Vt.resolve({
                        html: Ee(le),
                        url: le.source
                    })
                }(Ee, Sr(le))
            }, Ma = function(le, Ee) {
                var ze = Ee ? function(le, Ee) {
                    return Kn(Ee, le).bind(function(ze) {
                        return Kn(ze, "meta")
                    })
                }(Ee, le).getOr({}) : {}
                  , $e = function(le, Ee, ze) {
                    return function($e) {
                        var qt, Ie = function() {
                            return Kn(le, $e)
                        }, nr = function() {
                            return Kn(Ee, $e)
                        }, Tr = function(so) {
                            return Kn(so, "value").bind(function(Fa) {
                                return Fa.length > 0 ? Xe.some(Fa) : Xe.none()
                            })
                        };
                        return (qt = {})[$e] = ($e === ze ? Ie().bind(function(so) {
                            return Lr(so) ? Tr(so).orThunk(nr) : nr().orThunk(function() {
                                return Xe.from(so)
                            })
                        }) : nr().orThunk(function() {
                            return Ie().bind(function(so) {
                                return Lr(so) ? Tr(so) : Xe.from(so)
                            })
                        })).getOr(""),
                        qt
                    }
                }(le, ze, Ee);
                return xr(xr(xr(xr(xr({}, $e("source")), $e("altsource")), $e("poster")), $e("embed")), function(le, Ee) {
                    var ze = {};
                    return Kn(le, "dimensions").each(function($e) {
                        Fn(["width", "height"], function(qt) {
                            Kn(Ee, qt).orThunk(function() {
                                return Kn($e, qt)
                            }).each(function(Ie) {
                                return ze[qt] = Ie
                            })
                        })
                    }),
                    ze
                }(le, ze))
            }, Ra = function(le) {
                var Ee = xr(xr({}, le), {
                    source: {
                        value: Kn(le, "source").getOr("")
                    },
                    altsource: {
                        value: Kn(le, "altsource").getOr("")
                    },
                    poster: {
                        value: Kn(le, "poster").getOr("")
                    }
                });
                return Fn(["width", "height"], function(ze) {
                    Kn(le, ze).each(function($e) {
                        var qt = Ee.dimensions || {};
                        qt[ze] = $e,
                        Ee.dimensions = qt
                    })
                }),
                Ee
            }, Go = function(le) {
                return function(Ee) {
                    le.notificationManager.open({
                        type: "error",
                        text: Ee && Ee.msg ? "Media embed handler error: " + Ee.msg : "Media embed handler threw unknown error."
                    })
                }
            }, xa = function(le, Ee) {
                return nn(st(le), Ee)
            }, Qr = function(le, Ee) {
                return function(ze) {
                    if (Nn(ze.url) && ze.url.trim().length > 0) {
                        var $e = ze.html
                          , qt = xa(Ee, $e)
                          , Ie = xr(xr({}, qt), {
                            source: ze.url,
                            embed: $e
                        });
                        le.setData(Ra(Ie))
                    }
                }
            }, yr = function(le, Ee) {
                var ze = le.dom.select("*[data-mce-object]");
                le.insertContent(Ee),
                function(le, Ee) {
                    for (var ze = le.dom.select("*[data-mce-object]"), $e = 0; $e < Ee.length; $e++)
                        for (var qt = ze.length - 1; qt >= 0; qt--)
                            Ee[$e] === ze[qt] && ze.splice(qt, 1);
                    le.selection.select(ze[0])
                }(le, ze),
                le.nodeChanged()
            }, qo = function(le) {
                var Ee = function(le) {
                    var Ee = le.selection.getNode()
                      , ze = pt(Ee) ? le.serializer.serialize(Ee, {
                        selection: !0
                    }) : "";
                    return xr({
                        embed: ze
                    }, nn(st(le), ze))
                }(le)
                  , ze = Se(Ee)
                  , $e = Ra(Ee)
                  , Ur = function(le) {
                    return le.getParam("media_dimensions", !0)
                }(le) ? [{
                    type: "sizeinput",
                    name: "dimensions",
                    label: "Constrain proportions",
                    constrain: !0
                }] : []
                  , ma = {
                    title: "General",
                    name: "general",
                    items: an([[{
                        name: "source",
                        type: "urlinput",
                        filetype: "media",
                        label: "Source"
                    }], Ur])
                }
                  , Io = [];
                (function(le) {
                    return le.getParam("media_alt_source", !0)
                }
                )(le) && Io.push({
                    name: "altsource",
                    type: "urlinput",
                    filetype: "media",
                    label: "Alternative source URL"
                }),
                function(le) {
                    return le.getParam("media_poster", !0)
                }(le) && Io.push({
                    name: "poster",
                    type: "urlinput",
                    filetype: "image",
                    label: "Media poster (Image URL)"
                });
                var ri = [ma, {
                    title: "Embed",
                    items: [{
                        type: "textarea",
                        name: "embed",
                        label: "Paste your embed code below:"
                    }]
                }];
                Io.length > 0 && ri.push({
                    title: "Advanced",
                    name: "advanced",
                    items: Io
                });
                var Gu = le.windowManager.open({
                    title: "Insert/Edit Media",
                    size: "normal",
                    body: {
                        type: "tabpanel",
                        tabs: ri
                    },
                    buttons: [{
                        type: "cancel",
                        name: "cancel",
                        text: "Cancel"
                    }, {
                        type: "submit",
                        name: "save",
                        text: "Save",
                        primary: !0
                    }],
                    onSubmit: function(Wr) {
                        var Ka = Ma(Wr.getData());
                        (function(le, Ee, ze) {
                            Ee.embed = We(Ee.embed, Ee),
                            Ee.embed && (le.source === Ee.source || function(le) {
                                return $o(Yt, le)
                            }(Ee.source)) ? yr(ze, Ee.embed) : An(ze, Ee).then(function($e) {
                                yr(ze, $e.html)
                            }).catch(Go(ze))
                        }
                        )(ze.get(), Ka, le),
                        Wr.close()
                    },
                    onChange: function(Wr, Ka) {
                        switch (Ka.name) {
                        case "source":
                            !function(Wr, Ka) {
                                var xt = Ma(Ka.getData(), "source");
                                Wr.source !== xt.source && (Qr(Gu, le)({
                                    url: xt.source,
                                    html: ""
                                }),
                                An(le, xt).then(Qr(Gu, le)).catch(Go(le)))
                            }(ze.get(), Wr);
                            break;
                        case "embed":
                            !function(Wr) {
                                var Ka = Ma(Wr.getData())
                                  , xt = xa(le, Ka.embed);
                                Wr.setData(Ra(xt))
                            }(Wr);
                            break;
                        case "dimensions":
                        case "altsource":
                        case "poster":
                            !function(Wr, Ka) {
                                var xt = Ma(Wr.getData(), Ka)
                                  , yo = la(le, xt);
                                Wr.setData(Ra(xr(xr({}, xt), {
                                    embed: yo
                                })))
                            }(Wr, Ka.name)
                        }
                        ze.set(Ma(Wr.getData()))
                    },
                    initialData: $e
                })
            }, bo = tinymce.util.Tools.resolve("tinymce.html.Node"), va = tinymce.util.Tools.resolve("tinymce.Env"), Ga = tinymce.util.Tools.resolve("tinymce.html.DomParser"), qi = function(le, Ee) {
                if (!1 === function(le) {
                    return le.getParam("media_filter_html", !0)
                }(le))
                    return Ee;
                var $e, ze = Mn();
                return pn({
                    validate: !1,
                    allow_conditional_comments: !1,
                    comment: function(qt) {
                        $e || ze.comment(qt)
                    },
                    cdata: function(qt) {
                        $e || ze.cdata(qt)
                    },
                    text: function(qt, Ie) {
                        $e || ze.text(qt, Ie)
                    },
                    start: function(qt, Ie, nr) {
                        if ($e = !0,
                        "script" !== qt && "noscript" !== qt && "svg" !== qt) {
                            for (var Tr = Ie.length - 1; Tr >= 0; Tr--) {
                                var Ur = Ie[Tr].name;
                                0 === Ur.indexOf("on") && (delete Ie.map[Ur],
                                Ie.splice(Tr, 1)),
                                "style" === Ur && (Ie[Tr].value = le.dom.serializeStyle(le.dom.parseStyle(Ie[Tr].value), qt))
                            }
                            ze.start(qt, Ie, nr),
                            $e = !1
                        }
                    },
                    end: function(qt) {
                        $e || ze.end(qt)
                    }
                }, kt({})).parse(Ee),
                ze.getContent()
            }, da = function(le) {
                var Ee = le.name;
                return "iframe" === Ee || "video" === Ee || "audio" === Ee
            }, za = function(le, Ee, ze, $e) {
                void 0 === $e && ($e = null);
                var qt = le.attr(ze);
                return fn(qt) ? qt : $o(Ee, ze) ? null : $e
            }, hu = function(le, Ee, ze) {
                var $e = "img" === Ee.name || "video" === le.name
                  , nr = $e ? "audio" === le.name ? "30" : "150" : null;
                Ee.attr({
                    width: za(le, ze, "width", $e ? "300" : null),
                    height: za(le, ze, "height", nr)
                })
            }, cs = function(le, Ee) {
                var ze = Ee.name
                  , $e = new bo("img",1);
                return $e.shortEnded = !0,
                oa(le, Ee, $e),
                hu(Ee, $e, {}),
                $e.attr({
                    style: Ee.attr("style"),
                    src: va.transparentSrc,
                    "data-mce-object": ze,
                    class: "mce-object mce-object-" + ze
                }),
                $e
            }, Ii = function(le, Ee) {
                var ze = Ee.name
                  , $e = new bo("span",1);
                $e.attr({
                    contentEditable: "false",
                    style: Ee.attr("style"),
                    "data-mce-object": ze,
                    class: "mce-preview-object mce-object-" + ze
                }),
                oa(le, Ee, $e);
                var qt = le.dom.parseStyle(Ee.attr("style"))
                  , Ie = new bo(ze,1);
                if (hu(Ee, Ie, qt),
                Ie.attr({
                    src: Ee.attr("src"),
                    style: Ee.attr("style"),
                    class: Ee.attr("class")
                }),
                "iframe" === ze)
                    Ie.attr({
                        allowfullscreen: Ee.attr("allowfullscreen"),
                        frameborder: "0"
                    });
                else {
                    Fn(["controls", "crossorigin", "currentTime", "loop", "muted", "poster", "preload"], function(ma) {
                        Ie.attr(ma, Ee.attr(ma))
                    });
                    var Tr = $e.attr("data-mce-html");
                    fn(Tr) && function(le, Ee, ze, $e) {
                        for (var qt = Ga({
                            forced_root_block: !1,
                            validate: !1
                        }, le.schema).parse($e, {
                            context: Ee
                        }); qt.firstChild; )
                            ze.append(qt.firstChild)
                    }(le, ze, Ie, unescape(Tr))
                }
                var Ur = new bo("span",1);
                return Ur.attr("class", "mce-shim"),
                $e.append(Ie),
                $e.append(Ur),
                $e
            }, oa = function(le, Ee, ze) {
                for (var $e = Ee.attributes, qt = $e.length; qt--; ) {
                    var Ie = $e[qt].name
                      , nr = $e[qt].value;
                    "width" !== Ie && "height" !== Ie && "style" !== Ie && (("data" === Ie || "src" === Ie) && (nr = le.convertURL(nr, Ie)),
                    ze.attr("data-mce-p-" + Ie, nr))
                }
                var Tr = Ee.firstChild && Ee.firstChild.value;
                Tr && (ze.attr("data-mce-html", escape(qi(le, Tr))),
                ze.firstChild = null)
            }, uo = function(le) {
                var Ee = le.attr("class");
                return Ee && /\btiny-pageembed\b/.test(Ee)
            }, qa = function(le) {
                for (; le = le.parent; )
                    if (le.attr("data-ephox-embed-iri") || uo(le))
                        return !0;
                return !1
            };
            zo.add("media", function(le) {
                return function(le) {
                    le.addCommand("mceMedia", function() {
                        qo(le)
                    })
                }(le),
                function(le) {
                    var Ee = function() {
                        return le.execCommand("mceMedia")
                    };
                    le.ui.registry.addToggleButton("media", {
                        tooltip: "Insert/edit media",
                        icon: "embed",
                        onAction: Ee,
                        onSetup: function(ze) {
                            var $e = le.selection;
                            return ze.setActive(pt($e.getNode())),
                            $e.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]", ze.setActive).unbind
                        }
                    }),
                    le.ui.registry.addMenuItem("media", {
                        icon: "embed",
                        text: "Media...",
                        onAction: Ee
                    })
                }(le),
                function(le) {
                    le.on("ResolveName", function(Ee) {
                        var ze;
                        1 === Ee.target.nodeType && (ze = Ee.target.getAttribute("data-mce-object")) && (Ee.name = ze)
                    })
                }(le),
                function(le) {
                    le.on("preInit", function() {
                        var Ee = le.schema.getSpecialElements();
                        qe.each("video audio iframe object".split(" "), function($e) {
                            Ee[$e] = new RegExp("</" + $e + "[^>]*>","gi")
                        });
                        var ze = le.schema.getBoolAttrs();
                        qe.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "), function($e) {
                            ze[$e] = {}
                        }),
                        le.parser.addNodeFilter("iframe,video,audio,object,embed,script", function(le) {
                            return function(Ee) {
                                for (var $e, qt, ze = Ee.length; ze--; )
                                    ($e = Ee[ze]).parent && ($e.parent.attr("data-mce-object") || "script" === $e.name && !(qt = bn(st(le), $e.attr("src"))) || (qt && (qt.width && $e.attr("width", qt.width.toString()),
                                    qt.height && $e.attr("height", qt.height.toString())),
                                    da($e) && ae(le) && va.ceFalse ? qa($e) || $e.replace(Ii(le, $e)) : qa($e) || $e.replace(cs(le, $e))))
                            }
                        }(le)),
                        le.serializer.addAttributeFilter("data-mce-object", function($e, qt) {
                            for (var nr, Tr, Ur, ma, so, Fa, Io, Sa, Ie = $e.length; Ie--; )
                                if ((nr = $e[Ie]).parent) {
                                    for (Io = nr.attr(qt),
                                    Tr = new bo(Io,1),
                                    "audio" !== Io && "script" !== Io && ((Sa = nr.attr("class")) && -1 !== Sa.indexOf("mce-preview-object") ? Tr.attr({
                                        width: nr.firstChild.attr("width"),
                                        height: nr.firstChild.attr("height")
                                    }) : Tr.attr({
                                        width: nr.attr("width"),
                                        height: nr.attr("height")
                                    })),
                                    Tr.attr({
                                        style: nr.attr("style")
                                    }),
                                    Ur = (ma = nr.attributes).length; Ur--; ) {
                                        var ri = ma[Ur].name;
                                        0 === ri.indexOf("data-mce-p-") && Tr.attr(ri.substr(11), ma[Ur].value)
                                    }
                                    "script" === Io && Tr.attr("type", "text/javascript"),
                                    (so = nr.attr("data-mce-html")) && ((Fa = new bo("#text",3)).raw = !0,
                                    Fa.value = qi(le, unescape(so)),
                                    Tr.append(Fa)),
                                    nr.replace(Tr)
                                }
                        })
                    }),
                    le.on("SetContent", function() {
                        le.$("span.mce-preview-object").each(function(Ee, ze) {
                            var $e = le.$(ze);
                            0 === $e.find("span.mce-shim").length && $e.append('<span class="mce-shim"></span>')
                        })
                    })
                }(le),
                function(le) {
                    le.on("click keyup touchend", function() {
                        var Ee = le.selection.getNode();
                        Ee && le.dom.hasClass(Ee, "mce-preview-object") && le.dom.getAttrib(Ee, "data-mce-selected") && Ee.setAttribute("data-mce-selected", "2")
                    }),
                    le.on("ObjectSelected", function(Ee) {
                        "script" === Ee.target.getAttribute("data-mce-object") && Ee.preventDefault()
                    }),
                    le.on("ObjectResized", function(Ee) {
                        var ze = Ee.target;
                        if (ze.getAttribute("data-mce-object")) {
                            var $e = ze.getAttribute("data-mce-html");
                            $e && ($e = unescape($e),
                            ze.setAttribute("data-mce-html", escape(We($e, {
                                width: String(Ee.width),
                                height: String(Ee.height)
                            }))))
                        }
                    })
                }(le),
                function(le) {
                    return {
                        showDialog: function() {
                            qo(le)
                        }
                    }
                }(le)
            })
        }()
    }
    ,
    38375: ()=>{
        !function() {
            "use strict";
            var zo = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , xr = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , cn = function(gn) {
                return gn.getParam("noneditable_noneditable_class", "mceNonEditable")
            }
              , Lr = function(gn) {
                return function(_t) {
                    return -1 !== (" " + _t.attr("class") + " ").indexOf(gn)
                }
            }
              , vr = function(gn, _t, lr) {
                return function(oo) {
                    var xe = arguments
                      , hn = xe[xe.length - 2]
                      , Cn = hn > 0 ? _t.charAt(hn - 1) : "";
                    if ('"' === Cn)
                        return oo;
                    if (">" === Cn) {
                        var Pt = _t.lastIndexOf("<", hn);
                        if (-1 !== Pt) {
                            var Xe = _t.substring(Pt, hn);
                            if (-1 !== Xe.indexOf('contenteditable="false"'))
                                return oo
                        }
                    }
                    return '<span class="' + lr + '" data-mce-content="' + gn.dom.encode(xe[0]) + '">' + gn.dom.encode("string" == typeof xe[1] ? xe[1] : xe[0]) + "</span>"
                }
            };
            zo.add("noneditable", function(gn) {
                !function(gn) {
                    var _t = "contenteditable"
                      , lr = " " + xr.trim(function(gn) {
                        return gn.getParam("noneditable_editable_class", "mceEditable")
                    }(gn)) + " "
                      , oo = " " + xr.trim(cn(gn)) + " "
                      , xe = Lr(lr)
                      , hn = Lr(oo)
                      , Cn = function(gn) {
                        var _t = gn.getParam("noneditable_regexp", []);
                        return _t && _t.constructor === RegExp ? [_t] : _t
                    }(gn);
                    gn.on("PreInit", function() {
                        Cn.length > 0 && gn.on("BeforeSetContent", function(Pt) {
                            !function(gn, _t, lr) {
                                var oo = _t.length
                                  , xe = lr.content;
                                if ("raw" !== lr.format) {
                                    for (; oo--; )
                                        xe = xe.replace(_t[oo], vr(gn, xe, cn(gn)));
                                    lr.content = xe
                                }
                            }(gn, Cn, Pt)
                        }),
                        gn.parser.addAttributeFilter("class", function(Pt) {
                            for (var Mr, Xe = Pt.length; Xe--; )
                                xe(Mr = Pt[Xe]) ? Mr.attr(_t, "true") : hn(Mr) && Mr.attr(_t, "false")
                        }),
                        gn.serializer.addAttributeFilter(_t, function(Pt) {
                            for (var Mr, Xe = Pt.length; Xe--; )
                                (xe(Mr = Pt[Xe]) || hn(Mr)) && (Cn.length > 0 && Mr.attr("data-mce-content") ? (Mr.name = "#text",
                                Mr.type = 3,
                                Mr.raw = !0,
                                Mr.value = Mr.attr("data-mce-content")) : Mr.attr(_t, null))
                        })
                    })
                }(gn)
            })
        }()
    }
    ,
    68044: ()=>{
        !function() {
            "use strict";
            var B, zo = function(C) {
                var B = C;
                return {
                    get: function() {
                        return B
                    },
                    set: function(Ae) {
                        B = Ae
                    }
                }
            }, xr = tinymce.util.Tools.resolve("tinymce.PluginManager"), wn = ("array",
            function(B) {
                return "array" === function(C) {
                    var B = typeof C;
                    return null === C ? "null" : "object" === B && (Array.prototype.isPrototypeOf(C) || C.constructor && "Array" === C.constructor.name) ? "array" : "object" === B && (String.prototype.isPrototypeOf(C) || C.constructor && "String" === C.constructor.name) ? "string" : B
                }(B)
            }
            ), Hr = function(C) {
                return !function(C) {
                    return null == C
                }(C)
            }, gn = function(B) {
                return "function" == typeof B
            }, _t = function() {}, lr = function(C) {
                return function() {
                    return C
                }
            }, oo = function(C) {
                return C
            }, xe = lr(!1), hn = lr(!0), Cn = function() {
                return Pt
            }, Pt = function() {
                var C = function(ie) {
                    return ie()
                }
                  , B = oo;
                return {
                    fold: function(ie, Ae) {
                        return ie()
                    },
                    isSome: xe,
                    isNone: hn,
                    getOr: B,
                    getOrThunk: C,
                    getOrDie: function(ie) {
                        throw new Error(ie || "error: getOrDie called on none.")
                    },
                    getOrNull: lr(null),
                    getOrUndefined: lr(void 0),
                    or: B,
                    orThunk: C,
                    map: Cn,
                    each: _t,
                    bind: Cn,
                    exists: xe,
                    forall: hn,
                    filter: function() {
                        return Cn()
                    },
                    toArray: function() {
                        return []
                    },
                    toString: lr("none()")
                }
            }(), Xe = function(C) {
                var B = lr(C)
                  , G = function() {
                    return Ae
                }
                  , ie = function(lt) {
                    return lt(C)
                }
                  , Ae = {
                    fold: function(lt, Sn) {
                        return Sn(C)
                    },
                    isSome: hn,
                    isNone: xe,
                    getOr: B,
                    getOrThunk: B,
                    getOrDie: B,
                    getOrNull: B,
                    getOrUndefined: B,
                    or: G,
                    orThunk: G,
                    map: function(lt) {
                        return Xe(lt(C))
                    },
                    each: function(lt) {
                        lt(C)
                    },
                    bind: ie,
                    exists: ie,
                    forall: ie,
                    filter: function(lt) {
                        return lt(C) ? Ae : Pt
                    },
                    toArray: function() {
                        return [C]
                    },
                    toString: function() {
                        return "some(" + C + ")"
                    }
                };
                return Ae
            }, Fn = {
                some: Xe,
                none: Cn,
                from: function(C) {
                    return null == C ? Pt : Xe(C)
                }
            }, an = Array.prototype.slice, Se = Array.prototype.push, _n = function(C, B) {
                for (var G = 0, ie = C.length; G < ie; G++)
                    if (B(C[G], G))
                        return !0;
                return !1
            }, En = function(C, B) {
                for (var G = C.length, ie = new Array(G), Ae = 0; Ae < G; Ae++)
                    ie[Ae] = B(C[Ae], Ae);
                return ie
            }, In = function(C, B) {
                for (var G = 0, ie = C.length; G < ie; G++)
                    B(C[G], G)
            }, ca = gn(Array.from) ? Array.from : function(C) {
                return an.call(C)
            }
            , ae = function() {
                return ae = Object.assign || function(B) {
                    for (var G, ie = 1, Ae = arguments.length; ie < Ae; ie++)
                        for (var lt in G = arguments[ie])
                            Object.prototype.hasOwnProperty.call(G, lt) && (B[lt] = G[lt]);
                    return B
                }
                ,
                ae.apply(this, arguments)
            }, Ct = function() {
                var C = function(C) {
                    var B = zo(Fn.none())
                      , G = function() {
                        return B.get().each(C)
                    };
                    return {
                        clear: function() {
                            G(),
                            B.set(Fn.none())
                        },
                        isSet: function() {
                            return B.get().isSome()
                        },
                        get: function() {
                            return B.get()
                        },
                        set: function(or) {
                            G(),
                            B.set(Fn.some(or))
                        }
                    }
                }(_t);
                return ae(ae({}, C), {
                    on: function(G) {
                        return C.get().each(G)
                    }
                })
            }, Ot = function(C, B, G) {
                return "" === B || C.length >= B.length && C.substr(G, G + B.length) === B
            }, D = tinymce.util.Tools.resolve("tinymce.Env"), pn = tinymce.util.Tools.resolve("tinymce.util.Delay"), bn = tinymce.util.Tools.resolve("tinymce.util.Promise"), tt = tinymce.util.Tools.resolve("tinymce.util.VK"), nn = function(C, B) {
                return C.fire("PastePlainTextToggle", {
                    state: B
                })
            }, kt = tinymce.util.Tools.resolve("tinymce.util.Tools"), re = function(C) {
                return C.getParam("paste_data_images", !1)
            }, Bt = function(C) {
                return C.getParam("paste_merge_formats", !0)
            }, Cr = function(C) {
                return C.getParam("paste_retain_style_properties")
            }, Fo = function(C) {
                return C.getParam("validate")
            }, ja = function(C) {
                return C.getParam("allow_html_data_urls", !1, "boolean")
            }, la = function(C) {
                return C.getParam("paste_data_images", !1, "boolean")
            }, cr = function(C) {
                return kt.explode(C.getParam("images_file_types", "jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp", "string"))
            }, Sr = "x-tinymce/html", An = "\x3c!-- " + Sr + " --\x3e", ee = function(C) {
                return -1 !== C.indexOf(An)
            }, Do = lr(Sr), Ma = Object.hasOwnProperty, Ra = function(C, B) {
                return Ma.call(C, B)
            }, Go = tinymce.util.Tools.resolve("tinymce.html.Entities"), en = tinymce.util.Tools.resolve("tinymce.html.DomParser"), qo = tinymce.util.Tools.resolve("tinymce.html.Serializer"), fa = tinymce.util.Tools.resolve("tinymce.html.Node"), bo = tinymce.util.Tools.resolve("tinymce.html.Schema"), Ga = function(C, B) {
                return kt.each(B, function(G) {
                    C = function(C) {
                        return C.constructor === RegExp
                    }(G) ? C.replace(G, "") : C.replace(G[0], G[1])
                }),
                C
            }, da = function(C) {
                return Ga(C, [/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g, function(G, ie, Ae) {
                    return ie || Ae ? "\xa0" : " "
                }
                ], /<br class="Apple-interchange-newline">/g, /<br>$/i])
            }, Vo = function(C) {
                return /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(C) || /class="OutlineElement/.test(C) || /id="?docs\-internal\-guid\-/.test(C)
            }, cs = function(C) {
                var B = !1;
                return C = C.replace(/^[\u00a0 ]+/, ""),
                kt.each([/^[IVXLMCD]+\.[ \u00a0]/, /^[ivxlmcd]+\.[ \u00a0]/, /^[a-z]{1,2}[\.\)][ \u00a0]/, /^[A-Z]{1,2}[\.\)][ \u00a0]/, /^[0-9]+\.[ \u00a0]/, /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/, /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/], function(ie) {
                    if (ie.test(C))
                        return B = !0,
                        !1
                }),
                B
            }, Ii = function(C) {
                return /^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(C)
            }, uo = function(C, B, G, ie) {
                var Ae = {}
                  , lt = C.dom.parseStyle(ie);
                return kt.each(lt, function(or, Xt) {
                    switch (Xt) {
                    case "mso-list":
                        var un = /\w+ \w+([0-9]+)/i.exec(ie);
                        un && (G._listLevel = parseInt(un[1], 10)),
                        /Ignore/i.test(or) && G.firstChild && (G._listIgnore = !0,
                        G.firstChild._listIgnore = !0);
                        break;
                    case "horiz-align":
                        Xt = "text-align";
                        break;
                    case "vert-align":
                        Xt = "vertical-align";
                        break;
                    case "font-color":
                    case "mso-foreground":
                        Xt = "color";
                        break;
                    case "mso-background":
                    case "mso-highlight":
                        Xt = "background";
                        break;
                    case "font-weight":
                    case "font-style":
                        return void ("normal" !== or && (Ae[Xt] = or));
                    case "mso-element":
                        if (/^(comment|comment-list)$/i.test(or))
                            return void G.remove()
                    }
                    0 !== Xt.indexOf("mso-comment") ? 0 !== Xt.indexOf("mso-") && ("all" === Cr(C) || B && B[Xt]) && (Ae[Xt] = or) : G.remove()
                }),
                /(bold)/i.test(Ae["font-weight"]) && (delete Ae["font-weight"],
                G.wrap(new fa("b",1))),
                /(italic)/i.test(Ae["font-style"]) && (delete Ae["font-style"],
                G.wrap(new fa("i",1))),
                C.dom.serializeStyle(Ae, G.name) || null
            }, pu = function(C, B) {
                return {
                    content: C,
                    cancelled: B
                }
            }, le = function(C, B, G) {
                var ie = Vo(B)
                  , Ae = ie ? function(C, B) {
                    return function(C) {
                        return C.getParam("paste_enable_default_filters", !0)
                    }(C) ? function(C, B) {
                        var G, ie = Cr(C);
                        ie && (G = kt.makeMap(ie.split(/[, ]/))),
                        B = Ga(B, [/<br class="?Apple-interchange-newline"?>/gi, /<b[^>]+id="?docs-internal-[^>]*>/gi, /<!--[\s\S]+?-->/gi, /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi, [/<(\/?)s>/gi, "<$1strike>"], [/&nbsp;/gi, "\xa0"], [/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi, function(Xt, un) {
                            return un.length > 0 ? un.replace(/./, " ").slice(Math.floor(un.length / 2)).split("").join("\xa0") : ""
                        }
                        ]]);
                        var Ae = function(C) {
                            return C.getParam("paste_word_valid_elements", "-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")
                        }(C)
                          , lt = bo({
                            valid_elements: Ae,
                            valid_children: "-li[p]"
                        });
                        kt.each(lt.elements, function(Xt) {
                            Xt.attributes.class || (Xt.attributes.class = {},
                            Xt.attributesOrder.push("class")),
                            Xt.attributes.style || (Xt.attributes.style = {},
                            Xt.attributesOrder.push("style"))
                        });
                        var Sn = en({}, lt);
                        Sn.addAttributeFilter("style", function(Xt) {
                            for (var Bn, un = Xt.length; un--; )
                                (Bn = Xt[un]).attr("style", uo(C, G, Bn, Bn.attr("style"))),
                                "span" === Bn.name && Bn.parent && !Bn.attributes.length && Bn.unwrap()
                        }),
                        Sn.addAttributeFilter("class", function(Xt) {
                            for (var Bn, ur, un = Xt.length; un--; )
                                ur = (Bn = Xt[un]).attr("class"),
                                /^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(ur) && Bn.remove(),
                                Bn.attr("class", null)
                        }),
                        Sn.addNodeFilter("del", function(Xt) {
                            for (var un = Xt.length; un--; )
                                Xt[un].remove()
                        }),
                        Sn.addNodeFilter("a", function(Xt) {
                            for (var Bn, ur, So, un = Xt.length; un--; )
                                if (ur = (Bn = Xt[un]).attr("href"),
                                So = Bn.attr("name"),
                                ur && -1 !== ur.indexOf("#_msocom_"))
                                    Bn.remove();
                                else if (ur && 0 === ur.indexOf("file://") && (ur = ur.split("#")[1]) && (ur = "#" + ur),
                                ur || So) {
                                    if (So && !/^_?(?:toc|edn|ftn)/i.test(So)) {
                                        Bn.unwrap();
                                        continue
                                    }
                                    Bn.attr({
                                        href: ur,
                                        name: So
                                    })
                                } else
                                    Bn.unwrap()
                        });
                        var or = Sn.parse(B);
                        return function(C) {
                            return C.getParam("paste_convert_word_fake_lists", !0)
                        }(C) && function(C) {
                            for (var B, G, ie = 1, Ae = function(dr) {
                                var oi = "";
                                if (3 === dr.type)
                                    return dr.value;
                                if (dr = dr.firstChild)
                                    do {
                                        oi += Ae(dr)
                                    } while (dr = dr.next);
                                return oi
                            }, lt = function(dr, oi) {
                                if (3 === dr.type && oi.test(dr.value))
                                    return dr.value = dr.value.replace(oi, ""),
                                    !1;
                                if (dr = dr.firstChild)
                                    do {
                                        if (!lt(dr, oi))
                                            return !1
                                    } while (dr = dr.next);
                                return !0
                            }, Sn = function(dr) {
                                if (dr._listIgnore)
                                    dr.remove();
                                else if (dr = dr.firstChild)
                                    do {
                                        Sn(dr)
                                    } while (dr = dr.next)
                            }, or = function(dr, oi, Ia) {
                                var no = dr._listLevel || ie;
                                no !== ie && (no < ie ? B && (B = B.parent.parent) : (G = B,
                                B = null)),
                                B && B.name === oi ? B.append(dr) : (G = G || B,
                                B = new fa(oi,1),
                                Ia > 1 && B.attr("start", "" + Ia),
                                dr.wrap(B)),
                                dr.name = "li",
                                no > ie && G && G.lastChild.append(B),
                                ie = no,
                                Sn(dr),
                                lt(dr, /^\u00a0+/),
                                lt(dr, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),
                                lt(dr, /^\u00a0+/)
                            }, Xt = [], un = C.firstChild; null != un; )
                                if (Xt.push(un),
                                null !== (un = un.walk()))
                                    for (; void 0 !== un && un.parent !== C; )
                                        un = un.walk();
                            for (var Bn = 0; Bn < Xt.length; Bn++)
                                if ("p" === (C = Xt[Bn]).name && C.firstChild) {
                                    var ur = Ae(C);
                                    if (Ii(ur)) {
                                        or(C, "ul");
                                        continue
                                    }
                                    if (cs(ur)) {
                                        var So = /([0-9]+)\./.exec(ur)
                                          , to = 1;
                                        So && (to = parseInt(So[1], 10)),
                                        or(C, "ol", to);
                                        continue
                                    }
                                    if (C._listLevel) {
                                        or(C, "ul", 1);
                                        continue
                                    }
                                    B = null
                                } else
                                    G = B,
                                    B = null
                        }(or),
                        qo({
                            validate: Fo(C)
                        }, lt).serialize(or)
                    }(C, B) : B
                }(C, B) : B;
                return function(C, B, G, ie) {
                    var Ae = function(C, B, G, ie) {
                        return C.fire("PastePreProcess", {
                            content: B,
                            internal: G,
                            wordContent: ie
                        })
                    }(C, B, G, ie)
                      , lt = function(C, B) {
                        var G = en({}, C.schema);
                        G.addNodeFilter("meta", function(Ae) {
                            kt.each(Ae, function(lt) {
                                lt.remove()
                            })
                        });
                        var ie = G.parse(B, {
                            forced_root_block: !1,
                            isRootContent: !0
                        });
                        return qo({
                            validate: Fo(C)
                        }, C.schema).serialize(ie)
                    }(C, Ae.content);
                    return C.hasEventListeners("PastePostProcess") && !Ae.isDefaultPrevented() ? function(C, B, G, ie) {
                        var Ae = C.dom.create("div", {
                            style: "display:none"
                        }, B)
                          , lt = function(C, B, G, ie) {
                            return C.fire("PastePostProcess", {
                                node: B,
                                internal: G,
                                wordContent: ie
                            })
                        }(C, Ae, G, ie);
                        return pu(lt.node.innerHTML, lt.isDefaultPrevented())
                    }(C, lt, G, ie) : pu(lt, Ae.isDefaultPrevented())
                }(C, Ae, G, ie)
            }, Ee = function(C, B) {
                return C.insertContent(B, {
                    merge: Bt(C),
                    paste: !0
                }),
                !0
            }, ze = function(C) {
                return /^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(C)
            }, nr = function(C, B, G) {
                return !(!1 !== C.selection.isCollapsed() || !ze(B)) && function(C, B, G) {
                    return C.undoManager.extra(function() {
                        G(C, B)
                    }, function() {
                        C.execCommand("mceInsertLink", !1, B)
                    }),
                    !0
                }(C, B, G)
            }, Tr = function(C, B, G) {
                return !!function(C, B) {
                    return ze(B) && _n(cr(C), function(G) {
                        return function(C, B) {
                            return Ot(C, B, C.length - B.length)
                        }(B.toLowerCase(), "." + G.toLowerCase())
                    })
                }(C, B) && function(C, B, G) {
                    return C.undoManager.extra(function() {
                        G(C, B)
                    }, function() {
                        C.insertContent('<img src="' + B + '">')
                    }),
                    !0
                }(C, B, G)
            }, Fa = function(C) {
                return "\n" === C || "\r" === C
            }, ri = function(C, B, G, ie) {
                var Ae = le(C, B, G);
                !1 === Ae.cancelled && function(C, B, G) {
                    G || !1 === function(C) {
                        return C.getParam("smart_paste", !0)
                    }(C) ? Ee(C, B) : function(C, B) {
                        kt.each([nr, Tr, Ee], function(G) {
                            return !0 !== G(C, B, Ee)
                        })
                    }(C, B)
                }(C, Ae.content, ie)
            }, bu = function(C, B, G) {
                var ie = G || ee(B);
                ri(C, function(C) {
                    return C.replace(An, "")
                }(B), ie, !1)
            }, Gu = function(C, B) {
                var G = C.dom.encode(B).replace(/\r\n/g, "\n")
                  , Ae = function(C, B, G) {
                    return B ? function(C, B, G) {
                        var ie = C.split(/\n\n/)
                          , Ae = function(C, B) {
                            var G = []
                              , ie = "<" + C;
                            if ("object" == typeof B) {
                                for (var Ae in B)
                                    Ra(B, Ae) && G.push(Ae + '="' + Go.encodeAllRaw(B[Ae]) + '"');
                                G.length && (ie += " " + G.join(" "))
                            }
                            return ie + ">"
                        }(B, G)
                          , lt = "</" + B + ">"
                          , Sn = kt.map(ie, function(Xt) {
                            return Xt.split(/\n/).join("<br />")
                        });
                        return 1 === Sn.length ? Sn[0] : kt.map(Sn, function(Xt) {
                            return Ae + Xt + lt
                        }).join("")
                    }(C, !0 === B ? "p" : B, G) : function(C) {
                        return C.replace(/\r?\n/g, "<br>")
                    }(C)
                }(function(C, B) {
                    var G = function(C, B) {
                        return B <= 0 ? "" : new Array(B + 1).join(" ")
                    }(0, function(C) {
                        return C.getParam("paste_tab_spaces", 4, "number")
                    }(C))
                      , ie = B.replace(/\t/g, G)
                      , Ae = function(C, B, G) {
                        return In(C, function(ie, Ae) {
                            G = B(G, ie)
                        }),
                        G
                    }(ie, function(lt, Sn) {
                        return function(C) {
                            return -1 !== " \f\t\v".indexOf(C)
                        }(Sn) || "\xa0" === Sn ? lt.pcIsSpace || "" === lt.str || lt.str.length === ie.length - 1 || function(C, B) {
                            return B < C.length && B >= 0 && Fa(C[B])
                        }(ie, lt.str.length + 1) ? {
                            pcIsSpace: !1,
                            str: lt.str + "\xa0"
                        } : {
                            pcIsSpace: !0,
                            str: lt.str + " "
                        } : {
                            pcIsSpace: Fa(Sn),
                            str: lt.str + Sn
                        }
                    }, {
                        pcIsSpace: !1,
                        str: ""
                    });
                    return Ae.str
                }(C, G), function(C) {
                    return C.getParam("forced_root_block")
                }(C), function(C) {
                    return C.getParam("forced_root_block_attrs")
                }(C));
                ri(C, Ae, !1, !0)
            }, Wr = function(C) {
                var B = {};
                if (C) {
                    if (C.getData) {
                        var ie = C.getData("Text");
                        ie && ie.length > 0 && -1 === ie.indexOf("data:text/mce-internal,") && (B["text/plain"] = ie)
                    }
                    if (C.types)
                        for (var Ae = 0; Ae < C.types.length; Ae++) {
                            var lt = C.types[Ae];
                            try {
                                B[lt] = C.getData(lt)
                            } catch (Sn) {
                                B[lt] = ""
                            }
                        }
                }
                return B
            }, xt = function(C, B) {
                return B in C && C[B].length > 0
            }, yo = function(C) {
                return xt(C, "text/html") || xt(C, "text/plain")
            }, zr = (B = 0,
            function() {
                return "mceclip" + B++
            }
            ), Or = function(C, B, G) {
                var ie = function(C) {
                    return "paste" === C.type
                }(B) ? B.clipboardData : B.dataTransfer;
                if (la(C) && ie) {
                    var Ae = function(C, B) {
                        var G = B.items ? function(C, B) {
                            return function(C) {
                                for (var B = [], G = 0, ie = C.length; G < ie; ++G) {
                                    if (!wn(C[G]))
                                        throw new Error("Arr.flatten item " + G + " was not an array, input: " + C);
                                    Se.apply(B, C[G])
                                }
                                return B
                            }(En(C, B))
                        }(ca(B.items), function(Ae) {
                            return "file" === Ae.kind ? [Ae.getAsFile()] : []
                        }) : []
                          , ie = B.files ? ca(B.files) : [];
                        return function(C, B) {
                            for (var G = [], ie = 0, Ae = C.length; ie < Ae; ie++) {
                                var lt = C[ie];
                                B(lt, ie) && G.push(lt)
                            }
                            return G
                        }(G.length > 0 ? G : ie, function(C) {
                            var B = cr(C);
                            return function(G) {
                                return function(C, B) {
                                    return Ot(C, "image/", 0)
                                }(G.type) && _n(B, function(ie) {
                                    return function(C) {
                                        var B = C.toLowerCase()
                                          , G = {
                                            jpg: "jpeg",
                                            jpe: "jpeg",
                                            jfi: "jpeg",
                                            jif: "jpeg",
                                            jfif: "jpeg",
                                            pjpeg: "jpeg",
                                            pjp: "jpeg",
                                            svg: "svg+xml"
                                        };
                                        return kt.hasOwn(G, B) ? "image/" + G[B] : "image/" + B
                                    }(ie) === G.type
                                })
                            }
                        }(C))
                    }(C, ie);
                    if (Ae.length > 0)
                        return B.preventDefault(),
                        function(C) {
                            return bn.all(En(C, function(B) {
                                return new bn(function(G) {
                                    var ie = function(C) {
                                        return Hr(C.getAsFile)
                                    }(B) ? B.getAsFile() : B
                                      , Ae = new window.FileReader;
                                    Ae.onload = function() {
                                        G({
                                            blob: ie,
                                            uri: Ae.result
                                        })
                                    }
                                    ,
                                    Ae.readAsDataURL(ie)
                                }
                                )
                            }))
                        }(Ae).then(function(lt) {
                            G && C.selection.setRng(G),
                            In(lt, function(Sn) {
                                !function(C, B) {
                                    var G = function(C) {
                                        var B = /data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(C);
                                        return B ? {
                                            type: B[1],
                                            data: decodeURIComponent(B[2])
                                        } : {
                                            type: null,
                                            data: null
                                        }
                                    }(B.uri)
                                      , ie = G.data
                                      , Ae = G.type
                                      , lt = zr()
                                      , Sn = B.blob
                                      , or = new Image;
                                    if (or.src = B.uri,
                                    function(C, B) {
                                        var G = function(C) {
                                            return C.getParam("images_dataimg_filter")
                                        }(C);
                                        return !G || G(B)
                                    }(C, or)) {
                                        var Xt = C.editorUpload.blobCache
                                          , un = void 0
                                          , Bn = Xt.getByData(ie, Ae);
                                        if (Bn)
                                            un = Bn;
                                        else {
                                            var ur = function(C) {
                                                return C.getParam("images_reuse_filename")
                                            }(C) && Hr(Sn.name)
                                              , So = ur ? function(C, B) {
                                                var G = B.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);
                                                return Hr(G) ? C.dom.encode(G[1]) : null
                                            }(C, Sn.name) : lt;
                                            un = Xt.create(lt, Sn, ie, So, ur ? Sn.name : void 0),
                                            Xt.add(un)
                                        }
                                        bu(C, '<img src="' + un.blobUri() + '">', !1)
                                    } else
                                        bu(C, '<img src="' + B.uri + '">', !1)
                                }(C, Sn)
                            })
                        }),
                        !0
                }
                return !1
            }, yu = function(C) {
                return tt.metaKeyPressed(C) && 86 === C.keyCode || C.shiftKey && 45 === C.keyCode
            }, Li = function(C) {
                return D.ie && C.inline ? document.body : C.getBody()
            }, J = function(C) {
                return C.dom.get("mcepastebin")
            }, Ne = function(C, B) {
                return B === C
            }, Nt = function(C, B) {
                var G = J(C);
                return function(C) {
                    return C && "mcepastebin" === C.id
                }(G) && Ne(B, G.innerHTML)
            }, qn = function(C) {
                var B = zo(null)
                  , G = "%MCEPASTEBIN%";
                return {
                    create: function() {
                        return function(C, B, G) {
                            var ie = C.dom
                              , Ae = C.getBody();
                            B.set(C.selection.getRng());
                            var lt = C.dom.add(Li(C), "div", {
                                id: "mcepastebin",
                                class: "mce-pastebin",
                                contentEditable: !0,
                                "data-mce-bogus": "all",
                                style: "position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"
                            }, G);
                            (D.ie || D.gecko) && ie.setStyle(lt, "left", "rtl" === ie.getStyle(Ae, "direction", !0) ? 65535 : -65535),
                            ie.bind(lt, "beforedeactivate focusin focusout", function(Sn) {
                                Sn.stopPropagation()
                            }),
                            function(C, B, G) {
                                (function(C) {
                                    return Li(C) !== C.getBody()
                                }
                                )(C) && C.dom.bind(B, "paste keyup", function(ie) {
                                    Nt(C, G) || C.fire("paste")
                                })
                            }(C, lt, G),
                            lt.focus(),
                            C.selection.select(lt, !0)
                        }(C, B, G)
                    },
                    remove: function() {
                        return function(C, B) {
                            if (J(C)) {
                                for (var G = void 0, ie = B.get(); G = C.dom.get("mcepastebin"); )
                                    C.dom.remove(G),
                                    C.dom.unbind(G);
                                ie && C.selection.setRng(ie)
                            }
                            B.set(null)
                        }(C, B)
                    },
                    getEl: function() {
                        return J(C)
                    },
                    getHtml: function() {
                        return function(C) {
                            var B = function(or, Xt) {
                                or.appendChild(Xt),
                                C.dom.remove(Xt, !0)
                            }
                              , G = kt.grep(Li(C).childNodes, function(or) {
                                return "mcepastebin" === or.id
                            })
                              , ie = G.shift();
                            kt.each(G, function(or) {
                                B(ie, or)
                            });
                            for (var Ae = C.dom.select("div[id=mcepastebin]", ie), lt = Ae.length - 1; lt >= 0; lt--) {
                                var Sn = C.dom.create("div");
                                ie.insertBefore(Sn, Ae[lt]),
                                B(Sn, Ae[lt])
                            }
                            return ie ? ie.innerHTML : ""
                        }(C)
                    },
                    getLastRng: B.get,
                    isDefault: function() {
                        return Nt(C, G)
                    },
                    isDefaultContent: function(ie) {
                        return Ne(G, ie)
                    }
                }
            }, eo = function(C, B) {
                var G = qn(C);
                return C.on("PreInit", function() {
                    return function(C, B, G) {
                        var ie;
                        (function(C, B, G) {
                            var lt, ie = Ct(), Ae = Ct();
                            C.on("keyup", Ae.clear),
                            C.on("keydown", function(Xt) {
                                var un = function(Bn) {
                                    yu(Bn) && !Bn.isDefaultPrevented() && B.remove()
                                };
                                if (yu(Xt) && !Xt.isDefaultPrevented()) {
                                    if ((lt = Xt.shiftKey && 86 === Xt.keyCode) && D.webkit && -1 !== navigator.userAgent.indexOf("Version/"))
                                        return;
                                    if (Xt.stopImmediatePropagation(),
                                    ie.set(Xt),
                                    Ae.set(!0),
                                    D.ie && lt)
                                        return Xt.preventDefault(),
                                        void function(C, B) {
                                            C.fire("paste", {
                                                ieFake: !0
                                            })
                                        }(C);
                                    B.remove(),
                                    B.create(),
                                    C.once("keyup", un),
                                    C.once("paste", function() {
                                        C.off("keyup", un)
                                    })
                                }
                            });
                            var Sn = function(Xt, un, Bn, ur, So) {
                                var to;
                                xt(un, "text/html") ? to = un["text/html"] : (to = B.getHtml(),
                                So = So || ee(to),
                                B.isDefaultContent(to) && (ur = !0)),
                                to = da(to),
                                B.remove();
                                var dr = !1 === So && function(C) {
                                    return !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(C)
                                }(to)
                                  , oi = ze(to);
                                (!to.length || dr && !oi) && (ur = !0),
                                (ur || oi) && (to = xt(un, "text/plain") && dr ? un["text/plain"] : function(C) {
                                    var B = bo()
                                      , G = en({}, B)
                                      , ie = ""
                                      , Ae = B.getShortEndedElements()
                                      , lt = kt.makeMap("script noscript style textarea video audio iframe object", " ")
                                      , Sn = B.getBlockElements()
                                      , or = function(Xt) {
                                        var un = Xt.name
                                          , Bn = Xt;
                                        if ("br" !== un) {
                                            if ("wbr" !== un) {
                                                if (Ae[un] && (ie += " "),
                                                lt[un])
                                                    return void (ie += " ");
                                                if (3 === Xt.type && (ie += Xt.value),
                                                !Xt.shortEnded && (Xt = Xt.firstChild))
                                                    do {
                                                        or(Xt)
                                                    } while (Xt = Xt.next);
                                                Sn[un] && Bn.next && (ie += "\n",
                                                "p" === un && (ie += "\n"))
                                            }
                                        } else
                                            ie += "\n"
                                    };
                                    return C = Ga(C, [/<!\[[^\]]+\]>/g]),
                                    or(G.parse(C)),
                                    ie
                                }(to)),
                                B.isDefaultContent(to) ? Bn || Xt.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.") : ur ? Gu(Xt, to) : bu(Xt, to, So)
                            };
                            C.on("paste", function(Xt) {
                                var un = ie.isSet() || Ae.isSet();
                                un && ie.clear();
                                var Bn = function(C, B) {
                                    return Wr(B.clipboardData || C.getDoc().dataTransfer)
                                }(C, Xt)
                                  , ur = "text" === G.get() || lt
                                  , So = xt(Bn, Do());
                                lt = !1,
                                Xt.isDefaultPrevented() || function(C) {
                                    var B = C.clipboardData;
                                    return -1 !== navigator.userAgent.indexOf("Android") && B && B.items && 0 === B.items.length
                                }(Xt) ? B.remove() : yo(Bn) || !Or(C, Xt, B.getLastRng() || C.selection.getRng()) ? (un || Xt.preventDefault(),
                                D.ie && (!un || Xt.ieFake) && !xt(Bn, "text/html") && (B.create(),
                                C.dom.bind(B.getEl(), "paste", function(to) {
                                    to.stopPropagation()
                                }),
                                C.getDoc().execCommand("Paste", !1, null),
                                Bn["text/html"] = B.getHtml()),
                                xt(Bn, "text/html") ? (Xt.preventDefault(),
                                So || (So = ee(Bn["text/html"])),
                                Sn(C, Bn, un, ur, So)) : pn.setEditorTimeout(C, function() {
                                    Sn(C, Bn, un, ur, So)
                                }, 0)) : B.remove()
                            })
                        }
                        )(C, B, G),
                        C.parser.addNodeFilter("img", function(Ae, lt, Sn) {
                            var So, Xt = function(So) {
                                !So.attr("data-mce-object") && ie !== D.transparentSrc && So.remove()
                            }, un = function(So) {
                                return 0 === So.indexOf("webkit-fake-url")
                            }, Bn = function(So) {
                                return 0 === So.indexOf("data:")
                            };
                            if (!la(C) && (So = Sn).data && !0 === So.data.paste)
                                for (var ur = Ae.length; ur--; )
                                    (ie = Ae[ur].attr("src")) && (un(ie) || !ja(C) && Bn(ie)) && Xt(Ae[ur])
                        })
                    }(C, G, B)
                }),
                {
                    pasteFormat: B,
                    pasteHtml: function(ie, Ae) {
                        return bu(C, ie, Ae)
                    },
                    pasteText: function(ie) {
                        return Gu(C, ie)
                    },
                    pasteImageData: function(ie, Ae) {
                        return Or(C, ie, Ae)
                    },
                    getDataTransferItems: Wr,
                    hasHtmlOrText: yo,
                    hasContentType: xt
                }
            }, Xi = function(C, B, G, ie) {
                !function(C, B, G) {
                    if (!function(C) {
                        return !1 === D.iOS && "function" == typeof (null == C ? void 0 : C.setData)
                    }(C))
                        return !1;
                    try {
                        return C.clearData(),
                        C.setData("text/html", B),
                        C.setData("text/plain", G),
                        C.setData(Do(), B),
                        !0
                    } catch (ie) {
                        return !1
                    }
                }(C.clipboardData, B.html, B.text) ? G(B.html, ie) : (C.preventDefault(),
                ie())
            }, Pa = function(C) {
                return function(B, G) {
                    var ie = function(C) {
                        return An + C
                    }(B)
                      , Ae = C.dom.create("div", {
                        contenteditable: "false",
                        "data-mce-bogus": "all"
                    })
                      , lt = C.dom.create("div", {
                        contenteditable: "true"
                    }, ie);
                    C.dom.setStyles(Ae, {
                        position: "fixed",
                        top: "0",
                        left: "-3000px",
                        width: "1000px",
                        overflow: "hidden"
                    }),
                    Ae.appendChild(lt),
                    C.dom.add(C.getBody(), Ae);
                    var Sn = C.selection.getRng();
                    lt.focus();
                    var or = C.dom.createRng();
                    or.selectNodeContents(lt),
                    C.selection.setRng(or),
                    pn.setTimeout(function() {
                        C.selection.setRng(Sn),
                        Ae.parentNode.removeChild(Ae),
                        G()
                    }, 0)
                }
            }, xu = function(C) {
                return {
                    html: C.selection.getContent({
                        contextual: !0
                    }),
                    text: C.selection.getContent({
                        format: "text"
                    })
                }
            }, Pu = function(C) {
                return !C.selection.isCollapsed() || function(C) {
                    return !!C.dom.getParent(C.selection.getStart(), "td[data-mce-selected],th[data-mce-selected]", C.getBody())
                }(C)
            }, ac = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"), vs = function(C, B) {
                return ac.getCaretRangeFromPoint(B.clientX, B.clientY, C.getDoc())
            }, ka = function(C, B) {
                C.focus(),
                C.selection.setRng(B)
            }, Ya = function(C, B) {
                C.on("PastePreProcess", function(G) {
                    G.content = B(C, G.content, G.internal, G.wordContent)
                })
            }, ds = function(C, B) {
                if (!Vo(B))
                    return B;
                var G = [];
                kt.each(C.schema.getBlockElements(), function(Ae, lt) {
                    G.push(lt)
                });
                var ie = new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" + G.join("|") + ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");
                return B = Ga(B, [[ie, "$1"]]),
                Ga(B, [[/<br><br>/g, "<BR><BR>"], [/<br>/g, " "], [/<BR><BR>/g, "<br>"]])
            }, Ti = function(C, B, G, ie) {
                if (ie || G)
                    return B;
                var lt, Ae = function(C) {
                    return C.getParam("paste_webkit_styles")
                }(C);
                if (!1 === function(C) {
                    return C.getParam("paste_remove_styles_if_webkit", !0)
                }(C) || "all" === Ae)
                    return B;
                if (Ae && (lt = Ae.split(/[, ]/)),
                lt) {
                    var Sn = C.dom
                      , or = C.selection.getNode();
                    B = B.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, function(Xt, un, Bn, ur) {
                        var So = Sn.parseStyle(Sn.decode(Bn))
                          , to = {};
                        if ("none" === lt)
                            return un + ur;
                        for (var dr = 0; dr < lt.length; dr++) {
                            var oi = So[lt[dr]]
                              , Ia = Sn.getStyle(or, lt[dr], !0);
                            /color/.test(lt[dr]) && (oi = Sn.toHex(oi),
                            Ia = Sn.toHex(Ia)),
                            Ia !== oi && (to[lt[dr]] = oi)
                        }
                        var no = Sn.serializeStyle(to, "span");
                        return no ? un + ' style="' + no + '"' + ur : un + ur
                    })
                } else
                    B = B.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3");
                return B.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi, function(Xt, un, Bn, ur) {
                    return un + ' style="' + Bn + '"' + ur
                })
            }, Qo = function(C, B) {
                C.$("a", B).find("font,u").each(function(G, ie) {
                    C.dom.remove(ie, !0)
                })
            }, Es = function(C, B) {
                return function(G) {
                    G.setActive("text" === B.pasteFormat.get());
                    var ie = function(Ae) {
                        return G.setActive(Ae.state)
                    };
                    return C.on("PastePlainTextToggle", ie),
                    function() {
                        return C.off("PastePlainTextToggle", ie)
                    }
                }
            };
            xr.add("paste", function(C) {
                if (!1 === function(C) {
                    return !!C.hasPlugin("powerpaste", !0) && (void 0 !== window.console && window.console.log && window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),
                    !0)
                }(C)) {
                    var B = zo(!1)
                      , G = zo(function(C) {
                        return C.getParam("paste_as_text", !1)
                    }(C) ? "text" : "html")
                      , ie = eo(C, G);
                    return function(C) {
                        D.webkit && Ya(C, Ti),
                        D.ie && (Ya(C, ds),
                        function(C, B) {
                            C.on("PastePostProcess", function(G) {
                                B(C, G.node)
                            })
                        }(C, Qo))
                    }(C),
                    function(C, B) {
                        var G = function() {
                            return C.execCommand("mceTogglePlainTextPaste")
                        };
                        C.ui.registry.addToggleButton("pastetext", {
                            active: !1,
                            icon: "paste-text",
                            tooltip: "Paste as text",
                            onAction: G,
                            onSetup: Es(C, B)
                        }),
                        C.ui.registry.addToggleMenuItem("pastetext", {
                            text: "Paste as text",
                            icon: "paste-text",
                            onAction: G,
                            onSetup: Es(C, B)
                        })
                    }(C, ie),
                    function(C, B) {
                        C.addCommand("mceTogglePlainTextPaste", function() {
                            !function(C, B) {
                                "text" === B.pasteFormat.get() ? (B.pasteFormat.set("html"),
                                nn(C, !1)) : (B.pasteFormat.set("text"),
                                nn(C, !0)),
                                C.focus()
                            }(C, B)
                        }),
                        C.addCommand("mceInsertClipboardContent", function(G, ie) {
                            ie.content && B.pasteHtml(ie.content, ie.internal),
                            ie.text && B.pasteText(ie.text)
                        })
                    }(C, ie),
                    function(C) {
                        var B = C.plugins.paste
                          , G = function(C) {
                            return C.getParam("paste_preprocess")
                        }(C);
                        G && C.on("PastePreProcess", function(Ae) {
                            G.call(B, B, Ae)
                        });
                        var ie = function(C) {
                            return C.getParam("paste_postprocess")
                        }(C);
                        ie && C.on("PastePostProcess", function(Ae) {
                            ie.call(B, B, Ae)
                        })
                    }(C),
                    function(C) {
                        C.on("cut", function(C) {
                            return function(B) {
                                Pu(C) && Xi(B, xu(C), Pa(C), function() {
                                    if (D.browser.isChrome() || D.browser.isFirefox()) {
                                        var G = C.selection.getRng();
                                        pn.setEditorTimeout(C, function() {
                                            C.selection.setRng(G),
                                            C.execCommand("Delete")
                                        }, 0)
                                    } else
                                        C.execCommand("Delete")
                                })
                            }
                        }(C)),
                        C.on("copy", function(C) {
                            return function(B) {
                                Pu(C) && Xi(B, xu(C), Pa(C), _t)
                            }
                        }(C))
                    }(C),
                    function(C, B, G) {
                        (function(C) {
                            return C.getParam("paste_block_drop", !1)
                        }
                        )(C) && C.on("dragend dragover draggesture dragdrop drop drag", function(ie) {
                            ie.preventDefault(),
                            ie.stopPropagation()
                        }),
                        re(C) || C.on("drop", function(ie) {
                            var Ae = ie.dataTransfer;
                            Ae && Ae.files && Ae.files.length > 0 && ie.preventDefault()
                        }),
                        C.on("drop", function(ie) {
                            var Ae = vs(C, ie);
                            if (!ie.isDefaultPrevented() && !G.get()) {
                                var lt = B.getDataTransferItems(ie.dataTransfer)
                                  , Sn = B.hasContentType(lt, Do());
                                if ((B.hasHtmlOrText(lt) && !function(C) {
                                    var B = C["text/plain"];
                                    return !!B && 0 === B.indexOf("file://")
                                }(lt) || !B.pasteImageData(ie, Ae)) && Ae && function(C) {
                                    return C.getParam("paste_filter_drop", !0)
                                }(C)) {
                                    var or = lt["mce-internal"] || lt["text/html"] || lt["text/plain"];
                                    or && (ie.preventDefault(),
                                    pn.setEditorTimeout(C, function() {
                                        C.undoManager.transact(function() {
                                            lt["mce-internal"] && C.execCommand("Delete"),
                                            ka(C, Ae),
                                            or = da(or),
                                            lt["text/html"] ? B.pasteHtml(or, Sn) : B.pasteText(or)
                                        })
                                    }))
                                }
                            }
                        }),
                        C.on("dragstart", function(ie) {
                            G.set(!0)
                        }),
                        C.on("dragover dragend", function(ie) {
                            re(C) && !1 === G.get() && (ie.preventDefault(),
                            ka(C, vs(C, ie))),
                            "dragend" === ie.type && G.set(!1)
                        })
                    }(C, ie, B),
                    function(C) {
                        return {
                            clipboard: C
                        }
                    }(ie)
                }
            })
        }()
    }
    ,
    89486: ()=>{
        !function() {
            "use strict";
            var zo = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , xr = tinymce.util.Tools.resolve("tinymce.Env")
              , cn = tinymce.util.Tools.resolve("tinymce.util.Tools");
            zo.add("preview", function(xe) {
                (function(xe) {
                    xe.addCommand("mcePreview", function() {
                        !function(xe) {
                            var hn = function(xe) {
                                var hn = ""
                                  , Cn = xe.dom.encode
                                  , Pt = function(xe) {
                                    return xe.getParam("content_style", "", "string")
                                }(xe);
                                hn += '<base href="' + Cn(xe.documentBaseURI.getURI()) + '">';
                                var Xe = function(xe) {
                                    return xe.getParam("content_css_cors", !1, "boolean")
                                }(xe) ? ' crossorigin="anonymous"' : "";
                                cn.each(xe.contentCSS, function(Kn) {
                                    hn += '<link type="text/css" rel="stylesheet" href="' + Cn(xe.documentBaseURI.toAbsolute(Kn)) + '"' + Xe + ">"
                                }),
                                Pt && (hn += '<style type="text/css">' + Pt + "</style>");
                                var Mr = function(xe) {
                                    var hn = xe.getParam("body_id", "tinymce", "string");
                                    return -1 === hn.indexOf("=") ? hn : function(xe) {
                                        var hn = xe.getParam("body_id", "", "hash");
                                        return hn[xe.id] || hn
                                    }(xe)
                                }(xe)
                                  , Fn = function(xe) {
                                    var hn = xe.getParam("body_class", "", "string");
                                    return -1 === hn.indexOf("=") ? hn : function(xe) {
                                        return xe.getParam("body_class", "", "hash")[xe.id] || ""
                                    }(xe)
                                }(xe)
                                  , Se = '<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !(' + (xr.mac ? "e.metaKey" : "e.ctrlKey && !e.altKey") + ")) {e.preventDefault();}}}, false);<\/script> "
                                  , _n = xe.getBody().dir
                                  , En = _n ? ' dir="' + Cn(_n) + '"' : "";
                                return "<!DOCTYPE html><html><head>" + hn + '</head><body id="' + Cn(Mr) + '" class="mce-content-body ' + Cn(Fn) + '"' + En + ">" + xe.getContent() + Se + "</body></html>"
                            }(xe);
                            xe.windowManager.open({
                                title: "Preview",
                                size: "large",
                                body: {
                                    type: "panel",
                                    items: [{
                                        name: "preview",
                                        type: "iframe",
                                        sandboxed: !0
                                    }]
                                },
                                buttons: [{
                                    type: "cancel",
                                    name: "close",
                                    text: "Close",
                                    primary: !0
                                }],
                                initialData: {
                                    preview: hn
                                }
                            }).focus("close")
                        }(xe)
                    })
                }
                )(xe),
                function(xe) {
                    var hn = function() {
                        return xe.execCommand("mcePreview")
                    };
                    xe.ui.registry.addButton("preview", {
                        icon: "preview",
                        tooltip: "Preview",
                        onAction: hn
                    }),
                    xe.ui.registry.addMenuItem("preview", {
                        icon: "preview",
                        text: "Preview",
                        onAction: hn
                    })
                }(xe)
            })
        }()
    }
    ,
    15904: ()=>{
        !function() {
            "use strict";
            var xr = function(a) {
                return function(c) {
                    return function(a) {
                        var c = typeof a;
                        return null === a ? "null" : "object" === c && (Array.prototype.isPrototypeOf(a) || a.constructor && "Array" === a.constructor.name) ? "array" : "object" === c && (String.prototype.isPrototypeOf(a) || a.constructor && "String" === a.constructor.name) ? "string" : c
                    }(c) === a
                }
            }
              , cn = function(a) {
                return function(c) {
                    return typeof c === a
                }
            }
              , br = function(a) {
                return function(c) {
                    return a === c
                }
            }
              , Nn = xr("string")
              , Lr = xr("object")
              , vr = xr("array")
              , wn = br(null)
              , fn = cn("boolean")
              , Hr = br(void 0)
              , _t = function(a) {
                return !function(a) {
                    return null == a
                }(a)
            }
              , lr = cn("function")
              , oo = cn("number")
              , xe = function() {}
              , Pt = function(a) {
                return function() {
                    return a
                }
            }
              , Xe = function(a) {
                return a
            }
              , Mr = function(a, c) {
                return a === c
            };
            function Fn(a) {
                for (var c = [], v = 1; v < arguments.length; v++)
                    c[v - 1] = arguments[v];
                return function() {
                    for (var h = [], w = 0; w < arguments.length; w++)
                        h[w] = arguments[w];
                    var E = c.concat(h);
                    return a.apply(null, E)
                }
            }
            var a, c, an = function(a) {
                return function(c) {
                    return !a(c)
                }
            }, _n = Pt(!1), En = Pt(!0), In = function() {
                return Kn
            }, Kn = {
                fold: function(h, w) {
                    return h()
                },
                isSome: _n,
                isNone: En,
                getOr: c = Xe,
                getOrThunk: a = function(h) {
                    return h()
                }
                ,
                getOrDie: function(h) {
                    throw new Error(h || "error: getOrDie called on none.")
                },
                getOrNull: Pt(null),
                getOrUndefined: Pt(void 0),
                or: c,
                orThunk: a,
                map: In,
                each: xe,
                bind: In,
                exists: _n,
                forall: En,
                filter: function() {
                    return In()
                },
                toArray: function() {
                    return []
                },
                toString: Pt("none()")
            }, $o = function(a) {
                var c = Pt(a)
                  , v = function() {
                    return w
                }
                  , h = function(E) {
                    return E(a)
                }
                  , w = {
                    fold: function(E, N) {
                        return N(a)
                    },
                    isSome: En,
                    isNone: _n,
                    getOr: c,
                    getOrThunk: c,
                    getOrDie: c,
                    getOrNull: c,
                    getOrUndefined: c,
                    or: v,
                    orThunk: v,
                    map: function(E) {
                        return $o(E(a))
                    },
                    each: function(E) {
                        E(a)
                    },
                    bind: h,
                    exists: h,
                    forall: h,
                    filter: function(E) {
                        return E(a) ? w : Kn
                    },
                    toArray: function() {
                        return [a]
                    },
                    toString: function() {
                        return "some(" + a + ")"
                    }
                };
                return w
            }, ge = {
                some: $o,
                none: In,
                from: function(a) {
                    return null == a ? Kn : $o(a)
                }
            }, ca = Array.prototype.slice, ae = Array.prototype.indexOf, on = Array.prototype.push, Ot = function(a, c) {
                return function(a, c) {
                    return ae.call(a, c)
                }(a, c) > -1
            }, wt = function(a, c) {
                for (var v = 0, h = a.length; v < h; v++)
                    if (c(a[v], v))
                        return !0;
                return !1
            }, ct = function(a, c) {
                for (var v = [], h = 0; h < a; h++)
                    v.push(c(h));
                return v
            }, qe = function(a, c) {
                for (var v = a.length, h = new Array(v), w = 0; w < v; w++)
                    h[w] = c(a[w], w);
                return h
            }, D = function(a, c) {
                for (var v = 0, h = a.length; v < h; v++)
                    c(a[v], v)
            }, bn = function(a, c) {
                for (var v = [], h = [], w = 0, E = a.length; w < E; w++) {
                    var N = a[w];
                    (c(N, w) ? v : h).push(N)
                }
                return {
                    pass: v,
                    fail: h
                }
            }, tt = function(a, c) {
                for (var v = [], h = 0, w = a.length; h < w; h++) {
                    var E = a[h];
                    c(E, h) && v.push(E)
                }
                return v
            }, kr = function(a, c, v) {
                return function(a, c) {
                    for (var v = a.length - 1; v >= 0; v--)
                        c(a[v], v)
                }(a, function(h, w) {
                    v = c(v, h, w)
                }),
                v
            }, jn = function(a, c, v) {
                return D(a, function(h, w) {
                    v = c(v, h, w)
                }),
                v
            }, ir = function(a, c) {
                return function(a, c, v) {
                    for (var h = 0, w = a.length; h < w; h++) {
                        var E = a[h];
                        if (c(E, h))
                            return ge.some(E);
                        if (v(E, h))
                            break
                    }
                    return ge.none()
                }(a, c, _n)
            }, kt = function(a, c) {
                for (var v = 0, h = a.length; v < h; v++)
                    if (c(a[v], v))
                        return ge.some(v);
                return ge.none()
            }, Mn = function(a) {
                for (var c = [], v = 0, h = a.length; v < h; ++v) {
                    if (!vr(a[v]))
                        throw new Error("Arr.flatten item " + v + " was not an array, input: " + a);
                    on.apply(c, a[v])
                }
                return c
            }, re = function(a, c) {
                return Mn(qe(a, c))
            }, Re = function(a, c) {
                for (var v = 0, h = a.length; v < h; ++v)
                    if (!0 !== c(a[v], v))
                        return !1;
                return !0
            }, Le = function(a, c) {
                for (var v = {}, h = 0, w = a.length; h < w; h++) {
                    var E = a[h];
                    v[String(E)] = c(E, h)
                }
                return v
            }, je = function(a) {
                return [a]
            }, Bt = function(a, c) {
                return c >= 0 && c < a.length ? ge.some(a[c]) : ge.none()
            }, Gn = function(a) {
                return Bt(a, 0)
            }, $n = function(a) {
                return Bt(a, a.length - 1)
            }, Cr = function(a, c) {
                for (var v = 0; v < a.length; v++) {
                    var h = c(a[v], v);
                    if (h.isSome())
                        return h
                }
                return ge.none()
            }, Gt = function() {
                return Gt = Object.assign || function(c) {
                    for (var v, h = 1, w = arguments.length; h < w; h++)
                        for (var E in v = arguments[h])
                            Object.prototype.hasOwnProperty.call(v, E) && (c[E] = v[E]);
                    return c
                }
                ,
                Gt.apply(this, arguments)
            };
            function Un(a, c, v) {
                if (v || 2 === arguments.length)
                    for (var E, h = 0, w = c.length; h < w; h++)
                        (E || !(h in c)) && (E || (E = Array.prototype.slice.call(c, 0, h)),
                        E[h] = c[h]);
                return a.concat(E || Array.prototype.slice.call(c))
            }
            var xo = function(a) {
                var v, c = !1;
                return function() {
                    for (var h = [], w = 0; w < arguments.length; w++)
                        h[w] = arguments[w];
                    return c || (c = !0,
                    v = a.apply(null, h)),
                    v
                }
            }
              , Et = function() {
                return Vt(0, 0)
            }
              , Vt = function(a, c) {
                return {
                    major: a,
                    minor: c
                }
            }
              , Yt = {
                nu: Vt,
                detect: function(a, c) {
                    var v = String(c).toLowerCase();
                    return 0 === a.length ? Et() : function(a, c) {
                        var v = function(a, c) {
                            for (var v = 0; v < a.length; v++) {
                                var h = a[v];
                                if (h.test(c))
                                    return h
                            }
                        }(a, c);
                        if (!v)
                            return {
                                major: 0,
                                minor: 0
                            };
                        var h = function(w) {
                            return Number(c.replace(v, "$" + w))
                        };
                        return Vt(h(1), h(2))
                    }(a, v)
                },
                unknown: Et
            }
              , cr = function(a, c) {
                var v = String(c).toLowerCase();
                return ir(a, function(h) {
                    return h.search(v)
                })
            }
              , Ar = function(a, c, v) {
                return "" === c || a.length >= c.length && a.substr(v, v + c.length) === c
            }
              , Do = function(a, c) {
                return -1 !== a.indexOf(c)
            }
              , Ma = function(a, c) {
                return Ar(a, c, 0)
            }
              , Ra = function(a, c) {
                return Ar(a, c, a.length - c.length)
            }
              , xa = function(a) {
                return function(c) {
                    return c.replace(a, "")
                }
            }(/^\s+|\s+$/g)
              , Mo = function(a) {
                return a.length > 0
            }
              , yr = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/
              , en = function(a) {
                return function(c) {
                    return Do(c, a)
                }
            }
              , qo = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(a) {
                    return Do(a, "edge/") && Do(a, "chrome") && Do(a, "safari") && Do(a, "applewebkit")
                }
            }, {
                name: "Chrome",
                brand: "Chromium",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, yr],
                search: function(a) {
                    return Do(a, "chrome") && !Do(a, "chromeframe")
                }
            }, {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(a) {
                    return Do(a, "msie") || Do(a, "trident")
                }
            }, {
                name: "Opera",
                versionRegexes: [yr, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: en("opera")
            }, {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: en("firefox")
            }, {
                name: "Safari",
                versionRegexes: [yr, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(a) {
                    return (Do(a, "safari") || Do(a, "mobile/")) && Do(a, "applewebkit")
                }
            }]
              , Ca = [{
                name: "Windows",
                search: en("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "iOS",
                search: function(a) {
                    return Do(a, "iphone") || Do(a, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            }, {
                name: "Android",
                search: en("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "OSX",
                search: en("mac os x"),
                versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
            }, {
                name: "Linux",
                search: en("linux"),
                versionRegexes: []
            }, {
                name: "Solaris",
                search: en("sunos"),
                versionRegexes: []
            }, {
                name: "FreeBSD",
                search: en("freebsd"),
                versionRegexes: []
            }, {
                name: "ChromeOS",
                search: en("cros"),
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
            }]
              , fa = {
                browsers: Pt(qo),
                oses: Pt(Ca)
            }
              , da = "Firefox"
              , Vo = function(a) {
                var c = a.current
                  , h = function(w) {
                    return function() {
                        return c === w
                    }
                };
                return {
                    current: c,
                    version: a.version,
                    isEdge: h("Edge"),
                    isChrome: h("Chrome"),
                    isIE: h("IE"),
                    isOpera: h("Opera"),
                    isFirefox: h(da),
                    isSafari: h("Safari")
                }
            }
              , cs_unknown = function() {
                return Vo({
                    current: void 0,
                    version: Yt.unknown()
                })
            }
              , cs_nu = Vo
              , Ii = (Pt("Edge"),
            Pt("Chrome"),
            Pt("IE"),
            Pt("Opera"),
            Pt(da),
            Pt("Safari"),
            "Windows")
              , uo = "Android"
              , ju = "Solaris"
              , pu = "FreeBSD"
              , di = "ChromeOS"
              , le = function(a) {
                var c = a.current
                  , h = function(w) {
                    return function() {
                        return c === w
                    }
                };
                return {
                    current: c,
                    version: a.version,
                    isWindows: h(Ii),
                    isiOS: h("iOS"),
                    isAndroid: h(uo),
                    isOSX: h("OSX"),
                    isLinux: h("Linux"),
                    isSolaris: h(ju),
                    isFreeBSD: h(pu),
                    isChromeOS: h(di)
                }
            }
              , Ee_unknown = function() {
                return le({
                    current: void 0,
                    version: Yt.unknown()
                })
            }
              , Ee_nu = le
              , qt = (Pt(Ii),
            Pt("iOS"),
            Pt(uo),
            Pt("Linux"),
            Pt("OSX"),
            Pt(ju),
            Pt(pu),
            Pt(di),
            function(a) {
                return window.matchMedia(a).matches
            }
            )
              , Ie = xo(function() {
                return function(a, c, v) {
                    var h = fa.browsers()
                      , w = fa.oses()
                      , E = c.bind(function(Q) {
                        return function(a, c) {
                            return Cr(c.brands, function(v) {
                                var h = v.brand.toLowerCase();
                                return ir(a, function(w) {
                                    var E;
                                    return h === (null === (E = w.brand) || void 0 === E ? void 0 : E.toLowerCase())
                                }).map(function(w) {
                                    return {
                                        current: w.name,
                                        version: Yt.nu(parseInt(v.version, 10), 0)
                                    }
                                })
                            })
                        }(h, Q)
                    }).orThunk(function() {
                        return function(a, c) {
                            return cr(a, c).map(function(v) {
                                var h = Yt.detect(v.versionRegexes, c);
                                return {
                                    current: v.name,
                                    version: h
                                }
                            })
                        }(h, a)
                    }).fold(cs_unknown, cs_nu)
                      , N = function(a, c) {
                        return cr(a, c).map(function(v) {
                            var h = Yt.detect(v.versionRegexes, c);
                            return {
                                current: v.name,
                                version: h
                            }
                        })
                    }(w, a).fold(Ee_unknown, Ee_nu)
                      , W = function(a, c, v, h) {
                        var w = a.isiOS() && !0 === /ipad/i.test(v)
                          , E = a.isiOS() && !w
                          , N = a.isiOS() || a.isAndroid()
                          , W = N || h("(pointer:coarse)")
                          , Q = w || !E && N && h("(min-device-width:768px)")
                          , se = E || N && !Q
                          , be = c.isSafari() && a.isiOS() && !1 === /safari/i.test(v)
                          , nt = !se && !Q && !be;
                        return {
                            isiPad: Pt(w),
                            isiPhone: Pt(E),
                            isTablet: Pt(Q),
                            isPhone: Pt(se),
                            isTouch: Pt(W),
                            isAndroid: a.isAndroid,
                            isiOS: a.isiOS,
                            isWebView: Pt(be),
                            isDesktop: Pt(nt)
                        }
                    }(N, E, a, v);
                    return {
                        browser: E,
                        os: N,
                        deviceType: W
                    }
                }(navigator.userAgent, ge.from(navigator.userAgentData), qt)
            })
              , nr = function() {
                return Ie()
            }
              , Wr = function(a) {
                if (null == a)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: a
                }
            }
              , xt = {
                fromHtml: function(a, c) {
                    var h = (c || document).createElement("div");
                    if (h.innerHTML = a,
                    !h.hasChildNodes() || h.childNodes.length > 1)
                        throw console.error("HTML does not have a single root node", a),
                        new Error("HTML must have a single root node");
                    return Wr(h.childNodes[0])
                },
                fromTag: function(a, c) {
                    var h = (c || document).createElement(a);
                    return Wr(h)
                },
                fromText: function(a, c) {
                    var h = (c || document).createTextNode(a);
                    return Wr(h)
                },
                fromDom: Wr,
                fromPoint: function(a, c, v) {
                    return ge.from(a.dom.elementFromPoint(c, v)).map(Wr)
                }
            }
              , yo = function(a, c) {
                var v = a.dom;
                if (1 !== v.nodeType)
                    return !1;
                var h = v;
                if (void 0 !== h.matches)
                    return h.matches(c);
                if (void 0 !== h.msMatchesSelector)
                    return h.msMatchesSelector(c);
                if (void 0 !== h.webkitMatchesSelector)
                    return h.webkitMatchesSelector(c);
                if (void 0 !== h.mozMatchesSelector)
                    return h.mozMatchesSelector(c);
                throw new Error("Browser lacks native selectors")
            }
              , mi = function(a) {
                return 1 !== a.nodeType && 9 !== a.nodeType && 11 !== a.nodeType || 0 === a.childElementCount
            }
              , _s = function(a, c) {
                var v = void 0 === c ? document : c.dom;
                return mi(v) ? ge.none() : ge.from(v.querySelector(a)).map(xt.fromDom)
            }
              , zr = function(a, c) {
                return a.dom === c.dom
            }
              , Si = function(a, c) {
                return nr().browser.isIE() ? function(a, c) {
                    return function(a, c) {
                        return function(a, c, v) {
                            return 0 != (a.compareDocumentPosition(c) & v)
                        }(a, c, Node.DOCUMENT_POSITION_CONTAINED_BY)
                    }(a.dom, c.dom)
                }(a, c) : function(a, c) {
                    var v = a.dom
                      , h = c.dom;
                    return v !== h && v.contains(h)
                }(a, c)
            }
              , ls = yo
              , Ke = Object.keys
              , Oe = Object.hasOwnProperty
              , Or = function(a, c) {
                for (var v = Ke(a), h = 0, w = v.length; h < w; h++) {
                    var E = v[h];
                    c(a[E], E)
                }
            }
              , js = function(a, c) {
                return yu(a, function(v, h) {
                    return {
                        k: h,
                        v: c(v, h)
                    }
                })
            }
              , yu = function(a, c) {
                var v = {};
                return Or(a, function(h, w) {
                    var E = c(h, w);
                    v[E.k] = E.v
                }),
                v
            }
              , Li = function(a, c) {
                var v = {};
                return function(a, c, v, h) {
                    Or(a, function(E, N) {
                        (c(E, N) ? v : h)(E, N)
                    })
                }(a, c, function(a) {
                    return function(c, v) {
                        a[v] = c
                    }
                }(v), xe),
                v
            }
              , Ta = function(a, c) {
                var v = [];
                return Or(a, function(h, w) {
                    v.push(c(h, w))
                }),
                v
            }
              , wu = function(a) {
                return Ta(a, Xe)
            }
              , gi = function(a) {
                return Ke(a).length
            }
              , Ki = function(a, c) {
                return J(a, c) ? ge.from(a[c]) : ge.none()
            }
              , J = function(a, c) {
                return Oe.call(a, c)
            }
              , we = function(a, c) {
                return J(a, c) && null != a[c]
            }
              , at = ["tfoot", "thead", "tbody", "colgroup"]
              , Co = function(a, c, v) {
                return {
                    element: a,
                    rowspan: c,
                    colspan: v
                }
            }
              , Ir = function(a, c, v, h) {
                return {
                    element: a,
                    rowspan: c,
                    colspan: v,
                    isNew: h
                }
            }
              , Xa = function(a, c, v) {
                return {
                    element: a,
                    cells: c,
                    section: v
                }
            }
              , Pa = function(a, c, v) {
                return {
                    element: a,
                    isNew: c,
                    isLocked: v
                }
            }
              , xu = function(a, c, v, h) {
                return {
                    element: a,
                    cells: c,
                    section: v,
                    isNew: h
                }
            };
            "undefined" != typeof window || Function("return this;")();
            var Dr = function(a) {
                return a.dom.nodeName.toLowerCase()
            }
              , Tc = function(a) {
                return a.dom.nodeType
            }
              , ac = function(a) {
                return function(c) {
                    return Tc(c) === a
                }
            }
              , vs = function(a) {
                return 8 === Tc(a) || "#comment" === Dr(a)
            }
              , Yi = ac(1)
              , ka = ac(3)
              , _c = ac(9)
              , Eo = ac(11)
              , Ya = function(a) {
                return function(c) {
                    return Yi(c) && Dr(c) === a
                }
            }
              , qu = function(a) {
                return xt.fromDom(a.dom.ownerDocument)
            }
              , ds = function(a) {
                return _c(a) ? a : qu(a)
            }
              , Qo = function(a) {
                return ge.from(a.dom.parentNode).map(xt.fromDom)
            }
              , Es = function(a, c) {
                for (var v = lr(c) ? c : _n, h = a.dom, w = []; null != h.parentNode; ) {
                    var E = h.parentNode
                      , N = xt.fromDom(E);
                    if (w.push(N),
                    !0 === v(N))
                        break;
                    h = E
                }
                return w
            }
              , L = function(a) {
                return ge.from(a.dom.previousSibling).map(xt.fromDom)
            }
              , R = function(a) {
                return ge.from(a.dom.nextSibling).map(xt.fromDom)
            }
              , C = function(a) {
                return qe(a.dom.childNodes, xt.fromDom)
            }
              , B = function(a, c) {
                return ge.from(a.dom.childNodes[c]).map(xt.fromDom)
            }
              , Ae = lr(Element.prototype.attachShadow) && lr(Node.prototype.getRootNode)
              , lt = Pt(Ae)
              , Sn = Ae ? function(a) {
                return xt.fromDom(a.dom.getRootNode())
            }
            : ds
              , Xt = function(a) {
                return xt.fromDom(a.dom.host)
            }
              , ur = function(a) {
                var c = ka(a) ? a.dom.parentNode : a.dom;
                if (null == c || null === c.ownerDocument)
                    return !1;
                var v = c.ownerDocument;
                return function(a) {
                    var c = Sn(a);
                    return function(a) {
                        return Eo(a) && _t(a.dom.host)
                    }(c) ? ge.some(c) : ge.none()
                }(xt.fromDom(c)).fold(function() {
                    return v.body.contains(c)
                }, function(a, c) {
                    return function(v) {
                        return a(c(v))
                    }
                }(ur, Xt))
            }
              , to = function(a) {
                var c = a.dom.body;
                if (null == c)
                    throw new Error("Body is not available yet");
                return xt.fromDom(c)
            }
              , Ia = function(a, c) {
                var v = [];
                return D(C(a), function(h) {
                    c(h) && (v = v.concat([h])),
                    v = v.concat(Ia(h, c))
                }),
                v
            }
              , no = function(a, c, v) {
                return function(a, c, v) {
                    return tt(Es(a, v), c)
                }(a, function(h) {
                    return yo(h, c)
                }, v)
            }
              , aa = function(a, c) {
                return function(a, c) {
                    return tt(C(a), c)
                }(a, function(v) {
                    return yo(v, c)
                })
            }
              , Ku = function(a, c) {
                return function(a, c) {
                    var v = void 0 === c ? document : c.dom;
                    return mi(v) ? [] : qe(v.querySelectorAll(a), xt.fromDom)
                }(c, a)
            };
            function om(a, c, v, h, w) {
                return a(v, h) ? ge.some(v) : lr(w) && w(v) ? ge.none() : c(v, h, w)
            }
            var wr = function(a, c, v) {
                for (var h = a.dom, w = lr(v) ? v : _n; h.parentNode; ) {
                    var E = xt.fromDom(h = h.parentNode);
                    if (c(E))
                        return ge.some(E);
                    if (w(E))
                        break
                }
                return ge.none()
            }
              , dn = function(a, c, v) {
                return wr(a, function(h) {
                    return yo(h, c)
                }, v)
            }
              , _i = function(a, c) {
                return function(a, c) {
                    return ir(a.dom.childNodes, function(w) {
                        return c(xt.fromDom(w))
                    }).map(xt.fromDom)
                }(a, function(v) {
                    return yo(v, c)
                })
            }
              , Qc = function(a, c) {
                return _s(c, a)
            }
              , Ja = function(a, c, v) {
                return om(function(w, E) {
                    return yo(w, E)
                }, dn, a, c, v)
            }
              , zn = function(a, c, v) {
                if (!(Nn(v) || fn(v) || oo(v)))
                    throw console.error("Invalid call to Attribute.set. Key ", c, ":: Value ", v, ":: Element ", a),
                    new Error("Attribute value was not simple");
                a.setAttribute(c, v + "")
            }
              , Ea = function(a, c, v) {
                zn(a.dom, c, v)
            }
              , Cu = function(a, c) {
                var v = a.dom;
                Or(c, function(h, w) {
                    zn(v, w, h)
                })
            }
              , ic = function(a, c) {
                var v = a.dom.getAttribute(c);
                return null === v ? void 0 : v
            }
              , Bo = function(a, c) {
                return ge.from(ic(a, c))
            }
              , La = function(a, c) {
                a.dom.removeAttribute(c)
            }
              , Qv = function(a) {
                return jn(a.dom.attributes, function(c, v) {
                    return c[v.name] = v.value,
                    c
                }, {})
            }
              , No = function(a, c, v) {
                return void 0 === v && (v = Mr),
                a.exists(function(h) {
                    return v(h, c)
                })
            }
              , uc = function(a) {
                for (var c = [], v = function(w) {
                    c.push(w)
                }, h = 0; h < a.length; h++)
                    a[h].each(v);
                return c
            }
              , jf = function(a, c, v) {
                return a.isSome() && c.isSome() ? ge.some(v(a.getOrDie(), c.getOrDie())) : ge.none()
            }
              , hs = function(a, c) {
                return a ? ge.some(c) : ge.none()
            }
              , Gs = function(a) {
                return void 0 !== a.style && lr(a.style.getPropertyValue)
            }
              , Gf = function(a, c, v) {
                if (!Nn(v))
                    throw console.error("Invalid call to CSS.set. Property ", c, ":: Value ", v, ":: Element ", a),
                    new Error("CSS value must be a string: " + v);
                Gs(a) && a.style.setProperty(c, v)
            }
              , Ha = function(a, c, v) {
                Gf(a.dom, c, v)
            }
              , qs = function(a, c) {
                var v = a.dom;
                Or(c, function(h, w) {
                    Gf(v, w, h)
                })
            }
              , Su = function(a, c) {
                var v = a.dom
                  , w = window.getComputedStyle(v).getPropertyValue(c);
                return "" !== w || ur(a) ? w : ed(v, c)
            }
              , ed = function(a, c) {
                return Gs(a) ? a.style.getPropertyValue(c) : ""
            }
              , Xu = function(a, c) {
                var h = ed(a.dom, c);
                return ge.from(h).filter(function(w) {
                    return w.length > 0
                })
            }
              , Ks = function(a, c) {
                (function(a, c) {
                    Gs(a) && a.style.removeProperty(c)
                }
                )(a.dom, c),
                No(Bo(a, "style").map(xa), "") && La(a, "style")
            }
              , Bu = function(a, c, v) {
                return void 0 === v && (v = 0),
                Bo(a, c).map(function(h) {
                    return parseInt(h, 10)
                }).getOr(v)
            }
              , vf = function(a, c) {
                return Bu(a, c, 1)
            }
              , qf = function(a) {
                return Ya("col")(a) ? Bu(a, "span", 1) > 1 : vf(a, "colspan") > 1
            }
              , td = function(a) {
                return vf(a, "rowspan") > 1
            }
              , nd = function(a, c) {
                return parseInt(Su(a, c), 10)
            }
              , df = Pt(10)
              , rd = Pt(10)
              , El = function(a, c) {
                return od(a, c, En)
            }
              , od = function(a, c, v) {
                return re(C(a), function(h) {
                    return yo(h, c) ? v(h) ? [h] : [] : od(h, c, v)
                })
            }
              , Mi = function(a, c) {
                return function(a, c, v) {
                    return void 0 === v && (v = _n),
                    v(c) ? ge.none() : Ot(a, Dr(c)) ? ge.some(c) : dn(c, a.join(","), function(w) {
                        return yo(w, "table") || v(w)
                    })
                }(["td", "th"], a, c)
            }
              , ai = function(a) {
                return El(a, "th,td")
            }
              , Ri = function(a) {
                return yo(a, "colgroup") ? aa(a, "col") : re(kc(a), function(c) {
                    return aa(c, "col")
                })
            }
              , ao = function(a, c) {
                return Ja(a, "table", c)
            }
              , el = function(a) {
                return El(a, "tr")
            }
              , kc = function(a) {
                return ao(a).fold(Pt([]), function(c) {
                    return aa(c, "colgroup")
                })
            }
              , mf = function(a, c) {
                return qe(a, function(v) {
                    if ("colgroup" === Dr(v)) {
                        var h = qe(Ri(v), function(w) {
                            var E = Bu(w, "span", 1);
                            return Co(w, 1, E)
                        });
                        return Xa(v, h, "colgroup")
                    }
                    return h = qe(ai(v), function(E) {
                        var N = Bu(E, "rowspan", 1)
                          , W = Bu(E, "colspan", 1);
                        return Co(E, N, W)
                    }),
                    Xa(v, h, c(v))
                })
            }
              , Nu = function(a) {
                return Qo(a).map(function(c) {
                    var v = Dr(c);
                    return function(a) {
                        return Ot(at, a)
                    }(v) ? v : "tbody"
                }).getOr("tbody")
            }
              , gf = function(a) {
                var c = el(a)
                  , h = Un(Un([], kc(a), !0), c, !0);
                return mf(h, Nu)
            }
              , iu = function(a, c, v) {
                var h = a.cells
                  , w = h.slice(0, c)
                  , E = h.slice(c)
                  , N = w.concat(v).concat(E);
                return ad(a, N)
            }
              , Dg = function(a, c, v) {
                return iu(a, c, [v])
            }
              , Al = function(a, c, v) {
                a.cells[c] = v
            }
              , ad = function(a, c) {
                return xu(a.element, c, a.section, a.isNew)
            }
              , As = function(a, c) {
                return a.cells[c]
            }
              , hi = function(a, c) {
                return As(a, c).element
            }
              , Ju = function(a) {
                return a.cells.length
            }
              , ii = function(a) {
                var c = bn(a, function(v) {
                    return "colgroup" === v.section
                });
                return {
                    rows: c.fail,
                    cols: c.pass
                }
            }
              , tl = function(a, c, v) {
                var h = qe(a.cells, v);
                return xu(c(a.element), h, a.section, !0)
            }
              , pi = "data-snooker-locked-cols"
              , Vp = function(a) {
                return Bo(a, pi).bind(function(c) {
                    return ge.from(c.match(/\d+/g))
                }).map(function(c) {
                    return Le(c, En)
                })
            }
              , Za = function(a) {
                var c = jn(ii(a).rows, function(h, w) {
                    return D(w.cells, function(E, N) {
                        E.isLocked && (h[N] = !0)
                    }),
                    h
                }, {});
                return function(a, c) {
                    var v = ca.call(a, 0);
                    return v.sort(void 0),
                    v
                }(Ta(c, function(h, w) {
                    return parseInt(w, 10)
                }))
            }
              , Ji = function(a, c) {
                return a + "," + c
            }
              , nl = function(a, c) {
                var v = re(a.all, function(h) {
                    return h.cells
                });
                return tt(v, c)
            }
              , Mg = function(a) {
                var c = {}
                  , v = []
                  , w = Gn(a).map(function(Ut) {
                    return Ut.element
                }).bind(ao).bind(Vp).getOr({})
                  , E = 0
                  , N = 0
                  , W = 0
                  , Q = bn(a, function(Ut) {
                    return "colgroup" === Ut.section
                })
                  , se = Q.pass;
                D(Q.fail, function(Ut) {
                    var Kt = [];
                    D(Ut.cells, function(Qn) {
                        for (var mo = 0; void 0 !== c[Ji(W, mo)]; )
                            mo++;
                        for (var Jn = we(w, mo.toString()), rr = function(a, c, v, h, w, E) {
                            return {
                                element: a,
                                rowspan: c,
                                colspan: v,
                                row: h,
                                column: w,
                                isLocked: E
                            }
                        }(Qn.element, Qn.rowspan, Qn.colspan, W, mo, Jn), Zr = 0; Zr < Qn.colspan; Zr++)
                            for (var $r = 0; $r < Qn.rowspan; $r++) {
                                var tu = mo + Zr
                                  , Vu = Ji(W + $r, tu);
                                c[Vu] = rr,
                                N = Math.max(N, tu + 1)
                            }
                        Kt.push(rr)
                    }),
                    E++,
                    v.push(Xa(Ut.element, Kt, Ut.section)),
                    W++
                });
                var nt = $n(se).map(function(Ut) {
                    var Kt = function(a) {
                        var c = {}
                          , v = 0;
                        return D(a.cells, function(h) {
                            var w = h.colspan;
                            ct(w, function(E) {
                                var N = v + E;
                                c[N] = function(a, c, v) {
                                    return {
                                        element: a,
                                        colspan: c,
                                        column: v
                                    }
                                }(h.element, w, N)
                            }),
                            v += w
                        }),
                        c
                    }(Ut)
                      , Qn = function(a, c) {
                        return {
                            element: a,
                            columns: c
                        }
                    }(Ut.element, wu(Kt));
                    return {
                        colgroups: [Qn],
                        columns: Kt
                    }
                }).getOrThunk(function() {
                    return {
                        colgroups: [],
                        columns: {}
                    }
                })
                  , At = nt.columns
                  , dt = nt.colgroups
                  , rt = function(a, c) {
                    return {
                        rows: a,
                        columns: c
                    }
                }(E, N);
                return {
                    grid: rt,
                    access: c,
                    all: v,
                    columns: At,
                    colgroups: dt
                }
            }
              , Rr_fromTable = function(a) {
                var c = gf(a);
                return Mg(c)
            }
              , Rr_generate = Mg
              , Rr_getAt = function(a, c, v) {
                return ge.from(a.access[Ji(c, v)])
            }
              , Rr_findItem = function(a, c, v) {
                var h = nl(a, function(w) {
                    return v(c, w.element)
                });
                return h.length > 0 ? ge.some(h[0]) : ge.none()
            }
              , Rr_filterItems = nl
              , Rr_justCells = function(a) {
                return re(a.all, function(c) {
                    return c.cells
                })
            }
              , Rr_justColumns = function(a) {
                return wu(a.columns)
            }
              , Rr_hasColumns = function(a) {
                return Ke(a.columns).length > 0
            }
              , Rr_getColumnAt = function(a, c) {
                return ge.from(a.columns[c])
            }
              , Up = function(a, c) {
                return c.column <= a.finishCol && c.column + c.colspan - 1 >= a.startCol && c.row <= a.finishRow && c.row + c.rowspan - 1 >= a.startRow
            }
              , Rg = function(a, c) {
                return c.column >= a.startCol && c.column + c.colspan - 1 <= a.finishCol && c.row >= a.startRow && c.row + c.rowspan - 1 <= a.finishRow
            }
              , Wp = function(a, c, v) {
                var h = Rr_findItem(a, c, zr)
                  , w = Rr_findItem(a, v, zr);
                return h.bind(function(E) {
                    return w.map(function(N) {
                        return function(a, c) {
                            return function(a, c, v, h) {
                                return {
                                    startRow: a,
                                    startCol: c,
                                    finishRow: v,
                                    finishCol: h
                                }
                            }(Math.min(a.row, c.row), Math.min(a.column, c.column), Math.max(a.row + a.rowspan - 1, c.row + c.rowspan - 1), Math.max(a.column + a.colspan - 1, c.column + c.colspan - 1))
                        }(E, N)
                    })
                })
            }
              , Y = function(a, c, v) {
                return Wp(a, c, v).map(function(h) {
                    var w = Rr_filterItems(a, Fn(Up, h));
                    return qe(w, function(E) {
                        return E.element
                    })
                })
            }
              , fe = function(a, c) {
                return Rr_findItem(a, c, function(h, w) {
                    return Si(w, h)
                }).map(function(h) {
                    return h.element
                })
            }
              , Ft = function(a, c, v) {
                var h = Tn(a);
                return Y(h, c, v)
            }
              , Rn = function(a, c, v, h, w) {
                var E = Tn(a)
                  , N = zr(a, v) ? ge.some(c) : fe(E, c)
                  , W = zr(a, w) ? ge.some(h) : fe(E, h);
                return N.bind(function(Q) {
                    return W.bind(function(se) {
                        return Y(E, Q, se)
                    })
                })
            }
              , Tn = Rr_fromTable
              , hr = function(a, c) {
                Qo(a).each(function(h) {
                    h.dom.insertBefore(c.dom, a.dom)
                })
            }
              , fo = function(a, c) {
                R(a).fold(function() {
                    Qo(a).each(function(w) {
                        Aa(w, c)
                    })
                }, function(h) {
                    hr(h, c)
                })
            }
              , $a = function(a, c) {
                var v = function(a) {
                    return B(a, 0)
                }(a);
                v.fold(function() {
                    Aa(a, c)
                }, function(h) {
                    a.dom.insertBefore(c.dom, h.dom)
                })
            }
              , Aa = function(a, c) {
                a.dom.appendChild(c.dom)
            }
              , lm = function(a, c) {
                hr(a, c),
                Aa(c, a)
            }
              , Nw = function(a, c) {
                D(c, function(v, h) {
                    fo(0 === h ? a : c[h - 1], v)
                })
            }
              , Ol = function(a, c) {
                D(c, function(v) {
                    Aa(a, v)
                })
            }
              , Eb = function(a) {
                a.dom.textContent = "",
                D(C(a), function(c) {
                    Os(c)
                })
            }
              , Os = function(a) {
                var c = a.dom;
                null !== c.parentNode && c.parentNode.removeChild(c)
            }
              , zw = function(a) {
                var c = C(a);
                c.length > 0 && function(a, c) {
                    D(c, function(v) {
                        hr(a, v)
                    })
                }(a, c),
                Os(a)
            }
              , Ab = function(a, c) {
                var h = function(E) {
                    return a(E) ? ge.from(E.dom.nodeValue) : ge.none()
                };
                return {
                    get: function(E) {
                        if (!a(E))
                            throw new Error("Can only get text value of a text node");
                        return h(E).getOr("")
                    },
                    getOption: h,
                    set: function(E, N) {
                        if (!a(E))
                            throw new Error("Can only set raw text value of a text node");
                        E.dom.nodeValue = N
                    }
                }
            }(ka)
              , Xf = function(a) {
                return Ab.get(a)
            }
              , qp = function(a) {
                return Ab.getOption(a)
            }
              , ZS = function(a, c) {
                return Ab.set(a, c)
            }
              , QS = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "li", "table", "thead", "tbody", "tfoot", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"];
            function Kp() {
                return {
                    up: Pt({
                        selector: dn,
                        closest: Ja,
                        predicate: wr,
                        all: Es
                    }),
                    down: Pt({
                        selector: Ku,
                        predicate: Ia
                    }),
                    styles: Pt({
                        get: Su,
                        getRaw: Xu,
                        set: Ha,
                        remove: Ks
                    }),
                    attrs: Pt({
                        get: ic,
                        set: Ea,
                        remove: La,
                        copyTo: function(se, be) {
                            var nt = Qv(se);
                            Cu(be, nt)
                        }
                    }),
                    insert: Pt({
                        before: hr,
                        after: fo,
                        afterAll: Nw,
                        append: Aa,
                        appendAll: Ol,
                        prepend: $a,
                        wrap: lm
                    }),
                    remove: Pt({
                        unwrap: zw,
                        remove: Os
                    }),
                    create: Pt({
                        nu: xt.fromTag,
                        clone: function(se) {
                            return xt.fromDom(se.dom.cloneNode(!1))
                        },
                        text: xt.fromText
                    }),
                    query: Pt({
                        comparePosition: function(se, be) {
                            return se.dom.compareDocumentPosition(be.dom)
                        },
                        prevSibling: L,
                        nextSibling: R
                    }),
                    property: Pt({
                        children: C,
                        name: Dr,
                        parent: Qo,
                        document: function(se) {
                            return ds(se).dom
                        },
                        isText: ka,
                        isComment: vs,
                        isElement: Yi,
                        isSpecial: function(se) {
                            var be = Dr(se);
                            return Ot(["script", "noscript", "iframe", "noframes", "noembed", "title", "style", "textarea", "xmp"], be)
                        },
                        getLanguage: function(se) {
                            return Yi(se) ? Bo(se, "lang") : ge.none()
                        },
                        getText: Xf,
                        setText: ZS,
                        isBoundary: function(se) {
                            return !!Yi(se) && ("body" === Dr(se) || Ot(QS, Dr(se)))
                        },
                        isEmptyTag: function(se) {
                            return !!Yi(se) && Ot(["br", "img", "hr", "input"], Dr(se))
                        },
                        isNonEditable: function(se) {
                            return Yi(se) && "false" === ic(se, "contenteditable")
                        }
                    }),
                    eq: zr,
                    is: ls
                }
            }
            var Fw = function(a, c, v, h) {
                var w = c(a, v);
                return kr(h, function(E, N) {
                    var W = c(a, N);
                    return Xp(a, E, W)
                }, w)
            }
              , Xp = function(a, c, v) {
                return c.bind(function(h) {
                    return v.filter(Fn(a.eq, h))
                })
            }
              , Jf = Kp()
              , Yp = function(a, c) {
                return function(a, c, v) {
                    return v.length > 0 ? function(a, c, v, h) {
                        return h(a, c, v[0], v.slice(1))
                    }(a, c, v, Fw) : ge.none()
                }(Jf, function(v, h) {
                    return a(h)
                }, c)
            }
              , Pi = function(a) {
                return dn(a, "table")
            }
              , Wn = function(a, c, v) {
                var h = function(w) {
                    return function(E) {
                        return void 0 !== v && v(E) || zr(E, w)
                    }
                };
                return zr(a, c) ? ge.some({
                    boxes: ge.some([a]),
                    start: a,
                    finish: c
                }) : Pi(a).bind(function(w) {
                    return Pi(c).bind(function(E) {
                        if (zr(w, E))
                            return ge.some({
                                boxes: Ft(w, a, c),
                                start: a,
                                finish: c
                            });
                        if (Si(w, E)) {
                            var W = (N = no(c, "td,th", h(w))).length > 0 ? N[N.length - 1] : c;
                            return ge.some({
                                boxes: Rn(w, a, w, c, E),
                                start: a,
                                finish: W
                            })
                        }
                        if (Si(E, w)) {
                            var N, Q = (N = no(a, "td,th", h(E))).length > 0 ? N[N.length - 1] : a;
                            return ge.some({
                                boxes: Rn(E, a, w, c, E),
                                start: a,
                                finish: Q
                            })
                        }
                        return function(a, c, v) {
                            return function(a, c, v, h) {
                                void 0 === h && (h = _n);
                                var w = [c].concat(a.up().all(c))
                                  , E = [v].concat(a.up().all(v))
                                  , N = function(be) {
                                    return kt(be, h).fold(function() {
                                        return be
                                    }, function(At) {
                                        return be.slice(0, At + 1)
                                    })
                                }
                                  , W = N(w)
                                  , Q = N(E)
                                  , se = ir(W, function(be) {
                                    return wt(Q, function(a, c) {
                                        return Fn(a.eq, c)
                                    }(a, be))
                                });
                                return {
                                    firstpath: W,
                                    secondpath: Q,
                                    shared: se
                                }
                            }(Jf, a, c, void 0)
                        }(a, c).shared.bind(function(se) {
                            return Ja(se, "table", v).bind(function(be) {
                                var nt = no(c, "td,th", h(be))
                                  , At = nt.length > 0 ? nt[nt.length - 1] : c
                                  , dt = no(a, "td,th", h(be))
                                  , rt = dt.length > 0 ? dt[dt.length - 1] : a;
                                return ge.some({
                                    boxes: Rn(be, a, w, c, E),
                                    start: rt,
                                    finish: At
                                })
                            })
                        })
                    })
                })
            }
              , Dl = function(a, c) {
                var v = Ku(a, c);
                return v.length > 0 ? ge.some(v) : ge.none()
            }
              , Tu = function(a, c, v) {
                return Qc(a, c).bind(function(h) {
                    return Qc(a, v).bind(function(w) {
                        return Yp(Pi, [h, w]).map(function(E) {
                            return {
                                first: h,
                                last: w,
                                table: E
                            }
                        })
                    })
                })
            }
              , Jp = function(a, c, v, h, w) {
                return function(a, c) {
                    return ir(a, function(v) {
                        return yo(v, c)
                    })
                }(a, w).bind(function(E) {
                    return function(a, c, v) {
                        return ao(a).bind(function(h) {
                            return function(a, c, v, h) {
                                return Rr_findItem(a, c, zr).bind(function(w) {
                                    return Rr_getAt(a, (v > 0 ? w.row + w.rowspan - 1 : w.row) + v, (h > 0 ? w.column + w.colspan - 1 : w.column) + h).map(function(Q) {
                                        return Q.element
                                    })
                                })
                            }(Tn(h), a, c, v)
                        })
                    }(E, c, v).bind(function(N) {
                        return function(a, c) {
                            return dn(a, "table").bind(function(v) {
                                return Qc(v, c).bind(function(h) {
                                    return Wn(h, a).bind(function(w) {
                                        return w.boxes.map(function(E) {
                                            return {
                                                boxes: E,
                                                start: w.start,
                                                finish: w.finish
                                            }
                                        })
                                    })
                                })
                            })
                        }(N, h)
                    })
                })
            }
              , Oc = function(a, c) {
                return Dl(a, c)
            }
              , Zp = function(a, c, v) {
                return Tu(a, c, v).bind(function(h) {
                    var w = function(Q) {
                        return zr(a, Q)
                    }
                      , E = "thead,tfoot,tbody,table"
                      , N = dn(h.first, E, w)
                      , W = dn(h.last, E, w);
                    return N.bind(function(Q) {
                        return W.bind(function(se) {
                            return zr(Q, se) ? function(a, c, v) {
                                return function(a, c, v) {
                                    return Wp(a, c, v).bind(function(h) {
                                        return function(a, c) {
                                            for (var v = !0, h = Fn(Rg, c), w = c.startRow; w <= c.finishRow; w++)
                                                for (var E = c.startCol; E <= c.finishCol; E++)
                                                    v = v && Rr_getAt(a, w, E).exists(h);
                                            return v ? ge.some(c) : ge.none()
                                        }(a, h)
                                    })
                                }(Tn(a), c, v)
                            }(h.table, h.first, h.last) : ge.none()
                        })
                    })
                })
            }
              , Uo_generate = function(a) {
                if (!vr(a))
                    throw new Error("cases must be an array");
                if (0 === a.length)
                    throw new Error("there must be at least one case");
                var c = []
                  , v = {};
                return D(a, function(h, w) {
                    var E = Ke(h);
                    if (1 !== E.length)
                        throw new Error("one and only one name per case");
                    var N = E[0]
                      , W = h[N];
                    if (void 0 !== v[N])
                        throw new Error("duplicate key detected:" + N);
                    if ("cata" === N)
                        throw new Error("cannot have a case named cata (sorry)");
                    if (!vr(W))
                        throw new Error("case arguments must be an array");
                    c.push(N),
                    v[N] = function() {
                        for (var Q = [], se = 0; se < arguments.length; se++)
                            Q[se] = arguments[se];
                        var be = Q.length;
                        if (be !== W.length)
                            throw new Error("Wrong number of arguments to case " + N + ". Expected " + W.length + " (" + W + "), got " + be);
                        var nt = function(At) {
                            var dt = Ke(At);
                            if (c.length !== dt.length)
                                throw new Error("Wrong number of arguments to match. Expected: " + c.join(",") + "\nActual: " + dt.join(","));
                            if (!Re(c, function(Ut) {
                                return Ot(dt, Ut)
                            }))
                                throw new Error("Not all branches were specified when using match. Specified: " + dt.join(", ") + "\nRequired: " + c.join(", "));
                            return At[N].apply(null, Q)
                        };
                        return {
                            fold: function() {
                                for (var At = [], dt = 0; dt < arguments.length; dt++)
                                    At[dt] = arguments[dt];
                                if (At.length !== a.length)
                                    throw new Error("Wrong number of arguments to fold. Expected " + a.length + ", got " + At.length);
                                var rt = At[w];
                                return rt.apply(null, Q)
                            },
                            match: nt,
                            log: function(At) {
                                console.log(At, {
                                    constructors: c,
                                    constructor: N,
                                    params: Q
                                })
                            }
                        }
                    }
                }),
                v
            }
              , Ds = Uo_generate([{
                none: []
            }, {
                multiple: ["elements"]
            }, {
                single: ["element"]
            }])
              , Dc = function(a, c, v, h) {
                return a.fold(c, v, h)
            }
              , Zi = Ds.none
              , ga = Ds.multiple
              , Qp = Ds.single
              , Ng = tinymce.util.Tools.resolve("tinymce.PluginManager")
              , Zf = function(a, c) {
                return xt.fromDom(a.dom.cloneNode(c))
            }
              , e1 = function(a) {
                return Zf(a, !1)
            }
              , pf = function(a) {
                return Zf(a, !0)
            }
              , Wo = function(a, c) {
                var v = xt.fromTag(c)
                  , h = Qv(a);
                return Cu(v, h),
                v
            }
              , uu = function(a, c) {
                var h = function(W) {
                    var Q = c(W);
                    if (Q <= 0 || null === Q) {
                        var se = Su(W, a);
                        return parseFloat(se) || 0
                    }
                    return Q
                }
                  , E = function(W, Q) {
                    return jn(Q, function(se, be) {
                        var nt = Su(W, be)
                          , At = void 0 === nt ? 0 : parseInt(nt, 10);
                        return isNaN(At) ? se : se + At
                    }, 0)
                };
                return {
                    set: function(W, Q) {
                        if (!oo(Q) && !Q.match(/^[0-9]+$/))
                            throw new Error(a + ".set accepts only positive integer values. Value was " + Q);
                        var se = W.dom;
                        Gs(se) && (se.style[a] = Q + "px")
                    },
                    get: h,
                    getOuter: h,
                    aggregate: E,
                    max: function(W, Q, se) {
                        var be = E(W, se);
                        return Q > be ? Q - be : 0
                    }
                }
            }
              , Qu = function() {
                var a = nr().browser;
                return a.isIE() || a.isEdge()
            }
              , Jo = function(a, c, v) {
                return function(a, c) {
                    return function(a) {
                        var c = parseFloat(a);
                        return isNaN(c) ? ge.none() : ge.some(c)
                    }(a).getOr(c)
                }(Su(a, c), v)
            }
              , $i = function(a) {
                return Su(a, "box-sizing")
            }
              , sd = function(a, c, v, h) {
                return c - Jo(a, "padding-" + v, 0) - Jo(a, "padding-" + h, 0) - Jo(a, "border-" + v + "-width", 0) - Jo(a, "border-" + h + "-width", 0)
            }
              , ui = function(a, c) {
                var v = a.dom
                  , h = v.getBoundingClientRect().width || v.offsetWidth;
                return "border-box" === c ? h : sd(a, h, "left", "right")
            }
              , Rb = uu("width", function(a) {
                return a.dom.offsetWidth
            })
              , yi = function(a) {
                return Rb.get(a)
            }
              , Fg = function(a) {
                return Rb.getOuter(a)
            }
              , cc = function(a) {
                return ui(a, "content-box")
            }
              , Vi = function(a, c) {
                void 0 === c && (c = En);
                var v = a.grid
                  , h = ct(v.columns, Xe)
                  , w = ct(v.rows, Xe);
                return qe(h, function(E) {
                    return To(function() {
                        return re(w, function(se) {
                            return Rr_getAt(a, se, E).filter(function(be) {
                                return be.column === E
                            }).toArray()
                        })
                    }, function(se) {
                        return 1 === se.colspan && c(se.element)
                    }, function() {
                        return Rr_getAt(a, 0, E)
                    })
                })
            }
              , To = function(a, c, v) {
                var h = a();
                return ir(h, c).orThunk(function() {
                    return ge.from(h[0]).orThunk(v)
                }).map(function(N) {
                    return N.element
                })
            }
              , bf = function(a) {
                var c = a.grid
                  , v = ct(c.rows, Xe)
                  , h = ct(c.columns, Xe);
                return qe(v, function(w) {
                    return To(function() {
                        return re(h, function(Q) {
                            return Rr_getAt(a, w, Q).filter(function(se) {
                                return se.row === w
                            }).fold(Pt([]), function(se) {
                                return [se]
                            })
                        })
                    }, function(Q) {
                        return 1 === Q.rowspan
                    }, function() {
                        return Rr_getAt(a, w, 0)
                    })
                })
            }
              , Ko = function(a, c) {
                return function(v) {
                    return "rtl" === rl(v) ? c : a
                }
            }
              , rl = function(a) {
                return "rtl" === Su(a, "direction") ? "rtl" : "ltr"
            }
              , si = uu("height", function(a) {
                var c = a.dom;
                return ur(a) ? c.getBoundingClientRect().height : c.offsetHeight
            })
              , Ui = function(a) {
                return si.get(a)
            }
              , Pb = function(a) {
                return si.getOuter(a)
            }
              , ps = function(a, c) {
                return {
                    left: a,
                    top: c,
                    translate: function(h, w) {
                        return ps(a + h, c + w)
                    }
                }
            }
              , ol = ps
              , al = function(a, c) {
                return void 0 !== a ? a : void 0 !== c ? c : 0
            }
              , Qa = function(a) {
                var c = a.dom.ownerDocument
                  , v = c.body
                  , h = c.defaultView
                  , w = c.documentElement;
                if (v === a.dom)
                    return ol(v.offsetLeft, v.offsetTop);
                var E = al(null == h ? void 0 : h.pageYOffset, w.scrollTop)
                  , N = al(null == h ? void 0 : h.pageXOffset, w.scrollLeft)
                  , W = al(w.clientTop, v.clientTop)
                  , Q = al(w.clientLeft, v.clientLeft);
                return Ba(a).translate(N - Q, E - W)
            }
              , Ba = function(a) {
                var c = a.dom
                  , h = c.ownerDocument.body;
                return h === c ? ol(h.offsetLeft, h.offsetTop) : ur(a) ? function(a) {
                    var c = a.getBoundingClientRect();
                    return ol(c.left, c.top)
                }(c) : ol(0, 0)
            }
              , Ig = function(a, c) {
                return {
                    row: a,
                    y: c
                }
            }
              , Lg = function(a, c) {
                return {
                    col: a,
                    x: c
                }
            }
              , t1 = function(a) {
                return Qa(a).left + Fg(a)
            }
              , Xn = function(a) {
                return Qa(a).left
            }
              , Lw = function(a, c) {
                return Lg(a, Xn(c))
            }
              , bs = function(a, c) {
                return Lg(a, t1(c))
            }
              , Bb = function(a) {
                return Qa(a).top
            }
              , Qf = function(a, c) {
                return Ig(a, Bb(c))
            }
              , Xo = function(a, c) {
                return Ig(a, Bb(c) + Pb(c))
            }
              , Hg = function(a, c, v) {
                if (0 === v.length)
                    return [];
                var h = qe(v.slice(1), function(E, N) {
                    return E.map(function(W) {
                        return a(N, W)
                    })
                })
                  , w = v[v.length - 1].map(function(E) {
                    return c(v.length - 1, E)
                });
                return h.concat([w])
            }
              , Mc = {
                delta: Xe,
                positions: function(a) {
                    return Hg(Qf, Xo, a)
                },
                edge: Bb
            }
              , Rc = {
                delta: Xe,
                edge: Xn,
                positions: function(a) {
                    return Hg(Lw, bs, a)
                }
            }
              , Nb = {
                delta: function(a) {
                    return -a
                },
                edge: t1,
                positions: function(a) {
                    return Hg(bs, Lw, a)
                }
            }
              , n1 = Ko(Rc, Nb)
              , cd = {
                delta: function(a, c) {
                    return n1(c).delta(a, c)
                },
                positions: function(a, c) {
                    return n1(c).positions(a, c)
                },
                edge: function(a) {
                    return n1(a).edge(a)
                }
            }
              , r1 = {
                unsupportedLength: ["em", "ex", "cap", "ch", "ic", "rem", "lh", "rlh", "vw", "vh", "vi", "vb", "vmin", "vmax", "cm", "mm", "Q", "in", "pc", "pt", "px"],
                fixed: ["px", "pt"],
                relative: ["%"],
                empty: [""]
            }
              , o1 = function() {
                var a = "[0-9]+"
                  , v = "[eE][+-]?[0-9]+"
                  , w = function(W) {
                    return "(?:" + W + ")?"
                }
                  , E = ["Infinity", a + "\\." + w(a) + w(v), "\\." + a + w(v), a + w(v)].join("|");
                return new RegExp("^([+-]?(?:" + E + "))(.*)$")
            }()
              , a1 = /(\d+(\.\d+)?)%/
              , ld = /(\d+(\.\d+)?)px|em/
              , Hw = Ya("col")
              , zb = function(a, c, v) {
                var h = function(a) {
                    return ge.from(a.dom.parentElement).map(xt.fromDom)
                }(a).getOrThunk(function() {
                    return to(qu(a))
                });
                return c(a) / v(h) * 100
            }
              , Xs = function(a, c) {
                Ha(a, "width", c + "px")
            }
              , Fb = function(a, c) {
                Ha(a, "width", c + "%")
            }
              , ha = function(a, c) {
                Ha(a, "height", c + "px")
            }
              , $w = function(a) {
                var c = function(a) {
                    return function(a) {
                        return Qu() ? function(a, c) {
                            var v = a.dom
                              , h = v.getBoundingClientRect().height || v.offsetHeight;
                            return "border-box" === c ? h : sd(a, h, "top", "bottom")
                        }(a, $i(a)) : Jo(a, "height", a.dom.offsetHeight)
                    }(a) + "px"
                }(a);
                return c ? function(a, c, v, h) {
                    var w = parseFloat(a);
                    return Ra(a, "%") && "table" !== Dr(c) ? function(a, c, v, h) {
                        var w = ao(a).map(function(E) {
                            var N = v(E);
                            return Math.floor(c / 100 * N)
                        }).getOr(c);
                        return h(a, w),
                        w
                    }(c, w, v, h) : w
                }(c, a, Ui, ha) : Ui(a)
            }
              , wf = function(a, c) {
                return Xu(a, c).orThunk(function() {
                    return Bo(a, c).map(function(v) {
                        return v + "px"
                    })
                })
            }
              , ev = function(a) {
                return wf(a, "width")
            }
              , nv = function(a) {
                return zb(a, yi, cc)
            }
              , xf = function(a) {
                return Hw(a) ? yi(a) : function(a) {
                    return Qu() ? ui(a, $i(a)) : Jo(a, "width", a.dom.offsetWidth)
                }(a)
            }
              , Vw = function(a) {
                return function(a, c, v) {
                    return v(a) / vf(a, "rowspan")
                }(a, 0, $w)
            }
              , u1 = function(a, c, v) {
                Ha(a, "width", c + v)
            }
              , gm = function(a) {
                return zb(a, yi, cc) + "%"
            }
              , Ww = Pt(a1)
              , jw = Ya("col")
              , Oa = function(a) {
                return ev(a).getOrThunk(function() {
                    return xf(a) + "px"
                })
            }
              , Br = function(a) {
                return function(a) {
                    return wf(a, "height")
                }(a).getOrThunk(function() {
                    return Vw(a) + "px"
                })
            }
              , md = function(a, c, v, h, w, E) {
                return a.filter(h).fold(function() {
                    return E(function(a, c) {
                        if (c < 0 || c >= a.length - 1)
                            return ge.none();
                        var v = a[c].fold(function() {
                            var w = function(a) {
                                var c = ca.call(a, 0);
                                return c.reverse(),
                                c
                            }(a.slice(0, c));
                            return Cr(w, function(E, N) {
                                return E.map(function(W) {
                                    return {
                                        value: W,
                                        delta: N + 1
                                    }
                                })
                            })
                        }, function(w) {
                            return ge.some({
                                value: w,
                                delta: 0
                            })
                        })
                          , h = a[c + 1].fold(function() {
                            var w = a.slice(c + 1);
                            return Cr(w, function(E, N) {
                                return E.map(function(W) {
                                    return {
                                        value: W,
                                        delta: N + 1
                                    }
                                })
                            })
                        }, function(w) {
                            return ge.some({
                                value: w,
                                delta: 1
                            })
                        });
                        return v.bind(function(w) {
                            return h.map(function(E) {
                                var N = E.delta + w.delta;
                                return Math.abs(E.value - w.value) / N
                            })
                        })
                    }(v, c))
                }, function(N) {
                    return w(N)
                })
            }
              , Cf = function(a, c, v, h) {
                var w = Vi(a)
                  , E = Rr_hasColumns(a) ? function(a) {
                    return qe(Rr_justColumns(a), function(c) {
                        return ge.from(c.element)
                    })
                }(a) : w
                  , N = [ge.some(cd.edge(c))].concat(qe(cd.positions(w, c), function(Q) {
                    return Q.map(function(se) {
                        return se.x
                    })
                }))
                  , W = an(qf);
                return qe(E, function(Q, se) {
                    return md(Q, se, N, W, function(be) {
                        if (function(a) {
                            var c = nr().browser
                              , v = c.isChrome() || c.isFirefox();
                            return !jw(a) || v
                        }(be))
                            return v(be);
                        var nt = function(a, c) {
                            return null != a ? c(a) : ge.none()
                        }(w[se], Xe);
                        return md(nt, se, N, W, function(At) {
                            return h(ge.some(yi(At)))
                        }, h)
                    }, h)
                })
            }
              , co = function(a) {
                return a.map(function(c) {
                    return c + "px"
                }).getOr("")
            }
              , Lb = function(a, c, v) {
                return Cf(a, c, xf, function(h) {
                    return h.getOrThunk(v.minCellWidth)
                })
            }
              , lc = function(a, c, v, h, w) {
                var E = bf(a)
                  , N = [ge.some(v.edge(c))].concat(qe(v.positions(E, c), function(W) {
                    return W.map(function(Q) {
                        return Q.y
                    })
                }));
                return qe(E, function(W, Q) {
                    return md(W, Q, N, an(td), h, w)
                })
            }
              , Vg = function(a, c) {
                return function() {
                    return ur(a) ? c(a) : parseFloat(Xu(a, "width").getOr("0"))
                }
            }
              , pm = function(a) {
                var c = Vg(a, function(Q) {
                    return parseFloat(gm(Q))
                })
                  , v = Vg(a, yi);
                return {
                    width: c,
                    pixelWidth: v,
                    getWidths: function(Q, se) {
                        return function(a, c, v) {
                            return Cf(a, c, nv, function(h) {
                                return h.fold(function() {
                                    return v.minCellWidth()
                                }, function(w) {
                                    return w / v.pixelWidth() * 100
                                })
                            })
                        }(Q, a, se)
                    },
                    getCellDelta: function(Q) {
                        return Q / v() * 100
                    },
                    singleColumnWidth: function(Q, se) {
                        return [100 - Q]
                    },
                    minCellWidth: function() {
                        return df() / v() * 100
                    },
                    setElementWidth: Fb,
                    adjustTableWidth: function(Q) {
                        var se = c();
                        Fb(a, se + Q / 100 * se)
                    },
                    isRelative: !0,
                    label: "percent"
                }
            }
              , Rs = function(a) {
                var c = Vg(a, yi);
                return {
                    width: c,
                    pixelWidth: c,
                    getWidths: function(N, W) {
                        return Lb(N, a, W)
                    },
                    getCellDelta: Xe,
                    singleColumnWidth: function(N, W) {
                        return [Math.max(df(), N + W) - N]
                    },
                    minCellWidth: df,
                    setElementWidth: Xs,
                    adjustTableWidth: function(N) {
                        var W = c() + N;
                        Xs(a, W)
                    },
                    isRelative: !1,
                    label: "pixel"
                }
            }
              , fc_getTableSize = function(a) {
                return ev(a).fold(function() {
                    return function(a) {
                        var c = Vg(a, yi)
                          , v = Pt(0);
                        return {
                            width: c,
                            pixelWidth: c,
                            getWidths: function(w, E) {
                                return Lb(w, a, E)
                            },
                            getCellDelta: v,
                            singleColumnWidth: Pt([0]),
                            minCellWidth: v,
                            setElementWidth: xe,
                            adjustTableWidth: xe,
                            isRelative: !0,
                            label: "none"
                        }
                    }(a)
                }, function(v) {
                    return function(a, c) {
                        return null !== Ww().exec(c) ? pm(a) : Rs(a)
                    }(a, v)
                })
            }
              , fc_pixelSize = Rs
              , fc_percentageSize = pm
              , bm = function(a, c, v) {
                var h = a[v].element
                  , w = xt.fromTag("td");
                Aa(w, xt.fromTag("br")),
                (c ? Aa : $a)(h, w)
            }
              , Vn = function(a) {
                return "img" === Dr(a) ? 1 : qp(a).fold(function() {
                    return C(a).length
                }, function(c) {
                    return c.length
                })
            }
              , l1 = ["img", "br"]
              , Sf = function(a) {
                var c = function(a) {
                    return qp(a).filter(function(c) {
                        return 0 !== c.trim().length || c.indexOf("\xa0") > -1
                    }).isSome()
                }(a);
                return c || Ot(l1, Dr(a))
            }
              , ym = function(a) {
                return function(a, c) {
                    var v = function(h) {
                        for (var w = 0; w < h.childNodes.length; w++) {
                            var E = xt.fromDom(h.childNodes[w]);
                            if (c(E))
                                return ge.some(E);
                            var N = v(h.childNodes[w]);
                            if (N.isSome())
                                return N
                        }
                        return ge.none()
                    };
                    return v(a.dom)
                }(a, Sf)
            }
              , Lo = function(a) {
                return Vb(a, Sf)
            }
              , Vb = function(a, c) {
                var v = function(h) {
                    for (var w = C(h), E = w.length - 1; E >= 0; E--) {
                        var N = w[E];
                        if (c(N))
                            return ge.some(N);
                        var W = v(N);
                        if (W.isSome())
                            return W
                    }
                    return ge.none()
                };
                return v(a)
            }
              , hd = {
                scope: ["row", "col"]
            }
              , Wg = function(a) {
                return function() {
                    var c = xt.fromTag("td", a.dom);
                    return Aa(c, xt.fromTag("br", a.dom)),
                    c
                }
            }
              , gt = function(a) {
                return function() {
                    return xt.fromTag("col", a.dom)
                }
            }
              , Tf = function(a) {
                return function() {
                    return xt.fromTag("colgroup", a.dom)
                }
            }
              , pd = function(a) {
                return function() {
                    return xt.fromTag("tr", a.dom)
                }
            }
              , jg = function(a, c, v) {
                var h = function(a, c) {
                    var v = Wo(a, c)
                      , h = C(pf(a));
                    return Ol(v, h),
                    v
                }(a, c);
                return Or(v, function(w, E) {
                    null === w ? La(h, E) : Ea(h, E, w)
                }),
                h
            }
              , f1 = function(a) {
                return a
            }
              , ul = function(a, c, v) {
                var h = function(N, W) {
                    (function(a, c) {
                        var v = a.dom
                          , h = c.dom;
                        Gs(v) && Gs(h) && (h.style.cssText = v.style.cssText)
                    }
                    )(N.element, W),
                    Ks(W, "height"),
                    1 !== N.colspan && Ks(W, "width")
                };
                return {
                    col: function(N) {
                        var W = xt.fromTag(Dr(N.element), c.dom);
                        return h(N, W),
                        a(N.element, W),
                        W
                    },
                    colgroup: Tf(c),
                    row: pd(c),
                    cell: function(N) {
                        var W = xt.fromTag(Dr(N.element), c.dom)
                          , Q = v.getOr(["strong", "em", "b", "i", "span", "font", "h1", "h2", "h3", "h4", "h5", "h6", "p", "div"])
                          , se = Q.length > 0 ? function(a, c, v) {
                            return ym(a).map(function(w) {
                                var E = v.join(",")
                                  , N = no(w, E, function(W) {
                                    return zr(W, a)
                                });
                                return kr(N, function(W, Q) {
                                    var se = e1(Q);
                                    return La(se, "contenteditable"),
                                    Aa(W, se),
                                    se
                                }, c)
                            }).getOr(c)
                        }(N.element, W, Q) : W;
                        return Aa(se, xt.fromTag("br")),
                        h(N, W),
                        function(a, c) {
                            Or(hd, function(v, h) {
                                return Bo(a, h).filter(function(w) {
                                    return Ot(v, w)
                                }).each(function(w) {
                                    return Ea(c, h, w)
                                })
                            })
                        }(N.element, W),
                        a(N.element, W),
                        W
                    },
                    replace: jg,
                    colGap: gt(c),
                    gap: Wg(c)
                }
            }
              , d1 = function(a) {
                return {
                    col: gt(a),
                    colgroup: Tf(a),
                    row: pd(a),
                    cell: Wg(a),
                    replace: f1,
                    colGap: gt(a),
                    gap: Wg(a)
                }
            }
              , pa = function(a) {
                return qe(a, xt.fromDom)
            }
              , sl = function(a) {
                return a.nodeName.toLowerCase()
            }
              , dc = function(a) {
                return xt.fromDom(a.getBody())
            }
              , cl = function(a) {
                return a.getBoundingClientRect().width
            }
              , m1 = function(a) {
                return a.getBoundingClientRect().height
            }
              , Ps = function(a) {
                return function(c) {
                    return zr(c, dc(a))
                }
            }
              , Nl = function(a) {
                return /^\d+(\.\d+)?$/.test(a) ? a + "px" : a
            }
              , yd = function(a) {
                La(a, "data-mce-style");
                var c = function(v) {
                    return La(v, "data-mce-style")
                };
                D(ai(a), c),
                D(Ri(a), c),
                D(el(a), c)
            }
              , xm = function(a) {
                return xt.fromDom(a.selection.getStart())
            }
              , g1 = function(a) {
                return Dc(a.get(), Pt([]), Xe, je)
            }
              , Cm = function(a) {
                var c = function(w, E) {
                    return Bo(w, E).exists(function(N) {
                        return parseInt(N, 10) > 1
                    })
                }
                  , h = g1(a);
                return h.length > 0 && Re(h, function(w) {
                    return c(w, "rowspan") || c(w, "colspan")
                }) ? ge.some(h) : ge.none()
            }
              , Pn = function(a, c, v) {
                return Dc(c.get(), ge.none, function(h) {
                    return h.length <= 1 ? ge.none() : Zp(a, v.firstSelectedSelector, v.lastSelectedSelector).map(function(w) {
                        return {
                            bounds: w,
                            cells: h
                        }
                    })
                }, ge.none)
            }
              , lv = {
                selected: "data-mce-selected",
                selectedSelector: "td[data-mce-selected],th[data-mce-selected]",
                firstSelected: "data-mce-first-selected",
                firstSelectedSelector: "td[data-mce-first-selected],th[data-mce-first-selected]",
                lastSelected: "data-mce-last-selected",
                lastSelectedSelector: "td[data-mce-last-selected],th[data-mce-last-selected]"
            }
              , Sm = function(a, c, v) {
                return {
                    element: v,
                    mergable: Pn(c, a, lv),
                    unmergable: Cm(a),
                    selection: g1(a)
                }
            }
              , Wb = function(a) {
                return function(c, v) {
                    var h = Dr(c)
                      , w = "col" === h || "colgroup" === h ? function(a) {
                        return ao(a).bind(function(c) {
                            return Oc(c, lv.firstSelectedSelector)
                        }).fold(Pt(a), function(c) {
                            return c[0]
                        })
                    }(c) : c;
                    return Ja(w, a, v)
                }
            }
              , Kg = Wb("th,td,caption")
              , Tm = Wb("th,td")
              , _m = function(a) {
                return g1(a)
            }
              , zu = function(a, c, v) {
                a.on("BeforeGetContent", function(h) {
                    !0 === h.selection && Dc(c.get(), xe, function(E) {
                        h.preventDefault(),
                        function(a) {
                            return ao(a[0]).map(function(c) {
                                var v = function(a, c) {
                                    var v = function(At) {
                                        return yo(At.element, c)
                                    }
                                      , h = pf(a)
                                      , w = gf(h)
                                      , E = fc_getTableSize(a)
                                      , N = Rr_generate(w)
                                      , W = function(a, c) {
                                        var w = a.grid.rows
                                          , E = a.grid.columns
                                          , N = 0
                                          , W = 0
                                          , Q = []
                                          , se = [];
                                        return Or(a.access, function(be) {
                                            if (Q.push(be),
                                            c(be)) {
                                                se.push(be);
                                                var nt = be.row
                                                  , At = nt + be.rowspan - 1
                                                  , dt = be.column
                                                  , rt = dt + be.colspan - 1;
                                                nt < w ? w = nt : At > N && (N = At),
                                                dt < E ? E = dt : rt > W && (W = rt)
                                            }
                                        }),
                                        function(a, c, v, h, w, E) {
                                            return {
                                                minRow: a,
                                                minCol: c,
                                                maxRow: v,
                                                maxCol: h,
                                                allCells: w,
                                                selectedCells: E
                                            }
                                        }(w, E, N, W, Q, se)
                                    }(N, v)
                                      , Q = "th:not(" + c + "),td:not(" + c + ")"
                                      , se = od(h, "th,td", function(At) {
                                        return yo(At, Q)
                                    });
                                    D(se, Os),
                                    function(a, c, v, h) {
                                        for (var w = c.grid.columns, E = c.grid.rows, N = 0; N < E; N++)
                                            for (var W = !1, Q = 0; Q < w; Q++)
                                                N < v.minRow || N > v.maxRow || Q < v.minCol || Q > v.maxCol || (Rr_getAt(c, N, Q).filter(h).isNone() ? bm(a, W, N) : W = !0)
                                    }(w, N, W, v);
                                    var nt = function(a, c, v, h) {
                                        if (0 === h.minCol && c.grid.columns === h.maxCol + 1)
                                            return 0;
                                        var w = Lb(c, a, v)
                                          , E = jn(w, function(se, be) {
                                            return se + be
                                        }, 0)
                                          , Q = jn(w.slice(h.minCol, h.maxCol + 1), function(se, be) {
                                            return se + be
                                        }, 0) / E * v.pixelWidth() - v.pixelWidth();
                                        return v.getCellDelta(Q)
                                    }(a, Rr_fromTable(a), E, W);
                                    return function(a, c, v, h) {
                                        Or(v.columns, function(N) {
                                            (N.column < c.minCol || N.column > c.maxCol) && Os(N.element)
                                        });
                                        var w = tt(El(a, "tr"), function(N) {
                                            return 0 === N.dom.childElementCount
                                        });
                                        D(w, Os),
                                        (c.minCol === c.maxCol || c.minRow === c.maxRow) && D(El(a, "th,td"), function(N) {
                                            La(N, "rowspan"),
                                            La(N, "colspan")
                                        }),
                                        La(a, pi),
                                        La(a, "data-snooker-col-series"),
                                        fc_getTableSize(a).adjustTableWidth(h)
                                    }(h, W, N, nt),
                                    h
                                }(c, "[data-mce-selected]");
                                return yd(v),
                                [v]
                            })
                        }(E).each(function(N) {
                            h.content = "text" === h.format ? function(a) {
                                return qe(a, function(c) {
                                    return c.dom.innerText
                                }).join("")
                            }(N) : function(a, c) {
                                return qe(c, function(v) {
                                    return a.selection.serializer.serialize(v.dom, {})
                                }).join("")
                            }(a, N)
                        })
                    }, xe)
                }),
                a.on("BeforeSetContent", function(h) {
                    if (!0 === h.selection && !0 === h.paste) {
                        var w = _m(c);
                        Gn(w).each(function(E) {
                            ao(E).each(function(N) {
                                var W = tt(function(a, c) {
                                    var h = document.createElement("div");
                                    return h.innerHTML = a,
                                    C(xt.fromDom(h))
                                }(h.content), function(At) {
                                    return "meta" !== Dr(At)
                                })
                                  , Q = Ya("table");
                                if (1 === W.length && Q(W[0])) {
                                    h.preventDefault();
                                    var se = xt.fromDom(a.getDoc())
                                      , be = d1(se)
                                      , nt = function(a, c, v) {
                                        return {
                                            element: a,
                                            clipboard: c,
                                            generators: v
                                        }
                                    }(E, W[0], be);
                                    v.pasteCells(N, nt).each(function() {
                                        a.focus()
                                    })
                                }
                            })
                        })
                    }
                })
            }
              , Yg = Uo_generate([{
                none: []
            }, {
                only: ["index"]
            }, {
                left: ["index", "next"]
            }, {
                middle: ["prev", "index", "next"]
            }, {
                right: ["prev", "index"]
            }])
              , fv = Gt({}, Yg)
              , jb = function(a, c, v) {
                for (var h = 0, w = a; w < c; w++)
                    h += void 0 !== v[w] ? v[w] : 0;
                return h
            }
              , Zg = function(a, c, v) {
                var h = function(a, c) {
                    return Rr_hasColumns(a) ? function(a, c) {
                        var v = Rr_justColumns(a);
                        return qe(v, function(h, w) {
                            return {
                                element: h.element,
                                width: c[w],
                                colspan: h.colspan
                            }
                        })
                    }(a, c) : function(a, c) {
                        var v = Rr_justCells(a);
                        return qe(v, function(h) {
                            var w = jb(h.column, h.column + h.colspan, c);
                            return {
                                element: h.element,
                                width: w,
                                colspan: h.colspan
                            }
                        })
                    }(a, c)
                }(a, c);
                D(h, function(w) {
                    v.setElementWidth(w.element, w.width)
                })
            }
              , Gb = function(a, c, v, h, w) {
                var E = Rr_fromTable(a)
                  , N = w.getCellDelta(c)
                  , W = w.getWidths(E, w)
                  , Q = v === E.grid.columns - 1
                  , se = h.clampTableDelta(W, v, N, w.minCellWidth(), Q)
                  , be = function(a, c, v, h, w) {
                    var E = a.slice(0)
                      , N = function(a, c) {
                        return 0 === a.length ? fv.none() : 1 === a.length ? fv.only(0) : 0 === c ? fv.left(0, 1) : c === a.length - 1 ? fv.right(c - 1, c) : c > 0 && c < a.length - 1 ? fv.middle(c - 1, c, c + 1) : fv.none()
                    }(a, c)
                      , W = Pt(qe(E, Pt(0)));
                    return N.fold(W, function(At) {
                        return h.singleColumnWidth(E[At], v)
                    }, function(At, dt) {
                        return w.calcLeftEdgeDeltas(E, At, dt, v, h.minCellWidth(), h.isRelative)
                    }, function(At, dt, rt) {
                        return w.calcMiddleDeltas(E, At, dt, rt, v, h.minCellWidth(), h.isRelative)
                    }, function(At, dt) {
                        return w.calcRightEdgeDeltas(E, At, dt, v, h.minCellWidth(), h.isRelative)
                    })
                }(W, v, se, w, h)
                  , nt = qe(be, function(At, dt) {
                    return At + W[dt]
                });
                Zg(E, nt, w),
                h.resizeTable(w.adjustTableWidth, se, Q)
            }
              , p1 = function(a) {
                return qe(a, Pt(0))
            }
              , ox = function(a, c, v, h, w) {
                return w(a.slice(0, c)).concat(h).concat(w(a.slice(v)))
            }
              , gc = function(a) {
                return function(c, v, h, w) {
                    if (a(h)) {
                        var E = Math.max(w, c[v] - Math.abs(h))
                          , N = Math.abs(E - c[v]);
                        return h >= 0 ? N : -N
                    }
                    return h
                }
            }
              , zl = gc(function(a) {
                return a < 0
            })
              , ax = gc(En)
              , vv = function() {
                var c = function(W, Q, se, be) {
                    var nt = (100 + se) / 100
                      , At = Math.max(be, (W[Q] + se) / nt);
                    return qe(W, function(dt, rt) {
                        return (rt === Q ? At : dt / nt) - dt
                    })
                }
                  , v = function(W, Q, se, be, nt, At) {
                    return At ? c(W, Q, be, nt) : function(W, Q, se, be, nt) {
                        var At = zl(W, Q, be, nt);
                        return ox(W, Q, se + 1, [At, 0], p1)
                    }(W, Q, se, be, nt)
                };
                return {
                    resizeTable: function(W, Q) {
                        return W(Q)
                    },
                    clampTableDelta: zl,
                    calcLeftEdgeDeltas: v,
                    calcMiddleDeltas: function(W, Q, se, be, nt, At, dt) {
                        return v(W, se, be, nt, At, dt)
                    },
                    calcRightEdgeDeltas: function(W, Q, se, be, nt, At) {
                        if (At)
                            return c(W, se, be, nt);
                        var dt = zl(W, se, be, nt);
                        return p1(W.slice(0, se)).concat([dt])
                    },
                    calcRedestributedWidths: function(W, Q, se, be) {
                        if (be) {
                            var At = (Q + se) / Q
                              , dt = qe(W, function(rt) {
                                return rt / At
                            });
                            return {
                                delta: 100 * At - 100,
                                newSizes: dt
                            }
                        }
                        return {
                            delta: se,
                            newSizes: W
                        }
                    }
                }
            }
              , km = function() {
                var a = function(N, W, Q, se, be) {
                    var At = ax(N, se >= 0 ? Q : W, se, be);
                    return ox(N, W, Q + 1, [At, -At], p1)
                };
                return {
                    resizeTable: function(N, W, Q) {
                        Q && N(W)
                    },
                    clampTableDelta: function(N, W, Q, se, be) {
                        if (be) {
                            if (Q >= 0)
                                return Q;
                            var nt = jn(N, function(At, dt) {
                                return At + dt - se
                            }, 0);
                            return Math.max(-nt, Q)
                        }
                        return zl(N, W, Q, se)
                    },
                    calcLeftEdgeDeltas: a,
                    calcMiddleDeltas: function(N, W, Q, se, be, nt) {
                        return a(N, Q, se, be, nt)
                    },
                    calcRightEdgeDeltas: function(N, W, Q, se, be, nt) {
                        return nt ? p1(N) : qe(N, Pt(se / N.length))
                    },
                    calcRedestributedWidths: function(N, W, Q, se) {
                        return {
                            delta: 0,
                            newSizes: N
                        }
                    }
                }
            }
              , Qg_only = function(a, c) {
                var v = ge.from(a.dom.documentElement).map(xt.fromDom).getOr(a);
                return {
                    parent: Pt(v),
                    view: Pt(a),
                    origin: Pt(ol(0, 0)),
                    isResizable: c
                }
            }
              , Am = Uo_generate([{
                invalid: ["raw"]
            }, {
                pixels: ["value"]
            }, {
                percent: ["value"]
            }])
              , Om = function(a, c, v) {
                var h = v.substring(0, v.length - a.length)
                  , w = parseFloat(h);
                return h === w.toString() ? c(w) : Am.invalid(v)
            }
              , mv = Gt(Gt({}, Am), {
                from: function(a) {
                    return Ra(a, "%") ? Om("%", Am.percent, a) : Ra(a, "px") ? Om("px", Am.pixels, a) : Am.invalid(a)
                }
            })
              , ea = function(a, c, v) {
                var h = mv.from(v)
                  , w = Re(a, function(E) {
                    return "0px" === E
                }) ? function(a, c) {
                    var v = a.fold(function() {
                        return Pt("")
                    }, function(h) {
                        return Pt(h / c + "px")
                    }, function() {
                        return Pt(100 / c + "%")
                    });
                    return ct(c, v)
                }(h, a.length) : function(a, c, v) {
                    return a.fold(function() {
                        return c
                    }, function(h) {
                        return function(a, c, v) {
                            var h = v / c;
                            return qe(a, function(w) {
                                return mv.from(w).fold(function() {
                                    return w
                                }, function(N) {
                                    return N * h + "px"
                                }, function(N) {
                                    return N / 100 * v + "px"
                                })
                            })
                        }(c, v, h)
                    }, function(h) {
                        return function(a, c) {
                            return qe(a, function(v) {
                                return mv.from(v).fold(function() {
                                    return v
                                }, function(w) {
                                    return w / c * 100 + "%"
                                }, function(w) {
                                    return w + "%"
                                })
                            })
                        }(c, v)
                    })
                }(h, a, c);
                return kf(w)
            }
              , Fc = function(a, c) {
                return 0 === a.length ? c : kr(a, function(v, h) {
                    return mv.from(h).fold(Pt(0), Xe, Xe) + v
                }, 0)
            }
              , ix = function(a, c) {
                return mv.from(a).fold(Pt(a), function(v) {
                    return v + c + "px"
                }, function(v) {
                    return v + c + "%"
                })
            }
              , kf = function(a) {
                if (0 === a.length)
                    return a;
                var c = kr(a, function(h, w) {
                    var E = mv.from(w).fold(function() {
                        return {
                            value: w,
                            remainder: 0
                        }
                    }, function(N) {
                        return function(a, c) {
                            var v = Math.floor(a);
                            return {
                                value: v + "px",
                                remainder: a - v
                            }
                        }(N)
                    }, function(N) {
                        return {
                            value: N + "%",
                            remainder: 0
                        }
                    });
                    return {
                        output: [E.value].concat(h.output),
                        remainder: h.remainder + E.remainder
                    }
                }, {
                    output: [],
                    remainder: 0
                })
                  , v = c.output;
                return v.slice(0, v.length - 1).concat([ix(v[v.length - 1], Math.round(c.remainder))])
            }
              , Dm = mv.from
              , sx = function(a) {
                return Dm(a).fold(Pt("px"), Pt("px"), Pt("%"))
            }
              , cx = function(a, c, v) {
                var h = Rr_fromTable(a)
                  , w = h.all
                  , E = Rr_justCells(h)
                  , N = Rr_justColumns(h);
                c.each(function(W) {
                    var Q = sx(W)
                      , se = yi(a)
                      , be = function(a, c) {
                        return Cf(a, c, Oa, co)
                    }(h, a)
                      , nt = ea(be, se, W);
                    Rr_hasColumns(h) ? function(a, c, v) {
                        D(c, function(h, w) {
                            var E = Fc([a[w]], df());
                            Ha(h.element, "width", E + v)
                        })
                    }(nt, N, Q) : function(a, c, v) {
                        D(c, function(h) {
                            var w = a.slice(h.column, h.colspan + h.column)
                              , E = Fc(w, df());
                            Ha(h.element, "width", E + v)
                        })
                    }(nt, E, Q),
                    Ha(a, "width", W)
                }),
                v.each(function(W) {
                    var Q = sx(W)
                      , se = Ui(a)
                      , be = function(a, c, v) {
                        return lc(a, c, v, Br, co)
                    }(h, a, Mc);
                    (function(a, c, v, h) {
                        D(v, function(w) {
                            var E = a.slice(w.row, w.rowspan + w.row)
                              , N = Fc(E, rd());
                            Ha(w.element, "height", N + h)
                        }),
                        D(c, function(w, E) {
                            Ha(w.element, "height", a[E])
                        })
                    }
                    )(ea(be, se, W), w, E, Q),
                    Ha(a, "height", W)
                })
            }
              , Yb = function(a) {
                return ev(a).exists(function(c) {
                    return a1.test(c)
                })
            }
              , gv = function(a) {
                return ev(a).exists(function(c) {
                    return ld.test(c)
                })
            }
              , y1 = function(a) {
                return ev(a).isNone()
            }
              , Jb = function(a) {
                return Rr_fromTable(a).grid
            }
              , Fu = function(a) {
                var c = [];
                return {
                    bind: function(E) {
                        if (void 0 === E)
                            throw new Error("Event bind error: undefined handler");
                        c.push(E)
                    },
                    unbind: function(E) {
                        c = tt(c, function(N) {
                            return N !== E
                        })
                    },
                    trigger: function() {
                        for (var E = [], N = 0; N < arguments.length; N++)
                            E[N] = arguments[N];
                        var W = {};
                        D(a, function(Q, se) {
                            W[Q] = E[se]
                        }),
                        D(c, function(Q) {
                            Q(W)
                        })
                    }
                }
            }
              , Ef = function(a) {
                return {
                    registry: js(a, function(h) {
                        return {
                            bind: h.bind,
                            unbind: h.unbind
                        }
                    }),
                    trigger: js(a, function(h) {
                        return h.trigger
                    })
                }
            }
              , Cd = function(a) {
                return a.slice(0).sort()
            }
              , Mm = function(a, c) {
                var v = tt(c, function(h) {
                    return !Ot(a, h)
                });
                v.length > 0 && function(a) {
                    throw new Error("Unsupported keys for object: " + Cd(a).join(", "))
                }(v)
            }
              , Sd = function(a) {
                return function(a, c) {
                    return function(a, c, v) {
                        if (0 === c.length)
                            throw new Error("You must specify at least one required field.");
                        return function(a, c) {
                            if (!vr(c))
                                throw new Error("The " + a + " fields must be an array. Was: " + c + ".");
                            D(c, function(v) {
                                if (!Nn(v))
                                    throw new Error("The value " + v + " in the " + a + " fields was not a string.")
                            })
                        }("required", c),
                        function(a) {
                            var c = Cd(a);
                            ir(c, function(h, w) {
                                return w < c.length - 1 && h === c[w + 1]
                            }).each(function(h) {
                                throw new Error("The field: " + h + " occurs more than once in the combined fields: [" + c.join(", ") + "].")
                            })
                        }(c),
                        function(h) {
                            var w = Ke(h);
                            Re(c, function(W) {
                                return Ot(w, W)
                            }) || function(a, c) {
                                throw new Error("All required keys (" + Cd(a).join(", ") + ") were not specified. Specified keys were: " + Cd(c).join(", ") + ".")
                            }(c, w),
                            a(c, w);
                            var N = tt(c, function(W) {
                                return !v.validate(h[W], W)
                            });
                            return N.length > 0 && function(a, c) {
                                throw new Error("All values need to be of type: " + c + ". Keys (" + Cd(a).join(", ") + ") were not.")
                            }(N, v.label),
                            h
                        }
                    }(a, c, {
                        validate: lr,
                        label: "function"
                    })
                }(Mm, a)
            }
              , lx = Sd(["compare", "extract", "mutate", "sink"])
              , ta = Sd(["element", "start", "stop", "destroy"])
              , Ic = Sd(["forceDrop", "drop", "move", "delayDrop"])
              , w1 = function() {
                var a = function() {
                    var a = Ef({
                        move: Fu(["info"])
                    });
                    return {
                        onEvent: xe,
                        reset: xe,
                        events: a.registry
                    }
                }()
                  , c = function() {
                    var a = ge.none()
                      , w = Ef({
                        move: Fu(["info"])
                    });
                    return {
                        onEvent: function(E, N) {
                            N.extract(E).each(function(Q) {
                                var se = function(E, N) {
                                    var W = a.map(function(Q) {
                                        return E.compare(Q, N)
                                    });
                                    return a = ge.some(N),
                                    W
                                }(N, Q);
                                se.each(function(be) {
                                    w.trigger.move(be)
                                })
                            })
                        },
                        reset: function() {
                            a = ge.none()
                        },
                        events: w.registry
                    }
                }()
                  , v = a;
                return {
                    on: function() {
                        v.reset(),
                        v = c
                    },
                    off: function() {
                        v.reset(),
                        v = a
                    },
                    isOn: function() {
                        return v === c
                    },
                    onEvent: function(W, Q) {
                        v.onEvent(W, Q)
                    },
                    events: c.events
                }
            }
              , Js = function(a) {
                var c = xt.fromDom(function(a) {
                    if (lt() && _t(a.target)) {
                        var c = xt.fromDom(a.target);
                        if (Yi(c) && function(a) {
                            return _t(a.dom.shadowRoot)
                        }(c) && a.composed && a.composedPath) {
                            var v = a.composedPath();
                            if (v)
                                return Gn(v)
                        }
                    }
                    return ge.from(a.target)
                }(a).getOr(a.target))
                  , v = function() {
                    return a.stopPropagation()
                }
                  , h = function() {
                    return a.preventDefault()
                }
                  , w = function(a, c) {
                    return function() {
                        for (var v = [], h = 0; h < arguments.length; h++)
                            v[h] = arguments[h];
                        return a(c.apply(null, v))
                    }
                }(h, v);
                return function(a, c, v, h, w, E, N) {
                    return {
                        target: a,
                        x: c,
                        y: v,
                        stop: h,
                        prevent: w,
                        kill: E,
                        raw: N
                    }
                }(c, a.clientX, a.clientY, v, h, w, a)
            }
              , mx = function(a, c, v, h) {
                a.dom.removeEventListener(c, v, h)
            }
              , ny = En
              , Td = function(a, c, v) {
                return function(a, c, v, h) {
                    return function(a, c, v, h, w) {
                        var E = function(a, c) {
                            return function(v) {
                                a(v) && c(Js(v))
                            }
                        }(v, h);
                        return a.dom.addEventListener(c, E, w),
                        {
                            unbind: Fn(mx, a, c, E, w)
                        }
                    }(a, c, v, h, !1)
                }(a, c, ny, v)
            }
              , _d = Js
              , Ed = function(a) {
                return void 0 !== a.dom.classList
            }
              , ry = function(a, c) {
                return function(a, c, v) {
                    var w = function(a, c) {
                        var v = ic(a, c);
                        return void 0 === v || "" === v ? [] : v.split(" ")
                    }(a, c).concat([v]);
                    return Ea(a, c, w.join(" ")),
                    !0
                }(a, "class", c)
            }
              , fu = function(a, c) {
                Ed(a) ? a.dom.classList.add(c) : ry(a, c)
            }
              , _u = function(a, c) {
                return Ed(a) && a.dom.classList.contains(c)
            }
              , fl = function(a) {
                var c = a.replace(/\./g, "-");
                return {
                    resolve: function(h) {
                        return c + "-" + h
                    }
                }
            }
              , C1 = fl("ephox-dragster")
              , Ho = C1.resolve
              , px = lx({
                compare: function(a, c) {
                    return ol(c.left - a.left, c.top - a.top)
                },
                extract: function(a) {
                    return ge.some(ol(a.x, a.y))
                },
                sink: function(a, c) {
                    var v = function(a) {
                        var c = Gt({
                            layerClass: Ho("blocker")
                        }, a)
                          , v = xt.fromTag("div");
                        return Ea(v, "role", "presentation"),
                        qs(v, {
                            position: "fixed",
                            left: "0px",
                            top: "0px",
                            width: "100%",
                            height: "100%"
                        }),
                        fu(v, Ho("blocker")),
                        fu(v, c.layerClass),
                        {
                            element: Pt(v),
                            destroy: function() {
                                Os(v)
                            }
                        }
                    }(c)
                      , h = Td(v.element(), "mousedown", a.forceDrop)
                      , w = Td(v.element(), "mouseup", a.drop)
                      , E = Td(v.element(), "mousemove", a.move)
                      , N = Td(v.element(), "mouseout", a.delayDrop);
                    return ta({
                        element: v.element,
                        start: function(be) {
                            Aa(be, v.element())
                        },
                        stop: function() {
                            Os(v.element())
                        },
                        destroy: function() {
                            v.destroy(),
                            w.unbind(),
                            E.unbind(),
                            N.unbind(),
                            h.unbind()
                        }
                    })
                },
                mutate: function(a, c) {
                    a.mutate(c.left, c.top)
                }
            })
              , oh = function(a) {
                return Ja(a, "[contenteditable]")
            }
              , Pm = function(a, c) {
                return void 0 === c && (c = !1),
                !nr().browser.isIE() && ur(a) ? a.dom.isContentEditable : oh(a).fold(Pt(c), function(v) {
                    return "true" === ah(v)
                })
            }
              , ah = function(a) {
                return a.dom.contentEditable
            }
              , S1 = fl("ephox-snooker")
              , Bm = S1.resolve
              , ts = Bm("resizer-bar")
              , iy = Bm("resizer-rows")
              , ci = Bm("resizer-cols")
              , Od = function(a) {
                var c = Ku(a.parent(), "." + ts);
                D(c, Os)
            }
              , uh = function(a, c, v) {
                var h = a.origin();
                D(c, function(w) {
                    w.each(function(E) {
                        var N = v(h, E);
                        fu(N, ts),
                        Aa(a.parent(), N)
                    })
                })
            }
              , uy = function(a, c, v, h, w) {
                var E = Qa(v)
                  , N = c.isResizable
                  , W = h.length > 0 ? Mc.positions(h, v) : []
                  , Q = W.length > 0 ? function(a, c) {
                    return re(a.all, function(v, h) {
                        return c(v.element) ? [h] : []
                    })
                }(a, N) : [];
                !function(a, c, v, h) {
                    uh(a, c, function(w, E) {
                        var N = function(a, c, v, h, w) {
                            var E = xt.fromTag("div");
                            return qs(E, {
                                position: "absolute",
                                left: c + "px",
                                top: v - 3.5 + "px",
                                height: "7px",
                                width: h + "px"
                            }),
                            Cu(E, {
                                "data-row": a,
                                role: "presentation"
                            }),
                            E
                        }(E.row, v.left - w.left, E.y - w.top, h);
                        return fu(N, iy),
                        N
                    })
                }(c, tt(W, function(dt, rt) {
                    return wt(Q, function(Ut) {
                        return rt === Ut
                    })
                }), E, Fg(v));
                var be = w.length > 0 ? cd.positions(w, v) : []
                  , nt = be.length > 0 ? function(a, c) {
                    var v = [];
                    return ct(a.grid.columns, function(h) {
                        Rr_getColumnAt(a, h).map(function(E) {
                            return E.element
                        }).forall(c) && v.push(h)
                    }),
                    tt(v, function(h) {
                        var w = Rr_filterItems(a, function(E) {
                            return E.column === h
                        });
                        return Re(w, function(E) {
                            return c(E.element)
                        })
                    })
                }(a, N) : [];
                !function(a, c, v, h) {
                    uh(a, c, function(w, E) {
                        var N = function(a, c, v, h, w) {
                            var E = xt.fromTag("div");
                            return qs(E, {
                                position: "absolute",
                                left: c - 3.5 + "px",
                                top: v + "px",
                                height: w + "px",
                                width: "7px"
                            }),
                            Cu(E, {
                                "data-column": a,
                                role: "presentation"
                            }),
                            E
                        }(E.col, E.x - w.left, v.top - w.top, 0, h);
                        return fu(N, ci),
                        N
                    })
                }(c, tt(be, function(dt, rt) {
                    return wt(nt, function(Ut) {
                        return rt === Ut
                    })
                }), E, Pb(v))
            }
              , _1 = function(a, c) {
                if (Od(a),
                a.isResizable(c)) {
                    var v = Rr_fromTable(c)
                      , h = bf(v)
                      , w = Vi(v);
                    uy(v, a, c, h, w)
                }
            }
              , sy = function(a, c) {
                var v = Ku(a.parent(), "." + ts);
                D(v, c)
            }
              , Ni = function(a) {
                sy(a, function(c) {
                    Ha(c, "display", "none")
                })
            }
              , vu = function(a) {
                sy(a, function(c) {
                    Ha(c, "display", "block")
                })
            }
              , ws = Bm("resizer-bar-dragging")
              , Eu = function(a) {
                var c = function() {
                    var a = Ef({
                        drag: Fu(["xDelta", "yDelta", "target"])
                    })
                      , c = ge.none()
                      , v = function() {
                        var a = Ef({
                            drag: Fu(["xDelta", "yDelta"])
                        });
                        return {
                            mutate: function(v, h) {
                                a.trigger.drag(v, h)
                            },
                            events: a.registry
                        }
                    }();
                    return v.events.drag.bind(function(E) {
                        c.each(function(N) {
                            a.trigger.drag(E.xDelta, E.yDelta, N)
                        })
                    }),
                    {
                        assign: function(E) {
                            c = ge.some(E)
                        },
                        get: function() {
                            return c
                        },
                        mutate: v.mutate,
                        events: a.registry
                    }
                }()
                  , v = function(a, c) {
                    return void 0 === c && (c = {}),
                    function(a, c, v) {
                        var h = !1
                          , w = Ef({
                            start: Fu([]),
                            stop: Fu([])
                        })
                          , E = w1()
                          , N = function() {
                            dt.stop(),
                            E.isOn() && (E.off(),
                            w.trigger.stop())
                        }
                          , W = function(a, c) {
                            var v = null
                              , h = function() {
                                wn(v) || (clearTimeout(v),
                                v = null)
                            };
                            return {
                                cancel: h,
                                throttle: function() {
                                    for (var E = [], N = 0; N < arguments.length; N++)
                                        E[N] = arguments[N];
                                    h(),
                                    v = setTimeout(function() {
                                        v = null,
                                        a.apply(null, E)
                                    }, 200)
                                }
                            }
                        }(N);
                        E.events.move.bind(function(Ut) {
                            c.mutate(a, Ut.info)
                        });
                        var At = function(Ut) {
                            return function() {
                                for (var Kt = [], Qn = 0; Qn < arguments.length; Qn++)
                                    Kt[Qn] = arguments[Qn];
                                h && Ut.apply(null, Kt)
                            }
                        }
                          , dt = c.sink(Ic({
                            forceDrop: N,
                            drop: At(N),
                            move: At(function(Ut) {
                                W.cancel(),
                                E.onEvent(Ut, c)
                            }),
                            delayDrop: At(W.throttle)
                        }), v);
                        return {
                            element: dt.element,
                            go: function(Ut) {
                                dt.start(Ut),
                                E.on(),
                                w.trigger.start()
                            },
                            on: function() {
                                h = !0
                            },
                            off: function() {
                                h = !1
                            },
                            destroy: function() {
                                dt.destroy()
                            },
                            events: w.registry
                        }
                    }(a, void 0 !== c.mode ? c.mode : px, c)
                }(c, {})
                  , h = ge.none()
                  , w = function(rt, Ut) {
                    return ge.from(ic(rt, Ut))
                };
                c.events.drag.bind(function(rt) {
                    w(rt.target, "data-row").each(function(Ut) {
                        var Kt = nd(rt.target, "top");
                        Ha(rt.target, "top", Kt + rt.yDelta + "px")
                    }),
                    w(rt.target, "data-column").each(function(Ut) {
                        var Kt = nd(rt.target, "left");
                        Ha(rt.target, "left", Kt + rt.xDelta + "px")
                    })
                });
                var E = function(rt, Ut) {
                    return nd(rt, Ut) - Bu(rt, "data-initial-" + Ut, 0)
                };
                v.events.stop.bind(function() {
                    c.get().each(function(rt) {
                        h.each(function(Ut) {
                            w(rt, "data-row").each(function(Kt) {
                                var Qn = E(rt, "top");
                                La(rt, "data-initial-top"),
                                dt.trigger.adjustHeight(Ut, Qn, parseInt(Kt, 10))
                            }),
                            w(rt, "data-column").each(function(Kt) {
                                var Qn = E(rt, "left");
                                La(rt, "data-initial-left"),
                                dt.trigger.adjustWidth(Ut, Qn, parseInt(Kt, 10))
                            }),
                            _1(a, Ut)
                        })
                    })
                });
                var N = function(rt, Ut) {
                    dt.trigger.startAdjust(),
                    c.assign(rt),
                    Ea(rt, "data-initial-" + Ut, nd(rt, Ut)),
                    fu(rt, ws),
                    Ha(rt, "opacity", "0.2"),
                    v.go(a.parent())
                }
                  , W = Td(a.parent(), "mousedown", function(rt) {
                    (function(a) {
                        return _u(a, iy)
                    }
                    )(rt.target) && N(rt.target, "top"),
                    function(a) {
                        return _u(a, ci)
                    }(rt.target) && N(rt.target, "left")
                })
                  , Q = function(rt) {
                    return zr(rt, a.view())
                }
                  , be = Td(a.view(), "mouseover", function(rt) {
                    (function(rt) {
                        return Ja(rt, "table", Q).filter(Pm)
                    }
                    )(rt.target).fold(function() {
                        ur(rt.target) && Od(a)
                    }, function(Ut) {
                        h = ge.some(Ut),
                        _1(a, Ut)
                    })
                })
                  , dt = Ef({
                    adjustHeight: Fu(["table", "delta", "row"]),
                    adjustWidth: Fu(["table", "delta", "column"]),
                    startAdjust: Fu([])
                });
                return {
                    destroy: function() {
                        W.unbind(),
                        be.unbind(),
                        v.destroy(),
                        Od(a)
                    },
                    refresh: function(rt) {
                        _1(a, rt)
                    },
                    on: v.on,
                    off: v.off,
                    hideBars: Fn(Ni, a),
                    showBars: Fn(vu, a),
                    events: dt.registry
                }
            }
              , k1_create = function(a, c, v) {
                var h = Mc
                  , w = cd
                  , E = Eu(a)
                  , N = Ef({
                    beforeResize: Fu(["table", "type"]),
                    afterResize: Fu(["table", "type"]),
                    startDrag: Fu([])
                });
                return E.events.adjustHeight.bind(function(W) {
                    var Q = W.table;
                    N.trigger.beforeResize(Q, "row"),
                    function(a, c, v, h) {
                        var w = Rr_fromTable(a)
                          , E = function(a, c, v) {
                            return lc(a, c, v, Vw, function(h) {
                                return h.getOrThunk(rd)
                            })
                        }(w, a, h)
                          , N = qe(E, function(be, nt) {
                            return v === nt ? Math.max(c + be, rd()) : be
                        })
                          , W = function(a, c) {
                            var v = Rr_justCells(a);
                            return qe(v, function(h) {
                                var w = jb(h.row, h.row + h.rowspan, c);
                                return {
                                    element: h.element,
                                    height: w,
                                    rowspan: h.rowspan
                                }
                            })
                        }(w, N)
                          , Q = function(a, c) {
                            return qe(a.all, function(v, h) {
                                return {
                                    element: v.element,
                                    height: c[h]
                                }
                            })
                        }(w, N);
                        D(Q, function(be) {
                            ha(be.element, be.height)
                        }),
                        D(W, function(be) {
                            ha(be.element, be.height)
                        });
                        var se = function(a) {
                            return kr(a, function(c, v) {
                                return c + v
                            }, 0)
                        }(N);
                        ha(a, se)
                    }(Q, h.delta(W.delta, Q), W.row, h),
                    N.trigger.afterResize(Q, "row")
                }),
                E.events.startAdjust.bind(function(W) {
                    N.trigger.startDrag()
                }),
                E.events.adjustWidth.bind(function(W) {
                    var Q = W.table;
                    N.trigger.beforeResize(Q, "col");
                    var se = w.delta(W.delta, Q)
                      , be = v(Q);
                    Gb(Q, se, W.column, c, be),
                    N.trigger.afterResize(Q, "col")
                }),
                {
                    on: E.on,
                    off: E.off,
                    hideBars: E.hideBars,
                    showBars: E.showBars,
                    destroy: E.destroy,
                    events: N.registry
                }
            }
              , lh = function(a, c) {
                return a.fire("newrow", {
                    node: c
                })
            }
              , hv = function(a, c) {
                return a.fire("newcell", {
                    node: c
                })
            }
              , du = function(a, c, v) {
                a.fire("TableModified", Gt(Gt({}, v), {
                    table: c
                }))
            }
              , pc = {
                structure: !1,
                style: !0
            }
              , jo = {
                structure: !0,
                style: !1
            }
              , Ll = {
                structure: !0,
                style: !0
            }
              , vh = {
                "border-collapse": "collapse",
                width: "100%"
            }
              , dh = ct(5, function(a) {
                var c = a + 1 + "px";
                return {
                    title: c,
                    value: c
                }
            })
              , cy = qe(["Solid", "Dotted", "Dashed", "Double", "Groove", "Ridge", "Inset", "Outset", "None", "Hidden"], function(a) {
                return {
                    title: a,
                    value: a.toLowerCase()
                }
            })
              , wx = {
                border: "1"
            }
              , O1 = "preservetable"
              , Wt = function(a) {
                return a.getParam("table_sizing_mode", "auto")
            }
              , ly = function(a) {
                return a.getParam("table_responsive_width")
            }
              , zi = function(a) {
                return a.getParam("table_border_widths", dh, "array")
            }
              , mh = function(a) {
                return a.getParam("table_border_styles", cy, "array")
            }
              , D1 = function(a) {
                return a.getParam("table_default_attributes", wx, "object")
            }
              , pv = function(a) {
                return a.getParam("table_default_styles", function(a) {
                    var c;
                    if (Dd(a)) {
                        var v = a.dom
                          , h = null !== (c = v.getParent(a.selection.getStart(), v.isBlock)) && void 0 !== c ? c : a.getBody()
                          , w = cc(xt.fromDom(h));
                        return Gt(Gt({}, vh), {
                            width: w + "px"
                        })
                    }
                    return Af(a) ? Li(vh, function(E, N) {
                        return "width" !== N
                    }) : vh
                }(a), "object")
            }
              , M1 = function(a) {
                return a.getParam("table_cell_advtab", !0, "boolean")
            }
              , Fm = function(a) {
                return a.getParam("table_row_advtab", !0, "boolean")
            }
              , xs = function(a) {
                return a.getParam("table_advtab", !0, "boolean")
            }
              , rs = function(a) {
                return a.getParam("table_style_by_css", !1, "boolean")
            }
              , Qs = function(a) {
                return a.getParam("table_cell_class_list", [], "array")
            }
              , ec = function(a) {
                return a.getParam("table_class_list", [], "array")
            }
              , Im = function(a) {
                return "relative" === Wt(a) || !0 === ly(a)
            }
              , Dd = function(a) {
                return "fixed" === Wt(a) || !1 === ly(a)
            }
              , Af = function(a) {
                return "responsive" === Wt(a)
            }
              , hh = function(a) {
                return a.getParam("table_use_colgroups", !1, "boolean")
            }
              , bv = function(a) {
                var c = "section"
                  , v = a.getParam("table_header_type", c, "string");
                return Ot(["section", "cells", "sectionCells", "auto"], v) ? v : c
            }
              , Zn = function(a) {
                var v = a.getParam("table_column_resizing", O1, "string");
                return ir(["preservetable", "resizetable"], function(h) {
                    return h === v
                }).getOr(O1)
            }
              , fy = function(a) {
                return "preservetable" === Zn(a)
            }
              , ph = function(a) {
                return "resizetable" === Zn(a)
            }
              , vy = function(a) {
                var c = a.getParam("table_clone_elements");
                return Nn(c) ? ge.some(c.split(/[ ,]/)) : Array.isArray(c) ? ge.some(c) : ge.none()
            }
              , dy = function(a) {
                return a.getParam("table_background_color_map", [], "array")
            }
              , my = function(a) {
                return a.getParam("table_border_color_map", [], "array")
            }
              , Lm = function(a, c) {
                return Im(a) ? fc_percentageSize(c) : Dd(a) ? fc_pixelSize(c) : fc_getTableSize(c)
            }
              , bh = function(a) {
                La(a, "width")
            }
              , Md = function(a) {
                var c = gm(a);
                cx(a, ge.some(c), ge.none()),
                bh(a)
            }
              , B1 = function(a) {
                var c = function(a) {
                    return yi(a) + "px"
                }(a);
                cx(a, ge.some(c), ge.none()),
                bh(a)
            }
              , hy = function(a) {
                Ks(a, "width");
                var c = Ri(a)
                  , v = c.length > 0 ? c : ai(a);
                D(v, function(h) {
                    Ks(h, "width"),
                    bh(h)
                }),
                bh(a)
            }
              , yv = "bar-"
              , Hm = function(a) {
                return "false" !== ic(a, "data-mce-resize")
            }
              , ni = function(a) {
                var w, E, c = ge.none(), v = ge.none(), h = ge.none(), N = function(rt) {
                    return "TABLE" === rt.nodeName
                }, W = function() {
                    return v
                }, se = function(rt) {
                    return Lm(a, rt)
                }, be = function() {
                    return fy(a) ? km() : vv()
                };
                return a.on("init", function() {
                    var rt = function(a, c) {
                        return a.inline ? function(a, c, v) {
                            return {
                                parent: Pt(c),
                                view: Pt(a),
                                origin: Pt(ol(0, 0)),
                                isResizable: v
                            }
                        }(dc(a), function() {
                            var a = xt.fromTag("div");
                            return qs(a, {
                                position: "static",
                                height: "0",
                                width: "0",
                                padding: "0",
                                margin: "0",
                                border: "0"
                            }),
                            Aa(to(xt.fromDom(document)), a),
                            a
                        }(), c) : Qg_only(xt.fromDom(a.getDoc()), c)
                    }(a, Hm);
                    if (h = ge.some(rt),
                    function(a) {
                        var c = a.getParam("object_resizing", !0);
                        return Nn(c) ? "table" === c : c
                    }(a) && function(a) {
                        return a.getParam("table_resize_bars", !0, "boolean")
                    }(a)) {
                        var Ut = be()
                          , Kt = k1_create(rt, Ut, se);
                        Kt.on(),
                        Kt.events.startDrag.bind(function(Qn) {
                            c = ge.some(a.selection.getRng())
                        }),
                        Kt.events.beforeResize.bind(function(Qn) {
                            var mo = Qn.table.dom;
                            !function(a, c, v, h, w) {
                                a.fire("ObjectResizeStart", {
                                    target: c,
                                    width: v,
                                    height: h,
                                    origin: w
                                })
                            }(a, mo, cl(mo), m1(mo), yv + Qn.type)
                        }),
                        Kt.events.afterResize.bind(function(Qn) {
                            var mo = Qn.table
                              , Jn = mo.dom;
                            yd(mo),
                            c.each(function(rr) {
                                a.selection.setRng(rr),
                                a.focus()
                            }),
                            function(a, c, v, h, w) {
                                a.fire("ObjectResized", {
                                    target: c,
                                    width: v,
                                    height: h,
                                    origin: w
                                })
                            }(a, Jn, cl(Jn), m1(Jn), yv + Qn.type),
                            a.undoManager.add()
                        }),
                        v = ge.some(Kt)
                    }
                }),
                a.on("ObjectResizeStart", function(rt) {
                    var Ut = rt.target;
                    if (N(Ut)) {
                        var Kt = xt.fromDom(Ut);
                        D(a.dom.select(".mce-clonedresizable"), function(Qn) {
                            a.dom.addClass(Qn, "mce-" + Zn(a) + "-columns")
                        }),
                        !gv(Kt) && Dd(a) ? B1(Kt) : !Yb(Kt) && Im(a) && Md(Kt),
                        y1(Kt) && Ma(rt.origin, yv) && Md(Kt),
                        w = rt.width,
                        E = Af(a) ? "" : function(a, c) {
                            var v = a.dom.getStyle(c, "width") || a.dom.getAttrib(c, "width");
                            return ge.from(v).filter(Mo)
                        }(a, Ut).getOr("")
                    }
                }),
                a.on("ObjectResized", function(rt) {
                    var Ut = rt.target;
                    if (N(Ut)) {
                        var Kt = xt.fromDom(Ut)
                          , Qn = rt.origin;
                        Ma(Qn, "corner-") && function(rt, Ut, Kt) {
                            var Qn = Ra(Ut, "e");
                            if ("" === E && Md(rt),
                            Kt !== w && "" !== E) {
                                Ha(rt, "width", E);
                                var mo = be()
                                  , Jn = se(rt)
                                  , rr = fy(a) || Qn ? function(rt) {
                                    return Jb(rt).columns
                                }(rt) - 1 : 0;
                                Gb(rt, Kt - w, rr, mo, Jn)
                            } else if (function(a) {
                                return /^(\d+(\.\d+)?)%$/.test(a)
                            }(E)) {
                                var Zr = parseFloat(E.replace("%", ""));
                                Ha(rt, "width", Kt * Zr / w + "%")
                            }
                            (function(a) {
                                return /^(\d+(\.\d+)?)px$/.test(a)
                            }
                            )(E) && function(a) {
                                var c = Rr_fromTable(a);
                                Rr_hasColumns(c) || D(ai(a), function(v) {
                                    var h = Su(v, "width");
                                    Ha(v, "width", h),
                                    La(v, "width")
                                })
                            }(rt)
                        }(Kt, Qn, rt.width),
                        yd(Kt),
                        du(a, Kt.dom, pc)
                    }
                }),
                a.on("SwitchMode", function() {
                    W().each(function(rt) {
                        a.mode.isReadOnly() ? rt.hideBars() : rt.showBars()
                    })
                }),
                {
                    lazyResize: W,
                    lazyWire: function() {
                        return h.getOr(Qg_only(xt.fromDom(a.getBody()), Hm))
                    },
                    destroy: function() {
                        v.each(function(rt) {
                            rt.destroy()
                        }),
                        h.each(function(rt) {
                            !function(a, c) {
                                a.inline && Os(c.parent())
                            }(a, rt)
                        })
                    }
                }
            }
              , wv = function(a, c) {
                return {
                    element: a,
                    offset: c
                }
            }
              , li = function(a, c, v) {
                return a.property().isText(c) && 0 === a.property().getText(c).trim().length || a.property().isComment(c) ? v(c).bind(function(h) {
                    return li(a, h, v).orThunk(function() {
                        return ge.some(h)
                    })
                }) : ge.none()
            }
              , wh = function(a, c) {
                return a.property().isText(c) ? a.property().getText(c).length : a.property().children(c).length
            }
              , N1 = function(a, c) {
                var v = li(a, c, a.query().prevSibling).getOr(c);
                if (a.property().isText(v))
                    return wv(v, wh(a, v));
                var h = a.property().children(v);
                return h.length > 0 ? N1(a, h[h.length - 1]) : wv(v, wh(a, v))
            }
              , z1 = N1
              , xh = Kp()
              , cT = function(a, c) {
                if (1 === vf(a, "colspan")) {
                    var h = function(a) {
                        return ev(a).bind(function(v) {
                            return function(a, c) {
                                return ge.from(o1.exec(a)).bind(function(h) {
                                    var w = Number(h[1])
                                      , E = h[2];
                                    return function(a, c) {
                                        return wt(c, function(v) {
                                            return wt(r1[v], function(h) {
                                                return a === h
                                            })
                                        })
                                    }(E, c) ? ge.some({
                                        value: w,
                                        unit: E
                                    }) : ge.none()
                                })
                            }(v, ["fixed", "relative", "empty"])
                        })
                    }(a);
                    h.each(function(w) {
                        var E = w.value / 2;
                        u1(a, E, w.unit),
                        u1(c, E, w.unit)
                    })
                }
            }
              , Rd = Ya("th")
              , $m = function(a) {
                return Re(a, function(c) {
                    return Rd(c.element)
                })
            }
              , lT = function(a, c) {
                return a && c ? "sectionCells" : a ? "section" : "cells"
            }
              , Ch = function(a) {
                var c = "thead" === a.section
                  , v = No(by(a.cells), "th");
                return c || v ? {
                    type: "header",
                    subType: lT(c, v)
                } : "tfoot" === a.section ? {
                    type: "footer"
                } : {
                    type: "body"
                }
            }
              , by = function(a) {
                var c = tt(a, function(v) {
                    return Rd(v.element)
                });
                return 0 === c.length ? ge.some("td") : c.length === a.length ? ge.some("th") : ge.none()
            }
              , Sh = function(a, c, v) {
                return Pa(v(a.element, c), !0, a.isLocked)
            }
              , Of = function(a, c) {
                return a.section !== c ? xu(a.element, a.cells, c, a.isNew) : a
            }
              , yy = function() {
                return {
                    transformRow: Of,
                    transformCell: function(a, c, v) {
                        var h = v(a.element, c)
                          , w = "td" !== Dr(h) ? function(a, c) {
                            var v = Wo(a, "td");
                            hr(a, v);
                            var h = C(a);
                            return Ol(v, h),
                            Os(a),
                            v
                        }(h) : h;
                        return Pa(w, a.isNew, a.isLocked)
                    }
                }
            }
              , wy = function() {
                return {
                    transformRow: Of,
                    transformCell: Sh
                }
            }
              , xy = function() {
                return {
                    transformRow: function(a, c) {
                        return Of(a, "thead" === c ? "tbody" : c)
                    },
                    transformCell: Sh
                }
            }
              , Vc_section = yy
              , Vc_sectionCells = wy
              , Vc_cells = xy
              , Vc_fallback = function() {
                return {
                    transformRow: Xe,
                    transformCell: Sh
                }
            }
              , Pd = function(a, c, v, h) {
                v === h ? La(a, c) : Ea(a, c, v)
            }
              , Vm = function(a, c, v) {
                $n(aa(a, c)).fold(function() {
                    return $a(a, v)
                }, function(h) {
                    return fo(h, v)
                })
            }
              , vT = function(a, c) {
                var v = []
                  , h = []
                  , w = function(dt) {
                    return qe(dt, function(rt) {
                        rt.isNew && v.push(rt.element);
                        var Ut = rt.element;
                        return Eb(Ut),
                        D(rt.cells, function(Kt) {
                            Kt.isNew && h.push(Kt.element),
                            Pd(Kt.element, "colspan", Kt.colspan, 1),
                            Pd(Kt.element, "rowspan", Kt.rowspan, 1),
                            Aa(Ut, Kt.element)
                        }),
                        Ut
                    })
                }
                  , E = function(dt) {
                    return re(dt, function(rt) {
                        return qe(rt.cells, function(Ut) {
                            return Pd(Ut.element, "span", Ut.colspan, 1),
                            Ut.element
                        })
                    })
                }
                  , N = function(dt, rt) {
                    var Ut = function(a, c) {
                        var v = _i(a, c).getOrThunk(function() {
                            var h = xt.fromTag(c, qu(a).dom);
                            return "thead" === c ? Vm(a, "caption,colgroup", h) : "colgroup" === c ? Vm(a, "caption", h) : Aa(a, h),
                            h
                        });
                        return Eb(v),
                        v
                    }(a, rt)
                      , Qn = ("colgroup" === rt ? E : w)(dt);
                    Ol(Ut, Qn)
                }
                  , Q = function(dt, rt) {
                    dt.length > 0 ? N(dt, rt) : function(dt) {
                        _i(a, dt).each(Os)
                    }(rt)
                }
                  , se = []
                  , be = []
                  , nt = []
                  , At = [];
                return D(c, function(dt) {
                    switch (dt.section) {
                    case "thead":
                        se.push(dt);
                        break;
                    case "tbody":
                        be.push(dt);
                        break;
                    case "tfoot":
                        nt.push(dt);
                        break;
                    case "colgroup":
                        At.push(dt)
                    }
                }),
                Q(At, "colgroup"),
                Q(se, "thead"),
                Q(be, "tbody"),
                Q(nt, "tfoot"),
                {
                    newRows: v,
                    newCells: h
                }
            }
              , I1 = function(a, c) {
                if (0 === a.length)
                    return 0;
                var v = a[0];
                return kt(a, function(w) {
                    return !c(v.element, w.element)
                }).getOr(a.length)
            }
              , dl = function(a, c) {
                var v = qe(a, function(w) {
                    return qe(w.cells, _n)
                });
                return qe(a, function(w, E) {
                    var N = re(w.cells, function(W, Q) {
                        if (!1 === v[E][Q]) {
                            var se = function(a, c, v, h) {
                                var w = function(a, c) {
                                    return a[c]
                                }(a, c)
                                  , E = "colgroup" === w.section
                                  , N = I1(w.cells.slice(v), h)
                                  , W = E ? 1 : I1(function(a, c) {
                                    return qe(a, function(v) {
                                        return As(v, c)
                                    })
                                }(a.slice(c), v), h);
                                return {
                                    colspan: N,
                                    rowspan: W
                                }
                            }(a, E, Q, c);
                            return function(w, E, N, W) {
                                for (var Q = w; Q < w + N; Q++)
                                    for (var se = E; se < E + W; se++)
                                        v[Q][se] = !0
                            }(E, Q, se.rowspan, se.colspan),
                            [Ir(W.element, se.rowspan, se.colspan, W.isNew)]
                        }
                        return []
                    });
                    return function(a, c, v, h) {
                        return {
                            element: a,
                            cells: c,
                            section: v,
                            isNew: h
                        }
                    }(w.element, N, w.section, w.isNew)
                })
            }
              , Bd = function(a, c, v) {
                var h = [];
                D(a.colgroups, function(be) {
                    for (var nt = [], At = 0; At < a.grid.columns; At++) {
                        var dt = Rr_getColumnAt(a, At).map(function(rt) {
                            return Pa(rt.element, v, !1)
                        }).getOrThunk(function() {
                            return Pa(c.colGap(), !0, !1)
                        });
                        nt.push(dt)
                    }
                    h.push(xu(be.element, nt, "colgroup", v))
                });
                for (var w = 0; w < a.grid.rows; w++) {
                    for (var E = [], N = 0; N < a.grid.columns; N++) {
                        var W = Rr_getAt(a, w, N).map(function(be) {
                            return Pa(be.element, v, be.isLocked)
                        }).getOrThunk(function() {
                            return Pa(c.gap(), !0, !1)
                        });
                        E.push(W)
                    }
                    var Q = a.all[w]
                      , se = xu(Q.element, E, Q.section, v);
                    h.push(se)
                }
                return h
            }
              , bc = function(a) {
                return dl(a, zr)
            }
              , xv = function(a, c) {
                return Cr(a.all, function(v) {
                    return ir(v.cells, function(h) {
                        return zr(c, h.element)
                    })
                })
            }
              , Ty = function(a, c, v) {
                var h = qe(c.selection, function(E) {
                    return Mi(E).bind(function(N) {
                        return xv(a, N)
                    }).filter(v)
                })
                  , w = uc(h);
                return hs(w.length > 0, w)
            }
              , ba = function(a, c, v, h, w) {
                return function(E, N, W, Q, se) {
                    var be = Rr_fromTable(N)
                      , nt = ge.from(null == se ? void 0 : se.section).getOrThunk(Vc_fallback);
                    return c(be, W).map(function(dt) {
                        var rt = function(a, c) {
                            return Bd(a, c, !1)
                        }(be, Q)
                          , Ut = a(rt, dt, zr, w(Q), nt)
                          , Kt = Za(Ut.grid);
                        return {
                            info: dt,
                            grid: bc(Ut.grid),
                            cursor: Ut.cursor,
                            lockedColumns: Kt
                        }
                    }).bind(function(dt) {
                        var rt = vT(N, dt.grid)
                          , Ut = ge.from(null == se ? void 0 : se.sizing).getOrThunk(function() {
                            return fc_getTableSize(N)
                        })
                          , Kt = ge.from(null == se ? void 0 : se.resize).getOrThunk(km);
                        return v(N, dt.grid, dt.info, {
                            sizing: Ut,
                            resize: Kt,
                            section: nt
                        }),
                        h(N),
                        _1(E, N),
                        La(N, pi),
                        dt.lockedColumns.length > 0 && Ea(N, pi, dt.lockedColumns.join(",")),
                        ge.some({
                            cursor: dt.cursor,
                            newRows: rt.newRows,
                            newCells: rt.newCells
                        })
                    })
                }
            }
              , Th = function(a, c) {
                return Ty(a, c, En).map(function(v) {
                    return {
                        cells: v,
                        generators: c.generators,
                        clipboard: c.clipboard
                    }
                })
            }
              , Hl = function(a, c) {
                return Ty(a, c, En)
            }
              , $l = function(a, c) {
                return Ty(a, c, function(v) {
                    return !v.isLocked
                })
            }
              , Vl = function(a, c) {
                return Re(c, function(v) {
                    return function(a, c) {
                        return xv(a, c).exists(function(v) {
                            return !v.isLocked
                        })
                    }(a, v)
                })
            }
              , Fs = function(a, c) {
                return function(a, c) {
                    return c.mergable
                }(0, c).filter(function(v) {
                    return Vl(a, v.cells)
                })
            }
              , H1 = function(a, c) {
                return function(a, c) {
                    return c.unmergable
                }(0, c).filter(function(v) {
                    return Vl(a, v)
                })
            }
              , ky = function(a, c, v, h) {
                for (var w = ii(a).rows, E = !0, N = 0; N < w.length; N++)
                    for (var W = 0; W < Ju(w[0]); W++) {
                        var Q = w[N]
                          , se = As(Q, W)
                          , nt = v(se.element, c);
                        !0 === nt && !1 === E ? Al(Q, W, Pa(h(), !0, se.isLocked)) : !0 === nt && (E = !1)
                    }
                return a
            }
              , Nd = function(a) {
                return {
                    isValue: En,
                    isError: _n,
                    getOr: Pt(a),
                    getOrThunk: Pt(a),
                    getOrDie: Pt(a),
                    or: function(nt) {
                        return Nd(a)
                    },
                    orThunk: function(nt) {
                        return Nd(a)
                    },
                    fold: function(nt, At) {
                        return At(a)
                    },
                    map: function(nt) {
                        return Nd(nt(a))
                    },
                    mapError: function(nt) {
                        return Nd(a)
                    },
                    each: function(nt) {
                        nt(a)
                    },
                    bind: function(nt) {
                        return nt(a)
                    },
                    exists: function(nt) {
                        return nt(a)
                    },
                    forall: function(nt) {
                        return nt(a)
                    },
                    toOptional: function() {
                        return ge.some(a)
                    }
                }
            }
              , jm = function(a) {
                return {
                    isValue: _n,
                    isError: En,
                    getOr: Xe,
                    getOrThunk: function(se) {
                        return se()
                    },
                    getOrDie: function() {
                        return function(a) {
                            return function() {
                                throw new Error(a)
                            }
                        }(String(a))()
                    },
                    or: Xe,
                    orThunk: function(se) {
                        return se()
                    },
                    fold: function(se, be) {
                        return se(a)
                    },
                    map: function(se) {
                        return jm(a)
                    },
                    mapError: function(se) {
                        return jm(se(a))
                    },
                    each: xe,
                    bind: function(se) {
                        return jm(a)
                    },
                    exists: _n,
                    forall: En,
                    toOptional: ge.none
                }
            }
              , Mx = {
                value: Nd,
                error: jm,
                fromOption: function(a, c) {
                    return a.fold(function() {
                        return jm(c)
                    }, Nd)
                }
            }
              , _h = function(a, c) {
                return {
                    rowDelta: 0,
                    colDelta: Ju(a[0]) - Ju(c[0])
                }
            }
              , Ay = function(a, c) {
                return {
                    rowDelta: a.length - c.length,
                    colDelta: 0
                }
            }
              , kh = function(a, c, v, h) {
                var w = "colgroup" === c.section ? v.col : v.cell;
                return ct(a, function(E) {
                    return Pa(w(), !0, h(E))
                })
            }
              , Rx = function(a, c, v, h) {
                var w = a[a.length - 1];
                return a.concat(ct(c, function() {
                    var N = tl(w, "colgroup" === w.section ? v.colgroup : v.row, Xe)
                      , W = kh(N.cells.length, N, v, function(Q) {
                        return J(h, Q.toString())
                    });
                    return ad(N, W)
                }))
            }
              , gT = function(a, c, v, h) {
                return qe(a, function(w) {
                    var E = kh(c, w, v, _n);
                    return iu(w, h, E)
                })
            }
              , qm = function(a, c, v) {
                var h = c.colDelta < 0 ? gT : Xe
                  , w = c.rowDelta < 0 ? Rx : Xe
                  , E = Za(a)
                  , N = Ju(a[0])
                  , W = wt(E, function(be) {
                    return be === N - 1
                })
                  , Q = h(a, Math.abs(c.colDelta), v, W ? N - 1 : N)
                  , se = Za(Q);
                return w(Q, Math.abs(c.rowDelta), v, Le(se, En))
            }
              , Eh = function(a, c, v, h) {
                var E = Fn(h, As(a[c], v).element)
                  , N = a[c];
                return a.length > 1 && Ju(N) > 1 && (v > 0 && E(hi(N, v - 1)) || v < N.cells.length - 1 && E(hi(N, v + 1)) || c > 0 && E(hi(a[c - 1], v)) || c < a.length - 1 && E(hi(a[c + 1], v)))
            }
              , Oy = function(a, c, v) {
                return tt(v, function(h) {
                    return h >= a.column && h <= Ju(c[0]) + a.column
                })
            }
              , U1 = function(a, c, v, h, w) {
                !function(a, c, v, h) {
                    c > 0 && c < a[0].cells.length && D(a, function(w) {
                        var N = w.cells[c];
                        v(N.element, w.cells[c - 1].element) && Al(w, c, Pa(h(), !0, N.isLocked))
                    })
                }(c, a, w, h.cell);
                var E = Ay(v, c)
                  , N = qm(v, E, h)
                  , W = Ay(c, N)
                  , Q = qm(c, W, h);
                return qe(Q, function(se, be) {
                    return iu(se, a, N[be].cells)
                })
            }
              , Dy = function(a, c, v, h, w) {
                !function(a, c, v, h) {
                    var w = ii(a).rows;
                    if (c > 0 && c < w.length) {
                        var N = function(a, c) {
                            return jn(a, function(v, h) {
                                return wt(v, function(w) {
                                    return c(w.element, h.element)
                                }) ? v : v.concat([h])
                            }, [])
                        }(w[c - 1].cells, v);
                        D(N, function(W) {
                            for (var Q = ge.none(), se = c; se < w.length; se++)
                                for (var be = function(At) {
                                    var dt = w[se]
                                      , rt = As(dt, At);
                                    v(rt.element, W.element) && (Q.isNone() && (Q = ge.some(h())),
                                    Q.each(function(Kt) {
                                        Al(dt, At, Pa(Kt, !0, rt.isLocked))
                                    }))
                                }, nt = 0; nt < Ju(w[0]); nt++)
                                    be(nt)
                        })
                    }
                }(c, a, w, h.cell);
                var E = Za(c)
                  , N = _h(c, v)
                  , W = Gt(Gt({}, N), {
                    colDelta: N.colDelta - E.length
                })
                  , Q = qm(c, W, h)
                  , se = ii(Q)
                  , be = se.cols
                  , nt = se.rows
                  , At = Za(Q)
                  , dt = _h(v, c)
                  , rt = Gt(Gt({}, dt), {
                    colDelta: dt.colDelta + At.length
                })
                  , Ut = function(a, c, v) {
                    return qe(a, function(h) {
                        return jn(v, function(w, E) {
                            var N = kh(1, h, c, En)[0];
                            return Dg(w, E, N)
                        }, h)
                    })
                }(v, h, At)
                  , Kt = qm(Ut, rt, h);
                return be.concat(nt.slice(0, a)).concat(Kt).concat(nt.slice(a, nt.length))
            }
              , Fd = function(a, c, v, h, w) {
                var E = ii(a)
                  , N = E.rows
                  , W = E.cols
                  , Q = N.slice(0, c)
                  , se = N.slice(c)
                  , be = function(a, c, v, h) {
                    return tl(a, function(w) {
                        return h(w, v)
                    }, c)
                }(N[v], function(nt, At) {
                    return c > 0 && c < N.length && h(hi(N[c - 1], At), hi(N[c], At)) ? As(N[c], At) : Pa(w(nt.element, h), !0, nt.isLocked)
                }, h, w);
                return W.concat(Q).concat([be]).concat(se)
            }
              , Ah = function(a, c, v, h, w) {
                return qe(a, function(E) {
                    var N = c > 0 && c < Ju(E) && h(hi(E, c - 1), hi(E, c))
                      , W = function(a, c, v, h, w, E, N) {
                        if ("colgroup" !== v && h)
                            return As(a, c);
                        var W = As(a, w);
                        return Pa(N(W.element, E), !0, !1)
                    }(E, c, E.section, N, v, h, w);
                    return Dg(E, c, W)
                })
            }
              , Ry = function(a, c, v, h) {
                return function(a, c, v, h) {
                    return void 0 !== hi(a[c], v) && c > 0 && h(hi(a[c - 1], v), hi(a[c], v))
                }(a, c, v, h) || function(a, c, v) {
                    return c > 0 && v(hi(a, c - 1), hi(a, c))
                }(a[c], v, h)
            }
              , Oh = function(a, c, v, h) {
                var E = function(W) {
                    return function(W) {
                        return "row" === W ? td(c) : qf(c)
                    }(W) ? W + "group" : W
                };
                return a ? Rd(c) ? E(v) : null : h && Rd(c) ? E("row" === v ? "col" : "row") : null
            }
              , K1 = function(a, c, v) {
                return Pa(v(a.element, c), !0, a.isLocked)
            }
              , Py = function(a, c, v, h, w, E, N) {
                return qe(a, function(Q, se) {
                    return function(a, c) {
                        var h = qe(a.cells, c);
                        return xu(a.element, h, a.section, a.isNew)
                    }(Q, function(be, nt) {
                        if (function(Q) {
                            return wt(c, function(se) {
                                return v(Q.element, se.element)
                            })
                        }(be)) {
                            var At = N(be, se, nt) ? w(be, v, h) : be;
                            return E(At, se, nt).each(function(dt) {
                                !function(a, c) {
                                    Or(c, function(v, h) {
                                        v.fold(function() {
                                            La(a, h)
                                        }, function(w) {
                                            zn(a.dom, h, w)
                                        })
                                    })
                                }(At.element, {
                                    scope: ge.from(dt)
                                })
                            }),
                            At
                        }
                        return be
                    })
                })
            }
              , By = function(a, c, v) {
                return re(a, function(h, w) {
                    return Ry(a, w, c, v) ? [] : [As(h, c)]
                })
            }
              , X1 = function(a, c, v, h, w) {
                var E = ii(a).rows
                  , N = re(c, function(be) {
                    return By(E, be, h)
                })
                  , W = qe(a, function(be) {
                    return $m(be.cells)
                })
                  , Q = function(a, c) {
                    return Re(c, Xe) && $m(a) ? En : function(h, w, E) {
                        return !("th" === Dr(h.element) && c[w])
                    }
                }(N, W)
                  , se = function(a, c) {
                    return function(v, h) {
                        return ge.some(Oh(a, v.element, "row", c[h]))
                    }
                }(v, W);
                return Py(a, N, h, w, K1, se, Q)
            }
              , J1 = function(a, c, v, h) {
                var w = ii(a).rows
                  , E = qe(c, function(N) {
                    return As(w[N.row], N.column)
                });
                return Py(a, E, v, h, K1, ge.none, En)
            }
              , Sv = function(a) {
                return jn(a, function(v, h) {
                    return wt(v, function(E) {
                        return E.column === h.column
                    }) ? v : v.concat([h])
                }, []).sort(function(v, h) {
                    return v.column - h.column
                })
            }
              , Fx = Ya("col")
              , Ny = Ya("colgroup")
              , zy = function(a) {
                return "tr" === Dr(a) || Ny(a)
            }
              , as = function(a) {
                return {
                    element: a,
                    colspan: Bu(a, "colspan", 1),
                    rowspan: Bu(a, "rowspan", 1)
                }
            }
              , Lx = function(a) {
                return Bo(a, "scope").map(function(c) {
                    return c.substr(0, 3)
                })
            }
              , Qi_modification = function(a, c) {
                void 0 === c && (c = as);
                var w = function(W) {
                    if (zy(W))
                        return function(W) {
                            return Ny(W.element) ? a.colgroup(W) : a.row(W)
                        }({
                            element: W
                        });
                    var Q = function(W) {
                        return Fx(W.element) ? a.col(W) : a.cell(W)
                    }(c(W));
                    return E = ge.some({
                        item: W,
                        replacement: Q
                    }),
                    Q
                }
                  , E = ge.none();
                return {
                    getOrInit: function(W, Q) {
                        return E.fold(function() {
                            return w(W)
                        }, function(se) {
                            return Q(W, se.item) ? se.replacement : w(W)
                        })
                    }
                }
            }
              , Qi_transform = function(a) {
                return function(c) {
                    var v = []
                      , w = function(N) {
                        var Q = c.replace(N, a, "td" === a ? {
                            scope: null
                        } : {});
                        return v.push({
                            item: N,
                            sub: Q
                        }),
                        Q
                    };
                    return {
                        replaceOrInit: function(N, W) {
                            return zy(N) || Fx(N) ? N : function(N, W) {
                                return ir(v, function(Q) {
                                    return W(Q.item, N)
                                })
                            }(N, W).fold(function() {
                                return w(N)
                            }, function(Q) {
                                return W(N, Q.item) ? Q.sub : w(N)
                            })
                        }
                    }
                }
            }
              , Qi_merging = function(a) {
                return {
                    unmerge: function(h) {
                        var w = Lx(h);
                        return w.each(function(E) {
                            return Ea(h, "scope", E)
                        }),
                        function() {
                            var E = a.cell({
                                element: h,
                                colspan: 1,
                                rowspan: 1
                            });
                            return Ks(E, "width"),
                            Ks(h, "width"),
                            w.each(function(N) {
                                return Ea(E, "scope", N)
                            }),
                            E
                        }
                    },
                    merge: function(h) {
                        return Ks(h[0], "width"),
                        function() {
                            var E = uc(qe(h, Lx));
                            if (0 === E.length)
                                return ge.none();
                            var N = E[0]
                              , W = ["row", "col"];
                            return wt(E, function(se) {
                                return se !== N && Ot(W, se)
                            }) ? ge.none() : ge.from(N)
                        }().fold(function() {
                            return La(h[0], "scope")
                        }, function(E) {
                            return Ea(h[0], "scope", E + "group")
                        }),
                        Pt(h[0])
                    }
                }
            }
              , Fy = ["body", "p", "div", "article", "aside", "figcaption", "figure", "footer", "header", "nav", "section", "ol", "ul", "table", "thead", "tfoot", "tbody", "caption", "tr", "td", "th", "h1", "h2", "h3", "h4", "h5", "h6", "blockquote", "pre", "address"]
              , e0 = Kp()
              , Xm = function(a) {
                return function(a, c) {
                    var v = a.property().name(c);
                    return Ot(Fy, v)
                }(e0, a)
            }
              , Iy = function(a) {
                return function(a, c) {
                    var v = a.property().name(c);
                    return Ot(["ol", "ul"], v)
                }(e0, a)
            }
              , Ly = function(a) {
                var Q, c = function(Q) {
                    return "br" === Dr(Q)
                }, E = function(Q) {
                    return Lo(Q).bind(function(se) {
                        var be = function(Q) {
                            return R(Q).map(function(se) {
                                return !!Xm(se) || !!function(a) {
                                    return function(a, c) {
                                        return Ot(["br", "img", "hr", "input"], a.property().name(c))
                                    }(e0, a)
                                }(se) && "img" !== Dr(se)
                            }).getOr(!1)
                        }(se);
                        return Qo(se).map(function(nt) {
                            return !0 === be || function(Q) {
                                return "li" === Dr(Q) || wr(Q, Iy).isSome()
                            }(nt) || c(se) || Xm(nt) && !zr(Q, nt) ? [] : [xt.fromTag("br")]
                        })
                    }).getOr([])
                }, W = 0 === (Q = re(a, function(se) {
                    var be = C(se);
                    return function(Q) {
                        return Re(Q, function(se) {
                            return c(se) || ka(se) && 0 === Xf(se).trim().length
                        })
                    }(be) ? [] : be.concat(E(se))
                })).length ? [xt.fromTag("br")] : Q;
                Eb(a[0]),
                Ol(a[0], W)
            }
              , Ym = function(a) {
                return Pm(a, !0)
            }
              , Hy = function(a) {
                0 === ai(a).length && Os(a)
            }
              , Jm = function(a, c) {
                return {
                    grid: a,
                    cursor: c
                }
            }
              , Iu = function(a, c, v) {
                var h = function(a, c, v) {
                    var h, w, E = ii(a).rows;
                    return ge.from(null === (w = null === (h = E[c]) || void 0 === h ? void 0 : h.cells[v]) || void 0 === w ? void 0 : w.element).filter(Ym).orThunk(function() {
                        return function(a) {
                            return Cr(a, function(c) {
                                return Cr(c.cells, function(v) {
                                    var h = v.element;
                                    return hs(Ym(h), h)
                                })
                            })
                        }(E)
                    })
                }(a, c, v);
                return Jm(a, h)
            }
              , Mh = function(a) {
                return jn(a, function(v, h) {
                    return wt(v, function(E) {
                        return E.row === h.row
                    }) ? v : v.concat([h])
                }, []).sort(function(v, h) {
                    return v.row - h.row
                })
            }
              , Rh = function(a, c) {
                return function(v, h, w, E, N) {
                    var W = Mh(h)
                      , se = function(a, c, v, h, w, E, N) {
                        var W = ii(a)
                          , Q = W.cols
                          , se = W.rows
                          , be = se[c[0]]
                          , nt = re(c, function(Qn) {
                            return function(a, c, v) {
                                return re(a[c].cells, function(w, E) {
                                    return Ry(a, c, E, v) ? [] : [w]
                                })
                            }(se, Qn, w)
                        })
                          , At = qe(be.cells, function(Qn, mo) {
                            return $m(By(se, mo, w))
                        })
                          , dt = Un([], se, !0);
                        D(c, function(Qn) {
                            dt[Qn] = N.transformRow(se[Qn], v)
                        });
                        var rt = Q.concat(dt)
                          , Ut = function(a, c) {
                            return Re(c, Xe) && $m(a.cells) ? En : function(h, w, E) {
                                return !("th" === Dr(h.element) && c[E])
                            }
                        }(be, At)
                          , Kt = function(a, c) {
                            return function(v, h, w) {
                                return ge.some(Oh(a, v.element, "col", c[w]))
                            }
                        }(h, At);
                        return Py(rt, nt, w, E, N.transformCell, Kt, Ut)
                    }(v, qe(W, function(be) {
                        return be.row
                    }), a, c, w, E.replaceOrInit, N);
                    return Iu(se, h[0].row, h[0].column)
                }
            }
              , Wx = Rh("thead", !0)
              , xT = Rh("tbody", !1)
              , CT = Rh("tfoot", !1)
              , Ph = function(a, c, v) {
                var h = function(a, c) {
                    return mf(a, function() {
                        return c
                    })
                }(a, v.section)
                  , w = Rr_generate(h);
                return Bd(w, c, !0)
            }
              , zh = function(a, c, v, h) {
                return function(a, c, v, h) {
                    var w = Rr_generate(c)
                      , E = h.getWidths(w, h);
                    Zg(w, E, h)
                }(0, c, 0, h.sizing)
            }
              , Zm = function(a, c, v, h) {
                return function(a, c, v, h, w) {
                    var E = Rr_generate(c)
                      , N = h.getWidths(E, h)
                      , W = h.pixelWidth()
                      , Q = w.calcRedestributedWidths(N, W, v.pixelDelta, h.isRelative)
                      , be = Q.delta;
                    Zg(E, Q.newSizes, h),
                    h.adjustTableWidth(be)
                }(0, c, v, h.sizing, h.resize)
            }
              , Mf = function(a, c) {
                return wt(c, function(v) {
                    return 0 === v.column && v.isLocked
                })
            }
              , o0 = function(a, c) {
                return wt(c, function(v) {
                    return v.column + v.colspan >= a.grid.columns && v.isLocked
                })
            }
              , Jy = function(a, c) {
                var v = Vi(a)
                  , h = Sv(c);
                return jn(h, function(w, E) {
                    return w + v[E.column].map(Fg).getOr(0)
                }, 0)
            }
              , Tv = function(a) {
                return function(c, v) {
                    return Hl(c, v).filter(function(h) {
                        return !(a ? Mf : o0)(c, h)
                    }).map(function(h) {
                        return {
                            details: h,
                            pixelDelta: Jy(c, h)
                        }
                    })
                }
            }
              , Fh = function(a) {
                return function(c, v) {
                    return Th(c, v).filter(function(h) {
                        return !(a ? Mf : o0)(c, h.cells)
                    })
                }
            }
              , a0 = Qi_transform("th")
              , Id = Qi_transform("td")
              , i0 = ba(function(a, c, v, h) {
                var w = c[0].row
                  , E = Mh(c)
                  , N = kr(E, function(W, Q) {
                    return {
                        grid: Fd(W.grid, w, Q.row + W.delta, v, h.getOrInit),
                        delta: W.delta + 1
                    }
                }, {
                    grid: a,
                    delta: 0
                }).grid;
                return Iu(N, w, c[0].column)
            }, Hl, xe, xe, Qi_modification)
              , Kx = ba(function(a, c, v, h) {
                var w = Mh(c)
                  , E = w[w.length - 1]
                  , N = E.row + E.rowspan
                  , W = kr(w, function(Q, se) {
                    return Fd(Q, N, se.row, v, h.getOrInit)
                }, a);
                return Iu(W, N, c[0].column)
            }, Hl, xe, xe, Qi_modification)
              , Xx = ba(function(a, c, v, h) {
                var w = c.details
                  , E = Sv(w)
                  , N = E[0].column
                  , W = kr(E, function(Q, se) {
                    return {
                        grid: Ah(Q.grid, N, se.column + Q.delta, v, h.getOrInit),
                        delta: Q.delta + 1
                    }
                }, {
                    grid: a,
                    delta: 0
                }).grid;
                return Iu(W, w[0].row, N)
            }, Tv(!0), Zm, xe, Qi_modification)
              , Qm = ba(function(a, c, v, h) {
                var w = c.details
                  , E = w[w.length - 1]
                  , N = E.column + E.colspan
                  , W = Sv(w)
                  , Q = kr(W, function(se, be) {
                    return Ah(se, N, be.column, v, h.getOrInit)
                }, a);
                return Iu(Q, w[0].row, N)
            }, Tv(!1), Zm, xe, Qi_modification)
              , eg = ba(function(a, c, v, h) {
                var w = Sv(c.details)
                  , E = function(a, c) {
                    return re(a, function(v) {
                        var w = kr(c, function(E, N) {
                            return N >= 0 && N < E.length ? E.slice(0, N).concat(E.slice(N + 1)) : E
                        }, v.cells);
                        return w.length > 0 ? [xu(v.element, w, v.section, v.isNew)] : []
                    })
                }(a, qe(w, function(W) {
                    return W.column
                }));
                return Iu(E, w[0].row, Math.min(w[0].column, E.length > 0 ? E[0].cells.length - 1 : 0))
            }, function(a, c) {
                return $l(a, c).map(function(v) {
                    return {
                        details: v,
                        pixelDelta: -Jy(a, v)
                    }
                })
            }, Zm, Hy, Qi_modification)
              , Zy = ba(function(a, c, v, h) {
                var w = Mh(c)
                  , E = function(a, c, v) {
                    var h = ii(a)
                      , w = h.rows;
                    return h.cols.concat(w.slice(0, c)).concat(w.slice(v + 1))
                }(a, w[0].row, w[w.length - 1].row);
                return Iu(E, Math.min(c[0].row, E.length > 0 ? E.length - 1 : 0), c[0].column)
            }, Hl, xe, Hy, Qi_modification)
              , Qy = ba(function(a, c, v, h) {
                var w = Sv(c)
                  , E = qe(w, function(W) {
                    return W.column
                })
                  , N = X1(a, E, !0, v, h.replaceOrInit);
                return Iu(N, c[0].row, c[0].column)
            }, $l, xe, xe, a0)
              , _v = ba(function(a, c, v, h) {
                var w = Sv(c)
                  , E = qe(w, function(W) {
                    return W.column
                })
                  , N = X1(a, E, !1, v, h.replaceOrInit);
                return Iu(N, c[0].row, c[0].column)
            }, $l, xe, xe, Id)
              , kv = ba(Wx, $l, xe, xe, a0)
              , e2 = ba(xT, $l, xe, xe, Id)
              , Yx = ba(CT, $l, xe, xe, Id)
              , Jx = ba(function(a, c, v, h) {
                var w = J1(a, c, v, h.replaceOrInit);
                return Iu(w, c[0].row, c[0].column)
            }, $l, xe, xe, a0)
              , ST = ba(function(a, c, v, h) {
                var w = J1(a, c, v, h.replaceOrInit);
                return Iu(w, c[0].row, c[0].column)
            }, $l, xe, xe, Id)
              , Zx = ba(function(a, c, v, h) {
                var w = c.cells;
                Ly(w);
                var E = function(a, c, v, h) {
                    var w = ii(a).rows;
                    if (0 === w.length)
                        return a;
                    for (var E = c.startRow; E <= c.finishRow; E++)
                        for (var N = c.startCol; N <= c.finishCol; N++) {
                            var W = w[E]
                              , Q = As(W, N).isLocked;
                            Al(W, N, Pa(h(), !1, Q))
                        }
                    return a
                }(a, c.bounds, 0, h.merge(w));
                return Jm(E, ge.from(w[0]))
            }, Fs, zh, xe, Qi_merging)
              , TT = ba(function(a, c, v, h) {
                var E = kr(c, function(N, W) {
                    return ky(N, W, v, h.unmerge(W))
                }, a);
                return Jm(E, ge.from(c[0]))
            }, H1, zh, xe, Qi_merging)
              , Ih = ba(function(a, c, v, h) {
                var se, be, E = (se = c.generators,
                be = Rr_fromTable(c.clipboard),
                Bd(be, se, !0)), N = function(a, c) {
                    return {
                        row: a,
                        column: c
                    }
                }(c.row, c.column);
                return function(a, c, v, h, w) {
                    var E = Za(c)
                      , N = function(a, c, v) {
                        var h = Ju(c[0])
                          , w = ii(c).cols.length + a.row
                          , E = ct(h - a.column, function(W) {
                            return W + a.column
                        });
                        return {
                            row: w,
                            column: ir(E, function(W) {
                                return Re(v, function(Q) {
                                    return Q !== W
                                })
                            }).getOr(h - 1)
                        }
                    }(a, c, E)
                      , W = ii(v).rows
                      , Q = Oy(N, W, E)
                      , se = function(a, c, v) {
                        if (a.row >= c.length || a.column > Ju(c[0]))
                            return Mx.error("invalid start address out of table bounds, row: " + a.row + ", column: " + a.column);
                        var h = c.slice(a.row)
                          , w = h[0].cells.slice(a.column)
                          , E = Ju(v[0]);
                        return Mx.value({
                            rowDelta: h.length - v.length,
                            colDelta: w.length - E
                        })
                    }(N, c, W);
                    return se.map(function(be) {
                        var nt = Gt(Gt({}, be), {
                            colDelta: be.colDelta - Q.length
                        })
                          , At = qm(c, nt, h)
                          , dt = Za(At)
                          , rt = Oy(N, W, dt);
                        return function(a, c, v, h, w, E) {
                            for (var N = a.row, W = a.column, be = N + v.length, nt = W + Ju(v[0]) + E.length, At = Le(E, En), dt = N; dt < be; dt++)
                                for (var rt = 0, Ut = W; Ut < nt; Ut++)
                                    if (At[Ut])
                                        rt++;
                                    else {
                                        Eh(c, dt, Ut, w) && ky(c, hi(c[dt], Ut), w, h.cell);
                                        var Qn = As(v[dt - N], Ut - W - rt)
                                          , Jn = h.replace(Qn.element);
                                        Al(c[dt], Ut, Pa(Jn, !0, Qn.isLocked))
                                    }
                            return c
                        }(N, At, W, h, w, rt)
                    })
                }(N, a, E, c.generators, v).fold(function() {
                    return Jm(a, ge.some(c.element))
                }, function(Q) {
                    return Iu(Q, c.row, c.column)
                })
            }, function(a, c) {
                return Mi(c.element).bind(function(v) {
                    return xv(a, v).map(function(h) {
                        return Gt(Gt({}, h), {
                            generators: c.generators,
                            clipboard: c.clipboard
                        })
                    })
                })
            }, zh, xe, Qi_modification)
              , Qx = ba(function(a, c, v, h) {
                var w = ii(a).rows
                  , E = c.cells[0].column
                  , W = Ph(c.clipboard, c.generators, w[c.cells[0].row])
                  , Q = U1(E, a, W, c.generators, v);
                return Iu(Q, c.cells[0].row, c.cells[0].column)
            }, Fh(!0), xe, xe, Qi_modification)
              , t2 = ba(function(a, c, v, h) {
                var w = ii(a).rows
                  , E = c.cells[c.cells.length - 1].column + c.cells[c.cells.length - 1].colspan
                  , W = Ph(c.clipboard, c.generators, w[c.cells[0].row])
                  , Q = U1(E, a, W, c.generators, v);
                return Iu(Q, c.cells[0].row, c.cells[0].column)
            }, Fh(!1), xe, xe, Qi_modification)
              , n2 = ba(function(a, c, v, h) {
                var w = ii(a).rows
                  , E = c.cells[0].row
                  , W = Ph(c.clipboard, c.generators, w[E])
                  , Q = Dy(E, a, W, c.generators, v);
                return Iu(Q, c.cells[0].row, c.cells[0].column)
            }, Th, xe, xe, Qi_modification)
              , u0 = ba(function(a, c, v, h) {
                var w = ii(a).rows
                  , E = c.cells[c.cells.length - 1].row + c.cells[c.cells.length - 1].rowspan
                  , W = Ph(c.clipboard, c.generators, w[c.cells[0].row])
                  , Q = Dy(E, a, W, c.generators, v);
                return Iu(Q, c.cells[0].row, c.cells[0].column)
            }, Th, xe, xe, Qi_modification)
              , Gr = function(a, c) {
                var v = Rr_fromTable(a);
                return Hl(v, c).bind(function(w) {
                    var E = w[w.length - 1]
                      , N = w[0].column
                      , W = E.column + E.colspan
                      , Q = Mn(qe(v.all, function(se) {
                        return tt(se.cells, function(be) {
                            return be.column >= N && be.column < W
                        })
                    }));
                    return by(Q)
                }).getOr("")
            }
              , Rf = function(a, c) {
                var v = Rr_fromTable(a);
                return Hl(v, c).bind(by).getOr("")
            }
              , Pf = function(a, c) {
                var v = Rr_fromTable(a);
                return Hl(v, c).bind(function(w) {
                    var E = w[w.length - 1];
                    return function(a) {
                        var c = qe(a, function(E) {
                            return Ch(E).type
                        })
                          , v = Ot(c, "header")
                          , h = Ot(c, "footer");
                        if (!v && !h)
                            return ge.some("body");
                        var w = Ot(c, "body");
                        return !v || w || h ? v || w || !h ? ge.none() : ge.some("footer") : ge.some("header")
                    }(v.all.slice(w[0].row, E.row + E.rowspan))
                }).getOr("")
            }
              , Uc = function(a, c, v) {
                var h = function(Uu) {
                    return "table" === Dr(dc(Uu))
                }
                  , N = vy(a)
                  , W = ph(a) ? xe : cT
                  , Q = function(Uu) {
                    switch (bv(a)) {
                    case "section":
                        return Vc_section();
                    case "sectionCells":
                        return Vc_sectionCells();
                    case "cells":
                        return Vc_cells();
                    default:
                        return function(a, c) {
                            var h = function(a) {
                                return Cr(a.all, function(c) {
                                    var v = Ch(c);
                                    return "header" === v.type ? ge.from(v.subType) : ge.none()
                                })
                            }(Rr_fromTable(a)).getOr(c);
                            switch (h) {
                            case "section":
                                return yy();
                            case "sectionCells":
                                return wy();
                            case "cells":
                                return xy()
                            }
                        }(Uu, "section")
                    }
                }
                  , be = function(Uu, ya, qc, wl, Kc) {
                    return function(wc, ab, bg) {
                        void 0 === bg && (bg = !1),
                        yd(wc);
                        var iw = wl()
                          , ib = xt.fromDom(a.getDoc())
                          , ub = ul(qc, ib, N)
                          , bp = {
                            sizing: Lm(a, wc),
                            resize: ph(a) ? vv() : km(),
                            section: Q(wc)
                        };
                        return ya(wc) ? Uu(iw, wc, ab, ub, bp).bind(function(tf) {
                            D(tf.newRows, function(nf) {
                                lh(a, nf.dom)
                            }),
                            D(tf.newCells, function(nf) {
                                hv(a, nf.dom)
                            });
                            var xl = function(Uu, ya) {
                                return ya.cursor.fold(function() {
                                    var qc = ai(Uu);
                                    return Gn(qc).filter(ur).map(function(wl) {
                                        c.clear(Uu);
                                        var Kc = a.dom.createRng();
                                        return Kc.selectNode(wl.dom),
                                        a.selection.setRng(Kc),
                                        Ea(wl, "data-mce-selected", "1"),
                                        Kc
                                    })
                                }, function(qc) {
                                    var wl = function(a) {
                                        return z1(xh, a)
                                    }(qc)
                                      , Kc = a.dom.createRng();
                                    return Kc.setStart(wl.element.dom, wl.offset),
                                    Kc.setEnd(wl.element.dom, wl.offset),
                                    a.selection.setRng(Kc),
                                    c.clear(Uu),
                                    ge.some(Kc)
                                })
                            }(wc, tf);
                            return ur(wc) && (yd(wc),
                            bg || du(a, wc.dom, Kc)),
                            xl.map(function(nf) {
                                return {
                                    rng: nf,
                                    effect: Kc
                                }
                            })
                        }) : ge.none()
                    }
                };
                return {
                    deleteRow: be(Zy, function(Uu) {
                        return !1 === h(a) || Jb(Uu).rows > 1
                    }, xe, v, jo),
                    deleteColumn: be(eg, function(Uu) {
                        return !1 === h(a) || Jb(Uu).columns > 1
                    }, xe, v, jo),
                    insertRowsBefore: be(i0, En, xe, v, jo),
                    insertRowsAfter: be(Kx, En, xe, v, jo),
                    insertColumnsBefore: be(Xx, En, W, v, jo),
                    insertColumnsAfter: be(Qm, En, W, v, jo),
                    mergeCells: be(Zx, En, xe, v, jo),
                    unmergeCells: be(TT, En, xe, v, jo),
                    pasteColsBefore: be(Qx, En, xe, v, jo),
                    pasteColsAfter: be(t2, En, xe, v, jo),
                    pasteRowsBefore: be(n2, En, xe, v, jo),
                    pasteRowsAfter: be(u0, En, xe, v, jo),
                    pasteCells: be(Ih, En, xe, v, Ll),
                    makeCellsHeader: be(Jx, En, xe, v, jo),
                    unmakeCellsHeader: be(ST, En, xe, v, jo),
                    makeColumnsHeader: be(Qy, En, xe, v, jo),
                    unmakeColumnsHeader: be(_v, En, xe, v, jo),
                    makeRowsHeader: be(kv, En, xe, v, jo),
                    makeRowsBody: be(e2, En, xe, v, jo),
                    makeRowsFooter: be(Yx, En, xe, v, jo),
                    getTableRowType: Pf,
                    getTableCellType: Rf,
                    getTableColType: Gr
                }
            }
              , tg = {
                styles: {
                    "border-collapse": "collapse",
                    width: "100%"
                },
                attributes: {
                    border: "1"
                },
                colGroups: !1
            }
              , r2 = function(a, c, v, h) {
                return ct(a, function(w) {
                    return function(a, c, v, h) {
                        for (var w = xt.fromTag("tr"), E = 0; E < a; E++) {
                            var N = xt.fromTag(h < c || E < v ? "th" : "td");
                            E < v && Ea(N, "scope", "row"),
                            h < c && Ea(N, "scope", "col"),
                            Aa(N, xt.fromTag("br")),
                            Aa(w, N)
                        }
                        return w
                    }(c, v, h, w)
                })
            }
              , rC = function(a, c) {
                a.selection.select(c.dom, !0),
                a.selection.collapse(!0)
            }
              , Lh = function(a, c, v, h, w) {
                var E = pv(a)
                  , N = {
                    styles: E,
                    attributes: D1(a),
                    colGroups: hh(a)
                };
                return a.undoManager.ignore(function() {
                    var W = function(a, c, v, h, w, E) {
                        void 0 === E && (E = tg);
                        var N = xt.fromTag("table")
                          , W = "cells" !== w;
                        qs(N, E.styles),
                        Cu(N, E.attributes),
                        E.colGroups && Aa(N, function(a) {
                            var c = xt.fromTag("colgroup");
                            return ct(a, function() {
                                return Aa(c, xt.fromTag("col"))
                            }),
                            c
                        }(c));
                        var Q = Math.min(a, v);
                        if (W && v > 0) {
                            var se = xt.fromTag("thead");
                            Aa(N, se);
                            var nt = r2(v, c, "sectionCells" === w ? Q : 0, h);
                            Ol(se, nt)
                        }
                        var At = xt.fromTag("tbody");
                        Aa(N, At);
                        var Ut = r2(W ? a - Q : a, c, W ? 0 : v, h);
                        return Ol(At, Ut),
                        N
                    }(v, c, w, h, bv(a), N);
                    Ea(W, "data-mce-id", "__mce");
                    var Q = function(a) {
                        var c = xt.fromTag("div")
                          , v = xt.fromDom(a.dom.cloneNode(!0));
                        return Aa(c, v),
                        function(a) {
                            return a.dom.innerHTML
                        }(c)
                    }(W);
                    a.insertContent(Q),
                    a.addVisual()
                }),
                Qc(dc(a), 'table[data-mce-id="__mce"]').map(function(W) {
                    return Dd(a) ? B1(W) : Af(a) ? hy(W) : (Im(a) || function(a) {
                        return Nn(a) && -1 !== a.indexOf("%")
                    }(E.width)) && Md(W),
                    yd(W),
                    La(W, "data-mce-id"),
                    function(a, c) {
                        D(Ku(c, "tr"), function(v) {
                            lh(a, v.dom),
                            D(Ku(v, "th,td"), function(h) {
                                hv(a, h.dom)
                            })
                        })
                    }(a, W),
                    function(a, c) {
                        Qc(c, "td,th").each(Fn(rC, a))
                    }(a, W),
                    W.dom
                }).getOr(null)
            }
              , a2 = function(a, c, v, h, w) {
                void 0 === h && (h = {});
                var E = function(Q) {
                    return oo(Q) && Q > 0
                };
                return E(c) && E(v) ? Lh(a, v, c, h.headerColumns || 0, h.headerRows || 0) : (console.error(w),
                null)
            }
              , Hh = function(a) {
                return function() {
                    return a().fold(function() {
                        return []
                    }, function(c) {
                        return qe(c, function(v) {
                            return v.dom
                        })
                    })
                }
            }
              , d0 = function(a) {
                return function(c) {
                    var v = c.length > 0 ? ge.some(pa(c)) : ge.none();
                    a(v)
                }
            }
              , ng = function(a) {
                return function(c, v, h) {
                    void 0 === h && (h = {});
                    var w = a2(a, v, c, h, "Invalid values for insertTable - rows and columns values are required to insert a table.");
                    return a.undoManager.add(),
                    w
                }
            }
              , uC = function(a, c, v) {
                var h = Bu(a, c, 1);
                1 === v || h <= 1 ? La(a, c) : Ea(a, c, Math.min(v, h))
            }
              , m0 = tinymce.util.Tools.resolve("tinymce.util.Tools")
              , rg = function(a, c, v) {
                return function(N, W) {
                    for (var Q = 0; Q < W.length; Q++) {
                        var se = a.getStyle(W[Q], v);
                        if (void 0 === N && (N = se),
                        N !== se)
                            return ""
                    }
                    return N
                }(void 0, a.select("td,th", c))
            }
              , g0 = function(a, c, v) {
                v && a.formatter.apply("align" + v, {}, c)
            }
              , h0 = function(a, c) {
                m0.each("left center right".split(" "), function(v) {
                    a.formatter.remove("align" + v, {}, c)
                })
            }
              , p0 = [{
                text: "None",
                value: ""
            }, {
                text: "Top",
                value: "top"
            }, {
                text: "Middle",
                value: "middle"
            }, {
                text: "Bottom",
                value: "bottom"
            }]
              , Wi = /^#?([a-f\d])([a-f\d])([a-f\d])$/i
              , $h = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i
              , Wc = function(a) {
                return function(a, c) {
                    return Ma(a, "#") ? function(a, c) {
                        return a.substring(c)
                    }(a, "#".length) : a
                }(a).toUpperCase()
            }
              , Ld = function(a) {
                var c = a.toString(16);
                return (1 === c.length ? "0" + c : c).toUpperCase()
            }
              , Uh = function(a) {
                return function(a) {
                    return {
                        value: a
                    }
                }(Ld(a.red) + Ld(a.green) + Ld(a.blue))
            }
              , kT = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)/
              , i2 = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/
              , og = function(a, c, v, h) {
                return {
                    red: a,
                    green: c,
                    blue: v,
                    alpha: h
                }
            }
              , b0 = function(a, c, v, h) {
                var w = parseInt(a, 10)
                  , E = parseInt(c, 10)
                  , N = parseInt(v, 10)
                  , W = parseFloat(h);
                return og(w, E, N, W)
            }
              , y0 = function(a) {
                return function(a) {
                    return function(a) {
                        return Wi.test(a) || $h.test(a)
                    }(a) ? ge.some({
                        value: Wc(a)
                    }) : ge.none()
                }(a).orThunk(function() {
                    return function(a) {
                        if ("transparent" === a)
                            return ge.some(og(0, 0, 0, 0));
                        var c = kT.exec(a);
                        if (null !== c)
                            return ge.some(b0(c[1], c[2], c[3], "1"));
                        var v = i2.exec(a);
                        return null !== v ? ge.some(b0(v[1], v[2], v[3], v[4])) : ge.none()
                    }(a).map(Uh)
                }).getOrThunk(function() {
                    var c = document.createElement("canvas");
                    c.height = 1,
                    c.width = 1;
                    var v = c.getContext("2d");
                    v.clearRect(0, 0, c.width, c.height),
                    v.fillStyle = "#FFFFFF",
                    v.fillStyle = a,
                    v.fillRect(0, 0, 1, 1);
                    var h = v.getImageData(0, 0, 1, 1).data;
                    return Uh(og(h[0], h[1], h[2], h[3]))
                })
            }
              , Ev = function(a) {
                var c = a;
                return {
                    get: function() {
                        return c
                    },
                    set: function(w) {
                        c = w
                    }
                }
            }
              , Wh = function(a) {
                var c = Ev(ge.none())
                  , v = function() {
                    return c.get().each(a)
                };
                return {
                    clear: function() {
                        v(),
                        c.set(ge.none())
                    },
                    isSet: function() {
                        return c.get().isSome()
                    },
                    get: function() {
                        return c.get()
                    },
                    set: function(W) {
                        v(),
                        c.set(ge.some(W))
                    }
                }
            }
              , Hd = function() {
                var a = Wh(xe);
                return Gt(Gt({}, a), {
                    on: function(v) {
                        return a.get().each(v)
                    }
                })
            }
              , jc = function(a, c, v, h) {
                return function(w) {
                    var E = Wh(function(a) {
                        return a.unbind()
                    })
                      , N = function(a) {
                        return !Mo(a)
                    }(h)
                      , W = function() {
                        var Q = _m(c)
                          , se = function(be) {
                            return a.formatter.match(v, {
                                value: h
                            }, be.dom, N)
                        };
                        N ? (w.setActive(!wt(Q, se)),
                        E.set(a.formatter.formatChanged(v, function(be) {
                            return w.setActive(!be)
                        }, !0))) : (w.setActive(Re(Q, se)),
                        E.set(a.formatter.formatChanged(v, w.setActive, !1, {
                            value: h
                        })))
                    };
                    return a.initialized ? W() : a.on("init", W),
                    E.clear
                }
            }
              , jh = function(a) {
                return we(a, "menu")
            }
              , Ul = function(a) {
                return qe(a, function(c) {
                    var v = c.text || c.title;
                    return jh(c) ? {
                        text: v,
                        items: Ul(c.menu)
                    } : {
                        text: v,
                        value: c.value
                    }
                })
            }
              , Da = function(a, c, v, h, w) {
                return qe(v, function(E) {
                    var N = E.text || E.title;
                    return jh(E) ? {
                        type: "nestedmenuitem",
                        text: N,
                        getSubmenuItems: function() {
                            return Da(a, c, E.menu, h, w)
                        }
                    } : {
                        text: N,
                        type: "togglemenuitem",
                        onAction: function() {
                            return w(E.value)
                        },
                        onSetup: jc(a, c, h, E.value)
                    }
                })
            }
              , $d = function(a, c) {
                return function(v) {
                    var h;
                    a.execCommand("mceTableApplyCellStyle", !1, ((h = {})[c] = v,
                    h))
                }
            }
              , Bf = function(a) {
                return re(a, function(c) {
                    return jh(c) ? [Gt(Gt({}, c), {
                        menu: Bf(c.menu)
                    })] : Mo(c.value) ? [c] : []
                })
            }
              , Av = function(a, c, v, h, w) {
                return function(E) {
                    return E(Da(a, c, v, h, w))
                }
            }
              , Gh = function(a, c, v) {
                var h = qe(c, function(w) {
                    return {
                        text: w.title,
                        value: "#" + y0(w.value).value,
                        type: "choiceitem"
                    }
                });
                return [{
                    type: "fancymenuitem",
                    fancytype: "colorswatch",
                    initData: {
                        colors: h.length > 0 ? h : void 0,
                        allowCustomColors: !1
                    },
                    onAction: function(w) {
                        var E;
                        a.execCommand("mceTableApplyCellStyle", !1, ((E = {})[v] = "remove" === w.value ? "" : w.value,
                        E))
                    }
                }]
            }
              , w0 = function(a) {
                return function() {
                    var c = a.queryCommandValue("mceTableRowType");
                    a.execCommand("mceTableRowType", !1, {
                        type: "header" === c ? "body" : "header"
                    })
                }
            }
              , x0 = function(a) {
                return function() {
                    var c = a.queryCommandValue("mceTableColType");
                    a.execCommand("mceTableColType", !1, {
                        type: "th" === c ? "td" : "th"
                    })
                }
            }
              , mC = [{
                name: "width",
                type: "input",
                label: "Width"
            }, {
                name: "height",
                type: "input",
                label: "Height"
            }, {
                name: "celltype",
                type: "listbox",
                label: "Cell type",
                items: [{
                    text: "Cell",
                    value: "td"
                }, {
                    text: "Header cell",
                    value: "th"
                }]
            }, {
                name: "scope",
                type: "listbox",
                label: "Scope",
                items: [{
                    text: "None",
                    value: ""
                }, {
                    text: "Row",
                    value: "row"
                }, {
                    text: "Column",
                    value: "col"
                }, {
                    text: "Row group",
                    value: "rowgroup"
                }, {
                    text: "Column group",
                    value: "colgroup"
                }]
            }, {
                name: "halign",
                type: "listbox",
                label: "Horizontal align",
                items: [{
                    text: "None",
                    value: ""
                }, {
                    text: "Left",
                    value: "left"
                }, {
                    text: "Center",
                    value: "center"
                }, {
                    text: "Right",
                    value: "right"
                }]
            }, {
                name: "valign",
                type: "listbox",
                label: "Vertical align",
                items: p0
            }]
              , Kh = function(a) {
                return mC.concat(function(a) {
                    var c = Ul(Qs(a));
                    return c.length > 0 ? ge.some({
                        name: "class",
                        type: "listbox",
                        label: "Class",
                        items: c
                    }) : ge.none()
                }(a).toArray())
            }
              , Ov = function(a, c) {
                var h = [{
                    name: "borderstyle",
                    type: "listbox",
                    label: "Border style",
                    items: [{
                        text: "Select...",
                        value: ""
                    }].concat(Ul(mh(a)))
                }, {
                    name: "bordercolor",
                    type: "colorinput",
                    label: "Border color"
                }, {
                    name: "backgroundcolor",
                    type: "colorinput",
                    label: "Background color"
                }];
                return {
                    title: "Advanced",
                    name: "advanced",
                    items: "cell" === c ? [{
                        name: "borderwidth",
                        type: "input",
                        label: "Border width"
                    }].concat(h) : h
                }
            }
              , ag = function(a) {
                return function(c, v) {
                    var h = c.dom;
                    return {
                        setAttrib: function(W, Q) {
                            (!a || Q) && h.setAttrib(v, W, Q)
                        },
                        setStyle: function(W, Q) {
                            (!a || Q) && h.setStyle(v, W, Q)
                        },
                        setFormat: function(W, Q) {
                            (!a || Q) && ("" === Q ? c.formatter.remove(W, {
                                value: null
                            }, v, !0) : c.formatter.apply(W, {
                                value: Q
                            }, v))
                        }
                    }
                }
            }
              , Va = {
                normal: ag(!1),
                ifTruthy: ag(!0)
            }
              , is = function(a) {
                return function(c) {
                    return Ma(c, "rgb") ? a.toHex(c) : c
                }
            }
              , tc = function(a, c) {
                var v = xt.fromDom(c);
                return {
                    borderwidth: Xu(v, "border-width").getOr(""),
                    borderstyle: Xu(v, "border-style").getOr(""),
                    bordercolor: Xu(v, "border-color").map(is(a)).getOr(""),
                    backgroundcolor: Xu(v, "background-color").map(is(a)).getOr("")
                }
            }
              , ig = function(a) {
                var c = a[0]
                  , v = a.slice(1);
                return D(v, function(h) {
                    D(Ke(c), function(w) {
                        Or(h, function(E, N) {
                            var W = c[w];
                            "" !== W && w === N && W !== E && (c[w] = "")
                        })
                    })
                }),
                c
            }
              , C0 = function(a, c, v, h) {
                return ir(a, function(w) {
                    return !Hr(v.formatter.matchNode(h, c + w))
                }).getOr("")
            }
              , S0 = Fn(C0, ["left", "center", "right"], "align")
              , T0 = Fn(C0, ["top", "middle", "bottom"], "valign")
              , s2 = function(a) {
                return ao(xt.fromDom(a)).map(function(c) {
                    var v = {
                        selection: pa(a.cells)
                    };
                    return Pf(c, v)
                }).getOr("")
            }
              , Xh = function(a, c) {
                var v = Rr_fromTable(a)
                  , h = Rr_justCells(v)
                  , w = tt(h, function(E) {
                    return wt(c, function(N) {
                        return zr(E.element, N)
                    })
                });
                return qe(w, function(E) {
                    return {
                        element: E.element.dom,
                        column: Rr_getColumnAt(v, E.column).map(function(N) {
                            return N.element.dom
                        })
                    }
                })
            }
              , hC = function(a, c, v, h) {
                var w = h.getData();
                h.close(),
                a.undoManager.transact(function() {
                    (function(a, c, v, h) {
                        var w = Li(h, function(E, N) {
                            return v[N] !== E
                        });
                        gi(w) > 0 && c.length >= 1 && ao(c[0]).each(function(E) {
                            var N = Xh(E, c)
                              , W = gi(Li(w, function(se, be) {
                                return "scope" !== be && "celltype" !== be
                            })) > 0
                              , Q = J(w, "celltype");
                            (W || J(w, "scope")) && function(a, c, v) {
                                var h = 1 === c.length;
                                D(c, function(w) {
                                    var E = w.element
                                      , N = h ? Va.normal(a, E) : Va.ifTruthy(a, E);
                                    (function(a, c, v) {
                                        a.setAttrib("scope", v.scope),
                                        a.setAttrib("class", v.class),
                                        a.setStyle("height", Nl(v.height)),
                                        c.setStyle("width", Nl(v.width))
                                    }
                                    )(N, w.column.map(function(Q) {
                                        return h ? Va.normal(a, Q) : Va.ifTruthy(a, Q)
                                    }).getOr(N), v),
                                    M1(a) && function(a, c) {
                                        a.setFormat("tablecellbackgroundcolor", c.backgroundcolor),
                                        a.setFormat("tablecellbordercolor", c.bordercolor),
                                        a.setFormat("tablecellborderstyle", c.borderstyle),
                                        a.setFormat("tablecellborderwidth", Nl(c.borderwidth))
                                    }(N, v),
                                    h && (h0(a, E),
                                    function(a, c) {
                                        m0.each("top middle bottom".split(" "), function(v) {
                                            a.formatter.remove("valign" + v, {}, c)
                                        })
                                    }(a, E)),
                                    v.halign && g0(a, E, v.halign),
                                    v.valign && function(a, c, v) {
                                        v && a.formatter.apply("valign" + v, {}, c)
                                    }(a, E, v.valign)
                                })
                            }(a, N, h),
                            Q && function(a, c) {
                                a.execCommand("mceTableCellType", !1, {
                                    type: c.celltype,
                                    no_events: !0
                                })
                            }(a, h),
                            du(a, E.dom, {
                                structure: Q,
                                style: W
                            })
                        })
                    }
                    )(a, c, v, w),
                    a.focus()
                })
            }
              , E0 = function(a, c) {
                var v = _m(c);
                if (0 !== v.length) {
                    var h = function(a, c) {
                        var v = ao(c[0]).map(function(h) {
                            return qe(Xh(h, c), function(w) {
                                return function(a, c, v, h) {
                                    var w = a.dom
                                      , E = h.getOr(c)
                                      , N = function(W, Q) {
                                        return w.getStyle(W, Q) || w.getAttrib(W, Q)
                                    };
                                    return Gt({
                                        width: N(E, "width"),
                                        height: N(c, "height"),
                                        scope: w.getAttrib(c, "scope"),
                                        celltype: sl(c),
                                        class: w.getAttrib(c, "class", ""),
                                        halign: S0(a, c),
                                        valign: T0(a, c)
                                    }, v ? tc(w, c) : {})
                                }(a, w.element, M1(a), w.column)
                            })
                        });
                        return ig(v.getOrDie())
                    }(a, v)
                      , w = {
                        type: "tabpanel",
                        tabs: [{
                            title: "General",
                            name: "general",
                            items: Kh(a)
                        }, Ov(a, "cell")]
                    }
                      , E = {
                        type: "panel",
                        items: [{
                            type: "grid",
                            columns: 2,
                            items: Kh(a)
                        }]
                    };
                    a.windowManager.open({
                        title: "Cell Properties",
                        size: "normal",
                        body: M1(a) ? w : E,
                        buttons: [{
                            type: "cancel",
                            name: "cancel",
                            text: "Cancel"
                        }, {
                            type: "submit",
                            name: "save",
                            text: "Save",
                            primary: !0
                        }],
                        initialData: h,
                        onSubmit: Fn(hC, a, v, h)
                    })
                }
            }
              , ug = [{
                type: "listbox",
                name: "type",
                label: "Row type",
                items: [{
                    text: "Header",
                    value: "header"
                }, {
                    text: "Body",
                    value: "body"
                }, {
                    text: "Footer",
                    value: "footer"
                }]
            }, {
                type: "listbox",
                name: "align",
                label: "Alignment",
                items: [{
                    text: "None",
                    value: ""
                }, {
                    text: "Left",
                    value: "left"
                }, {
                    text: "Center",
                    value: "center"
                }, {
                    text: "Right",
                    value: "right"
                }]
            }, {
                label: "Height",
                name: "height",
                type: "input"
            }]
              , bC = function(a) {
                return ug.concat(function(a) {
                    var c = Ul(function(a) {
                        return a.getParam("table_row_class_list", [], "array")
                    }(a));
                    return c.length > 0 ? ge.some({
                        name: "class",
                        type: "listbox",
                        label: "Class",
                        items: c
                    }) : ge.none()
                }(a).toArray())
            }
              , Dv = function(a, c, v, h) {
                var w = h.getData();
                h.close(),
                a.undoManager.transact(function() {
                    (function(a, c, v, h) {
                        var w = Li(h, function(W, Q) {
                            return v[Q] !== W
                        });
                        if (gi(w) > 0) {
                            var E = J(w, "type")
                              , N = !E || gi(w) > 1;
                            N && function(a, c, v, h) {
                                var w = 1 === c.length;
                                D(c, function(E) {
                                    var N = w ? Va.normal(a, E) : Va.ifTruthy(a, E);
                                    (function(a, c) {
                                        a.setAttrib("class", c.class),
                                        a.setStyle("height", Nl(c.height))
                                    }
                                    )(N, v),
                                    Fm(a) && function(a, c) {
                                        a.setStyle("background-color", c.backgroundcolor),
                                        a.setStyle("border-color", c.bordercolor),
                                        a.setStyle("border-style", c.borderstyle)
                                    }(N, v),
                                    v.align !== h.align && (h0(a, E),
                                    g0(a, E, v.align))
                                })
                            }(a, c, h, v),
                            E && function(a, c) {
                                a.execCommand("mceTableRowType", !1, {
                                    type: c.type,
                                    no_events: !0
                                })
                            }(a, h),
                            ao(xt.fromDom(c[0])).each(function(W) {
                                return du(a, W.dom, {
                                    structure: E,
                                    style: N
                                })
                            })
                        }
                    }
                    )(a, c, v, w),
                    a.focus()
                })
            }
              , wC = function(a) {
                var c = function(a, c) {
                    var v = Tm(a)
                      , h = v.bind(function(w) {
                        return ao(w)
                    }).map(function(w) {
                        return el(w)
                    });
                    return jf(v, h, function(w, E) {
                        return tt(E, function(N) {
                            return wt(pa(N.dom.cells), function(W) {
                                return "1" === ic(W, c) || zr(W, w)
                            })
                        })
                    }).getOr([])
                }(xm(a), lv.selected);
                if (0 !== c.length) {
                    var v = qe(c, function(N) {
                        return function(a, c, v) {
                            var h = a.dom;
                            return Gt({
                                height: h.getStyle(c, "height") || h.getAttrib(c, "height"),
                                class: h.getAttrib(c, "class", ""),
                                type: s2(c),
                                align: S0(a, c)
                            }, v ? tc(h, c) : {})
                        }(a, N.dom, Fm(a))
                    })
                      , h = ig(v)
                      , w = {
                        type: "tabpanel",
                        tabs: [{
                            title: "General",
                            name: "general",
                            items: bC(a)
                        }, Ov(a, "row")]
                    }
                      , E = {
                        type: "panel",
                        items: [{
                            type: "grid",
                            columns: 2,
                            items: bC(a)
                        }]
                    };
                    a.windowManager.open({
                        title: "Row Properties",
                        size: "normal",
                        body: Fm(a) ? w : E,
                        buttons: [{
                            type: "cancel",
                            name: "cancel",
                            text: "Cancel"
                        }, {
                            type: "submit",
                            name: "save",
                            text: "Save",
                            primary: !0
                        }],
                        initialData: h,
                        onSubmit: Fn(Dv, a, qe(c, function(N) {
                            return N.dom
                        }), h)
                    })
                }
            }
              , xC = function(a, c, v) {
                var h = v ? [{
                    type: "input",
                    name: "cols",
                    label: "Cols",
                    inputMode: "numeric"
                }, {
                    type: "input",
                    name: "rows",
                    label: "Rows",
                    inputMode: "numeric"
                }] : []
                  , E = function(a) {
                    return a.getParam("table_appearance_options", !0, "boolean")
                }(a) ? [{
                    type: "input",
                    name: "cellspacing",
                    label: "Cell spacing",
                    inputMode: "numeric"
                }, {
                    type: "input",
                    name: "cellpadding",
                    label: "Cell padding",
                    inputMode: "numeric"
                }, {
                    type: "input",
                    name: "border",
                    label: "Border width"
                }, {
                    type: "label",
                    label: "Caption",
                    items: [{
                        type: "checkbox",
                        name: "caption",
                        label: "Show caption"
                    }]
                }] : []
                  , W = c.length > 0 ? [{
                    type: "listbox",
                    name: "class",
                    label: "Class",
                    items: c
                }] : [];
                return h.concat([{
                    type: "input",
                    name: "width",
                    label: "Width"
                }, {
                    type: "input",
                    name: "height",
                    label: "Height"
                }]).concat(E).concat([{
                    type: "listbox",
                    name: "align",
                    label: "Alignment",
                    items: [{
                        text: "None",
                        value: ""
                    }, {
                        text: "Left",
                        value: "left"
                    }, {
                        text: "Center",
                        value: "center"
                    }, {
                        text: "Right",
                        value: "right"
                    }]
                }]).concat(W)
            }
              , O0 = function(a, c, v, h) {
                if ("TD" === c.tagName || "TH" === c.tagName)
                    Nn(v) ? a.setStyle(c, v, h) : a.setStyle(c, v);
                else if (c.children)
                    for (var w = 0; w < c.children.length; w++)
                        O0(a, c.children[w], v, h)
            }
              , Lu = function(a, c, v, h) {
                var w = a.dom
                  , E = h.getData()
                  , N = Li(E, function(W, Q) {
                    return v[Q] !== W
                });
                h.close(),
                "" === E.class && delete E.class,
                a.undoManager.transact(function() {
                    if (!c) {
                        var W = parseInt(E.cols, 10) || 1
                          , Q = parseInt(E.rows, 10) || 1;
                        c = Lh(a, W, Q, 0, 0)
                    }
                    if (gi(N) > 0) {
                        !function(a, c, v) {
                            var h = a.dom
                              , w = {}
                              , E = {};
                            if (w.class = v.class,
                            E.height = Nl(v.height),
                            h.getAttrib(c, "width") && !rs(a) ? w.width = function(a) {
                                return a ? a.replace(/px$/, "") : ""
                            }(v.width) : E.width = Nl(v.width),
                            rs(a) ? (E["border-width"] = Nl(v.border),
                            E["border-spacing"] = Nl(v.cellspacing)) : (w.border = v.border,
                            w.cellpadding = v.cellpadding,
                            w.cellspacing = v.cellspacing),
                            rs(a) && c.children)
                                for (var N = 0; N < c.children.length; N++)
                                    O0(h, c.children[N], {
                                        "border-width": Nl(v.border),
                                        padding: Nl(v.cellpadding)
                                    }),
                                    xs(a) && O0(h, c.children[N], {
                                        "border-color": v.bordercolor
                                    });
                            xs(a) && (E["background-color"] = v.backgroundcolor,
                            E["border-color"] = v.bordercolor,
                            E["border-style"] = v.borderstyle),
                            w.style = h.serializeStyle(Gt(Gt({}, pv(a)), E)),
                            h.setAttribs(c, Gt(Gt({}, D1(a)), w))
                        }(a, c, E);
                        var se = w.select("caption", c)[0];
                        (se && !E.caption || !se && E.caption) && a.execCommand("mceTableToggleCaption"),
                        "" === E.align ? h0(a, c) : g0(a, c, E.align)
                    }
                    if (a.focus(),
                    a.addVisual(),
                    gi(N) > 0) {
                        var be = J(N, "caption")
                          , nt = !be || gi(N) > 1;
                        du(a, c, {
                            structure: be,
                            style: nt
                        })
                    }
                })
            }
              , jl = function(a, c) {
                var h, v = a.dom, w = function(a, c) {
                    var be, v = pv(a), h = D1(a), W = c ? (be = a.dom,
                    {
                        borderstyle: Ki(v, "border-style").getOr(""),
                        bordercolor: is(be)(Ki(v, "border-color").getOr("")),
                        backgroundcolor: is(be)(Ki(v, "background-color").getOr(""))
                    }) : {}, se = Gt(Gt(Gt(Gt(Gt(Gt({}, {
                        height: "",
                        width: "100%",
                        cellspacing: "",
                        cellpadding: "",
                        caption: !1,
                        class: "",
                        align: "",
                        border: ""
                    }), v), h), W), function() {
                        var be = v["border-width"];
                        return rs(a) && be ? {
                            border: be
                        } : Ki(h, "border").fold(function() {
                            return {}
                        }, function(nt) {
                            return {
                                border: nt
                            }
                        })
                    }()), function() {
                        var be = Ki(v, "border-spacing").or(Ki(h, "cellspacing")).fold(function() {
                            return {}
                        }, function(At) {
                            return {
                                cellspacing: At
                            }
                        })
                          , nt = Ki(v, "border-padding").or(Ki(h, "cellpadding")).fold(function() {
                            return {}
                        }, function(At) {
                            return {
                                cellpadding: At
                            }
                        });
                        return Gt(Gt({}, be), nt)
                    }());
                    return se
                }(a, xs(a));
                !1 === c ? (h = v.getParent(a.selection.getStart(), "table", a.getBody())) ? w = function(a, c, v) {
                    var W, Q, se, w = a.dom, E = rs(a) ? w.getStyle(c, "border-spacing") || w.getAttrib(c, "cellspacing") : w.getAttrib(c, "cellspacing") || w.getStyle(c, "border-spacing"), N = rs(a) ? rg(w, c, "padding") || w.getAttrib(c, "cellpadding") : w.getAttrib(c, "cellpadding") || rg(w, c, "padding");
                    return Gt({
                        width: w.getStyle(c, "width") || w.getAttrib(c, "width"),
                        height: w.getStyle(c, "height") || w.getAttrib(c, "height"),
                        cellspacing: E,
                        cellpadding: N,
                        border: (W = w,
                        Q = c,
                        se = Xu(xt.fromDom(Q), "border-width"),
                        rs(a) && se.isSome() ? se.getOr("") : W.getAttrib(Q, "border") || rg(a.dom, Q, "border-width") || rg(a.dom, Q, "border")),
                        caption: !!w.select("caption", c)[0],
                        class: w.getAttrib(c, "class", ""),
                        align: S0(a, c)
                    }, v ? tc(w, c) : {})
                }(a, h, xs(a)) : xs(a) && (w.borderstyle = "",
                w.bordercolor = "",
                w.backgroundcolor = "") : (w.cols = "1",
                w.rows = "1",
                xs(a) && (w.borderstyle = "",
                w.bordercolor = "",
                w.backgroundcolor = ""));
                var E = Ul(ec(a));
                E.length > 0 && w.class && (w.class = w.class.replace(/\s*mce\-item\-table\s*/g, ""));
                var N = {
                    type: "grid",
                    columns: 2,
                    items: xC(a, E, c)
                }
                  , se = xs(a) ? {
                    type: "tabpanel",
                    tabs: [{
                        title: "General",
                        name: "general",
                        items: [N]
                    }, Ov(a, "table")]
                } : {
                    type: "panel",
                    items: [N]
                };
                a.windowManager.open({
                    title: "Table Properties",
                    size: "normal",
                    body: se,
                    onSubmit: Fn(Lu, a, h, w),
                    buttons: [{
                        type: "cancel",
                        name: "cancel",
                        text: "Cancel"
                    }, {
                        type: "submit",
                        name: "save",
                        text: "Save",
                        primary: !0
                    }],
                    initialData: w
                })
            }
              , d2 = function(a) {
                return Kg(xm(a), Ps(a))
            }
              , SC = function(a, c, v, h, w) {
                var E = Ps(a)
                  , Q = function(Jn) {
                    return ao(Jn, E)
                }
                  , se = function(Jn) {
                    return function(a) {
                        return Tm(xm(a), Ps(a))
                    }(a).bind(function(rr) {
                        return Q(rr).map(function(Zr) {
                            return Jn(Zr, rr)
                        })
                    })
                }
                  , dt = function(Jn) {
                    a.focus()
                }
                  , rt = function(Jn, rr) {
                    return void 0 === rr && (rr = !1),
                    se(function(Zr, $r) {
                        var wi = Sm(h, Zr, $r);
                        Jn(Zr, wi, rr).each(dt)
                    })
                }
                  , Ut = function() {
                    return se(function(Jn, rr) {
                        return function(a, c, v) {
                            var h = Rr_fromTable(a);
                            return Hl(h, c).bind(function(E) {
                                var N = Bd(h, v, !1)
                                  , Q = ii(N).rows.slice(E[0].row, E[E.length - 1].row + E[E.length - 1].rowspan)
                                  , se = re(Q, function(nt) {
                                    var At = tt(nt.cells, function(dt) {
                                        return !dt.isLocked
                                    });
                                    return At.length > 0 ? [Gt(Gt({}, nt), {
                                        cells: At
                                    })] : []
                                })
                                  , be = bc(se);
                                return hs(be.length > 0, be)
                            }).map(function(E) {
                                return function(a) {
                                    return qe(a, function(c) {
                                        var v = e1(c.element);
                                        return D(c.cells, function(h) {
                                            var w = pf(h.element);
                                            Pd(w, "colspan", h.colspan, 1),
                                            Pd(w, "rowspan", h.rowspan, 1),
                                            Aa(v, w)
                                        }),
                                        v
                                    })
                                }(E)
                            })
                        }(Jn, Sm(h, Jn, rr), ul(xe, xt.fromDom(a.getDoc()), ge.none()))
                    })
                }
                  , Kt = function() {
                    return se(function(Jn, rr) {
                        return function(a, c) {
                            var v = Rr_fromTable(a);
                            return $l(v, c).map(function(w) {
                                var E = w[w.length - 1]
                                  , N = w[0].column
                                  , W = E.column + E.colspan
                                  , Q = function(a, c, v) {
                                    if (Rr_hasColumns(a)) {
                                        var h = tt(Rr_justColumns(a), function(N) {
                                            return N.column >= c && N.column < v
                                        })
                                          , w = qe(h, function(N) {
                                            var W = pf(N.element);
                                            return uC(W, "span", v - c),
                                            W
                                        })
                                          , E = xt.fromTag("colgroup");
                                        return Ol(E, w),
                                        [E]
                                    }
                                    return []
                                }(v, N, W)
                                  , se = function(a, c, v) {
                                    return qe(a.all, function(h) {
                                        var w = tt(h.cells, function(W) {
                                            return W.column >= c && W.column < v
                                        })
                                          , E = qe(w, function(W) {
                                            var Q = pf(W.element);
                                            return uC(Q, "colspan", v - c),
                                            Q
                                        })
                                          , N = xt.fromTag("tr");
                                        return Ol(N, E),
                                        N
                                    })
                                }(v, N, W);
                                return Un(Un([], Q, !0), se, !0)
                            })
                        }(Jn, Sm(h, Jn, rr))
                    })
                }
                  , Qn = function(Jn, rr) {
                    return rr().each(function(Zr) {
                        var $r = qe(Zr, function(wi) {
                            return pf(wi)
                        });
                        se(function(wi, tu) {
                            var Vu = d1(xt.fromDom(a.getDoc()))
                              , lo = function(a, c, v, h) {
                                return {
                                    selection: g1(a),
                                    clipboard: v,
                                    generators: h
                                }
                            }(h, 0, $r, Vu);
                            Jn(wi, lo).each(dt)
                        })
                    })
                }
                  , mo = function(Jn) {
                    return function(rr, Zr) {
                        return Ki(Zr, "type").each(function($r) {
                            rt(Jn($r), Zr.no_events)
                        })
                    }
                };
                Or({
                    mceTableSplitCells: function() {
                        return rt(c.unmergeCells)
                    },
                    mceTableMergeCells: function() {
                        return rt(c.mergeCells)
                    },
                    mceTableInsertRowBefore: function() {
                        return rt(c.insertRowsBefore)
                    },
                    mceTableInsertRowAfter: function() {
                        return rt(c.insertRowsAfter)
                    },
                    mceTableInsertColBefore: function() {
                        return rt(c.insertColumnsBefore)
                    },
                    mceTableInsertColAfter: function() {
                        return rt(c.insertColumnsAfter)
                    },
                    mceTableDeleteCol: function() {
                        return rt(c.deleteColumn)
                    },
                    mceTableDeleteRow: function() {
                        return rt(c.deleteRow)
                    },
                    mceTableCutCol: function() {
                        return Kt().each(function(Jn) {
                            w.setColumns(Jn),
                            rt(c.deleteColumn)
                        })
                    },
                    mceTableCutRow: function() {
                        return Ut().each(function(Jn) {
                            w.setRows(Jn),
                            rt(c.deleteRow)
                        })
                    },
                    mceTableCopyCol: function() {
                        return Kt().each(function(Jn) {
                            return w.setColumns(Jn)
                        })
                    },
                    mceTableCopyRow: function() {
                        return Ut().each(function(Jn) {
                            return w.setRows(Jn)
                        })
                    },
                    mceTablePasteColBefore: function() {
                        return Qn(c.pasteColsBefore, w.getColumns)
                    },
                    mceTablePasteColAfter: function() {
                        return Qn(c.pasteColsAfter, w.getColumns)
                    },
                    mceTablePasteRowBefore: function() {
                        return Qn(c.pasteRowsBefore, w.getRows)
                    },
                    mceTablePasteRowAfter: function() {
                        return Qn(c.pasteRowsAfter, w.getRows)
                    },
                    mceTableDelete: function() {
                        return d2(a).each(function(Jn) {
                            ao(Jn, E).filter(an(E)).each(function(rr) {
                                var Zr = xt.fromText("");
                                if (fo(rr, Zr),
                                Os(rr),
                                a.dom.isEmpty(a.getBody()))
                                    a.setContent(""),
                                    a.selection.setCursorLocation();
                                else {
                                    var $r = a.dom.createRng();
                                    $r.setStart(Zr.dom, 0),
                                    $r.setEnd(Zr.dom, 0),
                                    a.selection.setRng($r),
                                    a.nodeChanged()
                                }
                            })
                        })
                    },
                    mceTableCellToggleClass: function(Jn, rr) {
                        se(function(Zr) {
                            var $r = _m(h)
                              , tu = Re($r, function(Vu) {
                                return a.formatter.match("tablecellclass", {
                                    value: rr
                                }, Vu.dom)
                            }) ? a.formatter.remove : a.formatter.apply;
                            D($r, function(Vu) {
                                return tu("tablecellclass", {
                                    value: rr
                                }, Vu.dom)
                            }),
                            du(a, Zr.dom, pc)
                        })
                    },
                    mceTableToggleClass: function(Jn, rr) {
                        se(function(Zr) {
                            a.formatter.toggle("tableclass", {
                                value: rr
                            }, Zr.dom),
                            du(a, Zr.dom, pc)
                        })
                    },
                    mceTableToggleCaption: function() {
                        d2(a).each(function(Jn) {
                            ao(Jn, E).each(function(rr) {
                                _i(rr, "caption").fold(function() {
                                    var Zr = xt.fromTag("caption");
                                    Aa(Zr, xt.fromText("Caption")),
                                    function(a, c, v) {
                                        B(a, 0).fold(function() {
                                            Aa(a, c)
                                        }, function(h) {
                                            hr(h, c)
                                        })
                                    }(rr, Zr),
                                    a.selection.setCursorLocation(Zr.dom, 0)
                                }, function(Zr) {
                                    Ya("caption")(Jn) && _s("td", rr).each(function($r) {
                                        return a.selection.setCursorLocation($r.dom, 0)
                                    }),
                                    Os(Zr)
                                }),
                                du(a, rr.dom, jo)
                            })
                        })
                    },
                    mceTableSizingMode: function(Jn, rr) {
                        return function(Jn) {
                            return d2(a).each(function(rr) {
                                Af(a) || Dd(a) || Im(a) || ao(rr, E).each(function($r) {
                                    "relative" !== Jn || Yb($r) ? "fixed" !== Jn || gv($r) ? "responsive" === Jn && !y1($r) && hy($r) : B1($r) : Md($r),
                                    yd($r),
                                    du(a, $r.dom, jo)
                                })
                            })
                        }(rr)
                    },
                    mceTableCellType: mo(function(Jn) {
                        return "th" === Jn ? c.makeCellsHeader : c.unmakeCellsHeader
                    }),
                    mceTableColType: mo(function(Jn) {
                        return "th" === Jn ? c.makeColumnsHeader : c.unmakeColumnsHeader
                    }),
                    mceTableRowType: mo(function(Jn) {
                        switch (Jn) {
                        case "header":
                            return c.makeRowsHeader;
                        case "footer":
                            return c.makeRowsFooter;
                        default:
                            return c.makeRowsBody
                        }
                    })
                }, function(Jn, rr) {
                    return a.addCommand(rr, Jn)
                }),
                Or({
                    mceTableProps: Fn(jl, a, !1),
                    mceTableRowProps: Fn(wC, a),
                    mceTableCellProps: Fn(E0, a, h)
                }, function(Jn, rr) {
                    return a.addCommand(rr, function() {
                        return Jn()
                    })
                }),
                a.addCommand("mceInsertTable", function(Jn, rr) {
                    Lr(rr) && Ke(rr).length > 0 ? a2(a, rr.rows, rr.columns, rr.options, "Invalid values for mceInsertTable - rows and columns values are required to insert a table.") : jl(a, !0)
                }),
                a.addCommand("mceTableApplyCellStyle", function(Jn, rr) {
                    var Zr = function(tu) {
                        return "tablecell" + tu.toLowerCase().replace("-", "")
                    };
                    if (Lr(rr)) {
                        var $r = _m(h);
                        if (0 !== $r.length) {
                            var wi = Li(rr, function(tu, Vu) {
                                return a.formatter.has(Zr(Vu)) && Nn(tu)
                            });
                            (function(a) {
                                for (var c in a)
                                    if (Oe.call(a, c))
                                        return !1;
                                return !0
                            }
                            )(wi) || (Or(wi, function(tu, Vu) {
                                D($r, function(lo) {
                                    Va.normal(a, lo.dom).setFormat(Zr(Vu), tu)
                                })
                            }),
                            Q($r[0]).each(function(tu) {
                                return du(a, tu.dom, pc)
                            }))
                        }
                    }
                })
            }
              , m2 = {
                remove_similar: !0,
                inherit: !1
            }
              , ml = Gt({
                selector: "td,th"
            }, m2)
              , _C = {
                tablecellbackgroundcolor: Gt({
                    styles: {
                        backgroundColor: "%value"
                    }
                }, ml),
                tablecellverticalalign: Gt({
                    styles: {
                        "vertical-align": "%value"
                    }
                }, ml),
                tablecellbordercolor: Gt({
                    styles: {
                        borderColor: "%value"
                    }
                }, ml),
                tablecellclass: Gt({
                    classes: ["%value"]
                }, ml),
                tableclass: Gt({
                    selector: "table",
                    classes: ["%value"]
                }, m2),
                tablecellborderstyle: Gt({
                    styles: {
                        borderStyle: "%value"
                    }
                }, ml),
                tablecellborderwidth: Gt({
                    styles: {
                        borderWidth: "%value"
                    }
                }, ml)
            }
              , kC = Uo_generate([{
                none: ["current"]
            }, {
                first: ["current"]
            }, {
                middle: ["current", "target"]
            }, {
                last: ["current"]
            }])
              , Vd = Gt(Gt({}, kC), {
                none: function(a) {
                    return void 0 === a && (a = void 0),
                    kC.none(a)
                }
            })
              , g2 = function(a, c, v, h, w) {
                void 0 === w && (w = En);
                var E = 1 === h;
                if (!E && v <= 0)
                    return Vd.first(a[0]);
                if (E && v >= a.length - 1)
                    return Vd.last(a[a.length - 1]);
                var N = v + h
                  , W = a[N];
                return w(W) ? Vd.middle(c, W) : g2(a, c, N, h, w)
            }
              , Qh = function(a, c) {
                return ao(a, c).bind(function(v) {
                    var h = ai(v);
                    return kt(h, function(E) {
                        return zr(a, E)
                    }).map(function(E) {
                        return {
                            index: E,
                            all: h
                        }
                    })
                })
            }
              , Mv_create = function(a, c, v, h) {
                return {
                    start: a,
                    soffset: c,
                    finish: v,
                    foffset: h
                }
            }
              , p2 = Uo_generate([{
                before: ["element"]
            }, {
                on: ["element", "offset"]
            }, {
                after: ["element"]
            }])
              , Hu = {
                before: p2.before,
                on: p2.on,
                after: p2.after,
                cata: function(a, c, v, h) {
                    return a.fold(c, v, h)
                },
                getStart: function(a) {
                    return a.fold(Xe, Xe, Xe)
                }
            }
              , ep = Uo_generate([{
                domRange: ["rng"]
            }, {
                relative: ["startSitu", "finishSitu"]
            }, {
                exact: ["start", "soffset", "finish", "foffset"]
            }])
              , Pv = {
                domRange: ep.domRange,
                relative: ep.relative,
                exact: ep.exact,
                exactFromRange: function(a) {
                    return ep.exact(a.start, a.soffset, a.finish, a.foffset)
                },
                getWin: function(a) {
                    var c = function(a) {
                        return a.match({
                            domRange: function(c) {
                                return xt.fromDom(c.startContainer)
                            },
                            relative: function(c, v) {
                                return Hu.getStart(c)
                            },
                            exact: function(c, v, h, w) {
                                return c
                            }
                        })
                    }(a);
                    return function(a) {
                        return xt.fromDom(ds(a).dom.defaultView)
                    }(c)
                },
                range: Mv_create
            }
              , DC = function(a, c) {
                var v = a.document.createRange();
                return v.selectNode(c.dom),
                v
            }
              , x2 = function(a, c) {
                var v = a.document.createRange();
                return C2(v, c),
                v
            }
              , C2 = function(a, c) {
                return a.selectNodeContents(c.dom)
            }
              , S2 = function(a, c, v) {
                var h = a.document.createRange();
                return function(a, c) {
                    c.fold(function(v) {
                        a.setStartBefore(v.dom)
                    }, function(v, h) {
                        a.setStart(v.dom, h)
                    }, function(v) {
                        a.setStartAfter(v.dom)
                    })
                }(h, c),
                function(a, c) {
                    c.fold(function(v) {
                        a.setEndBefore(v.dom)
                    }, function(v, h) {
                        a.setEnd(v.dom, h)
                    }, function(v) {
                        a.setEndAfter(v.dom)
                    })
                }(h, v),
                h
            }
              , M0 = function(a, c, v, h, w) {
                var E = a.document.createRange();
                return E.setStart(c.dom, v),
                E.setEnd(h.dom, w),
                E
            }
              , RC = function(a) {
                return {
                    left: a.left,
                    top: a.top,
                    right: a.right,
                    bottom: a.bottom,
                    width: a.width,
                    height: a.height
                }
            }
              , sg = Uo_generate([{
                ltr: ["start", "soffset", "finish", "foffset"]
            }, {
                rtl: ["start", "soffset", "finish", "foffset"]
            }])
              , Gl = function(a, c, v) {
                return c(xt.fromDom(v.startContainer), v.startOffset, xt.fromDom(v.endContainer), v.endOffset)
            }
              , Ei = function(a, c) {
                var v = function(a, c) {
                    return c.match({
                        domRange: function(v) {
                            return {
                                ltr: Pt(v),
                                rtl: ge.none
                            }
                        },
                        relative: function(v, h) {
                            return {
                                ltr: xo(function() {
                                    return S2(a, v, h)
                                }),
                                rtl: xo(function() {
                                    return ge.some(S2(a, h, v))
                                })
                            }
                        },
                        exact: function(v, h, w, E) {
                            return {
                                ltr: xo(function() {
                                    return M0(a, v, h, w, E)
                                }),
                                rtl: xo(function() {
                                    return ge.some(M0(a, w, E, v, h))
                                })
                            }
                        }
                    })
                }(a, c);
                return function(a, c) {
                    var v = c.ltr();
                    return v.collapsed ? c.rtl().filter(function(w) {
                        return !1 === w.collapsed
                    }).map(function(w) {
                        return sg.rtl(xt.fromDom(w.endContainer), w.endOffset, xt.fromDom(w.startContainer), w.startOffset)
                    }).getOrThunk(function() {
                        return Gl(0, sg.ltr, v)
                    }) : Gl(0, sg.ltr, v)
                }(0, v)
            }
              , $u = function(a, c) {
                return Ei(a, c).match({
                    ltr: function(h, w, E, N) {
                        var W = a.document.createRange();
                        return W.setStart(h.dom, w),
                        W.setEnd(E.dom, N),
                        W
                    },
                    rtl: function(h, w, E, N) {
                        var W = a.document.createRange();
                        return W.setStart(E.dom, N),
                        W.setEnd(h.dom, w),
                        W
                    }
                })
            }
              , Bv = function(a, c, v) {
                return c >= a.left && c <= a.right && v >= a.top && v <= a.bottom
            }
              , _2 = function(a, c, v, h) {
                return ka(c) ? function(a, c, v, h) {
                    var w = a.dom.createRange();
                    w.selectNode(c.dom);
                    var E = w.getClientRects();
                    return Cr(E, function(W) {
                        return Bv(W, v, h) ? ge.some(W) : ge.none()
                    }).map(function(W) {
                        return function(a, c, v, h, w) {
                            var E = function(se) {
                                var be = a.dom.createRange();
                                return be.setStart(c.dom, se),
                                be.collapse(!0),
                                be
                            }
                              , W = Xf(c).length
                              , Q = function(a, c, v, h, w) {
                                if (0 === w)
                                    return 0;
                                if (c === h)
                                    return w - 1;
                                for (var E = h, N = 1; N < w; N++) {
                                    var W = a(N)
                                      , Q = Math.abs(c - W.left);
                                    if (v <= W.bottom) {
                                        if (v < W.top || Q > E)
                                            return N - 1;
                                        E = Q
                                    }
                                }
                                return 0
                            }(function(se) {
                                return E(se).getBoundingClientRect()
                            }, v, h, w.right, W);
                            return E(Q)
                        }(a, c, v, h, W)
                    })
                }(a, c, v, h) : function(a, c, v, h) {
                    var w = a.dom.createRange()
                      , E = C(c);
                    return Cr(E, function(N) {
                        return w.selectNode(N.dom),
                        Bv(w.getBoundingClientRect(), v, h) ? _2(a, N, v, h) : ge.none()
                    })
                }(a, c, v, h)
            }
              , Nv = function(a, c) {
                return c - a.left < a.right - c
            }
              , k2 = function(a, c, v) {
                var h = a.dom.createRange();
                return h.selectNode(c.dom),
                h.collapse(v),
                h
            }
              , cg = function(a, c, v) {
                var h = a.dom.createRange();
                h.selectNode(c.dom);
                var w = h.getBoundingClientRect()
                  , E = Nv(w, v);
                return (!0 === E ? ym : Lo)(c).map(function(W) {
                    return k2(a, W, E)
                })
            }
              , Xr = function(a, c, v) {
                var h = c.dom.getBoundingClientRect()
                  , w = Nv(h, v);
                return ge.some(k2(a, c, w))
            }
              , zv = document.caretPositionFromPoint ? function(a, c, v) {
                var h, w;
                return ge.from(null === (w = (h = a.dom).caretPositionFromPoint) || void 0 === w ? void 0 : w.call(h, c, v)).bind(function(E) {
                    if (null === E.offsetNode)
                        return ge.none();
                    var N = a.dom.createRange();
                    return N.setStart(E.offsetNode, E.offset),
                    N.collapse(),
                    ge.some(N)
                })
            }
            : document.caretRangeFromPoint ? function(a, c, v) {
                var h, w;
                return ge.from(null === (w = (h = a.dom).caretRangeFromPoint) || void 0 === w ? void 0 : w.call(h, c, v))
            }
            : function(a, c, v) {
                return xt.fromPoint(a, c, v).bind(function(h) {
                    var w = function() {
                        return function(a, c, v) {
                            return (0 === C(c).length ? Xr : cg)(a, c, v)
                        }(a, h, c)
                    };
                    return 0 === C(h).length ? w() : function(a, c, v, h) {
                        var w = a.dom.createRange();
                        w.selectNode(c.dom);
                        var E = w.getBoundingClientRect();
                        return function(a, c, v, h) {
                            var w = a.dom.createRange();
                            w.selectNode(c.dom);
                            var E = w.getBoundingClientRect()
                              , N = Math.max(E.left, Math.min(E.right, v))
                              , W = Math.max(E.top, Math.min(E.bottom, h));
                            return _2(a, c, N, W)
                        }(a, c, Math.max(E.left, Math.min(E.right, v)), Math.max(E.top, Math.min(E.bottom, h)))
                    }(a, h, c, v).orThunk(w)
                })
            }
              , P0 = function(a, c) {
                var v = Dr(a);
                return "input" === v ? Hu.after(a) : Ot(["br", "img"], v) ? 0 === c ? Hu.before(a) : Hu.after(a) : Hu.on(a, c)
            }
              , zC = function(a, c) {
                var v = a.fold(Hu.before, P0, Hu.after)
                  , h = c.fold(Hu.before, P0, Hu.after);
                return Pv.relative(v, h)
            }
              , B0 = function(a, c, v, h) {
                var w = P0(a, c)
                  , E = P0(v, h);
                return Pv.relative(w, E)
            }
              , np = function(a) {
                return ge.from(a.getSelection())
            }
              , IC = function(a, c) {
                np(a).each(function(v) {
                    v.removeAllRanges(),
                    v.addRange(c)
                })
            }
              , N0 = function(a, c, v, h, w) {
                var E = M0(a, c, v, h, w);
                IC(a, E)
            }
              , lg = function(a, c) {
                return Ei(a, c).match({
                    ltr: function(v, h, w, E) {
                        N0(a, v, h, w, E)
                    },
                    rtl: function(v, h, w, E) {
                        np(a).each(function(N) {
                            if (N.setBaseAndExtent)
                                N.setBaseAndExtent(v.dom, h, w.dom, E);
                            else if (N.extend)
                                try {
                                    !function(a, c, v, h, w, E) {
                                        c.collapse(v.dom, h),
                                        c.extend(w.dom, E)
                                    }(0, N, v, h, w, E)
                                } catch (W) {
                                    N0(a, w, E, v, h)
                                }
                            else
                                N0(a, w, E, v, h)
                        })
                    }
                })
            }
              , E2 = function(a, c, v, h, w) {
                var E = B0(c, v, h, w);
                lg(a, E)
            }
              , A2 = function(a, c, v) {
                var h = zC(c, v);
                lg(a, h)
            }
              , Gd = function(a) {
                if (a.rangeCount > 0) {
                    var c = a.getRangeAt(0)
                      , v = a.getRangeAt(a.rangeCount - 1);
                    return ge.some(Mv_create(xt.fromDom(c.startContainer), c.startOffset, xt.fromDom(v.endContainer), v.endOffset))
                }
                return ge.none()
            }
              , F0 = function(a) {
                if (null === a.anchorNode || null === a.focusNode)
                    return Gd(a);
                var c = xt.fromDom(a.anchorNode)
                  , v = xt.fromDom(a.focusNode);
                return function(a, c, v, h) {
                    var w = function(a, c, v, h) {
                        var E = qu(a).dom.createRange();
                        return E.setStart(a.dom, c),
                        E.setEnd(v.dom, h),
                        E
                    }(a, c, v, h)
                      , E = zr(a, v) && c === h;
                    return w.collapsed && !E
                }(c, a.anchorOffset, v, a.focusOffset) ? ge.some(Mv_create(c, a.anchorOffset, v, a.focusOffset)) : Gd(a)
            }
              , rp = function(a, c, v) {
                void 0 === v && (v = !0);
                var w = (v ? x2 : DC)(a, c);
                IC(a, w)
            }
              , L0 = function(a) {
                return function(a) {
                    return np(a).filter(function(c) {
                        return c.rangeCount > 0
                    }).bind(F0)
                }(a).map(function(c) {
                    return Pv.exact(c.start, c.soffset, c.finish, c.foffset)
                })
            }
              , M2 = tinymce.util.Tools.resolve("tinymce.util.VK")
              , LC = function(a, c, v) {
                return $0(a, c, function(a, c, v) {
                    return Qh(a, void 0).fold(function() {
                        return Vd.none(a)
                    }, function(w) {
                        return g2(w.all, a, w.index, 1, c)
                    })
                }(v, Pm))
            }
              , HC = function(a, c, v) {
                return $0(a, c, function(a, c, v) {
                    return Qh(a, void 0).fold(function() {
                        return Vd.none()
                    }, function(w) {
                        return g2(w.all, a, w.index, -1, c)
                    })
                }(v, Pm))
            }
              , $0 = function(a, c, v) {
                return v.fold(ge.none, ge.none, function(h, w) {
                    return ym(w).map(function(E) {
                        return function(a, c) {
                            return function(a) {
                                var c = Pv.getWin(a).dom
                                  , v = function(w, E, N, W) {
                                    return M0(c, w, E, N, W)
                                }
                                  , h = function(a) {
                                    return a.match({
                                        domRange: function(c) {
                                            var v = xt.fromDom(c.startContainer)
                                              , h = xt.fromDom(c.endContainer);
                                            return B0(v, c.startOffset, h, c.endOffset)
                                        },
                                        relative: zC,
                                        exact: B0
                                    })
                                }(a);
                                return Ei(c, h).match({
                                    ltr: v,
                                    rtl: v
                                })
                            }(Pv.exact(c, 0, c, 0))
                        }(0, E)
                    })
                }, function(h) {
                    return a.execCommand("mceTableInsertRowAfter"),
                    LC(a, c, h)
                })
            }
              , pl = ["table", "li", "dl"]
              , Iv_create = function(a, c) {
                return {
                    selection: a,
                    kill: c
                }
            }
              , VC_create = function(a, c, v, h) {
                return {
                    start: Hu.on(a, c),
                    finish: Hu.on(v, h)
                }
            }
              , UC = function(a, c) {
                var v = $u(a, c);
                return Mv_create(xt.fromDom(v.startContainer), v.startOffset, xt.fromDom(v.endContainer), v.endOffset)
            }
              , fg = VC_create
              , Yl = function(a, c, v, h, w) {
                return zr(v, h) ? ge.none() : Wn(v, h, c).bind(function(E) {
                    var N = E.boxes.getOr([]);
                    return N.length > 1 ? (w(a, N, E.start, E.finish),
                    ge.some(Iv_create(ge.some(fg(v, 0, v, Vn(v))), !0))) : ge.none()
                })
            }
              , op = function(a, c) {
                return {
                    item: a,
                    mode: c
                }
            }
              , WC = function(a, c, v, h) {
                return void 0 === h && (h = Jl),
                a.property().parent(c).map(function(w) {
                    return op(w, h)
                })
            }
              , Jl = function(a, c, v, h) {
                return void 0 === h && (h = ji),
                v.sibling(a, c).map(function(w) {
                    return op(w, h)
                })
            }
              , ji = function(a, c, v, h) {
                void 0 === h && (h = ji);
                var w = a.property().children(c);
                return v.first(w).map(function(N) {
                    return op(N, h)
                })
            }
              , IT = [{
                current: WC,
                next: Jl,
                fallback: ge.none()
            }, {
                current: Jl,
                next: ji,
                fallback: ge.some(WC)
            }, {
                current: ji,
                next: ji,
                fallback: ge.some(Jl)
            }]
              , P2 = function(a, c, v, h, w) {
                return void 0 === w && (w = IT),
                ir(w, function(N) {
                    return N.current === v
                }).bind(function(N) {
                    return N.current(a, c, h, N.next).orThunk(function() {
                        return N.fallback.bind(function(W) {
                            return P2(a, c, W, h)
                        })
                    })
                })
            }
              , vg = function(a, c, v, h, w, E) {
                return P2(a, c, h, w).bind(function(W) {
                    return E(W.item) ? ge.none() : v(W.item) ? ge.some(W.item) : vg(a, W.item, v, W.mode, w, E)
                })
            }
              , zf = function(a) {
                return function(c) {
                    return 0 === a.property().children(c).length
                }
            }
              , Ou = function(a, c, v, h) {
                return vg(a, c, v, Jl, {
                    sibling: function(v, h) {
                        return v.query().prevSibling(h)
                    },
                    first: function(v) {
                        return v.length > 0 ? ge.some(v[v.length - 1]) : ge.none()
                    }
                }, h)
            }
              , ap = function(a, c, v, h) {
                return vg(a, c, v, Jl, {
                    sibling: function(v, h) {
                        return v.query().nextSibling(h)
                    },
                    first: function(v) {
                        return v.length > 0 ? ge.some(v[0]) : ge.none()
                    }
                }, h)
            }
              , ip = Kp()
              , up = function(a, c) {
                return function(a, c, v) {
                    return Ou(a, c, zf(a), v)
                }(ip, a, c)
            }
              , N2 = function(a, c) {
                return function(a, c, v) {
                    return ap(a, c, zf(a), v)
                }(ip, a, c)
            }
              , sp = Uo_generate([{
                none: ["message"]
            }, {
                success: []
            }, {
                failedUp: ["cell"]
            }, {
                failedDown: ["cell"]
            }])
              , Lv = function(a) {
                return Ja(a, "tr")
            }
              , Zl = Gt(Gt({}, sp), {
                verify: function(a, c, v, h, w, E, N) {
                    return Ja(h, "td,th", N).bind(function(W) {
                        return Ja(c, "td,th", N).map(function(Q) {
                            return zr(W, Q) ? zr(h, W) && Vn(W) === w ? E(Q) : sp.none("in same cell") : Yp(Lv, [W, Q]).fold(function() {
                                return function(a, c, v) {
                                    var h = a.getRect(c)
                                      , w = a.getRect(v);
                                    return w.right > h.left && w.left < h.right
                                }(a, Q, W) ? sp.success() : E(Q)
                            }, function(se) {
                                return E(Q)
                            })
                        })
                    }).getOr(sp.none("default"))
                },
                cata: function(a, c, v, h, w) {
                    return a.fold(c, v, h, w)
                }
            })
              , G0 = function(a) {
                return "br" === Dr(a)
            }
              , lp = function(a, c, v) {
                return c(a, v).bind(function(h) {
                    return ka(h) && 0 === Xf(h).trim().length ? lp(h, c, v) : ge.some(h)
                })
            }
              , XC = function(a, c, v, h) {
                return function(a, c) {
                    return B(a, c).filter(G0).orThunk(function() {
                        return B(a, c - 1).filter(G0)
                    })
                }(c, v).bind(function(w) {
                    return h.traverse(w).fold(function() {
                        return lp(w, h.gather, a).map(h.relative)
                    }, function(E) {
                        return function(a) {
                            return Qo(a).bind(function(c) {
                                var v = C(c);
                                return function(a, c) {
                                    return kt(a, Fn(zr, c))
                                }(v, a).map(function(h) {
                                    return function(a, c, v, h) {
                                        return {
                                            parent: a,
                                            children: c,
                                            element: v,
                                            index: h
                                        }
                                    }(c, v, a, h)
                                })
                            })
                        }(E).map(function(N) {
                            return Hu.on(N.parent, N.index)
                        })
                    })
                })
            }
              , mg = function(a, c) {
                return {
                    left: a.left,
                    top: a.top + c,
                    right: a.right,
                    bottom: a.bottom + c
                }
            }
              , fp = function(a, c) {
                return {
                    left: a.left,
                    top: a.top - c,
                    right: a.right,
                    bottom: a.bottom - c
                }
            }
              , Ql = function(a, c, v) {
                return {
                    left: a.left + c,
                    top: a.top + v,
                    right: a.right + c,
                    bottom: a.bottom + v
                }
            }
              , vp = function(a) {
                return {
                    left: a.left,
                    top: a.top,
                    right: a.right,
                    bottom: a.bottom
                }
            }
              , dp = function(a, c) {
                return ge.some(a.getRect(c))
            }
              , q0 = function(a, c, v) {
                return Yi(c) ? dp(a, c).map(vp) : ka(c) ? function(a, c, v) {
                    return v >= 0 && v < Vn(c) ? a.getRangedRect(c, v, c, v + 1) : v > 0 ? a.getRangedRect(c, v - 1, c, v) : ge.none()
                }(a, c, v).map(vp) : ge.none()
            }
              , H2 = function(a, c) {
                return Yi(c) ? dp(a, c).map(vp) : ka(c) ? a.getRangedRect(c, 0, c, Vn(c)).map(vp) : ge.none()
            }
              , ef = Uo_generate([{
                none: []
            }, {
                retry: ["caret"]
            }])
              , V2 = function(a, c, v) {
                return function(a, c, v) {
                    return om(function(w, E) {
                        return E(w)
                    }, wr, a, c, void 0)
                }(c, Xm).fold(_n, function(h) {
                    return H2(a, h).exists(function(w) {
                        return function(a, c) {
                            return a.left < c.left || Math.abs(c.right - a.left) < 1 || a.left > c.right
                        }(v, w)
                    })
                })
            }
              , jT = {
                point: function(a) {
                    return a.top
                },
                adjuster: function(a, c, v, h, w) {
                    var E = fp(w, 5);
                    return Math.abs(v.top - h.top) < 1 || v.bottom < w.top ? ef.retry(E) : v.bottom === w.top ? ef.retry(fp(w, 1)) : V2(a, c, w) ? ef.retry(Ql(E, 5, 0)) : ef.none()
                },
                move: fp,
                gather: up
            }
              , GT = {
                point: function(a) {
                    return a.bottom
                },
                adjuster: function(a, c, v, h, w) {
                    var E = mg(w, 5);
                    return Math.abs(v.bottom - h.bottom) < 1 || v.top > w.bottom ? ef.retry(E) : v.top === w.bottom ? ef.retry(mg(w, 1)) : V2(a, c, w) ? ef.retry(Ql(E, 5, 0)) : ef.none()
                },
                move: mg,
                gather: N2
            }
              , gg = function(a, c, v, h, w) {
                return 0 === w ? ge.some(h) : function(a, c, v) {
                    return a.elementFromPoint(c, v).filter(function(h) {
                        return "table" === Dr(h)
                    }).isSome()
                }(a, h.left, c.point(h)) ? function(a, c, v, h, w) {
                    return gg(a, c, v, c.move(h, 5), w)
                }(a, c, v, h, w - 1) : a.situsFromPoint(h.left, c.point(h)).bind(function(E) {
                    return E.start.fold(ge.none, function(N) {
                        return H2(a, N).bind(function(W) {
                            return c.adjuster(a, N, W, v, h).fold(ge.none, function(Q) {
                                return gg(a, c, v, Q, w - 1)
                            })
                        }).orThunk(function() {
                            return ge.some(h)
                        })
                    }, ge.none)
                })
            }
              , j2 = function(a, c, v) {
                var h = a.move(v, 5)
                  , w = gg(c, a, v, h, 100).getOr(h);
                return function(a, c, v) {
                    return a.point(c) > v.getInnerHeight() ? ge.some(a.point(c) - v.getInnerHeight()) : a.point(c) < 0 ? ge.some(-a.point(c)) : ge.none()
                }(a, w, c).fold(function() {
                    return c.situsFromPoint(w.left, a.point(w))
                }, function(E) {
                    return c.scrollBy(0, E),
                    c.situsFromPoint(w.left, a.point(w) - E)
                })
            }
              , hg = {
                tryUp: Fn(j2, jT),
                tryDown: Fn(j2, GT),
                ieTryUp: function(a, c) {
                    return a.situsFromPoint(c.left, c.top - 5)
                },
                ieTryDown: function(a, c) {
                    return a.situsFromPoint(c.left, c.bottom + 5)
                },
                getJumpSize: Pt(5)
            }
              , nS = function(a, c, v) {
                return a.getSelection().bind(function(h) {
                    return function(a, c, v, h) {
                        var w = G0(c) ? function(a, c, v) {
                            return v.traverse(c).orThunk(function() {
                                return lp(c, v.gather, a)
                            }).map(v.relative)
                        }(a, c, h) : XC(a, c, v, h);
                        return w.map(function(E) {
                            return {
                                start: E,
                                finish: E
                            }
                        })
                    }(c, h.finish, h.foffset, v).fold(function() {
                        return ge.some(wv(h.finish, h.foffset))
                    }, function(w) {
                        var E = a.fromSitus(w);
                        return function(a) {
                            return Zl.cata(a, function(c) {
                                return ge.none()
                            }, function() {
                                return ge.none()
                            }, function(c) {
                                return ge.some(wv(c, 0))
                            }, function(c) {
                                return ge.some(wv(c, Vn(c)))
                            })
                        }(Zl.verify(a, h.finish, h.foffset, E.finish, E.foffset, v.failure, c))
                    })
                })
            }
              , J0 = function(a, c, v, h, w, E) {
                return 0 === E ? ge.none() : rS(a, c, v, h, w).bind(function(N) {
                    var W = a.fromSitus(N)
                      , Q = Zl.verify(a, v, h, W.finish, W.foffset, w.failure, c);
                    return Zl.cata(Q, function() {
                        return ge.none()
                    }, function() {
                        return ge.some(N)
                    }, function(se) {
                        return zr(v, se) && 0 === h ? Z0(a, v, h, fp, w) : J0(a, c, se, 0, w, E - 1)
                    }, function(se) {
                        return zr(v, se) && h === Vn(se) ? Z0(a, v, h, mg, w) : J0(a, c, se, Vn(se), w, E - 1)
                    })
                })
            }
              , Z0 = function(a, c, v, h, w) {
                return q0(a, c, v).bind(function(E) {
                    return Yn(a, w, h(E, hg.getJumpSize()))
                })
            }
              , Yn = function(a, c, v) {
                var h = nr().browser;
                return h.isChrome() || h.isSafari() || h.isFirefox() || h.isEdge() ? c.otherRetry(a, v) : h.isIE() ? c.ieRetry(a, v) : ge.none()
            }
              , rS = function(a, c, v, h, w) {
                return q0(a, v, h).bind(function(E) {
                    return Yn(a, w, E)
                })
            }
              , q2 = function(a, c, v, h, w) {
                return Ja(h, "td,th", c).bind(function(E) {
                    return Ja(E, "table", c).bind(function(N) {
                        return function(a, c) {
                            return function(a, c, v) {
                                return wr(a, c, void 0).isSome()
                            }(a, function(v) {
                                return Qo(v).exists(function(h) {
                                    return zr(h, c)
                                })
                            })
                        }(w, N) ? function(a, c, v) {
                            return nS(a, c, v).bind(function(h) {
                                return J0(a, c, h.element, h.offset, v, 20).map(a.fromSitus)
                            })
                        }(a, c, v).bind(function(W) {
                            return Ja(W.finish, "td,th", c).map(function(Q) {
                                return {
                                    start: E,
                                    finish: Q,
                                    range: W
                                }
                            })
                        }) : ge.none()
                    })
                })
            }
              , Q0 = function(a, c, v, h, w, E) {
                return nr().browser.isIE() ? ge.none() : E(h, c).orThunk(function() {
                    return q2(a, c, v, h, w).map(function(N) {
                        var W = N.range;
                        return Iv_create(ge.some(fg(W.start, W.soffset, W.finish, W.foffset)), !0)
                    })
                })
            }
              , mp = function(a, c) {
                return Ja(a, "tr", c).bind(function(v) {
                    return Ja(v, "table", c).bind(function(h) {
                        var w = Ku(h, "tr");
                        return zr(v, w[0]) ? function(a, c, v) {
                            return Ou(ip, a, function(E) {
                                return Lo(E).isSome()
                            }, v)
                        }(h, 0, c).map(function(E) {
                            var N = Vn(E);
                            return Iv_create(ge.some(fg(E, N, E, N)), !0)
                        }) : ge.none()
                    })
                })
            }
              , aS = function(a, c) {
                return Ja(a, "tr", c).bind(function(v) {
                    return Ja(v, "table", c).bind(function(h) {
                        var w = Ku(h, "tr");
                        return zr(v, w[w.length - 1]) ? function(a, c, v) {
                            return ap(ip, a, function(E) {
                                return ym(E).isSome()
                            }, v)
                        }(h, 0, c).map(function(E) {
                            return Iv_create(ge.some(fg(E, 0, E, 0)), !0)
                        }) : ge.none()
                    })
                })
            }
              , K2 = function(a, c, v, h, w, E, N) {
                return q2(a, v, h, w, E).bind(function(W) {
                    return Yl(c, v, W.start, W.finish, N)
                })
            }
              , X2 = function(a, c) {
                return Ja(a, "td,th", c)
            }
              , Y2 = {
                traverse: R,
                gather: N2,
                relative: Hu.before,
                otherRetry: hg.tryDown,
                ieRetry: hg.ieTryDown,
                failure: Zl.failedDown
            }
              , rn = {
                traverse: L,
                gather: up,
                relative: Hu.before,
                otherRetry: hg.tryUp,
                ieRetry: hg.ieTryUp,
                failure: Zl.failedUp
            }
              , Gc = function(a) {
                return function(c) {
                    return c === a
                }
            }
              , eb = Gc(38)
              , gp = Gc(40)
              , hp = function(a) {
                return a >= 37 && a <= 40
            }
              , iS = {
                isBackward: Gc(37),
                isForward: Gc(39)
            }
              , uS = {
                isBackward: Gc(39),
                isForward: Gc(37)
            }
              , sr = function(a) {
                return {
                    elementFromPoint: function(Kt, Qn) {
                        return xt.fromPoint(xt.fromDom(a.document), Kt, Qn)
                    },
                    getRect: function(Kt) {
                        return Kt.dom.getBoundingClientRect()
                    },
                    getRangedRect: function(Kt, Qn, mo, Jn) {
                        var rr = Pv.exact(Kt, Qn, mo, Jn);
                        return function(a, c) {
                            return function(a) {
                                var c = a.getClientRects()
                                  , v = c.length > 0 ? c[0] : a.getBoundingClientRect();
                                return v.width > 0 || v.height > 0 ? ge.some(v).map(RC) : ge.none()
                            }($u(a, c))
                        }(a, rr)
                    },
                    getSelection: function() {
                        return L0(a).map(function(Kt) {
                            return UC(a, Kt)
                        })
                    },
                    fromSitus: function(Kt) {
                        var Qn = Pv.relative(Kt.start, Kt.finish);
                        return UC(a, Qn)
                    },
                    situsFromPoint: function(Kt, Qn) {
                        return function(a, c, v) {
                            return function(a, c, v) {
                                var h = xt.fromDom(a.document);
                                return zv(h, c, v).map(function(w) {
                                    return Mv_create(xt.fromDom(w.startContainer), w.startOffset, xt.fromDom(w.endContainer), w.endOffset)
                                })
                            }(a, c, v)
                        }(a, Kt, Qn).map(function(mo) {
                            return VC_create(mo.start, mo.soffset, mo.finish, mo.foffset)
                        })
                    },
                    clearSelection: function() {
                        !function(a) {
                            np(a).each(function(c) {
                                return c.removeAllRanges()
                            })
                        }(a)
                    },
                    collapseSelection: function(Kt) {
                        void 0 === Kt && (Kt = !1),
                        L0(a).each(function(Qn) {
                            return Qn.fold(function(mo) {
                                return mo.collapse(Kt)
                            }, function(mo, Jn) {
                                var rr = Kt ? mo : Jn;
                                A2(a, rr, rr)
                            }, function(mo, Jn, rr, Zr) {
                                var $r = Kt ? mo : rr
                                  , wi = Kt ? Jn : Zr;
                                E2(a, $r, wi, $r, wi)
                            })
                        })
                    },
                    setSelection: function(Kt) {
                        E2(a, Kt.start, Kt.soffset, Kt.finish, Kt.foffset)
                    },
                    setRelativeSelection: function(Kt, Qn) {
                        A2(a, Kt, Qn)
                    },
                    selectNode: function(Kt) {
                        rp(a, Kt, !1)
                    },
                    selectContents: function(Kt) {
                        rp(a, Kt)
                    },
                    getInnerHeight: function() {
                        return a.innerHeight
                    },
                    getScrollY: function() {
                        var Kt = function(a) {
                            var c = void 0 !== a ? a.dom : document;
                            return ol(c.body.scrollLeft || c.documentElement.scrollLeft, c.body.scrollTop || c.documentElement.scrollTop)
                        }(xt.fromDom(a.document));
                        return Kt.top
                    },
                    scrollBy: function(Kt, Qn) {
                        !function(a, c, v) {
                            var w = (void 0 !== v ? v.dom : document).defaultView;
                            w && w.scrollBy(a, c)
                        }(Kt, Qn, xt.fromDom(a.document))
                    }
                }
            }
              , Kd = function(a, c) {
                return {
                    rows: a,
                    cols: c
                }
            }
              , lS = tinymce.util.Tools.resolve("tinymce.Env")
              , Xd = function(a) {
                return !1 === _u(xt.fromDom(a.target), "ephox-snooker-resizer-bar")
            };
            function KT(a, c, v) {
                var E = function(a, c, v) {
                    var h = function(Q) {
                        La(Q, a.selected),
                        La(Q, a.firstSelected),
                        La(Q, a.lastSelected)
                    }
                      , w = function(Q) {
                        Ea(Q, a.selected, "1")
                    }
                      , E = function(Q) {
                        N(Q),
                        v()
                    }
                      , N = function(Q) {
                        var se = Ku(Q, a.selectedSelector + "," + a.firstSelectedSelector + "," + a.lastSelectedSelector);
                        D(se, h)
                    };
                    return {
                        clearBeforeUpdate: N,
                        clear: E,
                        selectRange: function(Q, se, be, nt) {
                            E(Q),
                            D(se, w),
                            Ea(be, a.firstSelected, "1"),
                            Ea(nt, a.lastSelected, "1"),
                            c(se, be, nt)
                        },
                        selectedSelector: a.selectedSelector,
                        firstSelectedSelector: a.firstSelectedSelector,
                        lastSelectedSelector: a.lastSelectedSelector
                    }
                }(lv, function(N, W, Q) {
                    v.targets().each(function(se) {
                        ao(W).each(function(nt) {
                            var At = vy(a)
                              , dt = ul(xe, xt.fromDom(a.getDoc()), At)
                              , rt = function(a, c, v) {
                                var h = Rr_fromTable(a);
                                return Hl(h, c).map(function(E) {
                                    var N = Bd(h, v, !1)
                                      , W = function(a, c) {
                                        var v = a.slice(0, c[c.length - 1].row + 1)
                                          , h = bc(v);
                                        return re(h, function(w) {
                                            var E = w.cells.slice(0, c[c.length - 1].column + 1);
                                            return qe(E, function(N) {
                                                return N.element
                                            })
                                        })
                                    }(N, E)
                                      , Q = function(a, c) {
                                        var v = a.slice(c[0].row + c[0].rowspan - 1, a.length)
                                          , h = bc(v);
                                        return re(h, function(w) {
                                            var E = w.cells.slice(c[0].column + c[0].colspan - 1, w.cells.length);
                                            return qe(E, function(N) {
                                                return N.element
                                            })
                                        })
                                    }(N, E);
                                    return {
                                        upOrLeftCells: W,
                                        downOrRightCells: Q
                                    }
                                })
                            }(nt, se, dt);
                            !function(a, c, v, h, w) {
                                a.fire("TableSelectionChange", {
                                    cells: c,
                                    start: v,
                                    finish: h,
                                    otherCells: w
                                })
                            }(a, N, W, Q, rt)
                        })
                    })
                }, function() {
                    return function(a) {
                        a.fire("TableSelectionClear")
                    }(a)
                });
                return a.on("init", function(N) {
                    var W = a.getWin()
                      , Q = dc(a)
                      , se = Ps(a)
                      , nt = function(a, c, v, h) {
                        var E = function(a, c, v, h) {
                            var w = Hd()
                              , E = w.clear
                              , N = function(be) {
                                w.on(function(nt) {
                                    h.clearBeforeUpdate(c),
                                    X2(be.target, v).each(function(At) {
                                        Wn(nt, At, v).each(function(dt) {
                                            var rt = dt.boxes.getOr([]);
                                            if (1 === rt.length) {
                                                var Ut = rt[0]
                                                  , Kt = "false" === ah(Ut)
                                                  , Qn = No(oh(be.target), Ut, zr);
                                                Kt && Qn && (h.selectRange(c, rt, Ut, Ut),
                                                a.selectContents(Ut))
                                            } else
                                                rt.length > 1 && (h.selectRange(c, rt, dt.start, dt.finish),
                                                a.selectContents(At))
                                        })
                                    })
                                })
                            };
                            return {
                                clearstate: E,
                                mousedown: function(be) {
                                    h.clear(c),
                                    X2(be.target, v).each(w.set)
                                },
                                mouseover: function(be) {
                                    N(be)
                                },
                                mouseup: function(be) {
                                    N(be),
                                    E()
                                }
                            }
                        }(sr(a), c, v, h);
                        return {
                            clearstate: E.clearstate,
                            mousedown: E.mousedown,
                            mouseover: E.mouseover,
                            mouseup: E.mouseup
                        }
                    }(W, Q, se, E)
                      , At = function(a, c, v, h) {
                        var w = sr(a)
                          , E = function() {
                            return h.clear(c),
                            ge.none()
                        };
                        return {
                            keydown: function(Q, se, be, nt, At, dt) {
                                var rt = Q.raw
                                  , Ut = rt.which
                                  , Kt = !0 === rt.shiftKey
                                  , Qn = Dl(c, h.selectedSelector).fold(function() {
                                    return hp(Ut) && !Kt && h.clearBeforeUpdate(c),
                                    gp(Ut) && Kt ? Fn(K2, w, c, v, Y2, nt, se, h.selectRange) : eb(Ut) && Kt ? Fn(K2, w, c, v, rn, nt, se, h.selectRange) : gp(Ut) ? Fn(Q0, w, v, Y2, nt, se, aS) : eb(Ut) ? Fn(Q0, w, v, rn, nt, se, mp) : ge.none
                                }, function(mo) {
                                    var Jn = function(rr) {
                                        return function() {
                                            var Zr = Cr(rr, function($r) {
                                                return function(a, c, v, h, w) {
                                                    return Jp(h, a, c, w.firstSelectedSelector, w.lastSelectedSelector).map(function(N) {
                                                        return w.clearBeforeUpdate(v),
                                                        w.selectRange(v, N.boxes, N.start, N.finish),
                                                        N.boxes
                                                    })
                                                }($r.rows, $r.cols, c, mo, h)
                                            });
                                            return Zr.fold(function() {
                                                return Tu(c, h.firstSelectedSelector, h.lastSelectedSelector).map(function($r) {
                                                    var wi = gp(Ut) || dt.isForward(Ut) ? Hu.after : Hu.before;
                                                    return w.setRelativeSelection(Hu.on($r.first, 0), wi($r.table)),
                                                    h.clear(c),
                                                    Iv_create(ge.none(), !0)
                                                })
                                            }, function($r) {
                                                return ge.some(Iv_create(ge.none(), !0))
                                            })
                                        }
                                    };
                                    return gp(Ut) && Kt ? Jn([Kd(1, 0)]) : eb(Ut) && Kt ? Jn([Kd(-1, 0)]) : dt.isBackward(Ut) && Kt ? Jn([Kd(0, -1), Kd(-1, 0)]) : dt.isForward(Ut) && Kt ? Jn([Kd(0, 1), Kd(1, 0)]) : hp(Ut) && !Kt ? E : ge.none
                                });
                                return Qn()
                            },
                            keyup: function(Q, se, be, nt, At) {
                                return Dl(c, h.selectedSelector).fold(function() {
                                    var dt = Q.raw;
                                    return !0 === dt.shiftKey && hp(dt.which) ? function(a, c, v, h, w, E, N) {
                                        return zr(v, w) && h === E ? ge.none() : Ja(v, "td,th", c).bind(function(W) {
                                            return Ja(w, "td,th", c).bind(function(Q) {
                                                return Yl(a, c, W, Q, N)
                                            })
                                        })
                                    }(c, v, se, be, nt, At, h.selectRange) : ge.none()
                                }, ge.none)
                            }
                        }
                    }(W, Q, se, E)
                      , dt = function(a, c, v, h) {
                        var w = sr(a);
                        return function(E, N) {
                            h.clearBeforeUpdate(c),
                            Wn(E, N, v).each(function(W) {
                                var Q = W.boxes.getOr([]);
                                h.selectRange(c, Q, W.start, W.finish),
                                w.selectContents(N),
                                w.collapseSelection()
                            })
                        }
                    }(W, Q, se, E);
                    a.on("TableSelectorChange", function(lo) {
                        return dt(lo.start, lo.finish)
                    });
                    var lo, gr, Ut = function(lo, gr) {
                        !function(lo) {
                            return !0 === lo.raw.shiftKey
                        }(lo) || (gr.kill && lo.kill(),
                        gr.selection.each(function(ro) {
                            var ua = Pv.relative(ro.start, ro.finish)
                              , Ua = $u(W, ua);
                            a.selection.setRng(Ua)
                        }))
                    }, mo = function(lo) {
                        return 0 === lo.button
                    }, Vu = (lo = Ev(xt.fromDom(Q)),
                    gr = Ev(0),
                    {
                        touchEnd: function(ua) {
                            var Ua = xt.fromDom(ua.target);
                            if ("td" === Dr(Ua) || "th" === Dr(Ua)) {
                                var Ff = lo.get()
                                  , us = gr.get();
                                zr(Ff, Ua) && ua.timeStamp - us < 300 && (ua.preventDefault(),
                                dt(Ua, Ua))
                            }
                            lo.set(Ua),
                            gr.set(ua.timeStamp)
                        }
                    });
                    a.on("dragstart", function(lo) {
                        nt.clearstate()
                    }),
                    a.on("mousedown", function(lo) {
                        mo(lo) && Xd(lo) && nt.mousedown(_d(lo))
                    }),
                    a.on("mouseover", function(lo) {
                        (function(lo) {
                            return !!(void 0 === lo.buttons || lS.browser.isEdge() && 0 === lo.buttons) || 0 != (1 & lo.buttons)
                        }
                        )(lo) && Xd(lo) && nt.mouseover(_d(lo))
                    }),
                    a.on("mouseup", function(lo) {
                        mo(lo) && Xd(lo) && nt.mouseup(_d(lo))
                    }),
                    a.on("touchend", Vu.touchEnd),
                    a.on("keyup", function(lo) {
                        var gr = _d(lo);
                        if (gr.raw.shiftKey && hp(gr.raw.which)) {
                            var ro = a.selection.getRng()
                              , ua = xt.fromDom(ro.startContainer)
                              , Ua = xt.fromDom(ro.endContainer);
                            At.keyup(gr, ua, ro.startOffset, Ua, ro.endOffset).each(function(Ff) {
                                Ut(gr, Ff)
                            })
                        }
                    }),
                    a.on("keydown", function(lo) {
                        var gr = _d(lo);
                        c().each(function(us) {
                            return us.hideBars()
                        });
                        var ro = a.selection.getRng()
                          , ua = xt.fromDom(ro.startContainer)
                          , Ua = xt.fromDom(ro.endContainer)
                          , Ff = Ko(iS, uS)(xt.fromDom(a.selection.getStart()));
                        At.keydown(gr, ua, ro.startOffset, Ua, ro.endOffset, Ff).each(function(us) {
                            Ut(gr, us)
                        }),
                        c().each(function(us) {
                            return us.showBars()
                        })
                    }),
                    a.on("NodeChange", function() {
                        var lo = a.selection
                          , gr = xt.fromDom(lo.getStart())
                          , ro = xt.fromDom(lo.getEnd());
                        Yp(ao, [gr, ro]).fold(function() {
                            return E.clear(Q)
                        }, xe)
                    })
                }),
                {
                    clear: E.clear
                }
            }
            var XT = function(a, c) {
                var v = Ev(ge.none())
                  , h = Ev([])
                  , w = ge.none()
                  , E = Ya("caption")
                  , N = function(gr) {
                    return w.forall(function(ro) {
                        return !ro[gr]
                    })
                }
                  , se = function() {
                    return Kg(xm(a), Ps(a)).bind(function(gr) {
                        return function(a) {
                            return a.bind(Xe)
                        }(jf(ao(gr), Kg(function(a) {
                            return xt.fromDom(a.selection.getEnd())
                        }(a), Ps(a)).bind(ao), function(ro, ua) {
                            return zr(ro, ua) ? E(gr) ? ge.some(function(a) {
                                return {
                                    element: a,
                                    mergable: ge.none(),
                                    unmergable: ge.none(),
                                    selection: [a]
                                }
                            }(gr)) : ge.some(Sm(c, ro, gr)) : ge.none()
                        }))
                    })
                }
                  , be = function(gr) {
                    return ao(gr.element).map(function(ua) {
                        var Ua = Rr_fromTable(ua)
                          , Ff = Hl(Ua, gr).getOr([])
                          , us = jn(Ff, function(Du, Uu) {
                            return Uu.isLocked && (Du.onAny = !0,
                            0 === Uu.column ? Du.onFirst = !0 : Uu.column + Uu.colspan >= Ua.grid.columns && (Du.onLast = !0)),
                            Du
                        }, {
                            onAny: !1,
                            onFirst: !1,
                            onLast: !1
                        });
                        return {
                            mergeable: Fs(Ua, gr).isSome(),
                            unmergeable: H1(Ua, gr).isSome(),
                            locked: us
                        }
                    })
                }
                  , nt = function() {
                    v.set(xo(se)()),
                    w = v.get().bind(be),
                    D(h.get(), function(gr) {
                        return gr()
                    })
                }
                  , At = function(gr) {
                    return gr(),
                    h.set(h.get().concat([gr])),
                    function() {
                        h.set(tt(h.get(), function(ro) {
                            return ro !== gr
                        }))
                    }
                }
                  , dt = function(gr, ro) {
                    return At(function() {
                        return v.get().fold(function() {
                            gr.setDisabled(!0)
                        }, function(ua) {
                            gr.setDisabled(ro(ua))
                        })
                    })
                }
                  , rt = function(gr, ro, ua) {
                    return At(function() {
                        return v.get().fold(function() {
                            gr.setDisabled(!0),
                            gr.setActive(!1)
                        }, function(Ua) {
                            gr.setDisabled(ro(Ua)),
                            gr.setActive(ua(Ua))
                        })
                    })
                }
                  , Ut = function(gr) {
                    return w.exists(function(ro) {
                        return ro.locked[gr]
                    })
                }
                  , tu = function(gr, ro) {
                    return function(ua) {
                        return rt(ua, function(Ua) {
                            return E(Ua.element)
                        }, function() {
                            return a.queryCommandValue(gr) === ro
                        })
                    }
                }
                  , Vu = tu("mceTableRowType", "header")
                  , lo = tu("mceTableColType", "th");
                return a.on("NodeChange ExecCommand TableSelectorChange", nt),
                {
                    onSetupTable: function(gr) {
                        return dt(gr, function(ro) {
                            return !1
                        })
                    },
                    onSetupCellOrRow: function(gr) {
                        return dt(gr, function(ro) {
                            return E(ro.element)
                        })
                    },
                    onSetupColumn: function(gr) {
                        return function(ro) {
                            return dt(ro, function(ua) {
                                return E(ua.element) || Ut(gr)
                            })
                        }
                    },
                    onSetupPasteable: function(gr) {
                        return function(ro) {
                            return dt(ro, function(ua) {
                                return E(ua.element) || gr().isNone()
                            })
                        }
                    },
                    onSetupPasteableColumn: function(gr, ro) {
                        return function(ua) {
                            return dt(ua, function(Ua) {
                                return E(Ua.element) || gr().isNone() || Ut(ro)
                            })
                        }
                    },
                    onSetupMergeable: function(gr) {
                        return dt(gr, function(ro) {
                            return N("mergeable")
                        })
                    },
                    onSetupUnmergeable: function(gr) {
                        return dt(gr, function(ro) {
                            return N("unmergeable")
                        })
                    },
                    resetTargets: nt,
                    onSetupTableWithCaption: function(gr) {
                        return rt(gr, _n, function(ro) {
                            return ao(ro.element, Ps(a)).exists(function(Ua) {
                                return function(a, c) {
                                    return _i(a, "caption").isSome()
                                }(Ua)
                            })
                        })
                    },
                    onSetupTableRowHeaders: Vu,
                    onSetupTableColumnHeaders: lo,
                    targets: v.get
                }
            };
            Ng.add("table", function(a) {
                var c = function(a, c, v) {
                    return {
                        get: function() {
                            return Oc(a(), v).fold(function() {
                                return c().fold(Zi, Qp)
                            }, function(w) {
                                return ga(w)
                            })
                        }
                    }
                }(function() {
                    return dc(a)
                }, function() {
                    return Tm(xm(a), Ps(a))
                }, lv.selectedSelector)
                  , v = XT(a, c)
                  , h = ni(a)
                  , w = KT(a, h.lazyResize, v)
                  , E = Uc(a, w, h.lazyWire)
                  , N = function() {
                    var a = Hd()
                      , c = Hd();
                    return {
                        getRows: a.get,
                        setRows: function(v) {
                            v.fold(a.clear, a.set),
                            c.clear()
                        },
                        clearRows: a.clear,
                        getColumns: c.get,
                        setColumns: function(v) {
                            v.fold(c.clear, c.set),
                            a.clear()
                        },
                        clearColumns: c.clear
                    }
                }();
                return SC(a, E, 0, c, N),
                function(a, c, v) {
                    var h = Ps(a)
                      , w = function(E) {
                        return Tm(xm(a)).bind(function(N) {
                            return ao(N, h).map(function(W) {
                                var Q = Sm(v, W, N);
                                return E(W, Q)
                            })
                        }).getOr("")
                    };
                    Or({
                        mceTableRowType: function() {
                            return w(c.getTableRowType)
                        },
                        mceTableCellType: function() {
                            return w(c.getTableCellType)
                        },
                        mceTableColType: function() {
                            return w(c.getTableColType)
                        }
                    }, function(E, N) {
                        return a.addQueryValueHandler(N, E)
                    })
                }(a, E, c),
                zu(a, c, E),
                function(a, c, v, h) {
                    var w = function(dt) {
                        return function() {
                            return a.execCommand(dt)
                        }
                    }
                      , E = function(dt) {
                        a.execCommand("mceInsertTable", !1, {
                            rows: dt.numRows,
                            columns: dt.numColumns
                        })
                    }
                      , N = {
                        text: "Table properties",
                        onSetup: v.onSetupTable,
                        onAction: w("mceTableProps")
                    }
                      , W = {
                        text: "Delete table",
                        icon: "table-delete-table",
                        onSetup: v.onSetupTable,
                        onAction: w("mceTableDelete")
                    };
                    a.ui.registry.addMenuItem("tableinsertrowbefore", {
                        text: "Insert row before",
                        icon: "table-insert-row-above",
                        onAction: w("mceTableInsertRowBefore"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tableinsertrowafter", {
                        text: "Insert row after",
                        icon: "table-insert-row-after",
                        onAction: w("mceTableInsertRowAfter"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tabledeleterow", {
                        text: "Delete row",
                        icon: "table-delete-row",
                        onAction: w("mceTableDeleteRow"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tablerowprops", {
                        text: "Row properties",
                        icon: "table-row-properties",
                        onAction: w("mceTableRowProps"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tablecutrow", {
                        text: "Cut row",
                        icon: "cut-row",
                        onAction: w("mceTableCutRow"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tablecopyrow", {
                        text: "Copy row",
                        icon: "duplicate-row",
                        onAction: w("mceTableCopyRow"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tablepasterowbefore", {
                        text: "Paste row before",
                        icon: "paste-row-before",
                        onAction: w("mceTablePasteRowBefore"),
                        onSetup: v.onSetupPasteable(h.getRows)
                    }),
                    a.ui.registry.addMenuItem("tablepasterowafter", {
                        text: "Paste row after",
                        icon: "paste-row-after",
                        onAction: w("mceTablePasteRowAfter"),
                        onSetup: v.onSetupPasteable(h.getRows)
                    });
                    var Q = {
                        type: "nestedmenuitem",
                        text: "Row",
                        getSubmenuItems: Pt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")
                    };
                    a.ui.registry.addMenuItem("tableinsertcolumnbefore", {
                        text: "Insert column before",
                        icon: "table-insert-column-before",
                        onAction: w("mceTableInsertColBefore"),
                        onSetup: v.onSetupColumn("onFirst")
                    }),
                    a.ui.registry.addMenuItem("tableinsertcolumnafter", {
                        text: "Insert column after",
                        icon: "table-insert-column-after",
                        onAction: w("mceTableInsertColAfter"),
                        onSetup: v.onSetupColumn("onLast")
                    }),
                    a.ui.registry.addMenuItem("tabledeletecolumn", {
                        text: "Delete column",
                        icon: "table-delete-column",
                        onAction: w("mceTableDeleteCol"),
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addMenuItem("tablecutcolumn", {
                        text: "Cut column",
                        icon: "cut-column",
                        onAction: w("mceTableCutCol"),
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addMenuItem("tablecopycolumn", {
                        text: "Copy column",
                        icon: "duplicate-column",
                        onAction: w("mceTableCopyCol"),
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addMenuItem("tablepastecolumnbefore", {
                        text: "Paste column before",
                        icon: "paste-column-before",
                        onAction: w("mceTablePasteColBefore"),
                        onSetup: v.onSetupPasteableColumn(h.getColumns, "onFirst")
                    }),
                    a.ui.registry.addMenuItem("tablepastecolumnafter", {
                        text: "Paste column after",
                        icon: "paste-column-after",
                        onAction: w("mceTablePasteColAfter"),
                        onSetup: v.onSetupPasteableColumn(h.getColumns, "onLast")
                    });
                    var se = {
                        type: "nestedmenuitem",
                        text: "Column",
                        getSubmenuItems: Pt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")
                    };
                    a.ui.registry.addMenuItem("tablecellprops", {
                        text: "Cell properties",
                        icon: "table-cell-properties",
                        onAction: w("mceTableCellProps"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuItem("tablemergecells", {
                        text: "Merge cells",
                        icon: "table-merge-cells",
                        onAction: w("mceTableMergeCells"),
                        onSetup: v.onSetupMergeable
                    }),
                    a.ui.registry.addMenuItem("tablesplitcells", {
                        text: "Split cell",
                        icon: "table-split-cells",
                        onAction: w("mceTableSplitCells"),
                        onSetup: v.onSetupUnmergeable
                    });
                    var be = {
                        type: "nestedmenuitem",
                        text: "Cell",
                        getSubmenuItems: Pt("tablecellprops tablemergecells tablesplitcells")
                    };
                    !1 === function(a) {
                        return a.getParam("table_grid", !0, "boolean")
                    }(a) ? a.ui.registry.addMenuItem("inserttable", {
                        text: "Table",
                        icon: "table",
                        onAction: w("mceInsertTable")
                    }) : a.ui.registry.addNestedMenuItem("inserttable", {
                        text: "Table",
                        icon: "table",
                        getSubmenuItems: function() {
                            return [{
                                type: "fancymenuitem",
                                fancytype: "inserttable",
                                onAction: E
                            }]
                        }
                    }),
                    a.ui.registry.addMenuItem("inserttabledialog", {
                        text: "Insert table",
                        icon: "table",
                        onAction: w("mceInsertTable")
                    }),
                    a.ui.registry.addMenuItem("tableprops", N),
                    a.ui.registry.addMenuItem("deletetable", W),
                    a.ui.registry.addNestedMenuItem("row", Q),
                    a.ui.registry.addNestedMenuItem("column", se),
                    a.ui.registry.addNestedMenuItem("cell", be),
                    a.ui.registry.addContextMenu("table", {
                        update: function() {
                            return v.resetTargets(),
                            v.targets().fold(Pt(""), function(dt) {
                                return "caption" === Dr(dt.element) ? "tableprops deletetable" : "cell row column | advtablesort | tableprops deletetable"
                            })
                        }
                    });
                    var nt = Bf(ec(a));
                    0 !== nt.length && a.ui.registry.addNestedMenuItem("tableclass", {
                        icon: "table-classes",
                        text: "Table styles",
                        getSubmenuItems: function() {
                            return Da(a, c, nt, "tableclass", function(dt) {
                                return a.execCommand("mceTableToggleClass", !1, dt)
                            })
                        },
                        onSetup: v.onSetupTable
                    });
                    var At = Bf(Qs(a));
                    0 !== At.length && a.ui.registry.addNestedMenuItem("tablecellclass", {
                        icon: "table-cell-classes",
                        text: "Cell styles",
                        getSubmenuItems: function() {
                            return Da(a, c, At, "tablecellclass", function(dt) {
                                return a.execCommand("mceTableCellToggleClass", !1, dt)
                            })
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addNestedMenuItem("tablecellvalign", {
                        icon: "vertical-align",
                        text: "Vertical align",
                        getSubmenuItems: function() {
                            return Da(a, c, p0, "tablecellverticalalign", $d(a, "vertical-align"))
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addNestedMenuItem("tablecellborderwidth", {
                        icon: "border-width",
                        text: "Border width",
                        getSubmenuItems: function() {
                            return Da(a, c, zi(a), "tablecellborderwidth", $d(a, "border-width"))
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addNestedMenuItem("tablecellborderstyle", {
                        icon: "border-style",
                        text: "Border style",
                        getSubmenuItems: function() {
                            return Da(a, c, mh(a), "tablecellborderstyle", $d(a, "border-style"))
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addToggleMenuItem("tablecaption", {
                        icon: "table-caption",
                        text: "Table caption",
                        onAction: w("mceTableToggleCaption"),
                        onSetup: v.onSetupTableWithCaption
                    }),
                    a.ui.registry.addNestedMenuItem("tablecellbackgroundcolor", {
                        icon: "cell-background-color",
                        text: "Background color",
                        getSubmenuItems: function() {
                            return Gh(a, dy(a), "background-color")
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addNestedMenuItem("tablecellbordercolor", {
                        icon: "cell-border-color",
                        text: "Border color",
                        getSubmenuItems: function() {
                            return Gh(a, my(a), "border-color")
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addToggleMenuItem("tablerowheader", {
                        text: "Row header",
                        icon: "table-top-header",
                        onAction: w0(a),
                        onSetup: v.onSetupTableRowHeaders
                    }),
                    a.ui.registry.addToggleMenuItem("tablecolheader", {
                        text: "Column header",
                        icon: "table-left-header",
                        onAction: x0(a),
                        onSetup: v.onSetupTableColumnHeaders
                    })
                }(a, c, v, N),
                function(a, c, v, h) {
                    a.ui.registry.addMenuButton("table", {
                        tooltip: "Table",
                        icon: "table",
                        fetch: function(W) {
                            return W("inserttable | cell row column | advtablesort | tableprops deletetable")
                        }
                    });
                    var w = function(W) {
                        return function() {
                            return a.execCommand(W)
                        }
                    };
                    a.ui.registry.addButton("tableprops", {
                        tooltip: "Table properties",
                        onAction: w("mceTableProps"),
                        icon: "table",
                        onSetup: v.onSetupTable
                    }),
                    a.ui.registry.addButton("tabledelete", {
                        tooltip: "Delete table",
                        onAction: w("mceTableDelete"),
                        icon: "table-delete-table",
                        onSetup: v.onSetupTable
                    }),
                    a.ui.registry.addButton("tablecellprops", {
                        tooltip: "Cell properties",
                        onAction: w("mceTableCellProps"),
                        icon: "table-cell-properties",
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tablemergecells", {
                        tooltip: "Merge cells",
                        onAction: w("mceTableMergeCells"),
                        icon: "table-merge-cells",
                        onSetup: v.onSetupMergeable
                    }),
                    a.ui.registry.addButton("tablesplitcells", {
                        tooltip: "Split cell",
                        onAction: w("mceTableSplitCells"),
                        icon: "table-split-cells",
                        onSetup: v.onSetupUnmergeable
                    }),
                    a.ui.registry.addButton("tableinsertrowbefore", {
                        tooltip: "Insert row before",
                        onAction: w("mceTableInsertRowBefore"),
                        icon: "table-insert-row-above",
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tableinsertrowafter", {
                        tooltip: "Insert row after",
                        onAction: w("mceTableInsertRowAfter"),
                        icon: "table-insert-row-after",
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tabledeleterow", {
                        tooltip: "Delete row",
                        onAction: w("mceTableDeleteRow"),
                        icon: "table-delete-row",
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tablerowprops", {
                        tooltip: "Row properties",
                        onAction: w("mceTableRowProps"),
                        icon: "table-row-properties",
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tableinsertcolbefore", {
                        tooltip: "Insert column before",
                        onAction: w("mceTableInsertColBefore"),
                        icon: "table-insert-column-before",
                        onSetup: v.onSetupColumn("onFirst")
                    }),
                    a.ui.registry.addButton("tableinsertcolafter", {
                        tooltip: "Insert column after",
                        onAction: w("mceTableInsertColAfter"),
                        icon: "table-insert-column-after",
                        onSetup: v.onSetupColumn("onLast")
                    }),
                    a.ui.registry.addButton("tabledeletecol", {
                        tooltip: "Delete column",
                        onAction: w("mceTableDeleteCol"),
                        icon: "table-delete-column",
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addButton("tablecutrow", {
                        tooltip: "Cut row",
                        icon: "cut-row",
                        onAction: w("mceTableCutRow"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tablecopyrow", {
                        tooltip: "Copy row",
                        icon: "duplicate-row",
                        onAction: w("mceTableCopyRow"),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addButton("tablepasterowbefore", {
                        tooltip: "Paste row before",
                        icon: "paste-row-before",
                        onAction: w("mceTablePasteRowBefore"),
                        onSetup: v.onSetupPasteable(h.getRows)
                    }),
                    a.ui.registry.addButton("tablepasterowafter", {
                        tooltip: "Paste row after",
                        icon: "paste-row-after",
                        onAction: w("mceTablePasteRowAfter"),
                        onSetup: v.onSetupPasteable(h.getRows)
                    }),
                    a.ui.registry.addButton("tablecutcol", {
                        tooltip: "Cut column",
                        icon: "cut-column",
                        onAction: w("mceTableCutCol"),
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addButton("tablecopycol", {
                        tooltip: "Copy column",
                        icon: "duplicate-column",
                        onAction: w("mceTableCopyCol"),
                        onSetup: v.onSetupColumn("onAny")
                    }),
                    a.ui.registry.addButton("tablepastecolbefore", {
                        tooltip: "Paste column before",
                        icon: "paste-column-before",
                        onAction: w("mceTablePasteColBefore"),
                        onSetup: v.onSetupPasteableColumn(h.getColumns, "onFirst")
                    }),
                    a.ui.registry.addButton("tablepastecolafter", {
                        tooltip: "Paste column after",
                        icon: "paste-column-after",
                        onAction: w("mceTablePasteColAfter"),
                        onSetup: v.onSetupPasteableColumn(h.getColumns, "onLast")
                    }),
                    a.ui.registry.addButton("tableinsertdialog", {
                        tooltip: "Insert table",
                        onAction: w("mceInsertTable"),
                        icon: "table"
                    });
                    var E = Bf(ec(a));
                    0 !== E.length && a.ui.registry.addMenuButton("tableclass", {
                        icon: "table-classes",
                        tooltip: "Table styles",
                        fetch: Av(a, c, E, "tableclass", function(W) {
                            return a.execCommand("mceTableToggleClass", !1, W)
                        }),
                        onSetup: v.onSetupTable
                    });
                    var N = Bf(Qs(a));
                    0 !== N.length && a.ui.registry.addMenuButton("tablecellclass", {
                        icon: "table-cell-classes",
                        tooltip: "Cell styles",
                        fetch: Av(a, c, N, "tablecellclass", function(W) {
                            return a.execCommand("mceTableCellToggleClass", !1, W)
                        }),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuButton("tablecellvalign", {
                        icon: "vertical-align",
                        tooltip: "Vertical align",
                        fetch: Av(a, c, p0, "tablecellverticalalign", $d(a, "vertical-align")),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuButton("tablecellborderwidth", {
                        icon: "border-width",
                        tooltip: "Border width",
                        fetch: Av(a, c, zi(a), "tablecellborderwidth", $d(a, "border-width")),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuButton("tablecellborderstyle", {
                        icon: "border-style",
                        tooltip: "Border style",
                        fetch: Av(a, c, mh(a), "tablecellborderstyle", $d(a, "border-style")),
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addToggleButton("tablecaption", {
                        tooltip: "Table caption",
                        onAction: w("mceTableToggleCaption"),
                        icon: "table-caption",
                        onSetup: v.onSetupTableWithCaption
                    }),
                    a.ui.registry.addMenuButton("tablecellbackgroundcolor", {
                        icon: "cell-background-color",
                        tooltip: "Background color",
                        fetch: function(W) {
                            return W(Gh(a, dy(a), "background-color"))
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addMenuButton("tablecellbordercolor", {
                        icon: "cell-border-color",
                        tooltip: "Border color",
                        fetch: function(W) {
                            return W(Gh(a, my(a), "border-color"))
                        },
                        onSetup: v.onSetupCellOrRow
                    }),
                    a.ui.registry.addToggleButton("tablerowheader", {
                        tooltip: "Row header",
                        icon: "table-top-header",
                        onAction: w0(a),
                        onSetup: v.onSetupTableRowHeaders
                    }),
                    a.ui.registry.addToggleButton("tablecolheader", {
                        tooltip: "Column header",
                        icon: "table-left-header",
                        onAction: x0(a),
                        onSetup: v.onSetupTableColumnHeaders
                    })
                }(a, c, v, N),
                function(a) {
                    var v = function(a) {
                        return a.getParam("table_toolbar", "tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol")
                    }(a);
                    v.length > 0 && a.ui.registry.addContextToolbar("table", {
                        predicate: function(h) {
                            return a.dom.is(h, "table") && a.getBody().contains(h)
                        },
                        items: v,
                        scope: "node",
                        position: "node"
                    })
                }(a),
                a.on("PreInit", function() {
                    a.serializer.addTempAttr(lv.firstSelected),
                    a.serializer.addTempAttr(lv.lastSelected),
                    function(a) {
                        a.formatter.register(_C)
                    }(a)
                }),
                function(a) {
                    return a.getParam("table_tab_navigation", !0, "boolean")
                }(a) && a.on("keydown", function(W) {
                    !function(a, c, v) {
                        if (a.keyCode === M2.TAB) {
                            var h = dc(c)
                              , w = function(W) {
                                var Q = Dr(W);
                                return zr(W, h) || Ot(pl, Q)
                            }
                              , E = c.selection.getRng()
                              , N = xt.fromDom(a.shiftKey ? E.startContainer : E.endContainer);
                            Mi(N, w).each(function(W) {
                                a.preventDefault(),
                                ao(W, w).each(v.clear),
                                c.selection.collapse(a.shiftKey),
                                (a.shiftKey ? HC : LC)(c, w, W).each(function(be) {
                                    c.selection.setRng(be)
                                })
                            })
                        }
                    }(W, a, w)
                }),
                a.on("remove", function() {
                    h.destroy()
                }),
                function(a, c, v, h) {
                    return {
                        insertTable: ng(a),
                        setClipboardRows: d0(c.setRows),
                        getClipboardRows: Hh(c.getRows),
                        setClipboardCols: d0(c.setColumns),
                        getClipboardCols: Hh(c.getColumns),
                        resizeHandler: v,
                        selectionTargets: h
                    }
                }(a, N, h, v)
            })
        }()
    }
    ,
    46437: ()=>{
        !function() {
            "use strict";
            tinymce.util.Tools.resolve("tinymce.PluginManager").add("textcolor", function() {})
        }()
    }
    ,
    85646: ()=>{
        !function() {
            "use strict";
            var re, zo = tinymce.util.Tools.resolve("tinymce.PluginManager"), xr = function(re) {
                return re
            }, cn = function() {
                return cn = Object.assign || function(Re) {
                    for (var me, Le = 1, je = arguments.length; Le < je; Le++)
                        for (var We in me = arguments[Le])
                            Object.prototype.hasOwnProperty.call(me, We) && (Re[We] = me[We]);
                    return Re
                }
                ,
                cn.apply(this, arguments)
            }, Nn = function(re) {
                return re.replace(/\uFEFF/g, "")
            }, Hr = [new RegExp("[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f3\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u303b\u303c\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790\ua791\ua7a0-\ua7a9\ua7fa-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"), new RegExp("[-'\\.\u2018\u2019\u2024\ufe52\uff07\uff0e]"), new RegExp("[:\xb7\xb7\u05f4\u2027\ufe13\ufe55\uff1a]"), new RegExp("[\xb1+*/,;;\u0589\u060c\u060d\u066c\u07f8\u2044\ufe10\ufe14\ufe50\ufe54\uff0c\uff1b]"), new RegExp("[0-9\u0660-\u0669\u066b\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9]"), new RegExp("\\r"), new RegExp("\\n"), new RegExp("[\v\f\x85\u2028\u2029]"), new RegExp("[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1baa\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]"), new RegExp("[\xad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200e\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]"), new RegExp("[\u3031-\u3035\u309b\u309c\u30a0-\u30fa\u30fc-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff9d]"), new RegExp("[=_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f\u2200-\u22ff<>]"), new RegExp("@")], _t = new RegExp("^[!-#%-*,-\\/:;?@\\[-\\]_{}\xa1\xab\xb7\xbb\xbf;\xb7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]$"), oo = Hr, hn = function(re) {
                for (var Re = 13, me = oo.length, Le = 0; Le < me; ++Le) {
                    var je = oo[Le];
                    if (je && je.test(re)) {
                        Re = Le;
                        break
                    }
                }
                return Re
            }, Xe = function(re, Re) {
                var me = re[Re]
                  , Le = re[Re + 1];
                if (Re < 0 || Re > re.length - 1 && 0 !== Re || 0 === me && 0 === Le)
                    return !1;
                var je = re[Re + 2];
                if (0 === me && (2 === Le || 1 === Le || 12 === Le) && 0 === je)
                    return !1;
                var We = re[Re - 1];
                return !((2 === me || 1 === me || 12 === Le) && 0 === Le && 0 === We || !(4 !== me && 0 !== me || 4 !== Le && 0 !== Le) || (3 === me || 1 === me) && 4 === Le && 4 === We || 4 === me && (3 === Le || 1 === Le) && 4 === je || 8 === me || 9 === me || 8 === We || 9 === We || 8 === Le || 9 === Le || 5 === me && 6 === Le || 7 !== me && 5 !== me && 6 !== me && 7 !== Le && 5 !== Le && 6 !== Le && (10 === me && 10 === Le || 11 === Le && (0 === me || 4 === me || 10 === me || 11 === me) || 11 === me && (0 === Le || 4 === Le || 10 === Le) || 12 === me))
            }, Fn = /^\s+$/, an = _t, Se = function(re) {
                return "http" === re || "https" === re
            }, En = function(re, Re) {
                var me = function(re, Re) {
                    var me;
                    for (me = Re; me < re.length && !Fn.test(re[me]); me++)
                        ;
                    return me
                }(re, Re + 1);
                return "://" === re.slice(Re + 1, me).join("").substr(0, 3) ? me : Re
            }, st = function(re, Re, me) {
                me = cn(cn({}, {
                    includeWhitespace: !1,
                    includePunctuation: !1
                }), me);
                for (var Le = [], je = [], We = 0; We < re.length; We++) {
                    var Bt = Re(re[We]);
                    "\ufeff" !== Bt && (Le.push(re[We]),
                    je.push(Bt))
                }
                return function(re, Re, me, Le) {
                    for (var je = [], We = [], Bt = 0; Bt < me.length; ++Bt)
                        if (We.push(re[Bt]),
                        Xe(me, Bt)) {
                            var Gn = Re[Bt];
                            if ((Le.includeWhitespace || !Fn.test(Gn)) && (Le.includePunctuation || !an.test(Gn))) {
                                var Cr = Bt + 1
                                  , Gt = Re.slice(Bt - We.length + 1, Cr).join("");
                                if (Se(Gt)) {
                                    var Un = En(Re, Bt)
                                      , xo = re.slice(Cr, Un);
                                    Array.prototype.push.apply(We, xo),
                                    Bt = Un
                                }
                                je.push(We)
                            }
                            We = []
                        }
                    return je
                }(Le, je, function(re) {
                    var Re = function(re) {
                        var Re = {};
                        return function(me) {
                            if (Re[me])
                                return Re[me];
                            var Le = re(me);
                            return Re[me] = Le,
                            Le
                        }
                    }(hn);
                    return function(re, Re) {
                        for (var me = re.length, Le = new Array(me), je = 0; je < me; je++)
                            Le[je] = Re(re[je], je);
                        return Le
                    }(re, Re)
                }(je), me)
            }, ge = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"), ca = function(re, Re) {
                for (var me = Re.getBlockElements(), Le = Re.getShortEndedElements(), We = [], Bt = "", Gn = new ge(re,re); re = Gn.next(); )
                    3 === re.nodeType ? Bt += Nn(re.data) : (me[($n = re).nodeName] || Le[$n.nodeName]) && Bt.length && (We.push(Bt),
                    Bt = "");
                var $n;
                return Bt.length && We.push(Bt),
                We
            }, on = function(re) {
                return re.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g, "_").length
            }, Ct = function(re, Re) {
                var me = function(re) {
                    return re.replace(/\u200B/g, "")
                }(ca(re, Re).join("\n"));
                return st(me.split(""), xr).length
            }, Ot = function(re, Re) {
                var me = ca(re, Re).join("");
                return on(me)
            }, wt = function(re, Re) {
                var me = ca(re, Re).join("").replace(/\s/g, "");
                return on(me)
            }, ct = function(re, Re) {
                return function() {
                    return Re(re.getBody(), re.schema)
                }
            }, qe = function(re, Re) {
                return function() {
                    return Re(re.selection.getRng().cloneContents(), re.schema)
                }
            }, D = function(re) {
                return ct(re, Ct)
            }, kr = tinymce.util.Tools.resolve("tinymce.util.Delay"), nn = function(re, Re) {
                !function(re, Re) {
                    re.fire("wordCountUpdate", {
                        wordCount: {
                            words: Re.body.getWordCount(),
                            characters: Re.body.getCharacterCount(),
                            charactersWithoutSpaces: Re.body.getCharacterCountWithoutSpaces()
                        }
                    })
                }(re, Re)
            };
            void 0 === re && (re = 300),
            zo.add("wordcount", function(Re) {
                var me = function(re) {
                    return {
                        body: {
                            getWordCount: D(re),
                            getCharacterCount: ct(re, Ot),
                            getCharacterCountWithoutSpaces: ct(re, wt)
                        },
                        selection: {
                            getWordCount: qe(re, Ct),
                            getCharacterCount: qe(re, Ot),
                            getCharacterCountWithoutSpaces: qe(re, wt)
                        },
                        getCount: D(re)
                    }
                }(Re);
                return function(re, Re) {
                    re.addCommand("mceWordCount", function() {
                        return function(re, Re) {
                            re.windowManager.open({
                                title: "Word Count",
                                body: {
                                    type: "panel",
                                    items: [{
                                        type: "table",
                                        header: ["Count", "Document", "Selection"],
                                        cells: [["Words", String(Re.body.getWordCount()), String(Re.selection.getWordCount())], ["Characters (no spaces)", String(Re.body.getCharacterCountWithoutSpaces()), String(Re.selection.getCharacterCountWithoutSpaces())], ["Characters", String(Re.body.getCharacterCount()), String(Re.selection.getCharacterCount())]]
                                    }]
                                },
                                buttons: [{
                                    type: "cancel",
                                    name: "close",
                                    text: "Close",
                                    primary: !0
                                }]
                            })
                        }(re, Re)
                    })
                }(Re, me),
                function(re) {
                    var Re = function() {
                        return re.execCommand("mceWordCount")
                    };
                    re.ui.registry.addButton("wordcount", {
                        tooltip: "Word count",
                        icon: "character-count",
                        onAction: Re
                    }),
                    re.ui.registry.addMenuItem("wordcount", {
                        text: "Word count",
                        icon: "character-count",
                        onAction: Re
                    })
                }(Re),
                function(re, Re, me) {
                    var Le = kr.debounce(function() {
                        return nn(re, Re)
                    }, me);
                    re.on("init", function() {
                        nn(re, Re),
                        kr.setEditorTimeout(re, function() {
                            re.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup", Le)
                        }, 0)
                    })
                }(Re, me, re),
                me
            })
        }()
    }
    ,
    29045: (zo,xr,cn)=>{
        !function() {
            "use strict";
            var Nn = function(e) {
                return function(n) {
                    return function(e) {
                        var n = typeof e;
                        return null === e ? "null" : "object" === n && (Array.prototype.isPrototypeOf(e) || e.constructor && "Array" === e.constructor.name) ? "array" : "object" === n && (String.prototype.isPrototypeOf(e) || e.constructor && "String" === e.constructor.name) ? "string" : n
                    }(n) === e
                }
            }
              , Lr = function(e) {
                return function(n) {
                    return typeof n === e
                }
            }
              , vr = function(e) {
                return function(n) {
                    return e === n
                }
            }
              , wn = Nn("string")
              , fn = Nn("object")
              , Hr = Nn("array")
              , gn = vr(null)
              , _t = Lr("boolean")
              , lr = vr(void 0)
              , oo = function(e) {
                return null == e
            }
              , xe = function(e) {
                return !oo(e)
            }
              , hn = Lr("function")
              , Cn = Lr("number")
              , Pt = function(e, n) {
                if (Hr(e)) {
                    for (var r = 0, u = e.length; r < u; ++r)
                        if (!n(e[r]))
                            return !1;
                    return !0
                }
                return !1
            }
              , Xe = function() {}
              , Mr = function(e) {
                return function() {
                    return e()
                }
            }
              , Fn = function(e, n) {
                return function() {
                    for (var r = [], u = 0; u < arguments.length; u++)
                        r[u] = arguments[u];
                    return e(n.apply(null, r))
                }
            }
              , Se = function(e) {
                return function() {
                    return e
                }
            }
              , _n = function(e) {
                return e
            }
              , En = function(e, n) {
                return e === n
            };
            function In(e) {
                for (var n = [], r = 1; r < arguments.length; r++)
                    n[r - 1] = arguments[r];
                return function() {
                    for (var u = [], l = 0; l < arguments.length; l++)
                        u[l] = arguments[l];
                    var d = n.concat(u);
                    return e.apply(null, d)
                }
            }
            var Kn = function(e) {
                return function(n) {
                    return !e(n)
                }
            }
              , $o = function(e) {
                return function() {
                    throw new Error(e)
                }
            }
              , st = Se(!1)
              , ge = Se(!0)
              , ca = tinymce.util.Tools.resolve("tinymce.ThemeManager")
              , ae = function() {
                return ae = Object.assign || function(n) {
                    for (var r, u = 1, l = arguments.length; u < l; u++)
                        for (var d in r = arguments[u])
                            Object.prototype.hasOwnProperty.call(r, d) && (n[d] = r[d]);
                    return n
                }
                ,
                ae.apply(this, arguments)
            };
            function on(e, n) {
                var r = {};
                for (var u in e)
                    Object.prototype.hasOwnProperty.call(e, u) && n.indexOf(u) < 0 && (r[u] = e[u]);
                if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                    var l = 0;
                    for (u = Object.getOwnPropertySymbols(e); l < u.length; l++)
                        n.indexOf(u[l]) < 0 && Object.prototype.propertyIsEnumerable.call(e, u[l]) && (r[u[l]] = e[u[l]])
                }
                return r
            }
            function Ct(e, n, r) {
                if (r || 2 === arguments.length)
                    for (var d, u = 0, l = n.length; u < l; u++)
                        (d || !(u in n)) && (d || (d = Array.prototype.slice.call(n, 0, u)),
                        d[u] = n[u]);
                return e.concat(d || Array.prototype.slice.call(n))
            }
            var e, n, Ot = function() {
                return wt
            }, wt = {
                fold: function(u, l) {
                    return u()
                },
                isSome: st,
                isNone: ge,
                getOr: n = _n,
                getOrThunk: e = function(u) {
                    return u()
                }
                ,
                getOrDie: function(u) {
                    throw new Error(u || "error: getOrDie called on none.")
                },
                getOrNull: Se(null),
                getOrUndefined: Se(void 0),
                or: n,
                orThunk: e,
                map: Ot,
                each: Xe,
                bind: Ot,
                exists: st,
                forall: ge,
                filter: function() {
                    return Ot()
                },
                toArray: function() {
                    return []
                },
                toString: Se("none()")
            }, ct = function(e) {
                var n = Se(e)
                  , r = function() {
                    return l
                }
                  , u = function(d) {
                    return d(e)
                }
                  , l = {
                    fold: function(d, p) {
                        return p(e)
                    },
                    isSome: ge,
                    isNone: st,
                    getOr: n,
                    getOrThunk: n,
                    getOrDie: n,
                    getOrNull: n,
                    getOrUndefined: n,
                    or: r,
                    orThunk: r,
                    map: function(d) {
                        return ct(d(e))
                    },
                    each: function(d) {
                        d(e)
                    },
                    bind: u,
                    exists: u,
                    forall: u,
                    filter: function(d) {
                        return d(e) ? l : wt
                    },
                    toArray: function() {
                        return [e]
                    },
                    toString: function() {
                        return "some(" + e + ")"
                    }
                };
                return l
            }, D = {
                some: ct,
                none: Ot,
                from: function(e) {
                    return null == e ? wt : ct(e)
                }
            }, pn = Array.prototype.slice, bn = Array.prototype.indexOf, tt = Array.prototype.push, kr = function(e, n) {
                return bn.call(e, n)
            }, nn = function(e, n) {
                return kr(e, n) > -1
            }, ir = function(e, n) {
                for (var r = 0, u = e.length; r < u; r++)
                    if (n(e[r], r))
                        return !0;
                return !1
            }, kt = function(e, n) {
                for (var r = [], u = 0; u < e; u++)
                    r.push(n(u));
                return r
            }, Mn = function(e, n) {
                for (var r = [], u = 0; u < e.length; u += n) {
                    var l = pn.call(e, u, u + n);
                    r.push(l)
                }
                return r
            }, re = function(e, n) {
                for (var r = e.length, u = new Array(r), l = 0; l < r; l++)
                    u[l] = n(e[l], l);
                return u
            }, Re = function(e, n) {
                for (var r = 0, u = e.length; r < u; r++)
                    n(e[r], r)
            }, Le = function(e, n) {
                for (var r = [], u = [], l = 0, d = e.length; l < d; l++) {
                    var p = e[l];
                    (n(p, l) ? r : u).push(p)
                }
                return {
                    pass: r,
                    fail: u
                }
            }, je = function(e, n) {
                for (var r = [], u = 0, l = e.length; u < l; u++) {
                    var d = e[u];
                    n(d, u) && r.push(d)
                }
                return r
            }, We = function(e, n, r) {
                return function(e, n) {
                    for (var r = e.length - 1; r >= 0; r--)
                        n(e[r], r)
                }(e, function(u, l) {
                    r = n(r, u, l)
                }),
                r
            }, Bt = function(e, n, r) {
                return Re(e, function(u, l) {
                    r = n(r, u, l)
                }),
                r
            }, $n = function(e, n) {
                return function(e, n, r) {
                    for (var u = 0, l = e.length; u < l; u++) {
                        var d = e[u];
                        if (n(d, u))
                            return D.some(d);
                        if (r(d, u))
                            break
                    }
                    return D.none()
                }(e, n, st)
            }, Cr = function(e, n) {
                for (var r = 0, u = e.length; r < u; r++)
                    if (n(e[r], r))
                        return D.some(r);
                return D.none()
            }, Gt = function(e) {
                for (var n = [], r = 0, u = e.length; r < u; ++r) {
                    if (!Hr(e[r]))
                        throw new Error("Arr.flatten item " + r + " was not an array, input: " + e);
                    tt.apply(n, e[r])
                }
                return n
            }, Un = function(e, n) {
                return Gt(re(e, n))
            }, xo = function(e, n) {
                for (var r = 0, u = e.length; r < u; ++r)
                    if (!0 !== n(e[r], r))
                        return !1;
                return !0
            }, Fo = function(e) {
                var n = pn.call(e, 0);
                return n.reverse(),
                n
            }, ja = function(e, n) {
                return je(e, function(r) {
                    return !nn(n, r)
                })
            }, la = function(e, n) {
                for (var r = {}, u = 0, l = e.length; u < l; u++) {
                    var d = e[u];
                    r[String(d)] = n(d, u)
                }
                return r
            }, pt = function(e) {
                return [e]
            }, Et = function(e, n) {
                var r = pn.call(e, 0);
                return r.sort(n),
                r
            }, Vt = function(e, n) {
                return n >= 0 && n < e.length ? D.some(e[n]) : D.none()
            }, Yt = function(e) {
                return Vt(e, 0)
            }, vn = function(e) {
                return Vt(e, e.length - 1)
            }, cr = hn(Array.from) ? Array.from : function(e) {
                return pn.call(e)
            }
            , Sr = function(e, n) {
                for (var r = 0; r < e.length; r++) {
                    var u = n(e[r], r);
                    if (u.isSome())
                        return u
                }
                return D.none()
            }, An = Object.keys, Jr = Object.hasOwnProperty, Ar = function(e, n) {
                for (var r = An(e), u = 0, l = r.length; u < l; u++) {
                    var d = r[u];
                    n(e[d], d)
                }
            }, ee = function(e, n) {
                return Do(e, function(r, u) {
                    return {
                        k: u,
                        v: n(r, u)
                    }
                })
            }, Do = function(e, n) {
                var r = {};
                return Ar(e, function(u, l) {
                    var d = n(u, l);
                    r[d.k] = d.v
                }),
                r
            }, xa = function(e, n) {
                var r = [];
                return Ar(e, function(u, l) {
                    r.push(n(u, l))
                }),
                r
            }, Mo = function(e, n) {
                for (var r = An(e), u = 0, l = r.length; u < l; u++) {
                    var d = r[u]
                      , p = e[d];
                    if (n(p, d, e))
                        return D.some(p)
                }
                return D.none()
            }, Qr = function(e) {
                return xa(e, _n)
            }, St = function(e, n) {
                return yr(e, n) ? D.from(e[n]) : D.none()
            }, yr = function(e, n) {
                return Jr.call(e, n)
            }, en = function(e, n) {
                return yr(e, n) && null != e[n]
            }, qo = function(e, n, r) {
                return void 0 === r && (r = En),
                e.exists(function(u) {
                    return r(u, n)
                })
            }, fa = function(e) {
                for (var n = [], r = function(l) {
                    n.push(l)
                }, u = 0; u < e.length; u++)
                    e[u].each(r);
                return n
            }, va = function(e, n, r) {
                return e.isSome() && n.isSome() ? D.some(r(e.getOrDie(), n.getOrDie())) : D.none()
            }, da = function(e, n) {
                return e ? D.some(n) : D.none()
            }, Vo = function(e, n, r) {
                return "" === n || e.length >= n.length && e.substr(r, r + n.length) === n
            }, oa = function(e, n) {
                return -1 !== e.indexOf(n)
            }, qa = function(e, n) {
                return Vo(e, n, e.length - n.length)
            }, ju = function(e) {
                return function(n) {
                    return n.replace(e, "")
                }
            }(/^\s+|\s+$/g), pu = function(e) {
                return e.length > 0
            }, au = function(e) {
                return void 0 !== e.style && hn(e.style.getPropertyValue)
            }, $e = function(e) {
                if (null == e)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: e
                }
            }, Ie_fromHtml = function(e, n) {
                var u = (n || document).createElement("div");
                if (u.innerHTML = e,
                !u.hasChildNodes() || u.childNodes.length > 1)
                    throw console.error("HTML does not have a single root node", e),
                    new Error("HTML must have a single root node");
                return $e(u.childNodes[0])
            }, Ie_fromTag = function(e, n) {
                var u = (n || document).createElement(e);
                return $e(u)
            }, Ie_fromText = function(e, n) {
                var u = (n || document).createTextNode(e);
                return $e(u)
            }, Ie_fromDom = $e;
            "undefined" != typeof window || Function("return this;")();
            var so = function(e) {
                return e.dom.nodeName.toLowerCase()
            }
              , Io = function(e) {
                return function(n) {
                    return function(e) {
                        return e.dom.nodeType
                    }(n) === e
                }
            }
              , Sa = Io(1)
              , ri = Io(3)
              , bu = Io(9)
              , Gu = Io(11)
              , Wr = function(e) {
                var r, n = !1;
                return function() {
                    for (var u = [], l = 0; l < arguments.length; l++)
                        u[l] = arguments[l];
                    return n || (n = !0,
                    r = e.apply(null, u)),
                    r
                }
            }
              , Ci = function() {
                return _s(0, 0)
            }
              , _s = function(e, n) {
                return {
                    major: e,
                    minor: n
                }
            }
              , zr = {
                nu: _s,
                detect: function(e, n) {
                    var r = String(n).toLowerCase();
                    return 0 === e.length ? Ci() : function(e, n) {
                        var r = function(e, n) {
                            for (var r = 0; r < e.length; r++) {
                                var u = e[r];
                                if (u.test(n))
                                    return u
                            }
                        }(e, n);
                        if (!r)
                            return {
                                major: 0,
                                minor: 0
                            };
                        var u = function(l) {
                            return Number(n.replace(r, "$" + l))
                        };
                        return _s(u(1), u(2))
                    }(e, r)
                },
                unknown: Ci
            }
              , er = function(e, n) {
                var r = String(n).toLowerCase();
                return $n(e, function(u) {
                    return u.search(r)
                })
            }
              , Ke = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/
              , Oe = function(e) {
                return function(n) {
                    return oa(n, e)
                }
            }
              , Or = [{
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(e) {
                    return oa(e, "edge/") && oa(e, "chrome") && oa(e, "safari") && oa(e, "applewebkit")
                }
            }, {
                name: "Chrome",
                brand: "Chromium",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ke],
                search: function(e) {
                    return oa(e, "chrome") && !oa(e, "chromeframe")
                }
            }, {
                name: "IE",
                versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                search: function(e) {
                    return oa(e, "msie") || oa(e, "trident")
                }
            }, {
                name: "Opera",
                versionRegexes: [Ke, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: Oe("opera")
            }, {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: Oe("firefox")
            }, {
                name: "Safari",
                versionRegexes: [Ke, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(e) {
                    return (oa(e, "safari") || oa(e, "mobile/")) && oa(e, "applewebkit")
                }
            }]
              , js = [{
                name: "Windows",
                search: Oe("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "iOS",
                search: function(e) {
                    return oa(e, "iphone") || oa(e, "ipad")
                },
                versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
            }, {
                name: "Android",
                search: Oe("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            }, {
                name: "OSX",
                search: Oe("mac os x"),
                versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
            }, {
                name: "Linux",
                search: Oe("linux"),
                versionRegexes: []
            }, {
                name: "Solaris",
                search: Oe("sunos"),
                versionRegexes: []
            }, {
                name: "FreeBSD",
                search: Oe("freebsd"),
                versionRegexes: []
            }, {
                name: "ChromeOS",
                search: Oe("cros"),
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
            }]
              , yu = {
                browsers: Se(Or),
                oses: Se(js)
            }
              , wu = "Firefox"
              , J = function(e) {
                var n = e.current
                  , u = function(l) {
                    return function() {
                        return n === l
                    }
                };
                return {
                    current: n,
                    version: e.version,
                    isEdge: u("Edge"),
                    isChrome: u("Chrome"),
                    isIE: u("IE"),
                    isOpera: u("Opera"),
                    isFirefox: u(wu),
                    isSafari: u("Safari")
                }
            }
              , we_unknown = function() {
                return J({
                    current: void 0,
                    version: zr.unknown()
                })
            }
              , we_nu = J
              , Ne = (Se("Edge"),
            Se("Chrome"),
            Se("IE"),
            Se("Opera"),
            Se(wu),
            Se("Safari"),
            "Windows")
              , Nt = "Android"
              , Co = "Solaris"
              , Ir = "FreeBSD"
              , _a = "ChromeOS"
              , Xi = function(e) {
                var n = e.current
                  , u = function(l) {
                    return function() {
                        return n === l
                    }
                };
                return {
                    current: n,
                    version: e.version,
                    isWindows: u(Ne),
                    isiOS: u("iOS"),
                    isAndroid: u(Nt),
                    isOSX: u("OSX"),
                    isLinux: u("Linux"),
                    isSolaris: u(Co),
                    isFreeBSD: u(Ir),
                    isChromeOS: u(_a)
                }
            }
              , Pa_unknown = function() {
                return Xi({
                    current: void 0,
                    version: zr.unknown()
                })
            }
              , Pa_nu = Xi
              , Pu = (Se(Ne),
            Se("iOS"),
            Se(Nt),
            Se("Linux"),
            Se("OSX"),
            Se(Co),
            Se(Ir),
            Se(_a),
            function(e) {
                return window.matchMedia(e).matches
            }
            )
              , Zc = Wr(function() {
                return function(e, n, r) {
                    var u = yu.browsers()
                      , l = yu.oses()
                      , d = n.bind(function(T) {
                        return function(e, n) {
                            return Sr(n.brands, function(r) {
                                var u = r.brand.toLowerCase();
                                return $n(e, function(l) {
                                    var d;
                                    return u === (null === (d = l.brand) || void 0 === d ? void 0 : d.toLowerCase())
                                }).map(function(l) {
                                    return {
                                        current: l.name,
                                        version: zr.nu(parseInt(r.version, 10), 0)
                                    }
                                })
                            })
                        }(u, T)
                    }).orThunk(function() {
                        return function(e, n) {
                            return er(e, n).map(function(r) {
                                var u = zr.detect(r.versionRegexes, n);
                                return {
                                    current: r.name,
                                    version: u
                                }
                            })
                        }(u, e)
                    }).fold(we_unknown, we_nu)
                      , p = function(e, n) {
                        return er(e, n).map(function(r) {
                            var u = zr.detect(r.versionRegexes, n);
                            return {
                                current: r.name,
                                version: u
                            }
                        })
                    }(l, e).fold(Pa_unknown, Pa_nu)
                      , S = function(e, n, r, u) {
                        var l = e.isiOS() && !0 === /ipad/i.test(r)
                          , d = e.isiOS() && !l
                          , p = e.isiOS() || e.isAndroid()
                          , S = p || u("(pointer:coarse)")
                          , T = l || !d && p && u("(min-device-width:768px)")
                          , O = d || p && !T
                          , I = n.isSafari() && e.isiOS() && !1 === /safari/i.test(r)
                          , $ = !O && !T && !I;
                        return {
                            isiPad: Se(l),
                            isiPhone: Se(d),
                            isTablet: Se(T),
                            isPhone: Se(O),
                            isTouch: Se(S),
                            isAndroid: e.isAndroid,
                            isiOS: e.isiOS,
                            isWebView: Se(I),
                            isDesktop: Se($)
                        }
                    }(p, d, e, r);
                    return {
                        browser: d,
                        os: p,
                        deviceType: S
                    }
                }(navigator.userAgent, D.from(navigator.userAgentData), Pu)
            })
              , Dr = function() {
                return Zc()
            }
              , vs = function(e, n) {
                var r = e.dom;
                if (1 !== r.nodeType)
                    return !1;
                var u = r;
                if (void 0 !== u.matches)
                    return u.matches(n);
                if (void 0 !== u.msMatchesSelector)
                    return u.msMatchesSelector(n);
                if (void 0 !== u.webkitMatchesSelector)
                    return u.webkitMatchesSelector(n);
                if (void 0 !== u.mozMatchesSelector)
                    return u.mozMatchesSelector(n);
                throw new Error("Browser lacks native selectors")
            }
              , Yi = function(e) {
                return 1 !== e.nodeType && 9 !== e.nodeType && 11 !== e.nodeType || 0 === e.childElementCount
            }
              , Eo = function(e, n) {
                return e.dom === n.dom
            }
              , ds = function(e, n) {
                return Dr().browser.isIE() ? function(e, n) {
                    return function(e, n) {
                        return function(e, n, r) {
                            return 0 != (e.compareDocumentPosition(n) & r)
                        }(e, n, Node.DOCUMENT_POSITION_CONTAINED_BY)
                    }(e.dom, n.dom)
                }(e, n) : function(e, n) {
                    var r = e.dom
                      , u = n.dom;
                    return r !== u && r.contains(u)
                }(e, n)
            }
              , Ti = function(e) {
                return Ie_fromDom(e.dom.ownerDocument)
            }
              , Qo = function(e) {
                return bu(e) ? e : Ti(e)
            }
              , ms = function(e) {
                return Ie_fromDom(Qo(e).dom.documentElement)
            }
              , Es = function(e) {
                return Ie_fromDom(Qo(e).dom.defaultView)
            }
              , L = function(e) {
                return D.from(e.dom.parentNode).map(Ie_fromDom)
            }
              , C = function(e) {
                return D.from(e.dom.offsetParent).map(Ie_fromDom)
            }
              , G = function(e) {
                return re(e.dom.childNodes, Ie_fromDom)
            }
              , ie = function(e, n) {
                return D.from(e.dom.childNodes[n]).map(Ie_fromDom)
            }
              , lt = function(e, n) {
                return {
                    element: e,
                    offset: n
                }
            }
              , Sn = function(e, n) {
                var r = G(e);
                return r.length > 0 && n < r.length ? lt(r[n], 0) : lt(e, n)
            }
              , or = function(e) {
                return Gu(e) && xe(e.dom.host)
            }
              , Xt = hn(Element.prototype.attachShadow) && hn(Node.prototype.getRootNode)
              , un = Se(Xt)
              , Bn = Xt ? function(e) {
                return Ie_fromDom(e.dom.getRootNode())
            }
            : Qo
              , ur = function(e) {
                return or(e) ? e : Ie_fromDom(Qo(e).dom.body)
            }
              , to = function(e) {
                var n = Bn(e);
                return or(n) ? D.some(n) : D.none()
            }
              , dr = function(e) {
                return Ie_fromDom(e.dom.host)
            }
              , no = function(e) {
                var n = ri(e) ? e.dom.parentNode : e.dom;
                if (null == n || null === n.ownerDocument)
                    return !1;
                var r = n.ownerDocument;
                return to(Ie_fromDom(n)).fold(function() {
                    return r.body.contains(n)
                }, function(e, n) {
                    return function(r) {
                        return e(n(r))
                    }
                }(no, dr))
            }
              , aa = function() {
                return Ku(Ie_fromDom(document))
            }
              , Ku = function(e) {
                var n = e.dom.body;
                if (null == n)
                    throw new Error("Body is not available yet");
                return Ie_fromDom(n)
            }
              , om = function(e, n, r) {
                if (!(wn(r) || _t(r) || Cn(r)))
                    throw console.error("Invalid call to Attribute.set. Key ", n, ":: Value ", r, ":: Element ", e),
                    new Error("Attribute value was not simple");
                e.setAttribute(n, r + "")
            }
              , wr = function(e, n, r) {
                om(e.dom, n, r)
            }
              , Wf = function(e, n) {
                var r = e.dom;
                Ar(n, function(u, l) {
                    om(r, l, u)
                })
            }
              , Hn = function(e, n) {
                var r = e.dom.getAttribute(n);
                return null === r ? void 0 : r
            }
              , gs = function(e, n) {
                return D.from(Hn(e, n))
            }
              , dn = function(e, n) {
                var r = e.dom;
                return !(!r || !r.hasAttribute) && r.hasAttribute(n)
            }
              , _i = function(e, n) {
                e.dom.removeAttribute(n)
            }
              , Qc = function(e, n, r) {
                if (!wn(r))
                    throw console.error("Invalid call to CSS.set. Property ", n, ":: Value ", r, ":: Element ", e),
                    new Error("CSS value must be a string: " + r);
                au(e) && e.style.setProperty(n, r)
            }
              , Ja = function(e, n) {
                au(e) && e.style.removeProperty(n)
            }
              , zn = function(e, n, r) {
                Qc(e.dom, n, r)
            }
              , Ea = function(e, n) {
                var r = e.dom;
                Ar(n, function(u, l) {
                    Qc(r, l, u)
                })
            }
              , Cu = function(e, n) {
                var r = e.dom;
                Ar(n, function(u, l) {
                    u.fold(function() {
                        Ja(r, l)
                    }, function(d) {
                        Qc(r, l, d)
                    })
                })
            }
              , ho = function(e, n) {
                var r = e.dom
                  , l = window.getComputedStyle(r).getPropertyValue(n);
                return "" !== l || no(e) ? l : ic(r, n)
            }
              , ic = function(e, n) {
                return au(e) ? e.style.getPropertyValue(n) : ""
            }
              , Bo = function(e, n) {
                var u = ic(e.dom, n);
                return D.from(u).filter(function(l) {
                    return l.length > 0
                })
            }
              , La = function(e) {
                var n = {}
                  , r = e.dom;
                if (au(r))
                    for (var u = 0; u < r.style.length; u++) {
                        var l = r.style.item(u);
                        n[l] = r.style[l]
                    }
                return n
            }
              , Qv = function(e, n, r) {
                var u = Ie_fromTag(e);
                return zn(u, n, r),
                Bo(u, n).isSome()
            }
              , No = function(e, n) {
                Ja(e.dom, n),
                qo(gs(e, "style").map(ju), "") && _i(e, "style")
            }
              , uc = function(e) {
                return e.dom.offsetWidth
            }
              , jf = function(e, n) {
                var u = function(S) {
                    var T = n(S);
                    if (T <= 0 || null === T) {
                        var O = ho(S, e);
                        return parseFloat(O) || 0
                    }
                    return T
                }
                  , d = function(S, T) {
                    return Bt(T, function(O, I) {
                        var $ = ho(S, I)
                          , q = void 0 === $ ? 0 : parseInt($, 10);
                        return isNaN(q) ? O : O + q
                    }, 0)
                };
                return {
                    set: function(S, T) {
                        if (!Cn(T) && !T.match(/^[0-9]+$/))
                            throw new Error(e + ".set accepts only positive integer values. Value was " + T);
                        var O = S.dom;
                        au(O) && (O.style[e] = T + "px")
                    },
                    get: u,
                    getOuter: u,
                    aggregate: d,
                    max: function(S, T, O) {
                        var I = d(S, O);
                        return T > I ? T - I : 0
                    }
                }
            }
              , am = jf("height", function(e) {
                var n = e.dom;
                return no(e) ? n.getBoundingClientRect().height : n.offsetHeight
            })
              , ia = function(e) {
                return am.get(e)
            }
              , hs = function(e) {
                return am.getOuter(e)
            }
              , Gf = function(e, n) {
                return {
                    left: e,
                    top: n,
                    translate: function(u, l) {
                        return Gf(e + u, n + l)
                    }
                }
            }
              , Yo = Gf
              , qs = function(e, n) {
                return void 0 !== e ? e : void 0 !== n ? n : 0
            }
              , Su = function(e) {
                var n = e.dom.ownerDocument
                  , r = n.body
                  , u = n.defaultView
                  , l = n.documentElement;
                if (r === e.dom)
                    return Yo(r.offsetLeft, r.offsetTop);
                var d = qs(null == u ? void 0 : u.pageYOffset, l.scrollTop)
                  , p = qs(null == u ? void 0 : u.pageXOffset, l.scrollLeft)
                  , S = qs(l.clientTop, r.clientTop)
                  , T = qs(l.clientLeft, r.clientLeft);
                return ed(e).translate(p - T, d - S)
            }
              , ed = function(e) {
                var n = e.dom
                  , u = n.ownerDocument.body;
                return u === n ? Yo(u.offsetLeft, u.offsetTop) : no(e) ? function(e) {
                    var n = e.getBoundingClientRect();
                    return Yo(n.left, n.top)
                }(n) : Yo(0, 0)
            }
              , Xu = jf("width", function(e) {
                return e.dom.offsetWidth
            })
              , Hi = function(e) {
                return Xu.get(e)
            }
              , Bu = function(e) {
                return Xu.getOuter(e)
            }
              , td = function(e) {
                var n = Ie_fromDom(function(e) {
                    if (un() && xe(e.target)) {
                        var n = Ie_fromDom(e.target);
                        if (Sa(n) && function(e) {
                            return xe(e.dom.shadowRoot)
                        }(n) && e.composed && e.composedPath) {
                            var r = e.composedPath();
                            if (r)
                                return Yt(r)
                        }
                    }
                    return D.from(e.target)
                }(e).getOr(e.target))
                  , r = function() {
                    return e.stopPropagation()
                }
                  , u = function() {
                    return e.preventDefault()
                }
                  , l = Fn(u, r);
                return function(e, n, r, u, l, d, p) {
                    return {
                        target: e,
                        x: n,
                        y: r,
                        stop: u,
                        prevent: l,
                        kill: d,
                        raw: p
                    }
                }(n, e.clientX, e.clientY, r, u, l, e)
            }
              , df = function(e, n, r, u, l) {
                var d = function(e, n) {
                    return function(r) {
                        e(r) && n(td(r))
                    }
                }(r, u);
                return e.dom.addEventListener(n, d, l),
                {
                    unbind: In(od, e, n, d, l)
                }
            }
              , od = function(e, n, r, u) {
                e.dom.removeEventListener(n, r, u)
            }
              , im = function(e, n) {
                L(e).each(function(u) {
                    u.dom.insertBefore(n.dom, e.dom)
                })
            }
              , Mi = function(e, n) {
                var r = function(e) {
                    return D.from(e.dom.nextSibling).map(Ie_fromDom)
                }(e);
                r.fold(function() {
                    L(e).each(function(l) {
                        Ri(l, n)
                    })
                }, function(u) {
                    im(u, n)
                })
            }
              , ai = function(e, n) {
                var r = function(e) {
                    return ie(e, 0)
                }(e);
                r.fold(function() {
                    Ri(e, n)
                }, function(u) {
                    e.dom.insertBefore(n.dom, u.dom)
                })
            }
              , Ri = function(e, n) {
                e.dom.appendChild(n.dom)
            }
              , kc = function(e, n) {
                Re(n, function(r) {
                    Ri(e, r)
                })
            }
              , mf = function(e) {
                e.dom.textContent = "",
                Re(G(e), function(n) {
                    Nu(n)
                })
            }
              , Nu = function(e) {
                var n = e.dom;
                null !== n.parentNode && n.parentNode.removeChild(n)
            }
              , gf = function(e) {
                var n = G(e);
                n.length > 0 && function(e, n) {
                    Re(n, function(r) {
                        im(e, r)
                    })
                }(e, n),
                Nu(e)
            }
              , Yu = function(e) {
                var n = void 0 !== e ? e.dom : document;
                return Yo(n.body.scrollLeft || n.documentElement.scrollLeft, n.body.scrollTop || n.documentElement.scrollTop)
            }
              , iu = function(e, n, r) {
                var l = (void 0 !== r ? r.dom : document).defaultView;
                l && l.scrollTo(e, n)
            }
              , Al = function(e, n, r, u) {
                return {
                    x: e,
                    y: n,
                    width: r,
                    height: u,
                    right: e + r,
                    bottom: n + u
                }
            }
              , ad = function(e) {
                var n = void 0 === e ? window : e
                  , u = Yu(Ie_fromDom(n.document));
                return function(e) {
                    var n = void 0 === e ? window : e;
                    return Dr().browser.isFirefox() ? D.none() : D.from(n.visualViewport)
                }(n).fold(function() {
                    var l = n.document.documentElement;
                    return Al(u.left, u.top, l.clientWidth, l.clientHeight)
                }, function(l) {
                    return Al(Math.max(l.pageLeft, u.left), Math.max(l.pageTop, u.top), l.width, l.height)
                })
            }
              , um = function(e, n) {
                return e.view(n).fold(Se([]), function(u) {
                    var l = e.owner(u)
                      , d = um(e, l);
                    return [u].concat(d)
                })
            }
              , ii = Object.freeze({
                __proto__: null,
                view: function(e) {
                    var n;
                    return (e.dom === document ? D.none() : D.from(null === (n = e.dom.defaultView) || void 0 === n ? void 0 : n.frameElement)).map(Ie_fromDom)
                },
                owner: function(e) {
                    return Ti(e)
                }
            })
              , tl = function(e) {
                var n = Ie_fromDom(document)
                  , r = Yu(n)
                  , u = function(e, n) {
                    var r = n.owner(e)
                      , u = um(n, r);
                    return D.some(u)
                }(e, ii);
                return u.fold(In(Su, e), function(l) {
                    var d = ed(e)
                      , p = We(l, function(S, T) {
                        var O = ed(T);
                        return {
                            left: S.left + O.left,
                            top: S.top + O.top
                        }
                    }, {
                        left: 0,
                        top: 0
                    });
                    return Yo(p.left + d.left + r.left, p.top + d.top + r.top)
                })
            }
              , Za = function(e, n, r, u) {
                return {
                    x: e,
                    y: n,
                    width: r,
                    height: u,
                    right: e + r,
                    bottom: n + u
                }
            }
              , Ji = function(e) {
                var n = Su(e)
                  , r = Bu(e)
                  , u = hs(e);
                return Za(n.left, n.top, r, u)
            }
              , Ec = function(e) {
                var n = tl(e)
                  , r = Bu(e)
                  , u = hs(e);
                return Za(n.left, n.top, r, u)
            }
              , sc = function() {
                return ad(window)
            }
              , nl = function(e) {
                return {
                    isValue: ge,
                    isError: st,
                    getOr: Se(e),
                    getOrThunk: Se(e),
                    getOrDie: Se(e),
                    or: function($) {
                        return nl(e)
                    },
                    orThunk: function($) {
                        return nl(e)
                    },
                    fold: function($, q) {
                        return q(e)
                    },
                    map: function($) {
                        return nl($(e))
                    },
                    mapError: function($) {
                        return nl(e)
                    },
                    each: function($) {
                        $(e)
                    },
                    bind: function($) {
                        return $(e)
                    },
                    exists: function($) {
                        return $(e)
                    },
                    forall: function($) {
                        return $(e)
                    },
                    toOptional: function() {
                        return D.some(e)
                    }
                }
            }
              , bi = function(e) {
                return {
                    isValue: st,
                    isError: ge,
                    getOr: _n,
                    getOrThunk: function(O) {
                        return O()
                    },
                    getOrDie: function() {
                        return $o(String(e))()
                    },
                    or: _n,
                    orThunk: function(O) {
                        return O()
                    },
                    fold: function(O, I) {
                        return O(e)
                    },
                    map: function(O) {
                        return bi(e)
                    },
                    mapError: function(O) {
                        return bi(O(e))
                    },
                    each: Xe,
                    bind: function(O) {
                        return bi(e)
                    },
                    exists: st,
                    forall: ge,
                    toOptional: D.none
                }
            }
              , Fr = {
                value: nl,
                error: bi,
                fromOption: function(e, n) {
                    return e.fold(function() {
                        return bi(n)
                    }, nl)
                }
            }
              , Zu = (()=>(function(e) {
                e[e.Error = 0] = "Error",
                e[e.Value = 1] = "Value"
            }(Zu || (Zu = {})),
            Zu))()
              , Ac = function(e, n, r) {
                return e.stype === Zu.Error ? n(e.serror) : r(e.svalue)
            }
              , id = function(e) {
                return {
                    stype: Zu.Value,
                    svalue: e
                }
            }
              , hf = function(e) {
                return {
                    stype: Zu.Error,
                    serror: e
                }
            }
              , U_svalue = id
              , U_serror = hf
              , U_fold = Ac
              , Y = function(e, n, r, u) {
                return {
                    tag: "field",
                    key: e,
                    newKey: n,
                    presence: r,
                    prop: u
                }
            }
              , Pe = function(e, n, r) {
                switch (e.tag) {
                case "field":
                    return n(e.key, e.newKey, e.presence, e.prop);
                case "custom":
                    return r(e.newKey, e.instantiator)
                }
            }
              , Pr = function(e) {
                return function() {
                    for (var n = [], r = 0; r < arguments.length; r++)
                        n[r] = arguments[r];
                    if (0 === n.length)
                        throw new Error("Can't merge zero objects");
                    for (var u = {}, l = 0; l < n.length; l++) {
                        var d = n[l];
                        for (var p in d)
                            yr(d, p) && (u[p] = e(u[p], d[p]))
                    }
                    return u
                }
            }
              , Tn = Pr(function(e, n) {
                return fn(e) && fn(n) ? Tn(e, n) : n
            })
              , hr = Pr(function(e, n) {
                return n
            })
              , $a = function(e) {
                return {
                    tag: "defaultedThunk",
                    process: e
                }
            }
              , Aa = function(e) {
                return $a(Se(e))
            }
              , lm = function(e) {
                return {
                    tag: "mergeWithThunk",
                    process: e
                }
            }
              , zw_consolidateArr = function(e) {
                var n = function(e) {
                    var n = []
                      , r = [];
                    return Re(e, function(u) {
                        Ac(u, function(l) {
                            return r.push(l)
                        }, function(l) {
                            return n.push(l)
                        })
                    }),
                    {
                        values: n,
                        errors: r
                    }
                }(e);
                return n.errors.length > 0 ? function(e) {
                    return Fn(U_serror, Gt)(e)
                }(n.errors) : U_svalue(n.values)
            }
              , Gp = function(e) {
                return fn(e) && An(e).length > 100 ? " removed due to size" : JSON.stringify(e, null, 2)
            }
              , Xf = function(e, n) {
                return U_serror([{
                    path: e,
                    getErrorInfo: n
                }])
            }
              , Yf = function(e) {
                return {
                    extract: function(u, l) {
                        return function(e, n) {
                            return e.stype === Zu.Error ? n(e.serror) : e
                        }(e(l), function(d) {
                            return function(e, n) {
                                return Xf(e, Se(n))
                            }(u, d)
                        })
                    },
                    toString: Se("val")
                }
            }
              , Fw = Yf(U_svalue)
              , Pg = function(e, n, r, u) {
                return u(St(e, n).getOrThunk(function() {
                    return r(e)
                }))
            }
              , rT = function(e, n, r, u, l) {
                var d = function(S) {
                    return l.extract(n.concat([u]), S)
                }
                  , p = function(S) {
                    return S.fold(function() {
                        return U_svalue(D.none())
                    }, function(T) {
                        return function(e, n) {
                            return e.stype === Zu.Value ? {
                                stype: Zu.Value,
                                svalue: n(e.svalue)
                            } : e
                        }(l.extract(n.concat([u]), T), D.some)
                    })
                };
                switch (e.tag) {
                case "required":
                    return function(e, n, r, u) {
                        return St(n, r).fold(function() {
                            return function(e, n, r) {
                                return Xf(e, function() {
                                    return 'Could not find valid *required* value for "' + n + '" in ' + Gp(r)
                                })
                            }(e, r, n)
                        }, u)
                    }(n, r, u, d);
                case "defaultedThunk":
                    return Pg(r, u, e.process, d);
                case "option":
                    return function(e, n, r) {
                        return r(St(e, n))
                    }(r, u, p);
                case "defaultedOptionThunk":
                    return function(e, n, r, u) {
                        return u(St(e, n).map(function(d) {
                            return !0 === d ? r(e) : d
                        }))
                    }(r, u, e.process, p);
                case "mergeWithThunk":
                    return Pg(r, u, Se({}), function(S) {
                        var T = Tn(e.process(r), S);
                        return d(T)
                    })
                }
            }
              , Yp = function(e) {
                return {
                    extract: function(u, l) {
                        return e().extract(u, l)
                    },
                    toString: function() {
                        return e().toString()
                    }
                }
            }
              , Pi = function(e) {
                var n = Wn(e)
                  , r = We(e, function(l, d) {
                    return Pe(d, function(p) {
                        var S;
                        return Tn(l, ((S = {})[p] = !0,
                        S))
                    }, Se(l))
                }, {});
                return {
                    extract: function(l, d) {
                        var p = _t(d) ? [] : function(e) {
                            return An(function(e, n) {
                                var r = {};
                                return function(e, n, r, u) {
                                    Ar(e, function(d, p) {
                                        (n(d, p) ? r : u)(d, p)
                                    })
                                }(e, n, function(e) {
                                    return function(n, r) {
                                        e[r] = n
                                    }
                                }(r), Xe),
                                r
                            }(e, xe))
                        }(d)
                          , S = je(p, function(T) {
                            return !en(r, T)
                        });
                        return 0 === S.length ? n.extract(l, d) : function(e, n) {
                            return Xf(e, function() {
                                return "There are unsupported fields: [" + n.join(", ") + "] specified"
                            })
                        }(l, S)
                    },
                    toString: n.toString
                }
            }
              , Wn = function(e) {
                return {
                    extract: function(u, l) {
                        return function(e, n, r) {
                            for (var u = {}, l = [], d = 0, p = r; d < p.length; d++)
                                Pe(p[d], function(T, O, I, $) {
                                    var q = rT(I, e, n, T, $);
                                    U_fold(q, function(Z) {
                                        l.push.apply(l, Z)
                                    }, function(Z) {
                                        u[O] = Z
                                    })
                                }, function(T, O) {
                                    u[T] = O(n)
                                });
                            return l.length > 0 ? U_serror(l) : U_svalue(u)
                        }(u, l, e)
                    },
                    toString: function() {
                        return "obj{\n" + re(e, function(l) {
                            return Pe(l, function(d, p, S, T) {
                                return d + " -> " + T.toString()
                            }, function(d, p) {
                                return "state(" + d + ")"
                            })
                        }).join("\n") + "}"
                    }
                }
            }
              , Dl = function(e) {
                return {
                    extract: function(u, l) {
                        var d = re(l, function(p, S) {
                            return e.extract(u.concat(["[" + S + "]"]), p)
                        });
                        return zw_consolidateArr(d)
                    },
                    toString: function() {
                        return "array(" + e.toString() + ")"
                    }
                }
            }
              , ud = function(e) {
                return {
                    extract: function(u, l) {
                        for (var d = [], p = 0, S = e; p < S.length; p++) {
                            var O = S[p].extract(u, l);
                            if (O.stype === Zu.Value)
                                return O;
                            d.push(O)
                        }
                        return zw_consolidateArr(d)
                    },
                    toString: function() {
                        return "oneOf(" + re(e, function(u) {
                            return u.toString()
                        }).join(", ") + ")"
                    }
                }
            }
              , Tu = function(e, n) {
                return {
                    extract: function(d, p) {
                        var S = An(p)
                          , T = function(d, p) {
                            return Dl(Yf(e)).extract(d, p)
                        }(d, S);
                        return function(e, n) {
                            return e.stype === Zu.Value ? n(e.svalue) : e
                        }(T, function(O) {
                            var I = re(O, function($) {
                                return Y($, $, {
                                    tag: "required",
                                    process: {}
                                }, n)
                            });
                            return Wn(I).extract(d, p)
                        })
                    },
                    toString: function() {
                        return "setOf(" + n.toString() + ")"
                    }
                }
            }
              , Jp = Fn(Dl, Wn)
              , Oc = Se(Fw)
              , Zp = function(e, n) {
                return Yf(function(r) {
                    var u = typeof r;
                    return e(r) ? U_svalue(r) : U_serror("Expected type: " + n + " but got: " + u)
                })
            }
              , Mb = Zp(Cn, "number")
              , Uo = Zp(wn, "string")
              , Ds = Zp(_t, "boolean")
              , Dc = Zp(hn, "function")
              , Zi = function(e) {
                if (Object(e) !== e)
                    return !0;
                switch ({}.toString.call(e).slice(8, -1)) {
                case "Boolean":
                case "Number":
                case "String":
                case "Date":
                case "RegExp":
                case "Blob":
                case "FileList":
                case "ImageData":
                case "ImageBitmap":
                case "ArrayBuffer":
                    return !0;
                case "Array":
                case "Object":
                    return Object.keys(e).every(function(n) {
                        return Zi(e[n])
                    });
                default:
                    return !1
                }
            }
              , ga = Yf(function(e) {
                return Zi(e) ? U_svalue(e) : U_serror("Expected value to be acceptable for sending via postMessage")
            })
              , Bg = function(e, n) {
                return {
                    extract: function(l, d) {
                        return St(d, e).fold(function() {
                            return function(e, n) {
                                return Xf(e, function() {
                                    return 'Choice schema did not contain choice key: "' + n + '"'
                                })
                            }(l, e)
                        }, function(S) {
                            return function(e, n, r, u) {
                                return St(r, u).fold(function() {
                                    return function(e, n, r) {
                                        return Xf(e, function() {
                                            return 'The chosen schema: "' + r + '" did not exist in branches: ' + Gp(n)
                                        })
                                    }(e, r, u)
                                }, function(d) {
                                    return d.extract(e.concat(["branch: " + u]), n)
                                })
                            }(l, d, n, S)
                        })
                    },
                    toString: function() {
                        return "chooseOn(" + e + "). Possible values: " + An(n)
                    }
                }
            }
              , Zf = function(e) {
                return Yf(function(n) {
                    return e(n).fold(U_serror, U_svalue)
                })
            }
              , e1 = function(e, n) {
                return Tu(function(r) {
                    return function(e) {
                        return e.fold(hf, id)
                    }(e(r))
                }, n)
            }
              , Wo = function(e, n, r) {
                return function(e) {
                    return Ac(e, Fr.error, Fr.value)
                }(function(e, n, r) {
                    return function(e, n) {
                        return e.stype === Zu.Error ? {
                            stype: Zu.Error,
                            serror: n(e.serror)
                        } : e
                    }(n.extract([e], r), function(l) {
                        return {
                            input: r,
                            errors: l
                        }
                    })
                }(e, n, r))
            }
              , Ms = function(e) {
                return e.fold(function(n) {
                    throw new Error(uu(n))
                }, _n)
            }
              , Bi = function(e, n, r) {
                return Ms(Wo(e, n, r))
            }
              , uu = function(e) {
                return "Errors: \n" + function(e) {
                    var n = e.length > 10 ? e.slice(0, 10).concat([{
                        path: [],
                        getErrorInfo: Se("... (only showing first ten failures)")
                    }]) : e;
                    return re(n, function(r) {
                        return "Failed path: (" + r.path.join(" > ") + ")\n" + r.getErrorInfo()
                    })
                }(e.errors).join("\n") + "\n\nInput object: " + Gp(e.input)
            }
              , Qu = function(e, n) {
                return Bg(e, ee(n, Wn))
            }
              , Jo = Y
              , $i = function(e, n) {
                return {
                    tag: "custom",
                    newKey: e,
                    instantiator: n
                }
            }
              , sd = function(e) {
                return Zf(function(n) {
                    return nn(e, n) ? Fr.value(n) : Fr.error('Unsupported value: "' + n + '", choose one of "' + e.join(", ") + '".')
                })
            }
              , ot = function(e) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, Oc())
            }
              , ui = function(e, n) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, n)
            }
              , Rl = function(e) {
                return ui(e, Mb)
            }
              , fr = function(e) {
                return ui(e, Uo)
            }
              , zg = function(e, n) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, sd(n))
            }
              , yi = function(e) {
                return ui(e, Dc)
            }
              , cc = function(e, n) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, Wn(n))
            }
              , Iw = function(e, n) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, Jp(n))
            }
              , Vi = function(e, n) {
                return Jo(e, e, {
                    tag: "required",
                    process: {}
                }, Dl(n))
            }
              , To = function(e) {
                return Jo(e, e, {
                    tag: "option",
                    process: {}
                }, Oc())
            }
              , bf = function(e, n) {
                return Jo(e, e, {
                    tag: "option",
                    process: {}
                }, n)
            }
              , yf = function(e) {
                return bf(e, Mb)
            }
              , Ko = function(e) {
                return bf(e, Uo)
            }
              , rl = function(e) {
                return bf(e, Dc)
            }
              , si = function(e, n) {
                return bf(e, Dl(n))
            }
              , Ui = function(e, n) {
                return bf(e, Wn(n))
            }
              , Pb = function(e, n) {
                return bf(e, Pi(n))
            }
              , Be = function(e, n) {
                return Jo(e, e, Aa(n), Oc())
            }
              , ps = function(e, n, r) {
                return Jo(e, e, Aa(n), r)
            }
              , ol = function(e, n) {
                return ps(e, n, Mb)
            }
              , fm = function(e, n) {
                return ps(e, n, Uo)
            }
              , al = function(e, n, r) {
                return ps(e, n, sd(r))
            }
              , Qa = function(e, n) {
                return ps(e, n, Ds)
            }
              , Ba = function(e, n) {
                return ps(e, n, Dc)
            }
              , Lg = function(e, n, r) {
                return ps(e, n, Dl(r))
            }
              , t1 = function(e, n, r) {
                return ps(e, n, Wn(r))
            }
              , Xn = function(e) {
                var n = e;
                return {
                    get: function() {
                        return n
                    },
                    set: function(l) {
                        n = l
                    }
                }
            }
              , bs_generate = function(e) {
                if (!Hr(e))
                    throw new Error("cases must be an array");
                if (0 === e.length)
                    throw new Error("there must be at least one case");
                var n = []
                  , r = {};
                return Re(e, function(u, l) {
                    var d = An(u);
                    if (1 !== d.length)
                        throw new Error("one and only one name per case");
                    var p = d[0]
                      , S = u[p];
                    if (void 0 !== r[p])
                        throw new Error("duplicate key detected:" + p);
                    if ("cata" === p)
                        throw new Error("cannot have a case named cata (sorry)");
                    if (!Hr(S))
                        throw new Error("case arguments must be an array");
                    n.push(p),
                    r[p] = function() {
                        for (var T = [], O = 0; O < arguments.length; O++)
                            T[O] = arguments[O];
                        var I = T.length;
                        if (I !== S.length)
                            throw new Error("Wrong number of arguments to case " + p + ". Expected " + S.length + " (" + S + "), got " + I);
                        var $ = function(q) {
                            var Z = An(q);
                            if (n.length !== Z.length)
                                throw new Error("Wrong number of arguments to match. Expected: " + n.join(",") + "\nActual: " + Z.join(","));
                            if (!xo(n, function(de) {
                                return nn(Z, de)
                            }))
                                throw new Error("Not all branches were specified when using match. Specified: " + Z.join(", ") + "\nRequired: " + n.join(", "));
                            return q[p].apply(null, T)
                        };
                        return {
                            fold: function() {
                                for (var q = [], Z = 0; Z < arguments.length; Z++)
                                    q[Z] = arguments[Z];
                                if (q.length !== e.length)
                                    throw new Error("Wrong number of arguments to fold. Expected " + e.length + ", got " + q.length);
                                var te = q[l];
                                return te.apply(null, T)
                            },
                            match: $,
                            log: function(q) {
                                console.log(q, {
                                    constructors: n,
                                    constructor: p,
                                    params: T
                                })
                            }
                        }
                    }
                }),
                r
            };
            bs_generate([{
                bothErrors: ["error1", "error2"]
            }, {
                firstError: ["error1", "value2"]
            }, {
                secondError: ["value1", "error2"]
            }, {
                bothValues: ["value1", "value2"]
            }]);
            var gc, Mc = function(e, n) {
                return function(e, n) {
                    var r;
                    return (r = {})[e] = n,
                    r
                }(e, n)
            }, Rc = function(e) {
                return function(e) {
                    var n = {};
                    return Re(e, function(r) {
                        n[r.key] = r.value
                    }),
                    n
                }(e)
            }, r1 = function(e) {
                return hn(e) ? e : st
            }, o1 = function(e, n, r) {
                for (var u = e.dom, l = r1(r); u.parentNode; ) {
                    var d = Ie_fromDom(u = u.parentNode)
                      , p = n(d);
                    if (p.isSome())
                        return p;
                    if (l(d))
                        break
                }
                return D.none()
            }, vm = function(e, n, r) {
                var u = n(e)
                  , l = r1(r);
                return u.orThunk(function() {
                    return l(e) ? D.none() : o1(e, n, l)
                })
            }, dm = function(e, n) {
                return Eo(e.element, n.event.target)
            }, a1 = {
                can: ge,
                abort: st,
                run: Xe
            }, ld = function(e) {
                if (!en(e, "can") && !en(e, "abort") && !en(e, "run"))
                    throw new Error("EventHandler defined by: " + JSON.stringify(e, null, 2) + " does not have can, abort, or run!");
                return ae(ae({}, a1), e)
            }, ha = Se, Pl = ha("touchstart"), mm = ha("touchmove"), fd = ha("touchend"), $w = ha("touchcancel"), Pc = ha("mousedown"), wf = ha("mousemove"), ev = ha("mouseout"), tv = ha("mouseup"), nv = ha("mouseover"), xf = ha("focusin"), Vw = ha("focusout"), i1 = ha("keydown"), u1 = ha("keyup"), rv = ha("input"), gm = ha("change"), vd = ha("click"), Uw = ha("transitioncancel"), dd = ha("transitionend"), Ww = ha("transitionstart"), jw = ha("selectstart"), Oa = function(e) {
                return Se("alloy." + e)
            }, Br = {
                tap: Oa("tap")
            }, Bc = Oa("focus"), Ib = Oa("blur.post"), md = Oa("paste.post"), Cf = Oa("receive"), co = Oa("execute"), $g = Oa("focus.item"), gd = Br.tap, Lb = Oa("longpress"), lc = Oa("sandbox.close"), Ys = Oa("typeahead.cancel"), su = Oa("system.init"), Vg = Oa("system.touchmove"), hm = Oa("system.touchend"), pm = Oa("system.scroll"), Rs = Oa("system.resize"), cu = Oa("system.attached"), Bl = Oa("system.detached"), fc = Oa("system.dismissRequested"), Hb = Oa("system.repositionRequested"), s1 = Oa("focusmanager.shifted"), bm = Oa("slotcontainer.visibility"), Ug = Oa("change.tab"), $b = Oa("dismiss.tab"), ys = Oa("highlight"), c1 = Oa("dehighlight"), po = function(e, n) {
                Sf(e, e.element, n, {})
            }, Vn = function(e, n, r) {
                Sf(e, e.element, n, r)
            }, ov = function(e) {
                po(e, co())
            }, l1 = function(e, n, r) {
                Sf(e, n, r, {})
            }, Sf = function(e, n, r, u) {
                var l = ae({
                    target: n
                }, u);
                e.getSystem().triggerEvent(r, n, l)
            }, ym = function(e, n, r, u) {
                e.getSystem().triggerEvent(r, n, u.event)
            }, Lo = function(e) {
                return Rc(e)
            }, Vb = function(e, n) {
                return {
                    key: e,
                    value: ld({
                        abort: n
                    })
                }
            }, Wg = function(e) {
                return {
                    key: e,
                    value: ld({
                        run: function(n, r) {
                            r.event.prevent()
                        }
                    })
                }
            }, gt = function(e, n) {
                return {
                    key: e,
                    value: ld({
                        run: n
                    })
                }
            }, Tf = function(e, n, r) {
                return {
                    key: e,
                    value: ld({
                        run: function(u, l) {
                            n.apply(void 0, [u, l].concat(r))
                        }
                    })
                }
            }, jg = function(e) {
                return function(n) {
                    return {
                        key: e,
                        value: ld({
                            run: function(r, u) {
                                dm(r, u) && n(r, u)
                            }
                        })
                    }
                }
            }, vc = function(e, n, r) {
                return function(e, n) {
                    return gt(e, function(r, u) {
                        r.getSystem().getByUid(n).each(function(l) {
                            ym(l, l.element, e, u)
                        })
                    })
                }(e, n.partUids[r])
            }, v1 = function(e, n) {
                return gt(e, function(r, u) {
                    var l = u.event
                      , d = r.getSystem().getByDom(l.target).getOrThunk(function() {
                        return vm(l.target, function(S) {
                            return r.getSystem().getByDom(S).toOptional()
                        }, st).getOr(r)
                    });
                    n(r, d, u)
                })
            }, ul = function(e) {
                return gt(e, function(n, r) {
                    r.cut()
                })
            }, d1 = function(e) {
                return gt(e, function(n, r) {
                    r.stop()
                })
            }, bd = function(e, n) {
                return jg(e)(n)
            }, pa = jg(cu()), sl = jg(Bl()), dc = jg(su()), cl = function(e) {
                return function(n) {
                    return gt(e, n)
                }
            }(co()), Ps = function(e) {
                return e.dom.innerHTML
            }, av = function(e, n) {
                var u = Ti(e).dom
                  , l = Ie_fromDom(u.createDocumentFragment())
                  , d = function(e, n) {
                    var u = (n || document).createElement("div");
                    return u.innerHTML = e,
                    G(Ie_fromDom(u))
                }(n, u);
                kc(l, d),
                mf(e),
                Ri(e, l)
            }, oT = function(e) {
                return or(e) ? "#shadow-root" : function(e) {
                    var n = Ie_fromTag("div")
                      , r = Ie_fromDom(e.dom.cloneNode(!0));
                    return Ri(n, r),
                    Ps(n)
                }(function(e) {
                    return function(e, n) {
                        return Ie_fromDom(e.dom.cloneNode(!1))
                    }(e)
                }(e))
            }, _f = function(e) {
                return oT(e)
            }, Gw = Lo([function(e, n) {
                return {
                    key: e,
                    value: ld({
                        can: function(e, n) {
                            var r = n.event
                              , u = r.originator
                              , l = r.target;
                            return !function(e, n, r) {
                                return Eo(n, e.element) && !Eo(n, r)
                            }(e, u, l) || (console.warn(Bc() + " did not get interpreted by the desired target. \nOriginator: " + _f(u) + "\nTarget: " + _f(l) + "\nCheck the " + Bc() + " event handlers"),
                            !1)
                        }
                    })
                }
            }(Bc())]), g1 = Object.freeze({
                __proto__: null,
                events: Gw
            }), Cm = 0, Pn = function(e) {
                var r = (new Date).getTime();
                return e + "_" + Math.floor(1e9 * Math.random()) + ++Cm + String(r)
            }, iv = Se("alloy-id-"), Ub = Se("data-alloy-id"), qw = iv(), wd = Ub(), et = function(e, n) {
                Object.defineProperty(e.dom, wd, {
                    value: n,
                    writable: !0
                })
            }, sv = function(e) {
                var n = Sa(e) ? e.dom[wd] : null;
                return D.from(n)
            }, cv = function(e) {
                return Pn(e)
            }, lv = _n, Gg = function(e) {
                var n = function(l) {
                    return "The component must be in a context to execute: " + l + (e ? "\n" + _f(e().element) + " is not in context." : "")
                }
                  , r = function(l) {
                    return function() {
                        throw new Error(n(l))
                    }
                }
                  , u = function(l) {
                    return function() {
                        console.warn(n(l))
                    }
                };
                return {
                    debugInfo: Se("fake"),
                    triggerEvent: u("triggerEvent"),
                    triggerFocus: u("triggerFocus"),
                    triggerEscape: u("triggerEscape"),
                    broadcast: u("broadcast"),
                    broadcastOn: u("broadcastOn"),
                    broadcastEvent: u("broadcastEvent"),
                    build: r("build"),
                    addToWorld: r("addToWorld"),
                    removeFromWorld: r("removeFromWorld"),
                    addToGui: r("addToGui"),
                    removeFromGui: r("removeFromGui"),
                    getByUid: r("getByUid"),
                    getByDom: r("getByDom"),
                    isConnected: st
                }
            }, Sm = Gg(), h1 = function(e) {
                return re(e, function(n) {
                    return qa(n, "/*") ? n.substring(0, n.length - "/*".length) : n
                })
            }, qg = function(e, n) {
                var r = e.toString()
                  , u = r.indexOf(")") + 1
                  , l = r.indexOf("(")
                  , d = r.substring(l + 1, u - 1).split(/,\s*/);
                return e.toFunctionAnnotation = function() {
                    return {
                        name: n,
                        parameters: h1(d)
                    }
                }
                ,
                e
            }, Kg = Pn("alloy-premade"), Tm = function(e) {
                return Mc(Kg, e)
            }, Xg = function(e) {
                return function(e, n) {
                    var r = n.toString()
                      , u = r.indexOf(")") + 1
                      , l = r.indexOf("(")
                      , d = r.substring(l + 1, u - 1).split(/,\s*/);
                    return e.toFunctionAnnotation = function() {
                        return {
                            name: "OVERRIDE",
                            parameters: h1(d.slice(1))
                        }
                    }
                    ,
                    e
                }(function(n) {
                    for (var r = [], u = 1; u < arguments.length; u++)
                        r[u - 1] = arguments[u];
                    return e.apply(void 0, Ct([n.getApis(), n], r, !1))
                }, e)
            }, Nc = {
                init: function() {
                    return Bs({
                        readState: Se("No State required")
                    })
                }
            }, Bs = function(e) {
                return e
            }, fv = function(e, n) {
                var r = {};
                return Ar(e, function(u, l) {
                    Ar(u, function(d, p) {
                        var S = St(r, p).getOr([]);
                        r[p] = S.concat([n(l, d)])
                    })
                }),
                r
            }, mc = function(e) {
                return {
                    classes: lr(e.classes) ? [] : e.classes,
                    attributes: lr(e.attributes) ? {} : e.attributes,
                    styles: lr(e.styles) ? {} : e.styles
                }
            }, xd = function(e) {
                return e.cHandler
            }, Jg = function(e, n) {
                return {
                    name: e,
                    handler: n
                }
            }, p1 = function(e, n, r) {
                var u = n[r];
                return u ? function(e, n, r, u) {
                    try {
                        var l = Et(r, function(d, p) {
                            var S = d[n]
                              , T = p[n]
                              , O = u.indexOf(S)
                              , I = u.indexOf(T);
                            if (-1 === O)
                                throw new Error("The ordering for " + e + " does not have an entry for " + S + ".\nOrder specified: " + JSON.stringify(u, null, 2));
                            if (-1 === I)
                                throw new Error("The ordering for " + e + " does not have an entry for " + T + ".\nOrder specified: " + JSON.stringify(u, null, 2));
                            return O < I ? -1 : I < O ? 1 : 0
                        });
                        return Fr.value(l)
                    } catch (d) {
                        return Fr.error([d])
                    }
                }("Event: " + r, "name", e, u).map(function(l) {
                    return function(e) {
                        var n = function(e, n) {
                            return function() {
                                for (var r = [], u = 0; u < arguments.length; u++)
                                    r[u] = arguments[u];
                                return Bt(e, function(l, d) {
                                    return l && n(d).apply(void 0, r)
                                }, !0)
                            }
                        }(e, function(l) {
                            return l.can
                        })
                          , r = function(e, n) {
                            return function() {
                                for (var r = [], u = 0; u < arguments.length; u++)
                                    r[u] = arguments[u];
                                return Bt(e, function(l, d) {
                                    return l || n(d).apply(void 0, r)
                                }, !1)
                            }
                        }(e, function(l) {
                            return l.abort
                        });
                        return {
                            can: n,
                            abort: r,
                            run: function() {
                                for (var l = [], d = 0; d < arguments.length; d++)
                                    l[d] = arguments[d];
                                Re(e, function(p) {
                                    p.run.apply(void 0, l)
                                })
                            }
                        }
                    }(re(l, function(p) {
                        return p.handler
                    }))
                }) : function(e, n) {
                    return Fr.error(["The event (" + e + ') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: ' + JSON.stringify(re(n, function(r) {
                        return r.name
                    }), null, 2)])
                }(r, e)
            }, ox = function(e, n) {
                var r = xa(e, function(u, l) {
                    return (1 === u.length ? Fr.value(u[0].handler) : p1(u, n, l)).map(function(p) {
                        var S = function(e) {
                            var n = function(e) {
                                return hn(e) ? {
                                    can: ge,
                                    abort: st,
                                    run: e
                                } : e
                            }(e);
                            return function(r, u) {
                                for (var l = [], d = 2; d < arguments.length; d++)
                                    l[d - 2] = arguments[d];
                                var p = [r, u].concat(l);
                                n.abort.apply(void 0, p) ? u.stop() : n.can.apply(void 0, p) && n.run.apply(void 0, p)
                            }
                        }(p)
                          , T = u.length > 1 ? je(n[l], function(O) {
                            return ir(u, function(I) {
                                return I.name === O
                            })
                        }).join(" > ") : u[0].name;
                        return Mc(l, function(e, n) {
                            return {
                                handler: e,
                                purpose: n
                            }
                        }(S, T))
                    })
                });
                return function(e, n) {
                    var r = function(e) {
                        var n = []
                          , r = [];
                        return Re(e, function(u) {
                            u.fold(function(l) {
                                n.push(l)
                            }, function(l) {
                                r.push(l)
                            })
                        }),
                        {
                            errors: n,
                            values: r
                        }
                    }(e);
                    return r.errors.length > 0 ? function(e) {
                        return Fr.error(Gt(e))
                    }(r.errors) : function(e, n) {
                        return Fr.value(0 === e.length ? n : Tn(n, hr.apply(void 0, e)))
                    }(r.values, n)
                }(r, {})
            }, zl = "alloy.base.behaviour", ax = Wn([Jo("dom", "dom", {
                tag: "required",
                process: {}
            }, Wn([ot("tag"), Be("styles", {}), Be("classes", []), Be("attributes", {}), To("value"), To("innerHtml")])), ot("components"), ot("uid"), Be("events", {}), Be("apis", {}), Jo("eventOrder", "eventOrder", function(e) {
                return lm(Se(e))
            }((gc = {},
            gc[co()] = ["disabling", zl, "toggling", "typeaheadevents"],
            gc[Bc()] = [zl, "focusing", "keying"],
            gc[su()] = [zl, "disabling", "toggling", "representing"],
            gc[rv()] = [zl, "representing", "streaming", "invalidating"],
            gc[Bl()] = [zl, "representing", "item-events", "tooltipping"],
            gc[Pc()] = ["focusing", zl, "item-type-events"],
            gc[Pl()] = ["focusing", zl, "item-type-events"],
            gc[nv()] = ["item-type-events", "tooltipping"],
            gc[Cf()] = ["receiving", "reflecting", "tooltipping"],
            gc)), Oc()), To("domModification")]), dv = function(e) {
                return e.events
            }, zc = function(e, n) {
                var r = Hn(e, n);
                return void 0 === r || "" === r ? [] : r.split(" ")
            }, Om = function(e) {
                return void 0 !== e.dom.classList
            }, ki = function(e, n) {
                Om(e) ? e.dom.classList.add(n) : function(e, n) {
                    (function(e, n, r) {
                        var l = zc(e, n).concat([r]);
                        wr(e, n, l.join(" "))
                    }
                    )(e, "class", n)
                }(e, n)
            }, ei = function(e, n) {
                Om(e) ? e.dom.classList.remove(n) : function(e, n) {
                    (function(e, n, r) {
                        var u = je(zc(e, n), function(l) {
                            return l !== r
                        });
                        u.length > 0 ? wr(e, n, u.join(" ")) : _i(e, n)
                    }
                    )(e, "class", n)
                }(e, n),
                function(e) {
                    var n = Om(e) ? e.dom.classList : function(e) {
                        return zc(e, "class")
                    }(e);
                    0 === n.length && _i(e, "class")
                }(e)
            }, ea = function(e, n) {
                return Om(e) && e.dom.classList.contains(n)
            }, Fc = function(e, n) {
                Re(n, function(r) {
                    ki(e, r)
                })
            }, lu = function(e, n) {
                Re(n, function(r) {
                    ei(e, r)
                })
            }, kf = function(e) {
                return e.dom.value
            }, Dm = function(e, n) {
                if (void 0 === n)
                    throw new Error("Value.set was undefined");
                e.dom.value = n
            }, sx = function(e) {
                var n = function(e) {
                    var n = St(e, "behaviours").getOr({});
                    return Un(An(n), function(r) {
                        var u = n[r];
                        return xe(u) ? [u.me] : []
                    })
                }(e);
                return function(e, n) {
                    return function(e, n) {
                        var r = re(n, function(l) {
                            return Ui(l.name(), [ot("config"), Be("state", Nc)])
                        })
                          , u = Wo("component.behaviours", Wn(r), e.behaviours).fold(function(l) {
                            throw new Error(uu(l) + "\nComplete spec:\n" + JSON.stringify(e, null, 2))
                        }, _n);
                        return {
                            list: n,
                            data: ee(u, function(l) {
                                var d = l.map(function(p) {
                                    return {
                                        config: p.config,
                                        state: p.state.init(p.config)
                                    }
                                });
                                return Se(d)
                            })
                        }
                    }(e, n)
                }(e, n)
            }, Yb = function(e, n, r) {
                var u = {
                    "alloy.base.behaviour": dv(e)
                };
                return function(e, n, r, u) {
                    var l = function(e, n, r) {
                        var u = ae(ae({}, r), function(e, n) {
                            var r = {};
                            return Re(e, function(u) {
                                r[u.name()] = u.handlers(n)
                            }),
                            r
                        }(n, e));
                        return fv(u, Jg)
                    }(e, r, u);
                    return ox(l, n)
                }(r, e.eventOrder, n, u).getOrDie()
            }, gv = function(e) {
                var n = function() {
                    return ke
                }
                  , r = Xn(Sm)
                  , u = Ms(function(e) {
                    return Wo("custom.definition", ax, e)
                }(e))
                  , l = sx(e)
                  , d = function(e) {
                    return e.list
                }(l)
                  , p = function(e) {
                    return e.data
                }(l)
                  , T = function(e) {
                    var n = Ie_fromTag(e.tag);
                    return Wf(n, e.attributes),
                    Fc(n, e.classes),
                    Ea(n, e.styles),
                    e.innerHtml.each(function(u) {
                        return av(n, u)
                    }),
                    kc(n, e.domChildren),
                    e.value.each(function(u) {
                        Dm(n, u)
                    }),
                    et(n, e.uid),
                    n
                }(function(e, n, r) {
                    var u = function(e) {
                        return ae(ae({}, e.dom), {
                            uid: e.uid,
                            domChildren: re(e.components, function(n) {
                                return n.element
                            })
                        })
                    }(e)
                      , l = function(e) {
                        return e.domModification.fold(function() {
                            return mc({})
                        }, mc)
                    }(e)
                      , p = n.length > 0 ? function(e, n, r, u) {
                        var l = ae({}, n);
                        Re(r, function(I) {
                            l[I.name()] = I.exhibit(e, u)
                        });
                        var d = fv(l, function(I, $) {
                            return {
                                name: I,
                                modification: $
                            }
                        })
                          , p = function(I) {
                            return We(I, function($, q) {
                                return ae(ae({}, q.modification), $)
                            }, {})
                        }
                          , S = We(d.classes, function(I, $) {
                            return $.modification.concat(I)
                        }, [])
                          , T = p(d.attributes)
                          , O = p(d.styles);
                        return mc({
                            classes: S,
                            attributes: T,
                            styles: O
                        })
                    }(r, {
                        "alloy.base.modification": l
                    }, n, u) : l;
                    return function(e, n) {
                        return ae(ae({}, e), {
                            attributes: ae(ae({}, e.attributes), n.attributes),
                            styles: ae(ae({}, e.styles), n.styles),
                            classes: e.classes.concat(n.classes)
                        })
                    }(u, p)
                }(u, d, p))
                  , O = Yb(u, d, p)
                  , I = Xn(u.components)
                  , ke = {
                    uid: e.uid,
                    getSystem: r.get,
                    config: function(Ze) {
                        var Ye = p;
                        return (hn(Ye[Ze.name()]) ? Ye[Ze.name()] : function() {
                            throw new Error("Could not find " + Ze.name() + " in " + JSON.stringify(e, null, 2))
                        }
                        )()
                    },
                    hasConfigured: function(Ze) {
                        return hn(p[Ze.name()])
                    },
                    spec: e,
                    readState: function(Ze) {
                        return p[Ze]().map(function(Ye) {
                            return Ye.state.readState()
                        }).getOr("not enabled")
                    },
                    getApis: function() {
                        return u.apis
                    },
                    connect: function(Ze) {
                        r.set(Ze)
                    },
                    disconnect: function() {
                        r.set(Gg(n))
                    },
                    element: T,
                    syncComponents: function() {
                        var Ze = G(T)
                          , Ye = Un(Ze, function(_e) {
                            return r.get().getByDom(_e).fold(function() {
                                return []
                            }, pt)
                        });
                        I.set(Ye)
                    },
                    components: I.get,
                    events: O
                };
                return ke
            }, Fu = function(e) {
                var n = Ie_fromText(e);
                return Ef({
                    element: n
                })
            }, Ef = function(e) {
                var n = Bi("external.component", Pi([ot("element"), To("uid")]), e)
                  , r = Xn(Gg())
                  , d = n.uid.getOrThunk(function() {
                    return cv("external")
                });
                et(n.element, d);
                var p = {
                    uid: d,
                    getSystem: r.get,
                    config: D.none,
                    hasConfigured: st,
                    connect: function(S) {
                        r.set(S)
                    },
                    disconnect: function() {
                        r.set(Gg(function() {
                            return p
                        }))
                    },
                    getApis: function() {
                        return {}
                    },
                    element: n.element,
                    spec: e,
                    readState: Se("No state"),
                    syncComponents: Xe,
                    components: Se([]),
                    events: {}
                };
                return Tm(p)
            }, th = cv, es = function(e) {
                return function(e) {
                    return St(e, Kg)
                }(e).getOrThunk(function() {
                    return function(e) {
                        var n = lv(e)
                          , r = n.events
                          , u = on(n, ["events"])
                          , l = function(e) {
                            var n = St(e, "components").getOr([]);
                            return re(n, es)
                        }(u)
                          , d = ae(ae({}, u), {
                            events: ae(ae({}, g1), r),
                            components: l
                        });
                        return Fr.value(gv(d))
                    }(function(e) {
                        return yr(e, "uid")
                    }(e) ? e : ae({
                        uid: th("")
                    }, e)).getOrDie()
                })
            }, hc = Tm;
            function Zb(e, n, r, u, l) {
                return e(r, u) ? D.some(r) : hn(l) && l(r) ? D.none() : n(r, u, l)
            }
            var Qb = function(e, n, r) {
                for (var u = e.dom, l = hn(r) ? r : st; u.parentNode; ) {
                    var d = Ie_fromDom(u = u.parentNode);
                    if (n(d))
                        return D.some(d);
                    if (l(d))
                        break
                }
                return D.none()
            }
              , ey = function(e, n, r) {
                return Zb(function(l, d) {
                    return d(l)
                }, Qb, e, n, r)
            }
              , Mm = function(e, n, r) {
                return ey(e, n, r).isSome()
            }
              , Sd = function(e, n, r) {
                return Qb(e, function(u) {
                    return vs(u, n)
                }, r)
            }
              , ta = function(e, n) {
                return function(e, n) {
                    var r = void 0 === n ? document : n.dom;
                    return Yi(r) ? D.none() : D.from(r.querySelector(e)).map(Ie_fromDom)
                }(n, e)
            }
              , Ic = function(e, n, r) {
                return Zb(function(l, d) {
                    return vs(l, d)
                }, Sd, e, n, r)
            }
              , ty = function() {
                var e = Pn("aria-owns");
                return {
                    id: e,
                    link: function(u) {
                        wr(u, "aria-owns", e)
                    },
                    unlink: function(u) {
                        _i(u, "aria-owns")
                    }
                }
            }
              , Lc = function(e, n) {
                return Mm(n, function(r) {
                    return Eo(r, e.element)
                }, st) || function(e, n) {
                    return function(e) {
                        return ey(e, function(r) {
                            if (!Sa(r))
                                return !1;
                            var u = Hn(r, "id");
                            return void 0 !== u && u.indexOf("aria-owns") > -1
                        }).bind(function(r) {
                            var u = Hn(r, "id")
                              , l = Bn(r);
                            return ta(l, '[aria-owns="' + u + '"]')
                        })
                    }(n).exists(function(r) {
                        return Lc(e, r)
                    })
                }(e, n)
            }
              , Js = (()=>(function(e) {
                e[e.STOP = 0] = "STOP",
                e[e.NORMAL = 1] = "NORMAL",
                e[e.LOGGING = 2] = "LOGGING"
            }(Js || (Js = {})),
            Js))()
              , x1 = Xn({})
              , mx = ["alloy/data/Fields", "alloy/debugging/Debugging"]
              , _d = function(e, n, r) {
                return function(e, n, r) {
                    switch (St(x1.get(), e).orThunk(function() {
                        var p = An(x1.get());
                        return Sr(p, function(S) {
                            return e.indexOf(S) > -1 ? D.some(x1.get()[S]) : D.none()
                        })
                    }).getOr(Js.NORMAL)) {
                    case Js.NORMAL:
                        return r(Ns());
                    case Js.LOGGING:
                        var l = function(e, n) {
                            var r = []
                              , u = (new Date).getTime();
                            return {
                                logEventCut: function(l, d, p) {
                                    r.push({
                                        outcome: "cut",
                                        target: d,
                                        purpose: p
                                    })
                                },
                                logEventStopped: function(l, d, p) {
                                    r.push({
                                        outcome: "stopped",
                                        target: d,
                                        purpose: p
                                    })
                                },
                                logNoParent: function(l, d, p) {
                                    r.push({
                                        outcome: "no-parent",
                                        target: d,
                                        purpose: p
                                    })
                                },
                                logEventNoHandlers: function(l, d) {
                                    r.push({
                                        outcome: "no-handlers-left",
                                        target: d
                                    })
                                },
                                logEventResponse: function(l, d, p) {
                                    r.push({
                                        outcome: "response",
                                        purpose: p,
                                        target: d
                                    })
                                },
                                write: function() {
                                    var l = (new Date).getTime();
                                    nn(["mousemove", "mouseover", "mouseout", su()], e) || console.log(e, {
                                        event: e,
                                        time: l - u,
                                        target: n.dom,
                                        sequence: re(r, function(d) {
                                            return nn(["cut", "stopped", "response"], d.outcome) ? "{" + d.purpose + "} " + d.outcome + " at (" + _f(d.target) + ")" : d.outcome
                                        })
                                    })
                                }
                            }
                        }(e, n)
                          , d = r(l);
                        return l.write(),
                        d;
                    case Js.STOP:
                        return !0
                    }
                }(e, n, r)
            }
              , Ns = Se({
                logEventCut: Xe,
                logEventStopped: Xe,
                logNoParent: Xe,
                logEventNoHandlers: Xe,
                logEventResponse: Xe,
                write: Xe
            })
              , kd = Se([ot("menu"), ot("selectedMenu")])
              , rh = Se([ot("item"), ot("selectedItem")]);
            Se(Wn(rh().concat(kd())));
            var Ed = Se(Wn(rh()))
              , gx = cc("initSize", [ot("numColumns"), ot("numRows")])
              , Rm = function() {
                return cc("markers", [ot("backgroundMenu")].concat(kd()).concat(rh()))
            }
              , fu = function(e) {
                return cc("markers", re(e, ot))
            }
              , Hc = function(e, n, r) {
                return function() {
                    var e = new Error;
                    if (void 0 !== e.stack) {
                        var n = e.stack.split("\n");
                        $n(n, function(r) {
                            return r.indexOf("alloy") > 0 && !ir(mx, function(u) {
                                return r.indexOf(u) > -1
                            })
                        }).getOr("unknown")
                    }
                }(),
                Jo(n, n, r, Zf(function(u) {
                    return Fr.value(function() {
                        for (var l = [], d = 0; d < arguments.length; d++)
                            l[d] = arguments[d];
                        return u.apply(void 0, l)
                    })
                }))
            }
              , vo = function(e) {
                return Hc(0, e, Aa(Xe))
            }
              , _u = function(e) {
                return Hc(0, e, Aa(D.none))
            }
              , fl = function(e) {
                return Hc(0, e, {
                    tag: "required",
                    process: {}
                })
            }
              , C1 = function(e) {
                return Hc(0, e, {
                    tag: "required",
                    process: {}
                })
            }
              , Ho = function(e, n) {
                return $i(e, Se(n))
            }
              , hx = function(e) {
                return $i(e, _n)
            }
              , vl = Se(gx)
              , na = function(e, n, r, u, l, d, p, S) {
                return void 0 === S && (S = !1),
                {
                    x: e,
                    y: n,
                    bubble: r,
                    direction: u,
                    placement: l,
                    restriction: d,
                    label: p + "-" + l,
                    alwaysFit: S
                }
            }
              , ti = bs_generate([{
                southeast: []
            }, {
                southwest: []
            }, {
                northeast: []
            }, {
                northwest: []
            }, {
                south: []
            }, {
                north: []
            }, {
                east: []
            }, {
                west: []
            }])
              , oh = ti.southeast
              , Pm = ti.southwest
              , ah = ti.northeast
              , S1 = ti.northwest
              , Bm = ti.south
              , ih = ti.north
              , ay = ti.east
              , Ad = ti.west
              , Fl = function(e, n, r, u) {
                var l = e + n;
                return l > u ? r : l < r ? u : l
            }
              , ts = function(e, n, r) {
                return Math.min(Math.max(e, n), r)
            }
              , ci = function(e, n) {
                return la(["left", "right", "top", "bottom"], function(r) {
                    return St(n, r).map(function(u) {
                        return function(e, n) {
                            switch (n) {
                            case 1:
                                return e.x;
                            case 0:
                                return e.x + e.width;
                            case 2:
                                return e.y;
                            case 3:
                                return e.y + e.height
                            }
                        }(e, u)
                    })
                })
            }
              , Il = "layout"
              , T1 = function(e) {
                return e.x
            }
              , Od = function(e, n) {
                return e.x + e.width / 2 - n.width / 2
            }
              , uh = function(e, n) {
                return e.x + e.width - n.width
            }
              , sh = function(e, n) {
                return e.y - n.height
            }
              , ch = function(e) {
                return e.y + e.height
            }
              , uy = function(e, n) {
                return e.y + e.height / 2 - n.height / 2
            }
              , Ni = function(e, n, r) {
                return na(T1(e), ch(e), r.southeast(), oh(), "southeast", ci(e, {
                    left: 1,
                    top: 3
                }), Il)
            }
              , vu = function(e, n, r) {
                return na(uh(e, n), ch(e), r.southwest(), Pm(), "southwest", ci(e, {
                    right: 0,
                    top: 3
                }), Il)
            }
              , ns = function(e, n, r) {
                return na(T1(e), sh(e, n), r.northeast(), ah(), "northeast", ci(e, {
                    left: 1,
                    bottom: 2
                }), Il)
            }
              , ku = function(e, n, r) {
                return na(uh(e, n), sh(e, n), r.northwest(), S1(), "northwest", ci(e, {
                    right: 0,
                    bottom: 2
                }), Il)
            }
              , ws = function(e, n, r) {
                return na(Od(e, n), sh(e, n), r.north(), ih(), "north", ci(e, {
                    bottom: 2
                }), Il)
            }
              , Eu = function(e, n, r) {
                return na(Od(e, n), ch(e), r.south(), Bm(), "south", ci(e, {
                    top: 3
                }), Il)
            }
              , $c = function(e, n, r) {
                return na(function(e) {
                    return e.x + e.width
                }(e), uy(e, n), r.east(), ay(), "east", ci(e, {
                    left: 0
                }), Il)
            }
              , k1 = function(e, n, r) {
                return na(function(e, n) {
                    return e.x - n.width
                }(e, n), uy(e, n), r.west(), Ad(), "west", ci(e, {
                    right: 1
                }), Il)
            }
              , lh = function() {
                return [Ni, vu, ns, ku, Eu, ws, $c, k1]
            }
              , hv = function() {
                return [vu, Ni, ku, ns, Eu, ws, $c, k1]
            }
              , fh = function() {
                return [ns, ku, Ni, vu, ws, Eu]
            }
              , E1 = function() {
                return [ku, ns, vu, Ni, ws, Eu]
            }
              , zs = function() {
                return [Ni, vu, ns, ku, Eu, ws]
            }
              , A1 = function() {
                return [vu, Ni, ku, ns, Eu, ws]
            }
              , jo = Object.freeze({
                __proto__: null,
                events: function(e) {
                    return Lo([gt(Cf(), function(n, r) {
                        var u = e.channels
                          , l = An(u)
                          , d = r
                          , p = function(e, n) {
                            return n.universal ? e : je(e, function(r) {
                                return nn(n.channels, r)
                            })
                        }(l, d);
                        Re(p, function(S) {
                            var T = u[S]
                              , O = T.schema
                              , I = Bi("channel[" + S + "] data\nReceiver: " + _f(n.element), O, d.data);
                            T.onReceive(n, I)
                        })
                    })])
                }
            })
              , Ll = [ui("channels", e1(Fr.value, Pi([fl("onReceive"), Be("schema", Oc())])))]
              , vh = function(e, n, r) {
                return dc(function(u, l) {
                    r(u, e, n)
                })
            }
              , wx = function(e) {
                return {
                    key: e,
                    value: void 0
                }
            }
              , O1 = function(e, n, r, u, l, d, p) {
                var S = function($) {
                    return en($, r) ? $[r]() : D.none()
                }
                  , T = ee(l, function($, q) {
                    return function(e, n, r) {
                        return function(e, n, r) {
                            var u = r.toString()
                              , l = u.indexOf(")") + 1
                              , d = u.indexOf("(")
                              , p = u.substring(d + 1, l - 1).split(/,\s*/);
                            return e.toFunctionAnnotation = function() {
                                return {
                                    name: n,
                                    parameters: h1(p.slice(0, 1).concat(p.slice(3)))
                                }
                            }
                            ,
                            e
                        }(function(l) {
                            for (var d = [], p = 1; p < arguments.length; p++)
                                d[p - 1] = arguments[p];
                            var S = [l].concat(d);
                            return l.config({
                                name: Se(e)
                            }).fold(function() {
                                throw new Error("We could not find any behaviour configuration for: " + e + ". Using API: " + r)
                            }, function(T) {
                                var O = Array.prototype.slice.call(S, 1);
                                return n.apply(void 0, [l, T.config, T.state].concat(O))
                            })
                        }, r, n)
                    }(r, $, q)
                })
                  , O = ee(d, function($, q) {
                    return qg($, q)
                })
                  , I = ae(ae(ae({}, O), T), {
                    revoke: In(wx, r),
                    config: function($) {
                        var q = Bi(r + "-config", e, $);
                        return {
                            key: r,
                            value: {
                                config: q,
                                me: I,
                                configAsRaw: Wr(function() {
                                    return Bi(r + "-config", e, $)
                                }),
                                initialConfig: $,
                                state: p
                            }
                        }
                    },
                    schema: Se(n),
                    exhibit: function($, q) {
                        return va(S($), St(u, "exhibit"), function(Z, te) {
                            return te(q, Z.config, Z.state)
                        }).getOrThunk(function() {
                            return mc({})
                        })
                    },
                    name: Se(r),
                    handlers: function($) {
                        return S($).map(function(q) {
                            return St(u, "events").getOr(function() {
                                return {}
                            })(q.config, q.state)
                        }).getOr({})
                    }
                });
                return I
            }
              , Wt = function(e) {
                return Rc(e)
            }
              , ly = Pi([ot("fields"), ot("name"), Be("active", {}), Be("apis", {}), Be("state", Nc), Be("extra", {})])
              , zi = function(e) {
                var n = Bi("Creating behaviour: " + e.name, ly, e);
                return function(e, n, r, u, l, d) {
                    var p = Pi(e)
                      , S = Ui(n, [Pb("config", e)]);
                    return O1(p, S, n, r, u, l, d)
                }(n.fields, n.name, n.active, n.apis, n.extra, n.state)
            }
              , mh = Pi([ot("branchKey"), ot("branches"), ot("name"), Be("active", {}), Be("apis", {}), Be("state", Nc), Be("extra", {})])
              , D1 = function(e) {
                var n = Bi("Creating behaviour: " + e.name, mh, e);
                return function(e, n, r, u, l, d) {
                    var p = e
                      , S = Ui(n, [bf("config", e)]);
                    return O1(p, S, n, r, u, l, d)
                }(Qu(n.branchKey, n.branches), n.name, n.active, n.apis, n.extra, n.state)
            }
              , pv = Se(void 0)
              , Zs = zi({
                fields: Ll,
                name: "receiving",
                active: jo
            })
              , M1 = Object.freeze({
                __proto__: null,
                exhibit: function(e, n) {
                    return mc({
                        classes: [],
                        styles: n.useFixed() ? {} : {
                            position: "relative"
                        }
                    })
                }
            })
              , Fm = function() {
                return Ie_fromDom(document)
            }
              , xs = function(e) {
                return e.dom.focus()
            }
              , R1 = function(e) {
                var n = Bn(e).dom;
                return e.dom === n.activeElement
            }
              , rs = function(e) {
                return void 0 === e && (e = Fm()),
                D.from(e.dom.activeElement).map(Ie_fromDom)
            }
              , Qs = function(e) {
                return rs(Bn(e)).filter(function(n) {
                    return e.dom.contains(n.dom)
                })
            }
              , P1 = function(e, n) {
                var r = Bn(n)
                  , u = rs(r).bind(function(d) {
                    var p = function(S) {
                        return Eo(d, S)
                    };
                    return p(n) ? D.some(n) : function(e, n) {
                        var r = function(u) {
                            for (var l = 0; l < u.childNodes.length; l++) {
                                var d = Ie_fromDom(u.childNodes[l]);
                                if (n(d))
                                    return D.some(d);
                                var p = r(u.childNodes[l]);
                                if (p.isSome())
                                    return p
                            }
                            return D.none()
                        };
                        return r(e.dom)
                    }(n, p)
                })
                  , l = e(n);
                return u.each(function(d) {
                    rs(r).filter(function(p) {
                        return Eo(p, d)
                    }).fold(function() {
                        xs(d)
                    }, Xe)
                }),
                l
            }
              , ec = function(e, n, r, u, l) {
                var d = function(p) {
                    return p + "px"
                };
                return {
                    position: e,
                    left: n.map(d),
                    top: r.map(d),
                    right: u.map(d),
                    bottom: l.map(d)
                }
            }
              , Dd = function(e, n) {
                Cu(e, function(e) {
                    return ae(ae({}, e), {
                        position: D.some(e.position)
                    })
                }(n))
            }
              , Af = bs_generate([{
                none: []
            }, {
                relative: ["x", "y", "width", "height"]
            }, {
                fixed: ["x", "y", "width", "height"]
            }])
              , gh = function(e, n, r, u, l, d) {
                var p = n.rect
                  , S = p.x - r
                  , T = p.y - u
                  , $ = l - (S + p.width)
                  , q = d - (T + p.height)
                  , Z = D.some(S)
                  , te = D.some(T)
                  , de = D.some($)
                  , Te = D.some(q)
                  , ce = D.none();
                return function(e, n, r, u, l, d, p, S, T) {
                    return e.fold(n, r, u, l, d, p, S, T)
                }(n.direction, function() {
                    return ec(e, Z, te, ce, ce)
                }, function() {
                    return ec(e, ce, te, de, ce)
                }, function() {
                    return ec(e, Z, ce, ce, Te)
                }, function() {
                    return ec(e, ce, ce, de, Te)
                }, function() {
                    return ec(e, Z, te, ce, ce)
                }, function() {
                    return ec(e, Z, ce, ce, Te)
                }, function() {
                    return ec(e, Z, te, ce, ce)
                }, function() {
                    return ec(e, ce, te, de, ce)
                })
            }
              , hh = function(e, n) {
                return e.fold(function() {
                    var r = n.rect;
                    return ec("absolute", D.some(r.x), D.some(r.y), D.none(), D.none())
                }, function(r, u, l, d) {
                    return gh("absolute", n, r, u, l, d)
                }, function(r, u, l, d) {
                    return gh("fixed", n, r, u, l, d)
                })
            }
              , bv = function(e, n) {
                var r = In(tl, n)
                  , u = e.fold(r, r, function() {
                    var p = Yu();
                    return tl(n).translate(-p.left, -p.top)
                })
                  , l = Bu(n)
                  , d = hs(n);
                return Za(u.left, u.top, l, d)
            }
              , Zn = function(e, n) {
                return n.fold(function() {
                    return e.fold(sc, sc, Za)
                }, function(r) {
                    return e.fold(r, r, function() {
                        var u = r()
                          , l = fy(e, u.x, u.y);
                        return Za(l.left, l.top, u.width, u.height)
                    })
                })
            }
              , fy = function(e, n, r) {
                var u = Yo(n, r);
                return e.fold(Se(u), Se(u), function() {
                    var d = Yu();
                    return u.translate(-d.left, -d.top)
                })
            }
              , vy = Af.relative
              , uT = Af.fixed
              , Lm = "data-alloy-placement"
              , gy = function(e) {
                return gs(e, Lm)
            }
              , yh = bs_generate([{
                fit: ["reposition"]
            }, {
                nofit: ["reposition", "visibleW", "visibleH", "isVisible"]
            }])
              , py = function(e) {
                var n = Xn(D.none())
                  , r = function() {
                    return n.get().each(e)
                };
                return {
                    clear: function() {
                        r(),
                        n.set(D.none())
                    },
                    isSet: function() {
                        return n.get().isSome()
                    },
                    get: function() {
                        return n.get()
                    },
                    set: function(S) {
                        r(),
                        n.set(D.some(S))
                    }
                }
            }
              , Tx = function() {
                return py(function(e) {
                    return e.destroy()
                })
            }
              , yv = function() {
                return py(function(e) {
                    return e.unbind()
                })
            }
              , ni = function() {
                var e = py(Xe);
                return ae(ae({}, e), {
                    on: function(r) {
                        return e.get().each(r)
                    }
                })
            }
              , wv = ge
              , li = function(e, n, r) {
                return function(e, n, r, u) {
                    return df(e, n, r, u, !1)
                }(e, n, wv, r)
            }
              , wh = function(e, n, r) {
                return function(e, n, r, u) {
                    return df(e, n, r, u, !0)
                }(e, n, wv, r)
            }
              , N1 = td
              , z1 = ["top", "bottom", "right", "left"]
              , xh = "data-alloy-transition-timer"
              , by = function(e, n, r, u, l, d) {
                var p = function(e, n, r) {
                    return r.exists(function(u) {
                        var l = e.mode;
                        return "all" === l || u[l] !== n[l]
                    })
                }(u, l, d);
                if (p || function(e, n) {
                    return function(e, n) {
                        return xo(n, function(r) {
                            return ea(e, r)
                        })
                    }(e, n.classes)
                }(e, u)) {
                    zn(e, "position", r.position);
                    var S = bv(n, e)
                      , T = hh(n, ae(ae({}, l), {
                        rect: S
                    }))
                      , O = la(z1, function(I) {
                        return T[I]
                    });
                    (function(e, n) {
                        var r = function(u) {
                            return parseFloat(u).toFixed(3)
                        };
                        return Mo(n, function(u, l) {
                            return !function(e, n, r) {
                                return void 0 === r && (r = En),
                                va(e, n, r).getOr(e.isNone() && n.isNone())
                            }(e[l].map(r), u.map(r))
                        }).isSome()
                    }
                    )(r, O) && (Cu(e, O),
                    p && function(e, n) {
                        Fc(e, n.classes),
                        gs(e, xh).each(function(r) {
                            clearTimeout(parseInt(r, 10)),
                            _i(e, xh)
                        }),
                        function(e, n) {
                            var l, r = yv(), u = yv(), d = function(I) {
                                var $, q = null !== ($ = I.raw.pseudoElement) && void 0 !== $ ? $ : "";
                                return Eo(I.target, e) && function(e) {
                                    return !pu(e)
                                }(q) && nn(z1, I.raw.propertyName)
                            }, p = function(I) {
                                if (oo(I) || d(I)) {
                                    r.clear(),
                                    u.clear();
                                    var $ = null == I ? void 0 : I.raw.type;
                                    (oo($) || $ === dd()) && (clearTimeout(l),
                                    _i(e, xh),
                                    lu(e, n.classes))
                                }
                            }, S = function() {
                                r.set(li(e, dd(), p)),
                                u.set(li(e, Uw(), p))
                            };
                            if ("ontransitionstart"in e.dom)
                                var T = li(e, Ww(), function(I) {
                                    d(I) && (T.unbind(),
                                    S())
                                });
                            else
                                S();
                            var O = function(e) {
                                var n = function(d) {
                                    var p = ho(e, d)
                                      , S = wn(p) ? p.split(/\s*,\s*/) : [];
                                    return je(S, pu)
                                }
                                  , r = function(d) {
                                    if (wn(d) && /^[\d.]+/.test(d)) {
                                        var p = parseFloat(d);
                                        return qa(d, "ms") ? p : 1e3 * p
                                    }
                                    return 0
                                }
                                  , u = n("transition-delay")
                                  , l = n("transition-duration");
                                return Bt(l, function(d, p, S) {
                                    var T = r(u[S]) + r(p);
                                    return Math.max(d, T)
                                }, 0)
                            }(e);
                            requestAnimationFrame(function() {
                                l = setTimeout(p, O + 17),
                                wr(e, xh, l)
                            })
                        }(e, n)
                    }(e, u),
                    uc(e))
                } else
                    lu(e, u.classes)
            }
              , kx = function(e, n, r, u) {
                No(n, "max-height"),
                No(n, "max-width");
                var l = function(e) {
                    return {
                        width: Bu(e),
                        height: hs(e)
                    }
                }(n);
                return function(e, n, r, u, l, d) {
                    var p = u.width
                      , S = u.height
                      , T = function(I, $, q, Z, te) {
                        var Te = function(e, n, r, u) {
                            var l = e.bubble
                              , d = l.offset
                              , p = function(e, n, r) {
                                var u = function(T, O) {
                                    return n[T].map(function(I) {
                                        var $ = "top" === T || "bottom" === T
                                          , q = $ ? r.top : r.left
                                          , te = ("left" === T || "top" === T ? Math.max : Math.min)(I, O) + q;
                                        return $ ? ts(te, e.y, e.bottom) : ts(te, e.x, e.right)
                                    }).getOr(O)
                                }
                                  , l = u("left", e.x)
                                  , d = u("top", e.y)
                                  , p = u("right", e.right)
                                  , S = u("bottom", e.bottom);
                                return Za(l, d, p - l, S - d)
                            }(u, e.restriction, d)
                              , T = e.y + d.top
                              , O = Za(e.x + d.left, T, n, r)
                              , I = function(e, n) {
                                var r = n.x
                                  , u = n.y
                                  , l = n.right
                                  , d = n.bottom
                                  , p = e.x
                                  , S = e.y
                                  , T = e.right
                                  , O = e.bottom
                                  , $ = e.height;
                                return {
                                    originInBounds: p >= r && p <= l && S >= u && S <= d,
                                    sizeInBounds: T <= l && T >= r && O <= d && O >= u,
                                    visibleW: Math.min(e.width, p >= r ? l - p : T - r),
                                    visibleH: Math.min($, S >= u ? d - S : O - u)
                                }
                            }(O, p)
                              , Z = I.visibleW
                              , te = I.visibleH
                              , de = I.originInBounds && I.sizeInBounds
                              , Te = de ? O : function(e, n) {
                                var r = n.x
                                  , u = n.y
                                  , l = n.right
                                  , d = n.bottom
                                  , p = e.x
                                  , S = e.y
                                  , T = e.width
                                  , O = e.height
                                  , I = Math.max(r, l - T)
                                  , $ = Math.max(u, d - O)
                                  , q = ts(p, r, I)
                                  , Z = ts(S, u, $)
                                  , te = Math.min(q + T, l) - q
                                  , de = Math.min(Z + O, d) - Z;
                                return Za(q, Z, te, de)
                            }(O, p)
                              , ce = Te.width > 0 && Te.height > 0
                              , ke = function(e, n, r) {
                                var u = Se(n.bottom - r.y)
                                  , l = Se(r.bottom - n.y)
                                  , d = function(e, n, r, u) {
                                    return e.fold(n, n, u, u, n, u, r, r)
                                }(e, l, l, u)
                                  , p = Se(n.right - r.x)
                                  , S = Se(r.right - n.x)
                                  , T = function(e, n, r, u) {
                                    return e.fold(n, u, n, u, r, r, n, u)
                                }(e, S, S, p);
                                return {
                                    maxWidth: T,
                                    maxHeight: d
                                }
                            }(e.direction, Te, u)
                              , _e = {
                                rect: Te,
                                maxHeight: ke.maxHeight,
                                maxWidth: ke.maxWidth,
                                direction: e.direction,
                                placement: e.placement,
                                classes: {
                                    on: l.classesOn,
                                    off: l.classesOff
                                },
                                layout: e.label,
                                testY: T
                            };
                            return de || e.alwaysFit ? yh.fit(_e) : yh.nofit(_e, Z, te, ce)
                        }(I(r, u, l, e, d), p, S, d);
                        return Te.fold(Se(Te), function(ce, ke, Ze, Ye) {
                            return (te === Ye ? Ze > Z || ke > q : !te && Ye) ? Te : yh.nofit($, q, Z, te)
                        })
                    };
                    return Bt(n, function(I, $) {
                        var q = In(T, $);
                        return I.fold(Se(I), q)
                    }, yh.nofit({
                        rect: r,
                        maxHeight: u.height,
                        maxWidth: u.width,
                        direction: oh(),
                        placement: "southeast",
                        classes: {
                            on: [],
                            off: []
                        },
                        layout: "none",
                        testY: r.y
                    }, -1, -1, !1)).fold(_n, _n)
                }(n, u.preference, e, l, r, u.bounds)
            }
              , Cy = function(e, n) {
                !function(e, n) {
                    var u = am.max(e, n, ["margin-top", "border-top-width", "padding-top", "padding-bottom", "border-bottom-width", "margin-bottom"]);
                    zn(e, "max-height", u + "px")
                }(e, Math.floor(n))
            }
              , Sy = Se(function(e, n) {
                Cy(e, n),
                Ea(e, {
                    "overflow-x": "hidden",
                    "overflow-y": "auto"
                })
            })
              , Vc = Se(function(e, n) {
                Cy(e, n)
            })
              , Pd = function(e, n, r) {
                return void 0 === e[n] ? r : e[n]
            }
              , Ex = function(e, n, r, u) {
                var l = kx(e, n, r, u);
                return function(e, n, r) {
                    var u = hh(r.origin, n);
                    r.transition.each(function(l) {
                        by(e, r.origin, u, l, n, r.lastPlacement)
                    }),
                    Dd(e, u)
                }(n, l, u),
                function(e, n) {
                    !function(e, n) {
                        wr(e, Lm, n)
                    }(e, n.placement)
                }(n, l),
                function(e, n) {
                    var r = n.classes;
                    lu(e, r.off),
                    Fc(e, r.on)
                }(n, l),
                function(e, n, r) {
                    (0,
                    r.maxHeightFunction)(e, n.maxHeight)
                }(n, l, u),
                function(e, n, r) {
                    (0,
                    r.maxWidthFunction)(e, n.maxWidth)
                }(n, l, u),
                {
                    layout: l.layout,
                    placement: l.placement
                }
            }
              , vT = ["valignCentre", "alignLeft", "alignRight", "alignCentre", "top", "bottom", "left", "right", "inset"]
              , Um = function(e, n, r, u) {
                void 0 === u && (u = 1);
                var l = e * u
                  , d = n * u
                  , p = function(T) {
                    return St(r, T).getOr([])
                }
                  , S = function(T, O, I) {
                    var $ = ja(vT, I);
                    return {
                        offset: Yo(T, O),
                        classesOn: Un(I, p),
                        classesOff: Un($, p)
                    }
                };
                return {
                    southeast: function() {
                        return S(-e, n, ["top", "alignLeft"])
                    },
                    southwest: function() {
                        return S(e, n, ["top", "alignRight"])
                    },
                    south: function() {
                        return S(-e / 2, n, ["top", "alignCentre"])
                    },
                    northeast: function() {
                        return S(-e, -n, ["bottom", "alignLeft"])
                    },
                    northwest: function() {
                        return S(e, -n, ["bottom", "alignRight"])
                    },
                    north: function() {
                        return S(-e / 2, -n, ["bottom", "alignCentre"])
                    },
                    east: function() {
                        return S(e, -n / 2, ["valignCentre", "left"])
                    },
                    west: function() {
                        return S(-e, -n / 2, ["valignCentre", "right"])
                    },
                    insetNortheast: function() {
                        return S(l, d, ["top", "alignLeft", "inset"])
                    },
                    insetNorthwest: function() {
                        return S(-l, d, ["top", "alignRight", "inset"])
                    },
                    insetNorth: function() {
                        return S(-l / 2, d, ["top", "alignCentre", "inset"])
                    },
                    insetSoutheast: function() {
                        return S(l, -d, ["bottom", "alignLeft", "inset"])
                    },
                    insetSouthwest: function() {
                        return S(-l, -d, ["bottom", "alignRight", "inset"])
                    },
                    insetSouth: function() {
                        return S(-l / 2, -d, ["bottom", "alignCentre", "inset"])
                    },
                    insetEast: function() {
                        return S(-l, -d / 2, ["valignCentre", "right", "inset"])
                    },
                    insetWest: function() {
                        return S(l, -d / 2, ["valignCentre", "left", "inset"])
                    }
                }
            }
              , F1 = function() {
                return Um(0, 0, {})
            }
              , Wm = _n
              , I1 = function(e, n) {
                return function(r) {
                    return "rtl" === L1(r) ? n : e
                }
            }
              , L1 = function(e) {
                return "rtl" === ho(e, "direction") ? "rtl" : "ltr"
            }
              , dl = (()=>(function(e) {
                e.TopToBottom = "toptobottom",
                e.BottomToTop = "bottomtotop"
            }(dl || (dl = {})),
            dl))()
              , Bd = "data-alloy-vertical-dir"
              , Ax = function(e) {
                return Mm(e, function(n) {
                    return Sa(n) && Hn(n, "data-alloy-vertical-dir") === dl.BottomToTop
                })
            }
              , bc = function() {
                return Ui("layouts", [ot("onLtr"), ot("onRtl"), To("onBottomLtr"), To("onBottomRtl")])
            }
              , xv = function(e, n, r, u, l, d, p) {
                var S = p.map(Ax).getOr(!1)
                  , T = n.layouts.map(function(Z) {
                    return Z.onLtr(e)
                })
                  , O = n.layouts.map(function(Z) {
                    return Z.onRtl(e)
                })
                  , I = S ? n.layouts.bind(function(Z) {
                    return Z.onBottomLtr.map(function(te) {
                        return te(e)
                    })
                }).or(T).getOr(l) : T.getOr(r)
                  , $ = S ? n.layouts.bind(function(Z) {
                    return Z.onBottomRtl.map(function(te) {
                        return te(e)
                    })
                }).or(O).getOr(d) : O.getOr(u);
                return I1(I, $)(e)
            }
              , ba = [ot("hotspot"), To("bubble"), Be("overrides", {}), bc(), Ho("placement", function(e, n, r) {
                var l = bv(r, n.hotspot.element)
                  , d = xv(e.element, n, zs(), A1(), fh(), E1(), D.some(n.hotspot.element));
                return D.some(Wm({
                    anchorBox: l,
                    bubble: n.bubble.getOr(F1()),
                    overrides: n.overrides,
                    layouts: d,
                    placer: D.none()
                }))
            })]
              , Th = [ot("x"), ot("y"), Be("height", 0), Be("width", 0), Be("bubble", F1()), Be("overrides", {}), bc(), Ho("placement", function(e, n, r) {
                var u = fy(r, n.x, n.y)
                  , l = Za(u.left, u.top, n.width, n.height)
                  , d = xv(e.element, n, lh(), hv(), lh(), hv(), D.none());
                return D.some(Wm({
                    anchorBox: l,
                    bubble: n.bubble,
                    overrides: n.overrides,
                    layouts: d,
                    placer: D.none()
                }))
            })]
              , _y = bs_generate([{
                screen: ["point"]
            }, {
                absolute: ["point", "scrollLeft", "scrollTop"]
            }])
              , dT = function(e) {
                return e.fold(_n, function(n, r, u) {
                    return n.translate(-r, -u)
                })
            }
              , Hl = function(e) {
                return e.fold(_n, _n)
            }
              , $l = function(e) {
                return Bt(e, function(n, r) {
                    return n.translate(r.left, r.top)
                }, Yo(0, 0))
            }
              , Vl = function(e) {
                var n = re(e, Hl);
                return $l(n)
            }
              , Fs = _y.screen
              , H1 = _y.absolute
              , ky = function(e, n, r) {
                var u = Ti(e.element)
                  , l = Yu(u)
                  , d = function(e, n, r) {
                    var u = Es(r.root).dom;
                    return D.from(u.frameElement).map(Ie_fromDom).filter(function(d) {
                        var p = Ti(d)
                          , S = Ti(e.element);
                        return Eo(p, S)
                    }).map(Su)
                }(e, 0, r).getOr(l);
                return H1(d, l.left, l.top)
            }
              , Ox = function(e, n, r, u) {
                var l = Fs(Yo(e, n));
                return D.some(function(e, n, r) {
                    return {
                        point: e,
                        width: n,
                        height: r
                    }
                }(l, r, u))
            }
              , V1 = function(e, n, r, u, l) {
                return e.map(function(d) {
                    var p = [n, d.point]
                      , S = function(e, n, r, u) {
                        return e.fold(function() {
                            return Vl(p)
                        }, function() {
                            return Vl(p)
                        }, function() {
                            return function(e) {
                                var n = re(e, dT);
                                return $l(n)
                            }(p)
                        })
                    }(u)
                      , T = function(e, n, r, u) {
                        return {
                            x: e,
                            y: n,
                            width: r,
                            height: u
                        }
                    }(S.left, S.top, d.width, d.height)
                      , O = r.showAbove ? fh() : zs()
                      , I = r.showAbove ? E1() : A1()
                      , $ = xv(l, r, O, I, O, I, D.none());
                    return Wm({
                        anchorBox: T,
                        bubble: r.bubble.getOr(F1()),
                        overrides: r.overrides,
                        layouts: $,
                        placer: D.none()
                    })
                })
            }
              , Nd = [ot("node"), ot("root"), To("bubble"), bc(), Be("overrides", {}), Be("showAbove", !1), Ho("placement", function(e, n, r) {
                var u = ky(e, 0, n);
                return n.node.filter(no).bind(function(l) {
                    var d = l.dom.getBoundingClientRect()
                      , p = Ox(d.left, d.top, d.width, d.height)
                      , S = n.node.getOr(e.element);
                    return V1(p, u, n, r, S)
                })
            })]
              , Ey_create = function(e, n, r, u) {
                return {
                    start: e,
                    soffset: n,
                    finish: r,
                    foffset: u
                }
            }
              , qm_getStart = (bs_generate([{
                before: ["element"]
            }, {
                on: ["element", "offset"]
            }, {
                after: ["element"]
            }]),
            function(e) {
                return e.fold(_n, _n, _n)
            }
            )
              , Eh = bs_generate([{
                domRange: ["rng"]
            }, {
                relative: ["startSitu", "finishSitu"]
            }, {
                exact: ["start", "soffset", "finish", "foffset"]
            }])
              , Oy = Eh.domRange
              , Df = Eh.relative
              , U1 = Eh.exact
              , Px = Ey_create
              , Fd = {
                domRange: Oy,
                relative: Df,
                exact: U1,
                exactFromRange: function(e) {
                    return Eh.exact(e.start, e.soffset, e.finish, e.foffset)
                },
                getWin: function(e) {
                    var n = function(e) {
                        return e.match({
                            domRange: function(n) {
                                return Ie_fromDom(n.startContainer)
                            },
                            relative: function(n, r) {
                                return qm_getStart(n)
                            },
                            exact: function(n, r, u, l) {
                                return n
                            }
                        })
                    }(e);
                    return Es(n)
                },
                range: Px
            }
              , W1 = function(e, n, r) {
                var u = e.document.createRange();
                return function(e, n) {
                    n.fold(function(r) {
                        e.setStartBefore(r.dom)
                    }, function(r, u) {
                        e.setStart(r.dom, u)
                    }, function(r) {
                        e.setStartAfter(r.dom)
                    })
                }(u, n),
                function(e, n) {
                    n.fold(function(r) {
                        e.setEndBefore(r.dom)
                    }, function(r, u) {
                        e.setEnd(r.dom, u)
                    }, function(r) {
                        e.setEndAfter(r.dom)
                    })
                }(u, r),
                u
            }
              , j1 = function(e, n, r, u, l) {
                var d = e.document.createRange();
                return d.setStart(n.dom, r),
                d.setEnd(u.dom, l),
                d
            }
              , My = function(e) {
                return {
                    left: e.left,
                    top: e.top,
                    right: e.right,
                    bottom: e.bottom,
                    width: e.width,
                    height: e.height
                }
            }
              , Km = bs_generate([{
                ltr: ["start", "soffset", "finish", "foffset"]
            }, {
                rtl: ["start", "soffset", "finish", "foffset"]
            }])
              , G1 = function(e, n, r) {
                return n(Ie_fromDom(r.startContainer), r.startOffset, Ie_fromDom(r.endContainer), r.endOffset)
            }
              , K1 = function(e, n) {
                return function(e, n) {
                    var r = function(e, n) {
                        return n.match({
                            domRange: function(r) {
                                return {
                                    ltr: Se(r),
                                    rtl: D.none
                                }
                            },
                            relative: function(r, u) {
                                return {
                                    ltr: Wr(function() {
                                        return W1(e, r, u)
                                    }),
                                    rtl: Wr(function() {
                                        return D.some(W1(e, u, r))
                                    })
                                }
                            },
                            exact: function(r, u, l, d) {
                                return {
                                    ltr: Wr(function() {
                                        return j1(e, r, u, l, d)
                                    }),
                                    rtl: Wr(function() {
                                        return D.some(j1(e, l, d, r, u))
                                    })
                                }
                            }
                        })
                    }(e, n);
                    return function(e, n) {
                        var r = n.ltr();
                        return r.collapsed ? n.rtl().filter(function(l) {
                            return !1 === l.collapsed
                        }).map(function(l) {
                            return Km.rtl(Ie_fromDom(l.endContainer), l.endOffset, Ie_fromDom(l.startContainer), l.startOffset)
                        }).getOrThunk(function() {
                            return G1(0, Km.ltr, r)
                        }) : G1(0, Km.ltr, r)
                    }(0, r)
                }(e, n).match({
                    ltr: function(u, l, d, p) {
                        var S = e.document.createRange();
                        return S.setStart(u.dom, l),
                        S.setEnd(d.dom, p),
                        S
                    },
                    rtl: function(u, l, d, p) {
                        var S = e.document.createRange();
                        return S.setStart(d.dom, p),
                        S.setEnd(u.dom, l),
                        S
                    }
                })
            }
              , By = function(e, n) {
                var u = function(d) {
                    return e(d) ? D.from(d.dom.nodeValue) : D.none()
                };
                return {
                    get: function(d) {
                        if (!e(d))
                            throw new Error("Can only get text value of a text node");
                        return u(d).getOr("")
                    },
                    getOption: u,
                    set: function(d, p) {
                        if (!e(d))
                            throw new Error("Can only set raw text value of a text node");
                        d.dom.nodeValue = p
                    }
                }
            }(ri)
              , X1 = function(e) {
                return By.getOption(e)
            }
              , Sv = ["img", "br"]
              , Fx = function(e) {
                var n = function(e) {
                    return X1(e).filter(function(n) {
                        return 0 !== n.trim().length || n.indexOf("\xa0") > -1
                    }).isSome()
                }(e);
                return n || nn(Sv, so(e))
            }
              , as = function(e, n) {
                return function(e, n) {
                    var r = void 0 === n ? document : n.dom;
                    return Yi(r) ? [] : re(r.querySelectorAll(e), Ie_fromDom)
                }(n, e)
            }
              , Hx = function(e) {
                if (e.rangeCount > 0) {
                    var n = e.getRangeAt(0)
                      , r = e.getRangeAt(e.rangeCount - 1);
                    return D.some(Ey_create(Ie_fromDom(n.startContainer), n.startOffset, Ie_fromDom(r.endContainer), r.endOffset))
                }
                return D.none()
            }
              , Qi = function(e) {
                if (null === e.anchorNode || null === e.focusNode)
                    return Hx(e);
                var n = Ie_fromDom(e.anchorNode)
                  , r = Ie_fromDom(e.focusNode);
                return function(e, n, r, u) {
                    var l = function(e, n, r, u) {
                        var d = Ti(e).dom.createRange();
                        return d.setStart(e.dom, n),
                        d.setEnd(r.dom, u),
                        d
                    }(e, n, r, u)
                      , d = Eo(e, r) && n === u;
                    return l.collapsed && !d
                }(n, e.anchorOffset, r, e.focusOffset) ? D.some(Ey_create(n, e.anchorOffset, r, e.focusOffset)) : Hx(e)
            }
              , Z1 = function(e, n) {
                return function(e) {
                    var n = e.getClientRects()
                      , r = n.length > 0 ? n[0] : e.getBoundingClientRect();
                    return r.width > 0 || r.height > 0 ? D.some(r).map(My) : D.none()
                }(K1(e, n))
            }
              , Dh = function(e, n) {
                return {
                    element: e,
                    offset: n
                }
            }
              , Xm = function(e, n) {
                return ri(e) ? Dh(e, n) : function(e, n) {
                    var r = G(e);
                    if (0 === r.length)
                        return Dh(e, n);
                    if (n < r.length)
                        return Dh(r[n], 0);
                    var u = r[r.length - 1]
                      , l = ri(u) ? function(e) {
                        return By.get(e)
                    }(u).length : G(u).length;
                    return Dh(u, l)
                }(e, n)
            }
              , Iy = function(e, n) {
                return n.getSelection.getOrThunk(function() {
                    return function() {
                        return function(e) {
                            return function(e) {
                                return D.from(e.getSelection())
                            }(e).filter(function(n) {
                                return n.rangeCount > 0
                            }).bind(Qi)
                        }(e)
                    }
                })().map(function(u) {
                    var l = Xm(u.start, u.soffset)
                      , d = Xm(u.finish, u.foffset);
                    return Fd.range(l.element, l.offset, d.element, d.offset)
                })
            }
              , Ly = [To("getSelection"), ot("root"), To("bubble"), bc(), Be("overrides", {}), Be("showAbove", !1), Ho("placement", function(e, n, r) {
                var u = Es(n.root).dom
                  , l = ky(e, 0, n)
                  , d = Iy(u, n).bind(function(T) {
                    return function(e, n) {
                        return function(e) {
                            var n = e.getBoundingClientRect();
                            return n.width > 0 || n.height > 0 ? D.some(n).map(My) : D.none()
                        }(K1(e, n))
                    }(u, Fd.exactFromRange(T)).orThunk(function() {
                        var I = Ie_fromText("\ufeff");
                        im(T.start, I);
                        var $ = Z1(u, Fd.exact(I, 0, I, 1));
                        return Nu(I),
                        $
                    }).bind(function(I) {
                        return Ox(I.left, I.top, I.width, I.height)
                    })
                })
                  , p = Iy(u, n).bind(function(T) {
                    return Sa(T.start) ? D.some(T.start) : function(e) {
                        return L(e)
                    }(T.start)
                })
                  , S = p.getOr(e.element);
                return V1(d, l, n, r, S)
            })]
              , Ym = "link-layout"
              , Hy = function(e) {
                return e.x + e.width
            }
              , Jm = function(e, n) {
                return e.x - n.width
            }
              , t0 = function(e, n) {
                return e.y - n.height + e.height
            }
              , $y = function(e) {
                return e.y
            }
              , Iu = function(e, n, r) {
                return na(Hy(e), $y(e), r.southeast(), oh(), "southeast", ci(e, {
                    left: 0,
                    top: 2
                }), Ym)
            }
              , Mh = function(e, n, r) {
                return na(Jm(e, n), $y(e), r.southwest(), Pm(), "southwest", ci(e, {
                    right: 1,
                    top: 2
                }), Ym)
            }
              , Vx = function(e, n, r) {
                return na(Hy(e), t0(e, n), r.northeast(), ah(), "northeast", ci(e, {
                    left: 0,
                    bottom: 3
                }), Ym)
            }
              , Vy = function(e, n, r) {
                return na(Jm(e, n), t0(e, n), r.northwest(), S1(), "northwest", ci(e, {
                    right: 1,
                    bottom: 3
                }), Ym)
            }
              , Uy = function() {
                return [Iu, Mh, Vx, Vy]
            }
              , Ux = function() {
                return [Mh, Iu, Vy, Vx]
            }
              , Wy = [ot("item"), bc(), Be("overrides", {}), Ho("placement", function(e, n, r) {
                var u = bv(r, n.item.element)
                  , l = xv(e.element, n, Uy(), Ux(), Uy(), Ux(), D.none());
                return D.some(Wm({
                    anchorBox: u,
                    bubble: F1(),
                    overrides: n.overrides,
                    layouts: l,
                    placer: D.none()
                }))
            })]
              , yT = Qu("type", {
                selection: Ly,
                node: Nd,
                hotspot: ba,
                submenu: Wy,
                makeshift: Th
            })
              , wT = [Vi("classes", Uo), al("mode", "all", ["all", "layout", "placement"])]
              , Rh = [Be("useFixed", st), To("getBounds")]
              , Wx = [ui("anchor", yT), Ui("transition", wT)]
              , jy = function(e, n, r, u, l, d, p) {
                var S = function(e, n) {
                    return function(e, n) {
                        return {
                            anchorBox: e,
                            origin: n
                        }
                    }(e, n)
                }(r.anchorBox, n);
                return function(e, n, r, u, l, d, p, S) {
                    var T = Pd(p, "maxHeightFunction", Sy())
                      , O = Pd(p, "maxWidthFunction", Xe)
                      , I = e.anchorBox
                      , $ = e.origin
                      , q = {
                        bounds: Zn($, d),
                        origin: $,
                        preference: u,
                        maxHeightFunction: T,
                        maxWidthFunction: O,
                        lastPlacement: l,
                        transition: S
                    };
                    return Ex(I, n, r, q)
                }(S, l.element, r.bubble, r.layouts, d, u, r.overrides, p)
            }
              , jx = function(e, n, r, u, l, d) {
                var p = d.map(Ji);
                return qy(e, n, r, u, l, p)
            }
              , qy = function(e, n, r, u, l, d) {
                var p = Bi("placement.info", Wn(Wx), l)
                  , S = p.anchor
                  , T = u.element
                  , O = r.get(u.uid);
                P1(function() {
                    zn(T, "position", "fixed");
                    var I = Bo(T, "visibility");
                    zn(T, "visibility", "hidden");
                    var $ = n.useFixed() ? function() {
                        var e = document.documentElement;
                        return uT(0, 0, e.clientWidth, e.clientHeight)
                    }() : function(e) {
                        var n = Su(e.element)
                          , r = e.element.dom.getBoundingClientRect();
                        return vy(n.left, n.top, r.width, r.height)
                    }(e)
                      , q = S.placement
                      , Z = d.map(Se).or(n.getBounds);
                    q(e, S, $).each(function(te) {
                        var Te = te.placer.getOr(jy)(e, $, te, Z, u, O, p.transition);
                        r.set(u.uid, Te)
                    }),
                    I.fold(function() {
                        No(T, "visibility")
                    }, function(te) {
                        zn(T, "visibility", te)
                    }),
                    Bo(T, "left").isNone() && Bo(T, "top").isNone() && Bo(T, "right").isNone() && Bo(T, "bottom").isNone() && qo(Bo(T, "position"), "fixed") && No(T, "position")
                }, T)
            }
              , Xy = Object.freeze({
                __proto__: null,
                position: function(e, n, r, u, l) {
                    jx(e, n, r, u, l, D.none())
                },
                positionWithin: jx,
                positionWithinBounds: qy,
                getMode: function(e, n, r) {
                    return n.useFixed() ? "fixed" : "absolute"
                },
                reset: function(e, n, r, u) {
                    var l = u.element;
                    Re(["position", "left", "right", "top", "bottom"], function(d) {
                        return No(l, d)
                    }),
                    function(e) {
                        _i(e, Lm)
                    }(l),
                    r.clear(u.uid)
                }
            })
              , Gx = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = {};
                    return Bs({
                        readState: function() {
                            return e
                        },
                        clear: function(l) {
                            xe(l) ? delete e[l] : e = {}
                        },
                        set: function(l, d) {
                            e[l] = d
                        },
                        get: function(l) {
                            return St(e, l)
                        }
                    })
                }
            })
              , Au = zi({
                fields: Rh,
                name: "positioning",
                active: M1,
                apis: Xy,
                state: Gx
            })
              , Bh = function(e) {
                po(e, Bl());
                var n = e.components();
                Re(n, Bh)
            }
              , Nh = function(e) {
                var n = e.components();
                Re(n, Nh),
                po(e, cu())
            }
              , r0 = function(e, n) {
                Ri(e.element, n.element)
            }
              , Zm = function(e, n) {
                var r = e.components();
                !function(e) {
                    Re(e.components(), function(n) {
                        return Nu(n.element)
                    }),
                    mf(e.element),
                    e.syncComponents()
                }(e);
                var u = ja(r, n);
                Re(u, function(l) {
                    Bh(l),
                    e.getSystem().removeFromWorld(l)
                }),
                Re(n, function(l) {
                    l.getSystem().isConnected() ? r0(e, l) : (e.getSystem().addToWorld(l),
                    r0(e, l),
                    no(e.element) && Nh(l)),
                    e.syncComponents()
                })
            }
              , Mf = function(e, n) {
                o0(e, n, Ri)
            }
              , o0 = function(e, n, r) {
                e.getSystem().addToWorld(n),
                r(e.element, n.element),
                no(e.element) && Nh(n),
                e.syncComponents()
            }
              , Jy = function(e) {
                Bh(e),
                Nu(e.element),
                e.getSystem().removeFromWorld(e)
            }
              , Tv = function(e) {
                var n = L(e.element).bind(function(r) {
                    return e.getSystem().getByDom(r).toOptional()
                });
                Jy(e),
                n.each(function(r) {
                    r.syncComponents()
                })
            }
              , qx = function(e) {
                var n = e.components();
                Re(n, Jy),
                mf(e.element),
                e.syncComponents()
            }
              , Fh = function(e, n) {
                Id(e, n, Ri)
            }
              , Id = function(e, n, r) {
                r(e, n.element);
                var u = G(n.element);
                Re(u, function(l) {
                    n.getByDom(l).each(Nh)
                })
            }
              , i0 = function(e) {
                var n = G(e.element);
                Re(n, function(r) {
                    e.getByDom(r).each(Bh)
                }),
                Nu(e.element)
            }
              , Kx = function(e, n, r, u) {
                r.get().each(function(p) {
                    qx(e)
                });
                var l = n.getAttachPoint(e);
                Mf(l, e);
                var d = e.getSystem().build(u);
                return Mf(e, d),
                r.set(d),
                d
            }
              , Xx = function(e, n, r, u) {
                var l = Kx(e, n, r, u);
                return n.onOpen(e, l),
                l
            }
              , Zy = function(e, n, r) {
                r.get().each(function(u) {
                    qx(e),
                    Tv(e),
                    n.onClose(e, u),
                    r.clear()
                })
            }
              , Qy = function(e, n, r) {
                return r.isOpen()
            }
              , Jx = function(e, n, r) {
                var u = n.getAttachPoint(e);
                zn(e.element, "position", Au.getMode(u)),
                function(e, n, r, u) {
                    Bo(e.element, n).fold(function() {
                        _i(e.element, r)
                    }, function(l) {
                        wr(e.element, r, l)
                    }),
                    zn(e.element, n, "hidden")
                }(e, "visibility", n.cloakVisibilityAttr)
            }
              , Zx = function(e, n, r) {
                (function(e) {
                    return ir(["top", "left", "right", "bottom"], function(n) {
                        return Bo(e, n).isSome()
                    })
                }
                )(e.element) || No(e.element, "position"),
                function(e, n, r) {
                    gs(e.element, r).fold(function() {
                        return No(e.element, n)
                    }, function(u) {
                        return zn(e.element, n, u)
                    })
                }(e, "visibility", n.cloakVisibilityAttr)
            }
              , TT = Object.freeze({
                __proto__: null,
                cloak: Jx,
                decloak: Zx,
                open: Xx,
                openWhileCloaked: function(e, n, r, u, l) {
                    Jx(e, n),
                    Xx(e, n, r, u),
                    l(),
                    Zx(e, n)
                },
                close: Zy,
                isOpen: Qy,
                isPartOf: function(e, n, r, u) {
                    return Qy(0, 0, r) && r.get().exists(function(l) {
                        return n.isPartOf(e, l, u)
                    })
                },
                getState: function(e, n, r) {
                    return r.get()
                },
                setContent: function(e, n, r, u) {
                    return r.get().map(function() {
                        return Kx(e, n, r, u)
                    })
                }
            })
              , Qx = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    return Lo([gt(lc(), function(r, u) {
                        Zy(r, e, n)
                    })])
                }
            })
              , t2 = [vo("onOpen"), vo("onClose"), ot("isPartOf"), ot("getAttachPoint"), Be("cloakVisibilityAttr", "data-precloak-visibility")]
              , u0 = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = ni()
                      , n = Se("not-implemented");
                    return Bs({
                        readState: n,
                        isOpen: e.isSet,
                        clear: e.clear,
                        set: e.set,
                        get: e.get
                    })
                }
            })
              , Gr = zi({
                fields: t2,
                name: "sandboxing",
                active: Qx,
                apis: TT,
                state: u0
            })
              , Rf = Se("dismiss.popups")
              , Pf = Se("reposition.popups")
              , Uc = Se("mouse.released")
              , tg = Pi([Be("isExtraPart", st), Ui("fireEventInstead", [Be("event", fc())])])
              , s0 = function(e) {
                var n, r = Bi("Dismissal", tg, e);
                return (n = {})[Rf()] = {
                    schema: Pi([ot("target")]),
                    onReceive: function(u, l) {
                        Gr.isOpen(u) && (Gr.isPartOf(u, l.target) || r.isExtraPart(u, l.target) || r.fireEventInstead.fold(function() {
                            return Gr.close(u)
                        }, function(p) {
                            return po(u, p.event)
                        }))
                    }
                },
                n
            }
              , c0 = Pi([Ui("fireEventInstead", [Be("event", Hb())]), yi("doReposition")])
              , l0 = function(e) {
                var n, r = Bi("Reposition", c0, e);
                return (n = {})[Pf()] = {
                    onReceive: function(u) {
                        Gr.isOpen(u) && r.fireEventInstead.fold(function() {
                            return r.doReposition(u)
                        }, function(l) {
                            return po(u, l.event)
                        })
                    }
                },
                n
            }
              , f0 = function(e, n, r) {
                n.store.manager.onLoad(e, n, r)
            }
              , v0 = function(e, n, r) {
                n.store.manager.onUnload(e, n, r)
            }
              , nC = Object.freeze({
                __proto__: null,
                onLoad: f0,
                onUnload: v0,
                setValue: function(e, n, r, u) {
                    n.store.manager.setValue(e, n, r, u)
                },
                getValue: function(e, n, r) {
                    return n.store.manager.getValue(e, n, r)
                },
                getState: function(e, n, r) {
                    return r
                }
            })
              , oC = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    var r = e.resetOnDom ? [pa(function(u, l) {
                        f0(u, e, n)
                    }), sl(function(u, l) {
                        v0(u, e, n)
                    })] : [vh(e, n, f0)];
                    return Lo(r)
                }
            })
              , o2 = function() {
                var e = Xn(null);
                return Bs({
                    set: e.set,
                    get: e.get,
                    isNotSet: function() {
                        return null === e.get()
                    },
                    clear: function() {
                        e.set(null)
                    },
                    readState: function() {
                        return {
                            mode: "memory",
                            value: e.get()
                        }
                    }
                })
            }
              , Lh = function() {
                var e = Xn({})
                  , n = Xn({});
                return Bs({
                    readState: function() {
                        return {
                            mode: "dataset",
                            dataByValue: e.get(),
                            dataByText: n.get()
                        }
                    },
                    lookup: function(p) {
                        return St(e.get(), p).orThunk(function() {
                            return St(n.get(), p)
                        })
                    },
                    update: function(p) {
                        var S = e.get()
                          , T = n.get()
                          , O = {}
                          , I = {};
                        Re(p, function($) {
                            O[$.value] = $,
                            St($, "meta").each(function(q) {
                                St(q, "text").each(function(Z) {
                                    I[Z] = $
                                })
                            })
                        }),
                        e.set(ae(ae({}, S), O)),
                        n.set(ae(ae({}, T), I))
                    },
                    clear: function() {
                        e.set({}),
                        n.set({})
                    }
                })
            }
              , Hh = Object.freeze({
                __proto__: null,
                memory: o2,
                dataset: Lh,
                manual: function() {
                    return Bs({
                        readState: Xe
                    })
                },
                init: function(e) {
                    return e.store.manager.state(e)
                }
            })
              , d0 = function(e, n, r, u) {
                var l = n.store;
                r.update([u]),
                l.setValue(e, u),
                n.onSetValue(e, u)
            }
              , sC = [To("initialValue"), ot("getFallbackEntry"), ot("getDataKey"), ot("setValue"), Ho("manager", {
                setValue: d0,
                getValue: function(e, n, r) {
                    var u = n.store
                      , l = u.getDataKey(e);
                    return r.lookup(l).getOrThunk(function() {
                        return u.getFallbackEntry(l)
                    })
                },
                onLoad: function(e, n, r) {
                    n.store.initialValue.each(function(l) {
                        d0(e, n, r, l)
                    })
                },
                onUnload: function(e, n, r) {
                    r.clear()
                },
                state: Lh
            })]
              , m0 = [ot("getValue"), Be("setValue", Xe), To("initialValue"), Ho("manager", {
                setValue: function(e, n, r, u) {
                    n.store.setValue(e, u),
                    n.onSetValue(e, u)
                },
                getValue: function(e, n, r) {
                    return n.store.getValue(e)
                },
                onLoad: function(e, n, r) {
                    n.store.initialValue.each(function(u) {
                        n.store.setValue(e, u)
                    })
                },
                onUnload: Xe,
                state: Nc.init
            })]
              , vC = [To("initialValue"), Ho("manager", {
                setValue: function(e, n, r, u) {
                    r.set(u),
                    n.onSetValue(e, u)
                },
                getValue: function(e, n, r) {
                    return r.get()
                },
                onLoad: function(e, n, r) {
                    n.store.initialValue.each(function(u) {
                        r.isNotSet() && r.set(u)
                    })
                },
                onUnload: function(e, n, r) {
                    r.clear()
                },
                state: o2
            })]
              , p0 = [ps("store", {
                mode: "memory"
            }, Qu("mode", {
                memory: vC,
                manual: m0,
                dataset: sC
            })), vo("onSetValue"), Be("resetOnDom", !1)]
              , tn = zi({
                fields: p0,
                name: "representing",
                active: oC,
                apis: nC,
                extra: {
                    setValueFrom: function(e, n) {
                        var r = tn.getValue(n);
                        tn.setValue(e, r)
                    }
                },
                state: Hh
            })
              , Wi = function(e, n) {
                return t1(e, {}, re(n, function(r) {
                    return function(e, n) {
                        return Jo(e, e, {
                            tag: "option",
                            process: {}
                        }, Yf(function(r) {
                            return U_serror("The field: " + e + " is forbidden. " + n)
                        }))
                    }(r.name(), "Cannot configure " + r.name() + " for " + e)
                }).concat([$i("dump", _n)]))
            }
              , $h = function(e) {
                return e.dump
            }
              , eu = function(e, n) {
                return ae(ae({}, Wt(n)), e.dump)
            }
              , Wc_field = Wi
              , Wc_augment = eu
              , Vh = "placeholder"
              , Ld = bs_generate([{
                single: ["required", "valueThunk"]
            }, {
                multiple: ["required", "valueThunks"]
            }])
              , Uh = function(e) {
                return yr(e, "uiType")
            }
              , og = function(e, n, r, u) {
                return function(e, n, r, u) {
                    return Uh(r) && r.uiType === Vh ? function(e, n, r, u) {
                        return e.exists(function(l) {
                            return l !== r.owner
                        }) ? Ld.single(!0, Se(r)) : St(u, r.name).fold(function() {
                            throw new Error("Unknown placeholder component: " + r.name + "\nKnown: [" + An(u) + "]\nNamespace: " + e.getOr("none") + "\nSpec: " + JSON.stringify(r, null, 2))
                        }, function(l) {
                            return l.replace()
                        })
                    }(e, 0, r, u) : Ld.single(!1, Se(r))
                }(e, 0, r, u).fold(function(d, p) {
                    var S = Uh(r) ? p(n, r.config, r.validated) : p(n)
                      , T = St(S, "components").getOr([])
                      , O = Un(T, function(I) {
                        return og(e, n, I, u)
                    });
                    return [ae(ae({}, S), {
                        components: O
                    })]
                }, function(d, p) {
                    if (Uh(r)) {
                        var S = p(n, r.config, r.validated);
                        return r.validated.preprocess.getOr(_n)(S)
                    }
                    return p(n)
                })
            }
              , Ev = Ld.single
              , Wh = Ld.multiple
              , u2 = Se(Vh)
              , Hd = bs_generate([{
                required: ["data"]
            }, {
                external: ["data"]
            }, {
                optional: ["data"]
            }, {
                group: ["data"]
            }])
              , jc = Be("factory", {
                sketch: _n
            })
              , jh = Be("schema", [])
              , Ul = ot("name")
              , Da = Jo("pname", "pname", $a(function(e) {
                return "<alloy." + Pn(e.name) + ">"
            }), Oc())
              , $d = $i("schema", function() {
                return [To("preprocess")]
            })
              , Bf = Be("defaults", Se({}))
              , Av = Be("overrides", Se({}))
              , Gh = Wn([jc, jh, Ul, Da, Bf, Av])
              , w0 = Wn([jc, jh, Ul, Bf, Av])
              , x0 = Wn([jc, jh, Ul, Da, Bf, Av])
              , qh = Wn([jc, $d, Ul, ot("unit"), Da, Bf, Av])
              , mC = function(e) {
                return e.fold(D.some, D.none, D.some, D.some)
            }
              , Kh = function(e) {
                var n = function(r) {
                    return r.name
                };
                return e.fold(n, n, n, n)
            }
              , ag = function(e, n) {
                return function(r) {
                    var u = Bi("Converting part type", n, r);
                    return e(u)
                }
            }
              , Va = ag(Hd.required, Gh)
              , is = ag(Hd.external, w0)
              , tc = ag(Hd.optional, x0)
              , ig = ag(Hd.group, qh)
              , C0 = Se("entirety")
              , S0 = Object.freeze({
                __proto__: null,
                required: Va,
                external: is,
                optional: tc,
                group: ig,
                asNamedPart: mC,
                name: Kh,
                asCommon: function(e) {
                    return e.fold(_n, _n, _n, _n)
                },
                original: C0
            })
              , T0 = function(e, n, r, u) {
                return Tn(n.defaults(e, r, u), r, {
                    uid: e.partUids[n.name]
                }, n.overrides(e, r, u))
            }
              , s2 = function(e, n) {
                var r = {};
                return Re(n, function(u) {
                    mC(u).each(function(l) {
                        var d = c2(e, l.pname);
                        r[l.name] = function(p) {
                            var S = Bi("Part: " + l.name + " in " + e, Wn(l.schema), p);
                            return ae(ae({}, d), {
                                config: p,
                                validated: S
                            })
                        }
                    })
                }),
                r
            }
              , c2 = function(e, n) {
                return {
                    uiType: u2(),
                    owner: e,
                    name: n
                }
            }
              , _0 = function(e, n, r) {
                return {
                    uiType: u2(),
                    owner: e,
                    name: n,
                    config: r,
                    validated: {}
                }
            }
              , l2 = function(e) {
                return Un(e, function(n) {
                    return n.fold(D.none, D.some, D.none, D.none).map(function(r) {
                        return cc(r.name, r.schema.concat([hx(C0())]))
                    }).toArray()
                })
            }
              , Xh = function(e) {
                return re(e, Kh)
            }
              , f2 = function(e, n, r) {
                return function(e, n, r) {
                    var u = {}
                      , l = {};
                    return Re(r, function(d) {
                        d.fold(function(p) {
                            u[p.pname] = Ev(!0, function(S, T, O) {
                                return p.factory.sketch(T0(S, p, T, O))
                            })
                        }, function(p) {
                            var S = n.parts[p.name];
                            l[p.name] = Se(p.factory.sketch(T0(n, p, S[C0()]), S))
                        }, function(p) {
                            u[p.pname] = Ev(!1, function(S, T, O) {
                                return p.factory.sketch(T0(S, p, T, O))
                            })
                        }, function(p) {
                            u[p.pname] = Wh(!0, function(S, T, O) {
                                return re(S[p.name], function($) {
                                    return p.factory.sketch(Tn(p.defaults(S, $, O), $, p.overrides(S, $)))
                                })
                            })
                        })
                    }),
                    {
                        internals: Se(u),
                        externals: Se(l)
                    }
                }(0, n, r)
            }
              , Yh = function(e, n, r) {
                return function(e, n, r, u) {
                    var l = ee(u, function(p, S) {
                        return function(e, n) {
                            var r = !1;
                            return {
                                name: Se(e),
                                required: function() {
                                    return n.fold(function(p, S) {
                                        return p
                                    }, function(p, S) {
                                        return p
                                    })
                                },
                                used: function() {
                                    return r
                                },
                                replace: function() {
                                    if (r)
                                        throw new Error("Trying to use the same placeholder more than once: " + e);
                                    return r = !0,
                                    n
                                }
                            }
                        }(S, p)
                    })
                      , d = function(e, n, r, u) {
                        return Un(r, function(l) {
                            return og(e, n, l, u)
                        })
                    }(e, n, r, l);
                    return Ar(l, function(p) {
                        if (!1 === p.used() && p.required())
                            throw new Error("Placeholder: " + p.name() + " was not found in components list\nNamespace: " + e.getOr("none") + "\nComponents: " + JSON.stringify(n.components, null, 2))
                    }),
                    d
                }(D.some(e), n, n.components, r)
            }
              , Ro = function(e, n, r) {
                var u = n.partUids[r];
                return e.getSystem().getByUid(u).toOptional()
            }
              , Wl = function(e, n, r) {
                return Ro(e, n, r).getOrDie("Could not find part: " + r)
            }
              , k0 = function(e, n, r) {
                var u = {}
                  , l = n.partUids
                  , d = e.getSystem();
                return Re(r, function(p) {
                    u[p] = Se(d.getByUid(l[p]))
                }),
                u
            }
              , hC = function(e, n) {
                var r = e.getSystem();
                return ee(n.partUids, function(u, l) {
                    return Se(r.getByUid(u))
                })
            }
              , pC = function(e) {
                return An(e.partUids)
            }
              , E0 = function(e, n, r) {
                var u = {}
                  , l = n.partUids
                  , d = e.getSystem();
                return Re(r, function(p) {
                    u[p] = Se(d.getByUid(l[p]).getOrDie())
                }),
                u
            }
              , A0 = function(e, n) {
                var r = Xh(n);
                return Rc(re(r, function(u) {
                    return {
                        key: u,
                        value: e + "-" + u
                    }
                }))
            }
              , ug = function(e) {
                return Jo("partUids", "partUids", lm(function(n) {
                    return A0(n.uid, e)
                }), Oc())
            }
              , bC = Object.freeze({
                __proto__: null,
                generate: s2,
                generateOne: _0,
                schemas: l2,
                names: Xh,
                substitutes: f2,
                components: Yh,
                defaultUids: A0,
                defaultUidsSchema: ug,
                getAllParts: hC,
                getAllPartNames: pC,
                getPart: Ro,
                getPartOrDie: Wl,
                getParts: k0,
                getPartsOrDie: E0
            })
              , Zh = function(e, n, r, u, l) {
                var d = function(e, n) {
                    return (e.length > 0 ? [cc("parts", e)] : []).concat([ot("uid"), Be("dom", {}), Be("components", []), hx("originalSpec"), Be("debug.sketcher", {})]).concat(n)
                }(u, l);
                return Bi(e + " [SpecSchema]", Pi(d.concat(n)), r)
            }
              , v2 = function(e, n, r, u, l) {
                var d = Dv(l)
                  , p = l2(r)
                  , S = ug(r)
                  , T = Zh(e, n, d, p, [S])
                  , O = f2(0, T, r);
                return u(T, Yh(e, T, O.internals()), d, O.externals())
            }
              , Dv = function(e) {
                return function(e) {
                    return yr(e, "uid")
                }(e) ? e : ae(ae({}, e), {
                    uid: cv("uid")
                })
            }
              , xC = Pi([ot("name"), ot("factory"), ot("configFields"), Be("apis", {}), Be("extraApis", {})])
              , O0 = Pi([ot("name"), ot("factory"), ot("configFields"), ot("partFields"), Be("apis", {}), Be("extraApis", {})])
              , nc = function(e) {
                var n = Bi("Sketcher for " + e.name, xC, e)
                  , u = ee(n.apis, Xg)
                  , l = ee(n.extraApis, function(d, p) {
                    return qg(d, p)
                });
                return ae(ae({
                    name: n.name,
                    configFields: n.configFields,
                    sketch: function(d) {
                        return function(e, n, r, u) {
                            var l = Dv(u);
                            return r(Zh(e, n, l, [], []), l)
                        }(n.name, n.configFields, n.factory, d)
                    }
                }, u), l)
            }
              , Lu = function(e) {
                var n = Bi("Sketcher for " + e.name, O0, e)
                  , u = s2(n.name, n.partFields)
                  , l = ee(n.apis, Xg)
                  , d = ee(n.extraApis, function(p, S) {
                    return qg(p, S)
                });
                return ae(ae({
                    name: n.name,
                    partFields: n.partFields,
                    configFields: n.configFields,
                    sketch: function(p) {
                        return v2(n.name, n.configFields, n.partFields, n.factory, p)
                    },
                    parts: u
                }, l), d)
            }
              , jl = function(e) {
                return "input" === so(e) && "radio" !== Hn(e, "type") || "textarea" === so(e)
            }
              , CC = Object.freeze({
                __proto__: null,
                getCurrent: function(e, n, r) {
                    return n.find(e)
                }
            })
              , SC = [ot("find")]
              , qr = zi({
                fields: SC,
                name: "composing",
                apis: CC
            })
              , TC = ["input", "button", "textarea", "select"]
              , m2 = function(e, n, r) {
                (n.disabled() ? Qh : h2)(e, n)
            }
              , ml = function(e, n) {
                return !0 === n.useNative && nn(TC, so(e.element))
            }
              , AT = function(e) {
                wr(e.element, "disabled", "disabled")
            }
              , kC = function(e) {
                _i(e.element, "disabled")
            }
              , Vd = function(e) {
                wr(e.element, "aria-disabled", "true")
            }
              , g2 = function(e) {
                wr(e.element, "aria-disabled", "false")
            }
              , Qh = function(e, n, r) {
                n.disableClass.each(function(l) {
                    ki(e.element, l)
                }),
                (ml(e, n) ? AT : Vd)(e),
                n.onDisabled(e)
            }
              , h2 = function(e, n, r) {
                n.disableClass.each(function(l) {
                    ei(e.element, l)
                }),
                (ml(e, n) ? kC : g2)(e),
                n.onEnabled(e)
            }
              , EC = function(e, n) {
                return ml(e, n) ? function(e) {
                    return dn(e.element, "disabled")
                }(e) : function(e) {
                    return "true" === Hn(e.element, "aria-disabled")
                }(e)
            }
              , Mv = Object.freeze({
                __proto__: null,
                enable: h2,
                disable: Qh,
                isDisabled: EC,
                onLoad: m2,
                set: function(e, n, r, u) {
                    (u ? Qh : h2)(e, n)
                }
            })
              , MT = Object.freeze({
                __proto__: null,
                exhibit: function(e, n) {
                    return mc({
                        classes: n.disabled() ? n.disableClass.toArray() : []
                    })
                },
                events: function(e, n) {
                    return Lo([Vb(co(), function(r, u) {
                        return EC(r, e)
                    }), vh(e, n, m2)])
                }
            })
              , RT = [Ba("disabled", st), Be("useNative", !0), To("disableClass"), vo("onDisabled"), vo("onEnabled")]
              , On = zi({
                fields: RT,
                name: "disabling",
                active: MT,
                apis: Mv
            })
              , Nf = function(e, n, r, u) {
                var l = as(e.element, "." + n.highlightClass);
                Re(l, function(d) {
                    ir(u, function(p) {
                        return p.element === d
                    }) || (ei(d, n.highlightClass),
                    e.getSystem().getByDom(d).each(function(p) {
                        n.onDehighlight(e, p),
                        po(p, c1())
                    }))
                })
            }
              , Rv = function(e, n, r, u) {
                Nf(e, n, 0, [u]),
                D0(e, n, r, u) || (ki(u.element, n.highlightClass),
                n.onHighlight(e, u),
                po(u, ys()))
            }
              , D0 = function(e, n, r, u) {
                return ea(u.element, n.highlightClass)
            }
              , DC = function(e, n, r) {
                return ta(e.element, "." + n.itemClass).bind(function(u) {
                    return e.getSystem().getByDom(u).toOptional()
                })
            }
              , x2 = function(e, n, r) {
                var u = as(e.element, "." + n.itemClass);
                return (u.length > 0 ? D.some(u[u.length - 1]) : D.none()).bind(function(d) {
                    return e.getSystem().getByDom(d).toOptional()
                })
            }
              , C2 = function(e, n, r, u) {
                var l = as(e.element, "." + n.itemClass);
                return Cr(l, function(p) {
                    return ea(p, n.highlightClass)
                }).bind(function(p) {
                    var S = Fl(p, u, 0, l.length - 1);
                    return e.getSystem().getByDom(l[S]).toOptional()
                })
            }
              , S2 = function(e, n, r) {
                var u = as(e.element, "." + n.itemClass);
                return fa(re(u, function(l) {
                    return e.getSystem().getByDom(l).toOptional()
                }))
            }
              , M0 = Object.freeze({
                __proto__: null,
                dehighlightAll: function(e, n, r) {
                    return Nf(e, n, 0, [])
                },
                dehighlight: function(e, n, r, u) {
                    D0(e, n, r, u) && (ei(u.element, n.highlightClass),
                    n.onDehighlight(e, u),
                    po(u, c1()))
                },
                highlight: Rv,
                highlightFirst: function(e, n, r) {
                    DC(e, n).each(function(u) {
                        Rv(e, n, r, u)
                    })
                },
                highlightLast: function(e, n, r) {
                    x2(e, n).each(function(u) {
                        Rv(e, n, r, u)
                    })
                },
                highlightAt: function(e, n, r, u) {
                    (function(e, n, r, u) {
                        var l = as(e.element, "." + n.itemClass);
                        return D.from(l[u]).fold(function() {
                            return Fr.error(new Error("No element found with index " + u))
                        }, e.getSystem().getByDom)
                    }
                    )(e, n, 0, u).fold(function(l) {
                        throw l
                    }, function(l) {
                        Rv(e, n, r, l)
                    })
                },
                highlightBy: function(e, n, r, u) {
                    var l = S2(e, n);
                    $n(l, u).each(function(p) {
                        Rv(e, n, r, p)
                    })
                },
                isHighlighted: D0,
                getHighlighted: function(e, n, r) {
                    return ta(e.element, "." + n.highlightClass).bind(function(u) {
                        return e.getSystem().getByDom(u).toOptional()
                    })
                },
                getFirst: DC,
                getLast: x2,
                getPrevious: function(e, n, r) {
                    return C2(e, n, 0, -1)
                },
                getNext: function(e, n, r) {
                    return C2(e, n, 0, 1)
                },
                getCandidates: S2
            })
              , RC = [ot("highlightClass"), ot("itemClass"), vo("onHighlight"), vo("onDehighlight")]
              , _o = zi({
                fields: RC,
                name: "highlighting",
                apis: M0
            })
              , sg = [8]
              , Gl = [9]
              , gl = [13]
              , ql = [27]
              , Ei = [32]
              , $u = [37]
              , tp = [38]
              , Bv = [39]
              , Ud = [40]
              , NT = function(e, n, r) {
                var u = Fo(e.slice(0, n))
                  , l = Fo(e.slice(n + 1));
                return $n(u.concat(l), r)
            }
              , T2 = function(e, n, r) {
                var u = Fo(e.slice(0, n));
                return $n(u, r)
            }
              , _2 = function(e, n, r) {
                var u = e.slice(0, n)
                  , l = e.slice(n + 1);
                return $n(l.concat(u), r)
            }
              , PC = function(e, n, r) {
                var u = e.slice(n + 1);
                return $n(u, r)
            }
              , Kr = function(e) {
                return function(n) {
                    return nn(e, n.raw.which)
                }
            }
              , hl = function(e) {
                return function(n) {
                    return xo(e, function(r) {
                        return r(n)
                    })
                }
            }
              , Nv = function(e) {
                return !0 === e.raw.shiftKey
            }
              , k2 = function(e) {
                return !0 === e.raw.ctrlKey
            }
              , cg = Kn(Nv)
              , Xr = function(e, n) {
                return {
                    matches: e,
                    classification: n
                }
            }
              , NC = function(e, n, r) {
                n.exists(function(l) {
                    return r.exists(function(d) {
                        return Eo(d, l)
                    })
                }) || Vn(e, s1(), {
                    prevFocus: n,
                    newFocus: r
                })
            }
              , Wd = function() {
                var e = function(r) {
                    return Qs(r.element)
                };
                return {
                    get: e,
                    set: function(r, u) {
                        var l = e(r);
                        r.getSystem().triggerFocus(u, r.element);
                        var d = e(r);
                        NC(r, l, d)
                    }
                }
            }
              , Kl = function() {
                var e = function(r) {
                    return _o.getHighlighted(r).map(function(u) {
                        return u.element
                    })
                };
                return {
                    get: e,
                    set: function(r, u) {
                        var l = e(r);
                        r.getSystem().getByDom(u).fold(Xe, function(p) {
                            _o.highlight(r, p)
                        });
                        var d = e(r);
                        NC(r, l, d)
                    }
                }
            }
              , Xl = (()=>(function(e) {
                e.OnFocusMode = "onFocus",
                e.OnEnterOrSpaceMode = "onEnterOrSpace",
                e.OnApiMode = "onApi"
            }(Xl || (Xl = {})),
            Xl))()
              , zv = function(e, n, r, u, l) {
                var p = function(O, I, $, q, Z) {
                    return function(e, n) {
                        return $n(e, function(u) {
                            return u.matches(n)
                        }).map(function(u) {
                            return u.classification
                        })
                    }($(O, I, q, Z), I.event).bind(function(de) {
                        return de(O, I, q, Z)
                    })
                }
                  , T = {
                    schema: function() {
                        return e.concat([Be("focusManager", Wd()), ps("focusInside", "onFocus", Zf(function(O) {
                            return nn(["onFocus", "onEnterOrSpace", "onApi"], O) ? Fr.value(O) : Fr.error("Invalid value for focusInside")
                        })), Ho("handler", T), Ho("state", n), Ho("sendFocusIn", l)])
                    },
                    processKey: p,
                    toEvents: function(O, I) {
                        var $ = O.focusInside !== Xl.OnFocusMode ? D.none() : l(O).map(function(te) {
                            return gt(Bc(), function(de, Te) {
                                te(de, O, I),
                                Te.stop()
                            })
                        })
                          , Z = [gt(i1(), function(te, de) {
                            p(te, de, r, O, I).fold(function() {
                                !function(te, de) {
                                    var Te = Kr(Ei.concat(gl))(de.event);
                                    O.focusInside === Xl.OnEnterOrSpaceMode && Te && dm(te, de) && l(O).each(function(ce) {
                                        ce(te, O, I),
                                        de.stop()
                                    })
                                }(te, de)
                            }, function(Te) {
                                de.stop()
                            })
                        }), gt(u1(), function(te, de) {
                            p(te, de, u, O, I).each(function(Te) {
                                de.stop()
                            })
                        })];
                        return Lo($.toArray().concat(Z))
                    }
                };
                return T
            }
              , R0 = function(e) {
                var n = [To("onEscape"), To("onEnter"), Be("selector", '[data-alloy-tabstop="true"]:not(:disabled)'), Be("firstTabstop", 0), Be("useTabstopAt", ge), To("visibilitySelector")].concat([e])
                  , r = function(de, Te) {
                    var ce = de.visibilitySelector.bind(function(ke) {
                        return Ic(Te, ke)
                    }).getOr(Te);
                    return ia(ce) > 0
                }
                  , p = function(de, Te, ce) {
                    (function(de, Te) {
                        var ce = as(de.element, Te.selector)
                          , ke = je(ce, function(Ze) {
                            return r(Te, Ze)
                        });
                        return D.from(ke[Te.firstTabstop])
                    }
                    )(de, Te).each(function(ke) {
                        Te.focusManager.set(de, ke)
                    })
                }
                  , T = function(de, Te, ce, ke) {
                    var Ze = as(de.element, ce.selector);
                    return function(de, Te) {
                        return Te.focusManager.get(de).bind(function(ce) {
                            return Ic(ce, Te.selector)
                        })
                    }(de, ce).bind(function(Ye) {
                        return Cr(Ze, In(Eo, Ye)).bind(function(Ue) {
                            return function(de, Te, ce, ke, Ze) {
                                return Ze(Te, ce, function(Ye) {
                                    return function(de, Te) {
                                        return r(de, Te) && de.useTabstopAt(Te)
                                    }(ke, Ye)
                                }).fold(function() {
                                    return ke.cyclic ? D.some(!0) : D.none()
                                }, function(Ye) {
                                    return ke.focusManager.set(de, Ye),
                                    D.some(!0)
                                })
                            }(de, Ze, Ue, ce, ke)
                        })
                    })
                }
                  , Z = Se([Xr(hl([Nv, Kr(Gl)]), function(de, Te, ce) {
                    return T(de, 0, ce, ce.cyclic ? NT : T2)
                }), Xr(Kr(Gl), function(de, Te, ce) {
                    return T(de, 0, ce, ce.cyclic ? _2 : PC)
                }), Xr(Kr(ql), function(de, Te, ce) {
                    return ce.onEscape.bind(function(ke) {
                        return ke(de, Te)
                    })
                }), Xr(hl([cg, Kr(gl)]), function(de, Te, ce) {
                    return ce.onEnter.bind(function(ke) {
                        return ke(de, Te)
                    })
                })])
                  , te = Se([]);
                return zv(n, Nc.init, Z, te, function() {
                    return D.some(p)
                })
            }
              , P0 = R0($i("cyclic", st))
              , zC = R0($i("cyclic", ge))
              , Fv = function(e, n, r) {
                return jl(r) && Kr(Ei)(n.event) ? D.none() : function(e, n, r) {
                    return l1(e, r, co()),
                    D.some(!0)
                }(e, 0, r)
            }
              , jd = function(e, n) {
                return D.some(!0)
            }
              , FC = [Be("execute", Fv), Be("useSpace", !1), Be("useEnter", !0), Be("useControlEnter", !1), Be("useDown", !1)]
              , np = function(e, n, r) {
                return r.execute(e, n, e.element)
            }
              , z0 = zv(FC, Nc.init, function(e, n, r, u) {
                var l = r.useSpace && !jl(e.element) ? Ei : []
                  , p = r.useDown ? Ud : []
                  , S = l.concat(r.useEnter ? gl : []).concat(p);
                return [Xr(Kr(S), np)].concat(r.useControlEnter ? [Xr(hl([k2, Kr(gl)]), np)] : [])
            }, function(e, n, r, u) {
                return r.useSpace && !jl(e.element) ? [Xr(Kr(Ei), jd)] : []
            }, function() {
                return D.none()
            })
              , lg = function() {
                var e = ni();
                return Bs({
                    readState: function() {
                        return e.get().map(function(l) {
                            return {
                                numRows: String(l.numRows),
                                numColumns: String(l.numColumns)
                            }
                        }).getOr({
                            numRows: "?",
                            numColumns: "?"
                        })
                    },
                    setGridSize: function(l, d) {
                        e.set({
                            numRows: l,
                            numColumns: d
                        })
                    },
                    getNumRows: function() {
                        return e.get().map(function(l) {
                            return l.numRows
                        })
                    },
                    getNumColumns: function() {
                        return e.get().map(function(l) {
                            return l.numColumns
                        })
                    }
                })
            }
              , A2 = Object.freeze({
                __proto__: null,
                flatgrid: lg,
                init: function(e) {
                    return e.state(e)
                }
            })
              , O2 = function(e) {
                return function(n, r, u, l) {
                    var d = e(n.element);
                    return I0(d, n, r, u, l)
                }
            }
              , Gd = function(e, n) {
                var r = I1(e, n);
                return O2(r)
            }
              , F0 = function(e, n) {
                var r = I1(n, e);
                return O2(r)
            }
              , rp = function(e) {
                return function(n, r, u, l) {
                    return I0(e, n, r, u, l)
                }
            }
              , I0 = function(e, n, r, u, l) {
                return u.focusManager.get(n).bind(function(p) {
                    return e(n.element, p, u, l)
                }).map(function(p) {
                    return u.focusManager.set(n, p),
                    !0
                })
            }
              , L0 = rp
              , D2 = rp
              , H0 = rp
              , M2 = function(e) {
                return !function(e) {
                    return e.offsetWidth <= 0 && e.offsetHeight <= 0
                }(e.dom)
            }
              , HC = function(e, n, r) {
                var l = as(e, r);
                return function(e, n) {
                    return Cr(e, n).map(function(r) {
                        return {
                            index: r,
                            candidates: e
                        }
                    })
                }(je(l, M2), function(p) {
                    return Eo(p, n)
                })
            }
              , $C = function(e, n) {
                return Cr(e, function(r) {
                    return Eo(n, r)
                })
            }
              , $0 = function(e, n, r, u) {
                return u(Math.floor(n / r), n % r).bind(function(p) {
                    var S = p.row * r + p.column;
                    return S >= 0 && S < e.length ? D.some(e[S]) : D.none()
                })
            }
              , pl = function(e, n, r, u, l) {
                return $0(e, n, u, function(d, p) {
                    var O = Fl(p, l, 0, (d === r - 1 ? e.length - d * u : u) - 1);
                    return D.some({
                        row: d,
                        column: O
                    })
                })
            }
              , R2 = function(e, n, r, u, l) {
                return $0(e, n, u, function(d, p) {
                    var S = Fl(d, l, 0, r - 1)
                      , I = ts(p, 0, (S === r - 1 ? e.length - S * u : u) - 1);
                    return D.some({
                        row: S,
                        column: I
                    })
                })
            }
              , UC = [ot("selector"), Be("execute", Fv), _u("onEscape"), Be("captureTab", !1), vl()]
              , fg = function(e, n, r) {
                ta(e.element, n.selector).each(function(u) {
                    n.focusManager.set(e, u)
                })
            }
              , bl = function(e) {
                return function(n, r, u, l) {
                    return HC(n, r, u.selector).bind(function(d) {
                        return e(d.candidates, d.index, l.getNumRows().getOr(u.initSize.numRows), l.getNumColumns().getOr(u.initSize.numColumns))
                    })
                }
            }
              , op = function(e, n, r) {
                return r.captureTab ? D.some(!0) : D.none()
            }
              , Jl = bl(function(e, n, r, u) {
                return pl(e, n, r, u, -1)
            })
              , ji = bl(function(e, n, r, u) {
                return pl(e, n, r, u, 1)
            })
              , IT = bl(function(e, n, r, u) {
                return R2(e, n, r, u, -1)
            })
              , P2 = bl(function(e, n, r, u) {
                return R2(e, n, r, u, 1)
            })
              , LT = Se([Xr(Kr($u), Gd(Jl, ji)), Xr(Kr(Bv), F0(Jl, ji)), Xr(Kr(tp), L0(IT)), Xr(Kr(Ud), D2(P2)), Xr(hl([Nv, Kr(Gl)]), op), Xr(hl([cg, Kr(Gl)]), op), Xr(Kr(ql), function(e, n, r) {
                return r.onEscape(e, n)
            }), Xr(Kr(Ei.concat(gl)), function(e, n, r, u) {
                return function(e, n) {
                    return n.focusManager.get(e).bind(function(r) {
                        return Ic(r, n.selector)
                    })
                }(e, r).bind(function(l) {
                    return r.execute(e, n, l)
                })
            })])
              , jC = Se([Xr(Kr(Ei), jd)])
              , B2 = zv(UC, lg, LT, jC, function() {
                return D.some(fg)
            })
              , vg = function(e, n, r, u) {
                var d = function(p, S, T) {
                    var O = Fl(S, u, 0, T.length - 1);
                    return O === p ? D.none() : function(p) {
                        return "button" === so(p) && "disabled" === Hn(p, "disabled")
                    }(T[O]) ? d(p, O, T) : D.from(T[O])
                };
                return HC(e, r, n).bind(function(p) {
                    var S = p.index;
                    return d(S, S, p.candidates)
                })
            }
              , HT = [ot("selector"), Be("getInitial", D.none), Be("execute", Fv), _u("onEscape"), Be("executeOnMove", !1), Be("allowVertical", !0)]
              , zf = function(e, n, r) {
                return function(e, n) {
                    return n.focusManager.get(e).bind(function(r) {
                        return Ic(r, n.selector)
                    })
                }(e, r).bind(function(u) {
                    return r.execute(e, n, u)
                })
            }
              , $T = function(e, n, r) {
                n.getInitial(e).orThunk(function() {
                    return ta(e.element, n.selector)
                }).each(function(u) {
                    n.focusManager.set(e, u)
                })
            }
              , GC = function(e, n, r) {
                return vg(e, r.selector, n, -1)
            }
              , Ou = function(e, n, r) {
                return vg(e, r.selector, n, 1)
            }
              , ap = function(e) {
                return function(n, r, u, l) {
                    return e(n, r, u, l).bind(function() {
                        return u.executeOnMove ? zf(n, r, u) : D.some(!0)
                    })
                }
            }
              , ip = function(e, n, r) {
                return r.onEscape(e, n)
            }
              , N2 = Se([Xr(Kr(Ei), jd)])
              , qC = zv(HT, Nc.init, function(e, n, r, u) {
                var l = $u.concat(r.allowVertical ? tp : [])
                  , d = Bv.concat(r.allowVertical ? Ud : []);
                return [Xr(Kr(l), ap(Gd(GC, Ou))), Xr(Kr(d), ap(F0(GC, Ou))), Xr(Kr(gl), zf), Xr(Kr(Ei), zf), Xr(Kr(ql), ip)]
            }, N2, function() {
                return D.some($T)
            })
              , dg = function(e, n, r) {
                return D.from(e[n]).bind(function(u) {
                    return D.from(u[r]).map(function(l) {
                        return {
                            rowIndex: n,
                            columnIndex: r,
                            cell: l
                        }
                    })
                })
            }
              , z2 = function(e, n, r, u) {
                var p = Fl(r, u, 0, e[n].length - 1);
                return dg(e, n, p)
            }
              , sp = function(e, n, r, u) {
                var l = Fl(r, u, 0, e.length - 1)
                  , p = ts(n, 0, e[l].length - 1);
                return dg(e, l, p)
            }
              , W0 = function(e, n, r, u) {
                var p = ts(r + u, 0, e[n].length - 1);
                return dg(e, n, p)
            }
              , Lv = function(e, n, r, u) {
                var l = ts(r + u, 0, e.length - 1)
                  , p = ts(n, 0, e[l].length - 1);
                return dg(e, l, p)
            }
              , F2 = [cc("selectors", [ot("row"), ot("cell")]), Be("cycles", !0), Be("previousSelector", D.none), Be("execute", Fv)]
              , I2 = function(e, n, r) {
                n.previousSelector(e).orThunk(function() {
                    return ta(e.element, n.selectors.cell)
                }).each(function(l) {
                    n.focusManager.set(e, l)
                })
            }
              , qd = function(e, n) {
                return function(r, u, l) {
                    var d = l.cycles ? e : n;
                    return Ic(u, l.selectors.row).bind(function(p) {
                        var S = as(p, l.selectors.cell);
                        return $C(S, u).bind(function(T) {
                            var O = as(r, l.selectors.row);
                            return $C(O, p).bind(function(I) {
                                var $ = function(e, n) {
                                    return re(e, function(r) {
                                        return as(r, n.selectors.cell)
                                    })
                                }(O, l);
                                return d($, I, T).map(function(q) {
                                    return q.cell
                                })
                            })
                        })
                    })
                }
            }
              , mg = qd(function(e, n, r) {
                return z2(e, n, r, -1)
            }, function(e, n, r) {
                return W0(e, n, r, -1)
            })
              , fp = qd(function(e, n, r) {
                return z2(e, n, r, 1)
            }, function(e, n, r) {
                return W0(e, n, r, 1)
            })
              , Ql = qd(function(e, n, r) {
                return sp(e, r, n, -1)
            }, function(e, n, r) {
                return Lv(e, r, n, -1)
            })
              , L2 = qd(function(e, n, r) {
                return sp(e, r, n, 1)
            }, function(e, n, r) {
                return Lv(e, r, n, 1)
            })
              , YC = Se([Xr(Kr($u), Gd(mg, fp)), Xr(Kr(Bv), F0(mg, fp)), Xr(Kr(tp), L0(Ql)), Xr(Kr(Ud), D2(L2)), Xr(Kr(Ei.concat(gl)), function(e, n, r) {
                return Qs(e.element).bind(function(u) {
                    return r.execute(e, n, u)
                })
            })])
              , JC = Se([Xr(Kr(Ei), jd)])
              , vp = zv(F2, Nc.init, YC, JC, function() {
                return D.some(I2)
            })
              , dp = [ot("selector"), Be("execute", Fv), Be("moveOnTab", !1)]
              , q0 = function(e, n, r) {
                return r.focusManager.get(e).bind(function(u) {
                    return r.execute(e, n, u)
                })
            }
              , H2 = function(e, n, r) {
                ta(e.element, n.selector).each(function(u) {
                    n.focusManager.set(e, u)
                })
            }
              , yl = function(e, n, r) {
                return vg(e, r.selector, n, -1)
            }
              , $2 = function(e, n, r) {
                return vg(e, r.selector, n, 1)
            }
              , V2 = Se([Xr(Kr(tp), H0(yl)), Xr(Kr(Ud), H0($2)), Xr(hl([Nv, Kr(Gl)]), function(e, n, r, u) {
                return r.moveOnTab ? H0(yl)(e, n, r, u) : D.none()
            }), Xr(hl([cg, Kr(Gl)]), function(e, n, r, u) {
                return r.moveOnTab ? H0($2)(e, n, r, u) : D.none()
            }), Xr(Kr(gl), q0), Xr(Kr(Ei), q0)])
              , ZC = Se([Xr(Kr(Ei), jd)])
              , X0 = zv(dp, Nc.init, V2, ZC, function() {
                return D.some(H2)
            })
              , jT = [_u("onSpace"), _u("onEnter"), _u("onShiftEnter"), _u("onLeft"), _u("onRight"), _u("onTab"), _u("onShiftTab"), _u("onUp"), _u("onDown"), _u("onEscape"), Be("stopSpaceKeyup", !1), To("focusIn")]
              , U2 = zv(jT, Nc.init, function(e, n, r) {
                return [Xr(Kr(Ei), r.onSpace), Xr(hl([cg, Kr(gl)]), r.onEnter), Xr(hl([Nv, Kr(gl)]), r.onShiftEnter), Xr(hl([Nv, Kr(Gl)]), r.onShiftTab), Xr(hl([cg, Kr(Gl)]), r.onTab), Xr(Kr(tp), r.onUp), Xr(Kr(Ud), r.onDown), Xr(Kr($u), r.onLeft), Xr(Kr(Bv), r.onRight), Xr(Kr(Ei), r.onSpace), Xr(Kr(ql), r.onEscape)]
            }, function(e, n, r) {
                return r.stopSpaceKeyup ? [Xr(Kr(Ei), jd)] : []
            }, function(e) {
                return e.focusIn
            })
              , gg = P0.schema()
              , W2 = zC.schema()
              , QC = qC.schema()
              , eS = B2.schema()
              , j2 = vp.schema()
              , hg = z0.schema()
              , tS = X0.schema()
              , nS = U2.schema()
              , Yn = D1({
                branchKey: "mode",
                branches: Object.freeze({
                    __proto__: null,
                    acyclic: gg,
                    cyclic: W2,
                    flow: QC,
                    flatgrid: eS,
                    matrix: j2,
                    execution: hg,
                    menu: tS,
                    special: nS
                }),
                name: "keying",
                active: {
                    events: function(e, n) {
                        return e.handler.toEvents(e, n)
                    }
                },
                apis: {
                    focusIn: function(e, n, r) {
                        n.sendFocusIn(n).fold(function() {
                            e.getSystem().triggerFocus(e.element, e.element)
                        }, function(u) {
                            u(e, n, r)
                        })
                    },
                    setGridSize: function(e, n, r, u, l) {
                        !function(e) {
                            return en(e, "setGridSize")
                        }(r) ? console.error("Layout does not support setGridSize") : r.setGridSize(u, l)
                    }
                },
                state: A2
            })
              , G2 = function(e, n, r, u) {
                var l = e.getSystem().build(u);
                o0(e, l, r)
            }
              , Q0 = function(e, n, r, u) {
                var l = mp(e);
                $n(l, function(p) {
                    return Eo(u.element, p.element)
                }).each(Tv)
            }
              , mp = function(e, n) {
                return e.components()
            }
              , aS = function(e, n, r, u, l) {
                var d = mp(e);
                return D.from(d[u]).map(function(p) {
                    return Q0(e, 0, 0, p),
                    l.each(function(S) {
                        G2(e, 0, function(T, O) {
                            !function(e, n, r) {
                                ie(e, r).fold(function() {
                                    Ri(e, n)
                                }, function(u) {
                                    im(u, n)
                                })
                            }(T, O, u)
                        }, S)
                    }),
                    p
                })
            }
              , X2 = Object.freeze({
                __proto__: null,
                append: function(e, n, r, u) {
                    G2(e, 0, Ri, u)
                },
                prepend: function(e, n, r, u) {
                    G2(e, 0, ai, u)
                },
                remove: Q0,
                replaceAt: aS,
                replaceBy: function(e, n, r, u, l) {
                    var d = mp(e);
                    return Cr(d, u).bind(function(p) {
                        return aS(e, 0, 0, p, l)
                    })
                },
                set: function(e, n, r, u) {
                    P1(function() {
                        var l = re(u, e.getSystem().build);
                        Zm(e, l)
                    }, e.element)
                },
                contents: mp
            })
              , pr = zi({
                fields: [],
                name: "replacing",
                apis: X2
            })
              , rn = function(e, n) {
                var r = function(e, n) {
                    var r = Lo(n);
                    return zi({
                        fields: [ot("enabled")],
                        name: e,
                        active: {
                            events: Se(r)
                        }
                    })
                }(e, n);
                return {
                    key: e,
                    value: {
                        config: {},
                        me: r,
                        configAsRaw: Se({}),
                        initialConfig: {},
                        state: Nc
                    }
                }
            }
              , Gc = function(e, n) {
                n.ignore || (xs(e.element),
                n.onFocus(e))
            }
              , hp = Object.freeze({
                __proto__: null,
                focus: Gc,
                blur: function(e, n) {
                    n.ignore || function(e) {
                        e.dom.blur()
                    }(e.element)
                },
                isFocused: function(e) {
                    return R1(e.element)
                }
            })
              , qT = Object.freeze({
                __proto__: null,
                exhibit: function(e, n) {
                    return mc(n.ignore ? {} : {
                        attributes: {
                            tabindex: "-1"
                        }
                    })
                },
                events: function(e) {
                    return Lo([gt(Bc(), function(n, r) {
                        Gc(n, e),
                        r.stop()
                    })].concat(e.stopMousedown ? [gt(Pc(), function(n, r) {
                        r.event.prevent()
                    })] : []))
                }
            })
              , sS = [vo("onFocus"), Be("stopMousedown", !1), Be("ignore", !1)]
              , sr = zi({
                fields: sS,
                name: "focusing",
                active: qT,
                apis: hp
            })
              , J2 = function(e, n, r) {
                var u = n.aria;
                u.update(e, u, r.get())
            }
              , Z2 = function(e, n, r) {
                n.toggleClass.each(function(u) {
                    r.get() ? ki(e.element, u) : ei(e.element, u)
                })
            }
              , pg = function(e, n, r) {
                nb(e, n, r, !r.get())
            }
              , tb = function(e, n, r) {
                r.set(!0),
                Z2(e, n, r),
                J2(e, n, r)
            }
              , Q2 = function(e, n, r) {
                r.set(!1),
                Z2(e, n, r),
                J2(e, n, r)
            }
              , nb = function(e, n, r, u) {
                (u ? tb : Q2)(e, n, r)
            }
              , pp = function(e, n, r) {
                nb(e, n, r, n.selected)
            }
              , ew = Object.freeze({
                __proto__: null,
                onLoad: pp,
                toggle: pg,
                isOn: function(e, n, r) {
                    return r.get()
                },
                on: tb,
                off: Q2,
                set: nb
            })
              , nw = Object.freeze({
                __proto__: null,
                exhibit: function() {
                    return mc({})
                },
                events: function(e, n) {
                    var r = function(e, n, r) {
                        return cl(function(u) {
                            r(u, e, n)
                        })
                    }(e, n, pg)
                      , u = vh(e, n, pp);
                    return Lo(Gt([e.toggleOnExecute ? [r] : [], [u]]))
                }
            })
              , rw = function(e, n, r) {
                wr(e.element, "aria-expanded", r)
            }
              , XT = [Be("selected", !1), To("toggleClass"), Be("toggleOnExecute", !0), ps("aria", {
                mode: "none"
            }, Qu("mode", {
                pressed: [Be("syncWithExpanded", !1), Ho("update", function(e, n, r) {
                    wr(e.element, "aria-pressed", r),
                    n.syncWithExpanded && rw(e, 0, r)
                })],
                checked: [Ho("update", function(e, n, r) {
                    wr(e.element, "aria-checked", r)
                })],
                expanded: [Ho("update", rw)],
                selected: [Ho("update", function(e, n, r) {
                    wr(e.element, "aria-selected", r)
                })],
                none: [Ho("update", Xe)]
            }))]
              , io = zi({
                fields: XT,
                name: "toggling",
                active: nw,
                apis: ew,
                state: {
                    init: function() {
                        var r = Xn(!1);
                        return {
                            get: function() {
                                return r.get()
                            },
                            set: function(S) {
                                return r.set(S)
                            },
                            clear: function() {
                                return r.set(!1)
                            },
                            readState: function() {
                                return r.get()
                            }
                        }
                    }
                }
            })
              , ow = function() {
                var e = function(n, r) {
                    r.stop(),
                    ov(n)
                };
                return [gt(vd(), e), gt(gd(), e), ul(Pl()), ul(Pc())]
            }
              , ob = function(e) {
                return Lo(Gt([e.map(function(r) {
                    return cl(function(u, l) {
                        r(u),
                        l.stop()
                    })
                }).toArray(), ow()]))
            }
              , fS = "alloy.item-hover"
              , aw = "alloy.item-focus"
              , a = function(e) {
                (Qs(e.element).isNone() || sr.isFocused(e)) && (sr.isFocused(e) || sr.focus(e),
                Vn(e, fS, {
                    item: e
                }))
            }
              , c = function(e) {
                Vn(e, aw, {
                    item: e
                })
            }
              , v = Se(fS)
              , h = Se(aw)
              , E = [ot("data"), ot("components"), ot("dom"), Be("hasSubmenu", !1), To("toggling"), Wc_field("itemBehaviours", [io, sr, Yn, tn]), Be("ignoreFocus", !1), Be("domModification", {}), Ho("builder", function(e) {
                return {
                    dom: e.dom,
                    domModification: ae(ae({}, e.domModification), {
                        attributes: ae(ae(ae({
                            role: e.toggling.isSome() ? "menuitemcheckbox" : "menuitem"
                        }, e.domModification.attributes), {
                            "aria-haspopup": e.hasSubmenu
                        }), e.hasSubmenu ? {
                            "aria-expanded": !1
                        } : {})
                    }),
                    behaviours: Wc_augment(e.itemBehaviours, [e.toggling.fold(io.revoke, function(n) {
                        return io.config(ae({
                            aria: {
                                mode: "checked"
                            }
                        }, n))
                    }), sr.config({
                        ignore: e.ignoreFocus,
                        stopMousedown: e.ignoreFocus,
                        onFocus: function(n) {
                            c(n)
                        }
                    }), Yn.config({
                        mode: "execution"
                    }), tn.config({
                        store: {
                            mode: "memory",
                            initialValue: e.data
                        }
                    }), rn("item-type-events", Ct(Ct([], ow(), !0), [gt(nv(), a), gt($g(), sr.focus)], !1))]),
                    components: e.components,
                    eventOrder: e.eventOrder
                }
            }), Be("eventOrder", {})]
              , W = [ot("dom"), ot("components"), Ho("builder", function(e) {
                return {
                    dom: e.dom,
                    components: e.components,
                    events: Lo([d1($g())])
                }
            })]
              , Q = Se("item-widget")
              , se = Se([Va({
                name: "widget",
                overrides: function(e) {
                    return {
                        behaviours: Wt([tn.config({
                            store: {
                                mode: "manual",
                                getValue: function(n) {
                                    return e.data
                                },
                                setValue: Xe
                            }
                        })])
                    }
                }
            })])
              , nt = [ot("uid"), ot("data"), ot("components"), ot("dom"), Be("autofocus", !1), Be("ignoreFocus", !1), Wc_field("widgetBehaviours", [tn, sr, Yn]), Be("domModification", {}), ug(se()), Ho("builder", function(e) {
                var n = f2(Q(), e, se())
                  , r = Yh(Q(), e, n.internals())
                  , u = function(d) {
                    return Ro(d, e, "widget").map(function(p) {
                        return Yn.focusIn(p),
                        p
                    })
                }
                  , l = function(d, p) {
                    return jl(p.event.target) || e.autofocus && p.setSource(d.element),
                    D.none()
                };
                return {
                    dom: e.dom,
                    components: r,
                    domModification: e.domModification,
                    events: Lo([cl(function(d, p) {
                        u(d).each(function(S) {
                            p.stop()
                        })
                    }), gt(nv(), a), gt($g(), function(d, p) {
                        e.autofocus ? u(d) : sr.focus(d)
                    })]),
                    behaviours: Wc_augment(e.widgetBehaviours, [tn.config({
                        store: {
                            mode: "memory",
                            initialValue: e.data
                        }
                    }), sr.config({
                        ignore: e.ignoreFocus,
                        onFocus: function(d) {
                            c(d)
                        }
                    }), Yn.config({
                        mode: "special",
                        focusIn: e.autofocus ? function(d) {
                            u(d)
                        }
                        : pv(),
                        onLeft: l,
                        onRight: l,
                        onEscape: function(d, p) {
                            return sr.isFocused(d) || e.autofocus ? (e.autofocus && p.setSource(d.element),
                            D.none()) : (sr.focus(d),
                            D.some(!0))
                        }
                    })])
                }
            })]
              , At = Qu("type", {
                widget: nt,
                item: E,
                separator: W
            })
              , Kt = Se([ig({
                factory: {
                    sketch: function(e) {
                        var n = Bi("menu.spec item", At, e);
                        return n.builder(n)
                    }
                },
                name: "items",
                unit: "item",
                defaults: function(e, n) {
                    return yr(n, "uid") ? n : ae(ae({}, n), {
                        uid: cv("item")
                    })
                },
                overrides: function(e, n) {
                    return {
                        type: n.type,
                        ignoreFocus: e.fakeFocus,
                        domModification: {
                            classes: [e.markers.item]
                        }
                    }
                }
            })])
              , Qn = Se([ot("value"), ot("items"), ot("dom"), ot("components"), Be("eventOrder", {}), Wi("menuBehaviours", [_o, tn, qr, Yn]), ps("movement", {
                mode: "menu",
                moveOnTab: !0
            }, Qu("mode", {
                grid: [vl(), Ho("config", function(e, n) {
                    return {
                        mode: "flatgrid",
                        selector: "." + e.markers.item,
                        initSize: {
                            numColumns: n.initSize.numColumns,
                            numRows: n.initSize.numRows
                        },
                        focusManager: e.focusManager
                    }
                })],
                matrix: [Ho("config", function(e, n) {
                    return {
                        mode: "matrix",
                        selectors: {
                            row: n.rowSelector,
                            cell: "." + e.markers.item
                        },
                        focusManager: e.focusManager
                    }
                }), ot("rowSelector")],
                menu: [Be("moveOnTab", !0), Ho("config", function(e, n) {
                    return {
                        mode: "menu",
                        selector: "." + e.markers.item,
                        moveOnTab: n.moveOnTab,
                        focusManager: e.focusManager
                    }
                })]
            })), ui("markers", Ed()), Be("fakeFocus", !1), Be("focusManager", Wd()), vo("onHighlight")])
              , mo = Se("alloy.menu-focus")
              , rr = Lu({
                name: "Menu",
                configFields: Qn(),
                partFields: Kt(),
                factory: function(e, n, r, u) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        markers: e.markers,
                        behaviours: eu(e.menuBehaviours, [_o.config({
                            highlightClass: e.markers.selectedItem,
                            itemClass: e.markers.item,
                            onHighlight: e.onHighlight
                        }), tn.config({
                            store: {
                                mode: "memory",
                                initialValue: e.value
                            }
                        }), qr.config({
                            find: D.some
                        }), Yn.config(e.movement.config(e, e.movement))]),
                        events: Lo([gt(h(), function(l, d) {
                            var p = d.event;
                            l.getSystem().getByDom(p.target).each(function(S) {
                                _o.highlight(l, S),
                                d.stop(),
                                Vn(l, mo(), {
                                    menu: l,
                                    item: S
                                })
                            })
                        }), gt(v(), function(l, d) {
                            _o.highlight(l, d.event.item)
                        })]),
                        components: n,
                        eventOrder: e.eventOrder,
                        domModification: {
                            attributes: {
                                role: "menu"
                            }
                        }
                    }
                }
            })
              , $r = function(e, n, r, u) {
                return St(r, u).bind(function(l) {
                    return St(e, l).bind(function(d) {
                        var p = $r(e, n, r, d);
                        return D.some([d].concat(p))
                    })
                }).getOr([])
            }
              , Vu = function(e) {
                return "prepared" === e.type ? D.some(e.menu) : D.none()
            }
              , lo_init = function() {
                var e = Xn({})
                  , n = Xn({})
                  , r = Xn({})
                  , u = ni()
                  , l = Xn({})
                  , de = function(_e) {
                    return Te(_e).bind(Vu)
                }
                  , Te = function(_e) {
                    return St(n.get(), _e)
                }
                  , ce = function(_e) {
                    return St(e.get(), _e)
                };
                return {
                    setMenuBuilt: function(_e, Ue) {
                        var ut;
                        n.set(ae(ae({}, n.get()), ((ut = {})[_e] = {
                            type: "prepared",
                            menu: Ue
                        },
                        ut)))
                    },
                    setContents: function(_e, Ue, ut, Jt) {
                        u.set(_e),
                        e.set(ut),
                        n.set(Ue),
                        l.set(Jt);
                        var ht = function(e, n) {
                            var r = {};
                            Ar(e, function(p, S) {
                                Re(p, function(T) {
                                    r[T] = S
                                })
                            });
                            var u = n
                              , l = function(e) {
                                return Do(e, function(n, r) {
                                    return {
                                        k: n,
                                        v: r
                                    }
                                })
                            }(n)
                              , d = ee(l, function(p, S) {
                                return [S].concat($r(r, u, l, S))
                            });
                            return ee(r, function(p) {
                                return St(d, p).getOr([p])
                            })
                        }(Jt, ut);
                        r.set(ht)
                    },
                    expand: function(_e) {
                        return St(e.get(), _e).map(function(Ue) {
                            var ut = St(r.get(), _e).getOr([]);
                            return [Ue].concat(ut)
                        })
                    },
                    refresh: function(_e) {
                        return St(r.get(), _e)
                    },
                    collapse: function(_e) {
                        return St(r.get(), _e).bind(function(Ue) {
                            return Ue.length > 1 ? D.some(Ue.slice(1)) : D.none()
                        })
                    },
                    lookupMenu: Te,
                    lookupItem: ce,
                    otherMenus: function(_e) {
                        var Ue = l.get();
                        return ja(An(Ue), _e)
                    },
                    getPrimary: function() {
                        return u.get().bind(de)
                    },
                    getMenus: function() {
                        return n.get()
                    },
                    clear: function() {
                        e.set({}),
                        n.set({}),
                        r.set({}),
                        u.clear()
                    },
                    isClear: function() {
                        return u.get().isNone()
                    },
                    getTriggeringPath: function(_e, Ue) {
                        var ut = je(ce(_e).toArray(), function(Jt) {
                            return de(Jt).isSome()
                        });
                        return St(r.get(), _e).bind(function(Jt) {
                            var ht = Fo(ut.concat(Jt));
                            return function(e) {
                                for (var n = [], r = 0; r < e.length; r++) {
                                    var u = e[r];
                                    if (!u.isSome())
                                        return D.none();
                                    n.push(u.getOrDie())
                                }
                                return D.some(n)
                            }(Un(ht, function(yt, it) {
                                return function(_e, Ue, ut) {
                                    return de(_e).bind(function(Jt) {
                                        return function(_e) {
                                            return Mo(e.get(), function(Ue, ut) {
                                                return Ue === _e
                                            })
                                        }(_e).bind(function(ht) {
                                            return Ue(ht).map(function(Qt) {
                                                return {
                                                    triggeredMenu: Jt,
                                                    triggeringItem: Qt,
                                                    triggeringPath: ut
                                                }
                                            })
                                        })
                                    })
                                }(yt, Ue, ht.slice(0, it + 1)).fold(function() {
                                    return qo(u.get(), yt) ? [] : [D.none()]
                                }, function($t) {
                                    return [D.some($t)]
                                })
                            }))
                        })
                    }
                }
            }
              , lo_extractPreparedMenu = Vu
              , ro = Se("collapse-item")
              , us = nc({
                name: "TieredMenu",
                configFields: [C1("onExecute"), C1("onEscape"), fl("onOpenMenu"), fl("onOpenSubmenu"), vo("onRepositionMenu"), vo("onCollapseMenu"), Be("highlightImmediately", !0), cc("data", [ot("primary"), ot("menus"), ot("expansions")]), Be("fakeFocus", !1), vo("onHighlight"), vo("onHover"), Rm(), ot("dom"), Be("navigateOnHover", !0), Be("stayInDom", !1), Wi("tmenuBehaviours", [Yn, _o, qr, pr]), Be("eventOrder", {})],
                apis: {
                    collapseMenu: function(e, n) {
                        e.collapseMenu(n)
                    },
                    highlightPrimary: function(e, n) {
                        e.highlightPrimary(n)
                    },
                    repositionMenus: function(e, n) {
                        e.repositionMenus(n)
                    }
                },
                factory: function(e, n) {
                    var r = ni()
                      , l = lo_init()
                      , p = function(mt) {
                        return tn.getValue(mt).value
                    }
                      , T = function(mt) {
                        return ee(e.data.menus, function(yn, Ln) {
                            return Un(yn.items, function(Yr) {
                                return "separator" === Yr.type ? [] : [Yr.data.value]
                            })
                        })
                    }
                      , O = function(mt, yn) {
                        _o.highlight(mt, yn),
                        _o.getHighlighted(yn).orThunk(function() {
                            return _o.getFirst(yn)
                        }).each(function(Ln) {
                            l1(mt, Ln.element, $g())
                        })
                    }
                      , I = function(mt, yn) {
                        return fa(re(yn, function(Ln) {
                            return mt.lookupMenu(Ln).bind(function(Yr) {
                                return "prepared" === Yr.type ? D.some(Yr.menu) : D.none()
                            })
                        }))
                    }
                      , $ = function(mt, yn, Ln) {
                        var Yr = I(yn, yn.otherMenus(Ln));
                        Re(Yr, function(Oo) {
                            lu(Oo.element, [e.markers.backgroundMenu]),
                            e.stayInDom || pr.remove(mt, Oo)
                        })
                    }
                      , Z = function(mt, yn) {
                        var Ln = function(mt) {
                            return r.get().getOrThunk(function() {
                                var yn = {}
                                  , Ln = as(mt.element, "." + e.markers.item)
                                  , Yr = je(Ln, function(Oo) {
                                    return "true" === Hn(Oo, "aria-haspopup")
                                });
                                return Re(Yr, function(Oo) {
                                    mt.getSystem().getByDom(Oo).each(function(sa) {
                                        var Wa = p(sa);
                                        yn[Wa] = sa
                                    })
                                }),
                                r.set(yn),
                                yn
                            })
                        }(mt);
                        Ar(Ln, function(Yr, Oo) {
                            var sa = nn(yn, Oo);
                            wr(Yr.element, "aria-expanded", sa)
                        })
                    }
                      , te = function(mt, yn, Ln) {
                        return D.from(Ln[0]).bind(function(Yr) {
                            return yn.lookupMenu(Yr).bind(function(Oo) {
                                if ("notbuilt" === Oo.type)
                                    return D.none();
                                var sa = Oo.menu
                                  , Wa = I(yn, Ln.slice(1));
                                return Re(Wa, function(xc) {
                                    ki(xc.element, e.markers.backgroundMenu)
                                }),
                                no(sa.element) || pr.append(mt, hc(sa)),
                                lu(sa.element, [e.markers.backgroundMenu]),
                                O(mt, sa),
                                $(mt, yn, Ln),
                                D.some(sa)
                            })
                        })
                    }
                      , de = (()=>{
                        return (mt = de || (de = {}))[mt.HighlightSubmenu = 0] = "HighlightSubmenu",
                        mt[mt.HighlightParent = 1] = "HighlightParent",
                        de;
                        var mt
                    }
                    )()
                      , ce = function(mt, yn, Ln) {
                        if (void 0 === Ln && (Ln = de.HighlightSubmenu),
                        yn.hasConfigured(On) && On.isDisabled(yn))
                            return D.some(yn);
                        var Yr = p(yn);
                        return l.expand(Yr).bind(function(Oo) {
                            return Z(mt, Oo),
                            D.from(Oo[0]).bind(function(sa) {
                                return l.lookupMenu(sa).bind(function(Wa) {
                                    var xc = function(mt, yn, Ln) {
                                        if ("notbuilt" === Ln.type) {
                                            var Yr = mt.getSystem().build(Ln.nbMenu());
                                            return l.setMenuBuilt(yn, Yr),
                                            Yr
                                        }
                                        return Ln.menu
                                    }(mt, sa, Wa);
                                    return no(xc.element) || pr.append(mt, hc(xc)),
                                    e.onOpenSubmenu(mt, yn, xc, Fo(Oo)),
                                    Ln === de.HighlightSubmenu ? (_o.highlightFirst(xc),
                                    te(mt, l, Oo)) : (_o.dehighlightAll(xc),
                                    D.some(yn))
                                })
                            })
                        })
                    }
                      , ke = function(mt, yn) {
                        var Ln = p(yn);
                        return l.collapse(Ln).bind(function(Yr) {
                            return Z(mt, Yr),
                            te(mt, l, Yr).map(function(Oo) {
                                return e.onCollapseMenu(mt, yn, Oo),
                                Oo
                            })
                        })
                    }
                      , ut = function(mt) {
                        return function(yn, Ln) {
                            return Ic(Ln.getSource(), "." + e.markers.item).bind(function(Yr) {
                                return yn.getSystem().getByDom(Yr).toOptional().bind(function(Oo) {
                                    return mt(yn, Oo).map(ge)
                                })
                            })
                        }
                    }
                      , Jt = Lo([gt(mo(), function(mt, yn) {
                        l.lookupItem(p(yn.event.item)).each(function() {
                            _o.highlight(mt, yn.event.menu);
                            var Oo = p(yn.event.item);
                            l.refresh(Oo).each(function(sa) {
                                return $(mt, l, sa)
                            })
                        })
                    }), cl(function(mt, yn) {
                        var Ln = yn.event.target;
                        mt.getSystem().getByDom(Ln).each(function(Yr) {
                            0 === p(Yr).indexOf("collapse-item") && ke(mt, Yr),
                            ce(mt, Yr, de.HighlightSubmenu).fold(function() {
                                e.onExecute(mt, Yr)
                            }, Xe)
                        })
                    }), pa(function(mt, yn) {
                        (function(mt) {
                            var yn = function(mt, yn, Ln) {
                                return ee(Ln, function(Yr, Oo) {
                                    var sa = function() {
                                        return rr.sketch(ae(ae({}, Yr), {
                                            value: Oo,
                                            markers: e.markers,
                                            fakeFocus: e.fakeFocus,
                                            onHighlight: e.onHighlight,
                                            focusManager: e.fakeFocus ? Kl() : Wd()
                                        }))
                                    };
                                    return Oo === yn ? {
                                        type: "prepared",
                                        menu: mt.getSystem().build(sa())
                                    } : {
                                        type: "notbuilt",
                                        nbMenu: sa
                                    }
                                })
                            }(mt, e.data.primary, e.data.menus)
                              , Ln = T();
                            return l.setContents(e.data.primary, yn, e.data.expansions, Ln),
                            l.getPrimary()
                        }
                        )(mt).each(function(Ln) {
                            pr.append(mt, hc(Ln)),
                            e.onOpenMenu(mt, Ln),
                            e.highlightImmediately && O(mt, Ln)
                        })
                    })].concat(e.navigateOnHover ? [gt(v(), function(mt, yn) {
                        var Ln = yn.event.item;
                        (function(mt, yn) {
                            var Ln = p(yn);
                            l.refresh(Ln).bind(function(Yr) {
                                return Z(mt, Yr),
                                te(mt, l, Yr)
                            })
                        }
                        )(mt, Ln),
                        ce(mt, Ln, de.HighlightParent),
                        e.onHover(mt, Ln)
                    })] : []))
                      , ht = function(mt) {
                        return _o.getHighlighted(mt).bind(_o.getHighlighted)
                    }
                      , kn = {
                        collapseMenu: function(mt) {
                            ht(mt).each(function(yn) {
                                ke(mt, yn)
                            })
                        },
                        highlightPrimary: function(mt) {
                            l.getPrimary().each(function(yn) {
                                O(mt, yn)
                            })
                        },
                        repositionMenus: function(mt) {
                            l.getPrimary().bind(function(Ln) {
                                return ht(mt).bind(function(Yr) {
                                    var Oo = p(Yr)
                                      , sa = Qr(l.getMenus())
                                      , Wa = fa(re(sa, lo_extractPreparedMenu));
                                    return l.getTriggeringPath(Oo, function(xc) {
                                        return function(mt, yn, Ln) {
                                            return Sr(yn, function(Yr) {
                                                if (!Yr.getSystem().isConnected())
                                                    return D.none();
                                                var Oo = _o.getCandidates(Yr);
                                                return $n(Oo, function(sa) {
                                                    return p(sa) === Ln
                                                })
                                            })
                                        }(0, Wa, xc)
                                    })
                                }).map(function(Yr) {
                                    return {
                                        primary: Ln,
                                        triggeringPath: Yr
                                    }
                                })
                            }).fold(function() {
                                (function(mt) {
                                    return D.from(mt.components()[0]).filter(function(yn) {
                                        return "menu" === Hn(yn.element, "role")
                                    })
                                }
                                )(mt).each(function(Ln) {
                                    e.onRepositionMenu(mt, Ln, [])
                                })
                            }, function(Ln) {
                                e.onRepositionMenu(mt, Ln.primary, Ln.triggeringPath)
                            })
                        }
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        markers: e.markers,
                        behaviours: eu(e.tmenuBehaviours, [Yn.config({
                            mode: "special",
                            onRight: ut(function(mt, yn) {
                                return jl(yn.element) ? D.none() : ce(mt, yn, de.HighlightSubmenu)
                            }),
                            onLeft: ut(function(mt, yn) {
                                return jl(yn.element) ? D.none() : ke(mt, yn)
                            }),
                            onEscape: ut(function(mt, yn) {
                                return ke(mt, yn).orThunk(function() {
                                    return e.onEscape(mt, yn).map(function() {
                                        return mt
                                    })
                                })
                            }),
                            focusIn: function(mt, yn) {
                                l.getPrimary().each(function(Ln) {
                                    l1(mt, Ln.element, $g())
                                })
                            }
                        }), _o.config({
                            highlightClass: e.markers.selectedMenu,
                            itemClass: e.markers.menu
                        }), qr.config({
                            find: function(mt) {
                                return _o.getHighlighted(mt)
                            }
                        }), pr.config({})]),
                        eventOrder: e.eventOrder,
                        apis: kn,
                        events: Jt
                    }
                },
                extraApis: {
                    tieredData: function(e, n, r) {
                        return {
                            primary: e,
                            menus: n,
                            expansions: r
                        }
                    },
                    singleData: function(e, n) {
                        return {
                            primary: e,
                            menus: Mc(e, n),
                            expansions: {}
                        }
                    },
                    collapseItem: function(e) {
                        return {
                            value: Pn(ro()),
                            meta: {
                                text: e
                            }
                        }
                    }
                }
            })
              , ya = nc({
                name: "InlineView",
                configFields: [ot("lazySink"), vo("onShow"), vo("onHide"), rl("onEscape"), Wi("inlineBehaviours", [Gr, tn, Zs]), Ui("fireDismissalEventInstead", [Be("event", fc())]), Ui("fireRepositionEventInstead", [Be("event", Hb())]), Be("getRelated", D.none), Be("isExtraPart", st), Be("eventOrder", D.none)],
                factory: function(e, n) {
                    var d = function(Z, te, de, Te) {
                        p(Z, te, de, function() {
                            return Te.map(function(ce) {
                                return Ji(ce)
                            })
                        })
                    }
                      , p = function(Z, te, de, Te) {
                        var ce = e.lazySink(Z).getOrDie();
                        Gr.openWhileCloaked(Z, te, function() {
                            return Au.positionWithinBounds(ce, Z, de, Te())
                        }),
                        tn.setValue(Z, D.some({
                            mode: "position",
                            config: de,
                            getBounds: Te
                        }))
                    }
                      , T = function(Z, te, de, Te) {
                        var ce = function(e, n, r, u, l) {
                            var d = function() {
                                return e.lazySink(n)
                            }
                              , p = "horizontal" === u.type ? {
                                layouts: {
                                    onLtr: function() {
                                        return zs()
                                    },
                                    onRtl: function() {
                                        return A1()
                                    }
                                }
                            } : {}
                              , T = function(O) {
                                return function(O) {
                                    return 2 === O.length
                                }(O) ? p : {}
                            };
                            return us.sketch({
                                dom: {
                                    tag: "div"
                                },
                                data: u.data,
                                markers: u.menu.markers,
                                highlightImmediately: u.menu.highlightImmediately,
                                onEscape: function() {
                                    return Gr.close(n),
                                    e.onEscape.map(function(O) {
                                        return O(n)
                                    }),
                                    D.some(!0)
                                },
                                onExecute: function() {
                                    return D.some(!0)
                                },
                                onOpenMenu: function(O, I) {
                                    Au.positionWithinBounds(d().getOrDie(), I, r, l())
                                },
                                onOpenSubmenu: function(O, I, $, q) {
                                    var Z = d().getOrDie();
                                    Au.position(Z, $, {
                                        anchor: ae({
                                            type: "submenu",
                                            item: I
                                        }, T(q))
                                    })
                                },
                                onRepositionMenu: function(O, I, $) {
                                    var q = d().getOrDie();
                                    Au.positionWithinBounds(q, I, r, l()),
                                    Re($, function(Z) {
                                        var te = T(Z.triggeringPath);
                                        Au.position(q, Z.triggeredMenu, {
                                            anchor: ae({
                                                type: "submenu",
                                                item: Z.triggeringItem
                                            }, te)
                                        })
                                    })
                                }
                            })
                        }(e, Z, te, de, Te);
                        Gr.open(Z, ce),
                        tn.setValue(Z, D.some({
                            mode: "menu",
                            menu: ce
                        }))
                    }
                      , $ = function(Z) {
                        Gr.isOpen(Z) && tn.getValue(Z).each(function(te) {
                            switch (te.mode) {
                            case "menu":
                                Gr.getState(Z).each(us.repositionMenus);
                                break;
                            case "position":
                                var de = e.lazySink(Z).getOrDie();
                                Au.positionWithinBounds(de, Z, te.config, te.getBounds())
                            }
                        })
                    }
                      , q = {
                        setContent: function(Z, te) {
                            Gr.setContent(Z, te)
                        },
                        showAt: function(Z, te, de) {
                            d(Z, te, de, D.none())
                        },
                        showWithin: d,
                        showWithinBounds: p,
                        showMenuAt: function(Z, te, de) {
                            T(Z, te, de, D.none)
                        },
                        showMenuWithinBounds: T,
                        hide: function(Z) {
                            Gr.isOpen(Z) && (tn.setValue(Z, D.none()),
                            Gr.close(Z))
                        },
                        getContent: function(Z) {
                            return Gr.getState(Z)
                        },
                        reposition: $,
                        isOpen: Gr.isOpen
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        behaviours: eu(e.inlineBehaviours, [Gr.config({
                            isPartOf: function(Z, te, de) {
                                return Lc(te, de) || function(Z, te) {
                                    return e.getRelated(Z).exists(function(Te) {
                                        return Lc(Te, te)
                                    })
                                }(Z, de)
                            },
                            getAttachPoint: function(Z) {
                                return e.lazySink(Z).getOrDie()
                            },
                            onOpen: function(Z) {
                                e.onShow(Z)
                            },
                            onClose: function(Z) {
                                e.onHide(Z)
                            }
                        }), tn.config({
                            store: {
                                mode: "memory",
                                initialValue: D.none()
                            }
                        }), Zs.config({
                            channels: ae(ae({}, s0(ae({
                                isExtraPart: n.isExtraPart
                            }, e.fireDismissalEventInstead.map(function(Z) {
                                return {
                                    fireEventInstead: {
                                        event: Z.event
                                    }
                                }
                            }).getOr({})))), l0(ae(ae({}, e.fireRepositionEventInstead.map(function(Z) {
                                return {
                                    fireEventInstead: {
                                        event: Z.event
                                    }
                                }
                            }).getOr({})), {
                                doReposition: $
                            })))
                        })]),
                        eventOrder: e.eventOrder,
                        apis: q
                    }
                },
                apis: {
                    showAt: function(e, n, r, u) {
                        e.showAt(n, r, u)
                    },
                    showWithin: function(e, n, r, u, l) {
                        e.showWithin(n, r, u, l)
                    },
                    showWithinBounds: function(e, n, r, u, l) {
                        e.showWithinBounds(n, r, u, l)
                    },
                    showMenuAt: function(e, n, r, u) {
                        e.showMenuAt(n, r, u)
                    },
                    showMenuWithinBounds: function(e, n, r, u, l) {
                        e.showMenuWithinBounds(n, r, u, l)
                    },
                    hide: function(e, n) {
                        e.hide(n)
                    },
                    isOpen: function(e, n) {
                        return e.isOpen(n)
                    },
                    getContent: function(e, n) {
                        return e.getContent(n)
                    },
                    setContent: function(e, n, r) {
                        e.setContent(n, r)
                    },
                    reposition: function(e, n) {
                        e.reposition(n)
                    }
                }
            })
              , qc = "layout-inset"
              , wl = function(e) {
                return e.x
            }
              , Kc = function(e, n) {
                return e.x + e.width / 2 - n.width / 2
            }
              , wc = function(e, n) {
                return e.x + e.width - n.width
            }
              , ab = function(e) {
                return e.y
            }
              , bg = function(e, n) {
                return e.y + e.height - n.height
            }
              , iw = function(e, n) {
                return e.y + e.height / 2 - n.height / 2
            }
              , ib = function(e, n, r) {
                return na(wc(e, n), bg(e, n), r.insetSouthwest(), S1(), "southwest", ci(e, {
                    right: 0,
                    bottom: 3
                }), qc)
            }
              , ub = function(e, n, r) {
                return na(wl(e), bg(e, n), r.insetSoutheast(), ah(), "southeast", ci(e, {
                    left: 1,
                    bottom: 3
                }), qc)
            }
              , bp = function(e, n, r) {
                return na(wc(e, n), ab(e), r.insetNorthwest(), Pm(), "northwest", ci(e, {
                    right: 0,
                    top: 2
                }), qc)
            }
              , tf = function(e, n, r) {
                return na(wl(e), ab(e), r.insetNortheast(), oh(), "northeast", ci(e, {
                    left: 1,
                    top: 2
                }), qc)
            }
              , xl = function(e, n, r) {
                return na(Kc(e, n), ab(e), r.insetNorth(), Bm(), "north", ci(e, {
                    top: 2
                }), qc)
            }
              , nf = function(e, n, r) {
                return na(Kc(e, n), bg(e, n), r.insetSouth(), ih(), "south", ci(e, {
                    bottom: 3
                }), qc)
            }
              , vS = function(e, n, r) {
                return na(wc(e, n), iw(e, n), r.insetEast(), Ad(), "east", ci(e, {
                    right: 0
                }), qc)
            }
              , YT = function(e, n, r) {
                return na(wl(e), iw(e, n), r.insetWest(), ay(), "west", ci(e, {
                    left: 1
                }), qc)
            }
              , H3 = function(e) {
                switch (e) {
                case "north":
                    return xl;
                case "northeast":
                    return tf;
                case "northwest":
                    return bp;
                case "south":
                    return nf;
                case "southeast":
                    return ub;
                case "southwest":
                    return ib;
                case "east":
                    return vS;
                case "west":
                    return YT
                }
            }
              , $3 = function(e, n, r, u, l) {
                return gy(u).map(H3).getOr(xl)(e, n, r, u, l)
            }
              , V3 = function(e) {
                switch (e) {
                case "north":
                    return nf;
                case "northeast":
                    return ub;
                case "northwest":
                    return ib;
                case "south":
                    return xl;
                case "southeast":
                    return tf;
                case "southwest":
                    return bp;
                case "east":
                    return YT;
                case "west":
                    return vS
                }
            }
              , U3 = function(e, n, r, u, l) {
                return gy(u).map(V3).getOr(xl)(e, n, r, u, l)
            }
              , Hv = tinymce.util.Tools.resolve("tinymce.util.Delay")
              , Is = nc({
                name: "Button",
                factory: function(e) {
                    var n = ob(e.action)
                      , r = e.dom.tag
                      , u = function(d) {
                        return St(e.dom, "attributes").bind(function(p) {
                            return St(p, d)
                        })
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: e.components,
                        events: n,
                        behaviours: Wc_augment(e.buttonBehaviours, [sr.config({}), Yn.config({
                            mode: "execution",
                            useSpace: !0,
                            useEnter: !0
                        })]),
                        domModification: {
                            attributes: function() {
                                if ("button" === r) {
                                    var d = u("type").getOr("button")
                                      , p = u("role").map(function(T) {
                                        return {
                                            role: T
                                        }
                                    }).getOr({});
                                    return ae({
                                        type: d
                                    }, p)
                                }
                                return {
                                    role: u("role").getOr("button")
                                }
                            }()
                        },
                        eventOrder: e.eventOrder
                    }
                },
                configFields: [Be("uid", void 0), ot("dom"), Be("components", []), Wc_field("buttonBehaviours", [sr, Yn]), To("action"), To("role"), Be("eventOrder", {})]
            })
              , ko = function(e) {
                var n = function(e) {
                    return void 0 !== e.uid
                }(e) && en(e, "uid") ? e.uid : cv("memento");
                return {
                    get: function(d) {
                        return d.getSystem().getByUid(n).getOrDie()
                    },
                    getOpt: function(d) {
                        return d.getSystem().getByUid(n).toOptional()
                    },
                    asSpec: function() {
                        return ae(ae({}, e), {
                            uid: n
                        })
                    }
                }
            }
              , rf = tinymce.util.Tools.resolve("tinymce.util.I18n")
              , rk = {
                indent: !0,
                outdent: !0,
                "table-insert-column-after": !0,
                "table-insert-column-before": !0,
                "paste-column-after": !0,
                "paste-column-before": !0,
                "unordered-list": !0,
                "list-bull-circle": !0,
                "list-bull-default": !0,
                "list-bull-square": !0
            }
              , ZT = "temporary-placeholder"
              , dS = function(e) {
                return function() {
                    return St(e, ZT).getOr("!not found!")
                }
            }
              , mS = function(e, n) {
                var r = e.toLowerCase();
                if (rf.isRtl()) {
                    var u = function(e, n) {
                        return qa(e, n) ? e : function(e, n) {
                            return e + "-rtl"
                        }(e)
                    }(r, "-rtl");
                    return yr(n, u) ? u : r
                }
                return r
            }
              , W3 = function(e, n) {
                return St(n, mS(e, n))
            }
              , QT = function(e, n) {
                var r = n();
                return W3(e, r).getOrThunk(dS(r))
            }
              , gS = function() {
                return rn("add-focusable", [pa(function(e) {
                    (function(e, n) {
                        return function(e, n) {
                            return $n(e.dom.childNodes, function(l) {
                                return n(Ie_fromDom(l))
                            }).map(Ie_fromDom)
                        }(e, function(r) {
                            return vs(r, n)
                        })
                    }
                    )(e.element, "svg").each(function(n) {
                        return wr(n, "focusable", "false")
                    })
                })])
            }
              , uw = function(e, n, r, u) {
                var l, d, p = function(e) {
                    return !!rf.isRtl() && yr(rk, e)
                }(n) ? ["tox-icon--flip"] : [], S = St(r, mS(n, r)).or(u).getOrThunk(dS(r));
                return {
                    dom: {
                        tag: e.tag,
                        attributes: null !== (l = e.attributes) && void 0 !== l ? l : {},
                        classes: e.classes.concat(p),
                        innerHtml: S
                    },
                    behaviours: Wt(Ct(Ct([], null !== (d = e.behaviours) && void 0 !== d ? d : [], !0), [gS()], !1))
                }
            }
              , If = function(e, n, r, u) {
                return void 0 === u && (u = D.none()),
                uw(n, e, r(), u)
            }
              , G3 = {
                success: "checkmark",
                error: "warning",
                err: "error",
                warning: "warning",
                warn: "warning",
                info: "info"
            }
              , sw = nc({
                name: "Notification",
                factory: function(e) {
                    var n = ko({
                        dom: {
                            tag: "p",
                            innerHtml: e.translationProvider(e.text)
                        },
                        behaviours: Wt([pr.config({})])
                    })
                      , r = function(Z) {
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-bar"],
                                attributes: {
                                    style: "width: " + Z + "%"
                                }
                            }
                        }
                    }
                      , u = function(Z) {
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-text"],
                                innerHtml: Z + "%"
                            }
                        }
                    }
                      , l = ko({
                        dom: {
                            tag: "div",
                            classes: e.progress ? ["tox-progress-bar", "tox-progress-indicator"] : ["tox-progress-bar"]
                        },
                        components: [{
                            dom: {
                                tag: "div",
                                classes: ["tox-bar-container"]
                            },
                            components: [r(0)]
                        }, u(0)],
                        behaviours: Wt([pr.config({})])
                    })
                      , S = {
                        updateProgress: function(Z, te) {
                            Z.getSystem().isConnected() && l.getOpt(Z).each(function(de) {
                                pr.set(de, [{
                                    dom: {
                                        tag: "div",
                                        classes: ["tox-bar-container"]
                                    },
                                    components: [r(te)]
                                }, u(te)])
                            })
                        },
                        updateText: function(Z, te) {
                            if (Z.getSystem().isConnected()) {
                                var de = n.get(Z);
                                pr.set(de, [Fu(te)])
                            }
                        }
                    }
                      , T = Gt([e.icon.toArray(), e.level.toArray(), e.level.bind(function(Z) {
                        return D.from(G3[Z])
                    }).toArray()])
                      , O = ko(Is.sketch({
                        dom: {
                            tag: "button",
                            classes: ["tox-notification__dismiss", "tox-button", "tox-button--naked", "tox-button--icon"]
                        },
                        components: [If("close", {
                            tag: "div",
                            classes: ["tox-icon"],
                            attributes: {
                                "aria-label": e.translationProvider("Close")
                            }
                        }, e.iconProvider)],
                        action: function(Z) {
                            e.onAction(Z)
                        }
                    }))
                      , I = function(e, n, r) {
                        var u = r()
                          , l = $n(e, function(d) {
                            return yr(u, mS(d, u))
                        });
                        return uw({
                            tag: "div",
                            classes: ["tox-notification__icon"]
                        }, l.getOr(ZT), u, D.none())
                    }(T, 0, e.iconProvider)
                      , q = [I, {
                        dom: {
                            tag: "div",
                            classes: ["tox-notification__body"]
                        },
                        components: [n.asSpec()],
                        behaviours: Wt([pr.config({})])
                    }];
                    return {
                        uid: e.uid,
                        dom: {
                            tag: "div",
                            attributes: {
                                role: "alert"
                            },
                            classes: e.level.map(function(Z) {
                                return ["tox-notification", "tox-notification--in", "tox-notification--" + Z]
                            }).getOr(["tox-notification", "tox-notification--in"])
                        },
                        behaviours: Wt([sr.config({}), rn("notification-events", [gt(xf(), function(Z) {
                            O.getOpt(Z).each(sr.focus)
                        })])]),
                        components: q.concat(e.progress ? [l.asSpec()] : []).concat(e.closeButton ? [O.asSpec()] : []),
                        apis: S
                    }
                },
                configFields: [To("level"), ot("progress"), ot("icon"), ot("onAction"), ot("text"), ot("iconProvider"), ot("translationProvider"), Qa("closeButton", !0)],
                apis: {
                    updateProgress: function(e, n, r) {
                        e.updateProgress(n, r)
                    },
                    updateText: function(e, n, r) {
                        e.updateText(n, r)
                    }
                }
            });
            var xk, hS = function(e, n) {
                var r = null
                  , u = function() {
                    gn(r) || (clearTimeout(r),
                    r = null)
                };
                return {
                    cancel: u,
                    throttle: function() {
                        for (var d = [], p = 0; p < arguments.length; p++)
                            d[p] = arguments[p];
                        u(),
                        r = setTimeout(function() {
                            r = null,
                            e.apply(null, d)
                        }, n)
                    }
                }
            }, wp = tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"), K3 = function(e, n, r, u, l) {
                var d = wp(e, function(p) {
                    return function(e, n) {
                        return e.isBlock(n) || nn(["BR", "IMG", "HR", "INPUT"], n.nodeName) || "false" === e.getContentEditable(n)
                    }(e, p)
                });
                return D.from(d.backwards(n, r, u, l))
            }, pS = function(e, n) {
                return bS(Ie_fromDom(e.selection.getNode())).getOrThunk(function() {
                    var r = Ie_fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>', e.getDoc());
                    return Ri(r, Ie_fromDom(n.extractContents())),
                    n.insertNode(r.dom),
                    L(r).each(function(u) {
                        return u.dom.normalize()
                    }),
                    function(e) {
                        return function(e, n) {
                            var r = function(u) {
                                for (var l = G(u), d = l.length - 1; d >= 0; d--) {
                                    var p = l[d];
                                    if (n(p))
                                        return D.some(p);
                                    var S = r(p);
                                    if (S.isSome())
                                        return S
                                }
                                return D.none()
                            };
                            return r(e)
                        }(e, Fx)
                    }(r).map(function(u) {
                        e.selection.setCursorLocation(u.dom, function(e) {
                            return "img" === so(e) ? 1 : X1(e).fold(function() {
                                return G(e).length
                            }, function(n) {
                                return n.length
                            })
                        }(u))
                    }),
                    r
                })
            }, bS = function(e) {
                return Ic(e, "[data-mce-autocompleter]")
            }, t3 = function(e) {
                return e.toString().replace(/\u00A0/g, " ").replace(/\uFEFF/g, "")
            }, Ls = function(e) {
                return "" !== e && -1 !== " \xa0\f\n\r\t\v".indexOf(e)
            }, n3 = function(e, n) {
                return e.substring(n.length)
            }, o3 = function(e, n, r, u) {
                return void 0 === u && (u = 0),
                bS(Ie_fromDom(n.startContainer)).fold(function() {
                    return function(e, n, r, u) {
                        if (void 0 === u && (u = 0),
                        !function(e) {
                            return e.collapsed && 3 === e.startContainer.nodeType
                        }(n))
                            return D.none();
                        var d = e.getParent(n.startContainer, e.isBlock) || e.getRoot();
                        return K3(e, n.startContainer, n.startOffset, function(p, S, T) {
                            return function(e, n, r) {
                                var u;
                                for (u = n - 1; u >= 0; u--) {
                                    var l = e.charAt(u);
                                    if (Ls(l))
                                        return D.none();
                                    if (l === r)
                                        break
                                }
                                return D.some(u)
                            }(T, S, r).getOr(S)
                        }, d).bind(function(p) {
                            var S = n.cloneRange();
                            if (S.setStart(p.container, p.offset),
                            S.setEnd(n.endContainer, n.endOffset),
                            S.collapsed)
                                return D.none();
                            var T = t3(S);
                            return 0 !== T.lastIndexOf(r) || n3(T, r).length < u ? D.none() : D.some({
                                text: n3(T, r),
                                range: S,
                                triggerChar: r
                            })
                        })
                    }(e, n, r, u)
                }, function(l) {
                    var d = e.createRng();
                    d.selectNode(l.dom);
                    var p = t3(d);
                    return D.some({
                        range: d,
                        text: n3(p, r),
                        triggerChar: r
                    })
                })
            }, Lf = tinymce.util.Tools.resolve("tinymce.util.Promise"), a3 = function(e, n) {
                return {
                    container: e,
                    offset: n
                }
            }, sb = function(e) {
                if (function(e) {
                    return 3 === e.nodeType
                }(e))
                    return a3(e, e.data.length);
                var n = e.childNodes;
                return n.length > 0 ? sb(n[n.length - 1]) : a3(e, n.length)
            }, lw = function(e, n) {
                var r = e.childNodes;
                return r.length > 0 && n < r.length ? lw(r[n], 0) : r.length > 0 && function(e) {
                    return 1 === e.nodeType
                }(e) && r.length === n ? sb(r[r.length - 1]) : a3(e, n)
            }, yg = function(e, n, r, u) {
                void 0 === u && (u = {});
                var l = n()
                  , p = e.selection.getRng().startContainer.nodeValue
                  , S = je(l.lookupByChar(r.triggerChar), function(O) {
                    return r.text.length >= O.minChars && O.matches.getOrThunk(function() {
                        return function(e) {
                            return function(n) {
                                var r = lw(n.startContainer, n.startOffset);
                                return !function(e, n) {
                                    return K3(e, n.container, n.offset, function(r, u) {
                                        return 0 === u ? -1 : u
                                    }, e.getRoot()).filter(function(r) {
                                        var u = r.container.data.charAt(r.offset - 1);
                                        return !Ls(u)
                                    }).isSome()
                                }(e, r)
                            }
                        }(e.dom)
                    })(r.range, p, r.text)
                });
                if (0 === S.length)
                    return D.none();
                var T = Lf.all(re(S, function(O) {
                    return O.fetch(r.text, O.maxResults, u).then(function($) {
                        return {
                            matchText: r.text,
                            items: $,
                            columns: O.columns,
                            onAction: O.onAction,
                            highlightOn: O.highlightOn
                        }
                    })
                }));
                return D.some({
                    lookupData: T,
                    context: r
                })
            }, fw = Wn([fr("type"), Ko("text")]), Q3 = Wn([Be("type", "autocompleteitem"), Be("active", !1), Be("disabled", !1), Be("meta", {}), fr("value"), Ko("text"), Ko("icon")]), ck = Wn([fr("type"), fr("ch"), ol("minChars", 1), Be("columns", 1), ol("maxResults", 10), rl("matches"), yi("fetch"), yi("onAction"), Lg("highlightOn", [], Uo)]), cb = [Qa("disabled", !1), Ko("tooltip"), Ko("icon"), Ko("text"), Ba("onSetup", function() {
                return Xe
            })], e_ = Wn([fr("type"), yi("onAction")].concat(cb)), $v = function(e) {
                return Wo("toolbarbutton", e_, e)
            }, Yd = [Qa("active", !1)].concat(cb), t_ = Wn(Yd.concat([fr("type"), yi("onAction")])), n_ = function(e) {
                return Wo("ToggleButton", t_, e)
            }, c3 = [Ba("predicate", st), al("scope", "node", ["node", "editor"]), al("position", "selection", ["node", "selection", "line"])], fk = cb.concat([Be("type", "contextformbutton"), Be("primary", !1), yi("onAction"), $i("original", _n)]), xS = Yd.concat([Be("type", "contextformbutton"), Be("primary", !1), yi("onAction"), $i("original", _n)]), wo = cb.concat([Be("type", "contextformbutton")]), r_ = Yd.concat([Be("type", "contextformtogglebutton")]), o_ = Qu("type", {
                contextformbutton: fk,
                contextformtogglebutton: xS
            }), a_ = Wn([Be("type", "contextform"), Ba("initValue", Se("")), Ko("label"), Vi("commands", o_), bf("launch", Qu("type", {
                contextformbutton: wo,
                contextformtogglebutton: r_
            }))].concat(c3)), of = Wn([Be("type", "contexttoolbar"), fr("items")].concat(c3)), SS = (()=>(function(e) {
                e[e.CLOSE_ON_EXECUTE = 0] = "CLOSE_ON_EXECUTE",
                e[e.BUBBLE_TO_SANDBOX = 1] = "BUBBLE_TO_SANDBOX"
            }(SS || (SS = {})),
            SS))(), af = SS, Uv = "tox-menu-nav__js", Hs = "tox-collection__item", l3 = "tox-swatch", wg = {
                normal: Uv,
                color: l3
            }, f3 = "tox-collection__item--enabled", Sp = "tox-collection__item-icon", Tp = "tox-collection__item-label", v3 = "tox-collection__item-caret", lb = "tox-collection__item--active", _p = "tox-collection__item-container", u_ = "tox-collection__item-container--row", kS = function(e) {
                return St(wg, e).getOr(Uv)
            }, ES = function(e) {
                return "color" === e ? "tox-swatches" : "tox-menu"
            }, fb = function(e) {
                return {
                    backgroundMenu: "tox-background-menu",
                    selectedMenu: "tox-selected-menu",
                    selectedItem: "tox-collection__item--active",
                    hasIcons: "tox-menu--has-icons",
                    menu: ES(e),
                    tieredMenu: "tox-tiered-menu"
                }
            }, uf = function(e) {
                var n = fb(e);
                return {
                    backgroundMenu: n.backgroundMenu,
                    selectedMenu: n.selectedMenu,
                    menu: n.menu,
                    selectedItem: n.selectedItem,
                    item: kS(e)
                }
            }, m3 = function(e, n, r) {
                var u = fb(r);
                return {
                    tag: "div",
                    classes: Gt([[u.menu, "tox-menu-" + n + "-column"], e ? [u.hasIcons] : []])
                }
            }, hk = [rr.parts.items({})], Ep = function(e, n, r) {
                var u = fb(r);
                return {
                    dom: {
                        tag: "div",
                        classes: Gt([[u.tieredMenu]])
                    },
                    markers: uf(r)
                }
            }, AS = function(e, n) {
                return function(r) {
                    var u = Mn(r, n);
                    return re(u, function(l) {
                        return {
                            dom: e,
                            components: l
                        }
                    })
                }
            }, mw = function(e, n) {
                var r = []
                  , u = [];
                return Re(e, function(l, d) {
                    n(l, d) ? (u.length > 0 && r.push(u),
                    u = [],
                    yr(l.dom, "innerHtml") && u.push(l)) : u.push(l)
                }),
                u.length > 0 && r.push(u),
                re(r, function(l) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-collection__group"]
                        },
                        components: l
                    }
                })
            }, gw = function(e, n, r) {
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-menu", "tox-collection"].concat(1 === e ? ["tox-collection--list"] : ["tox-collection--grid"])
                    },
                    components: [rr.parts.items({
                        preprocess: function(u) {
                            return "auto" !== e && e > 1 ? AS({
                                tag: "div",
                                classes: ["tox-collection__group"]
                            }, e)(u) : mw(u, function(l, d) {
                                return "separator" === n[d].type
                            })
                        }
                    })]
                }
            }, hw = function(e) {
                return ir(e, function(n) {
                    return "icon"in n && void 0 !== n.icon
                })
            }, Wv = function(e) {
                return console.error(uu(e)),
                console.log(e),
                D.none()
            }, t = function(e, n, r, u, l) {
                var d = function(e, n) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-collection", "tox-collection--horizontal"]
                        },
                        components: [rr.parts.items({
                            preprocess: function(r) {
                                return mw(r, function(u, l) {
                                    return "separator" === e[l].type
                                })
                            }
                        })]
                    }
                }(r);
                return {
                    value: e,
                    dom: d.dom,
                    components: d.components,
                    items: r
                }
            }, o = function(e, n, r, u, l) {
                if ("color" === l) {
                    var d = function(e) {
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-menu", "tox-swatches-menu"]
                            },
                            components: [{
                                dom: {
                                    tag: "div",
                                    classes: ["tox-swatches"]
                                },
                                components: [rr.parts.items({
                                    preprocess: "auto" !== e ? AS({
                                        tag: "div",
                                        classes: ["tox-swatches__row"]
                                    }, e) : _n
                                })]
                            }]
                        }
                    }(u);
                    return {
                        value: e,
                        dom: d.dom,
                        components: d.components,
                        items: r
                    }
                }
                return "normal" === l && "auto" === u ? {
                    value: e,
                    dom: (d = gw(u, r)).dom,
                    components: d.components,
                    items: r
                } : "normal" === l && 1 === u ? {
                    value: e,
                    dom: (d = gw(1, r)).dom,
                    components: d.components,
                    items: r
                } : "normal" === l ? {
                    value: e,
                    dom: (d = gw(u, r)).dom,
                    components: d.components,
                    items: r
                } : "listpreview" === l && "auto" !== u ? (d = function(e) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-menu", "tox-collection", "tox-collection--toolbar", "tox-collection--toolbar-lg"]
                        },
                        components: [rr.parts.items({
                            preprocess: AS({
                                tag: "div",
                                classes: ["tox-collection__group"]
                            }, e)
                        })]
                    }
                }(u),
                {
                    value: e,
                    dom: d.dom,
                    components: d.components,
                    items: r
                }) : {
                    value: e,
                    dom: m3(n, u, l),
                    components: hk,
                    items: r
                }
            }, i = [fr("type"), fr("src"), Ko("alt"), Lg("classes", [], Uo)], s = Wn(i), f = [fr("type"), fr("text"), Ko("name"), Lg("classes", ["tox-collection__item-label"], Uo)], m = Wn(f), g = Yp(function() {
                return Bg("type", {
                    cardimage: s,
                    cardtext: m,
                    cardcontainer: b
                })
            }), b = Wn([fr("type"), fm("direction", "horizontal"), fm("align", "left"), fm("valign", "middle"), Vi("items", g)]), x = [Qa("disabled", !1), Ko("text"), Ko("shortcut"), Jo("value", "value", $a(function() {
                return Pn("menuitem-value")
            }), Oc()), Be("meta", {})], y = Wn([fr("type"), Ko("label"), Vi("items", g), Ba("onSetup", function() {
                return Xe
            }), Ba("onAction", Xe)].concat(x)), _ = Wn([fr("type"), Qa("active", !1), Ko("icon")].concat(x)), P = [fr("type"), fr("fancytype"), Ba("onAction", Xe)], z = [Be("initData", {})].concat(P), F = [t1("initData", {}, [Qa("allowCustomColors", !0), si("colors", Oc())])].concat(P), H = Qu("fancytype", {
                inserttable: z,
                colorswatch: F
            }), j = Wn([fr("type"), Ba("onSetup", function() {
                return Xe
            }), Ba("onAction", Xe), Ko("icon")].concat(x)), oe = Wn([fr("type"), yi("getSubmenuItems"), Ba("onSetup", function() {
                return Xe
            }), Ko("icon")].concat(x)), X = Wn([fr("type"), Ko("icon"), Qa("active", !1), Ba("onSetup", function() {
                return Xe
            }), yi("onAction")].concat(x)), ue = function(e, n, r) {
                var u = as(e.element, "." + r);
                if (u.length > 0) {
                    var l = Cr(u, function(d) {
                        var p = d.dom.getBoundingClientRect().top
                          , S = u[0].dom.getBoundingClientRect().top;
                        return Math.abs(p - S) > n
                    }).getOr(u.length);
                    return D.some({
                        numColumns: l,
                        numRows: Math.ceil(u.length / l)
                    })
                }
                return D.none()
            }, Ge_unnamedEvents = function(e) {
                return function(e, n) {
                    return Wt([rn(e, n)])
                }(Pn("unnamed-events"), e)
            }, Ve = Pn("tooltip.exclusive"), he = Pn("tooltip.show"), ye = Pn("tooltip.hide"), De = function(e, n, r) {
                e.getSystem().broadcastOn([Ve], {})
            }, Dt = Object.freeze({
                __proto__: null,
                hideAllExclusive: De,
                setComponents: function(e, n, r, u) {
                    r.getTooltip().each(function(l) {
                        l.getSystem().isConnected() && pr.set(l, u)
                    })
                }
            }), Tt = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    var r = function(l) {
                        n.getTooltip().each(function(d) {
                            Tv(d),
                            e.onHide(l, d),
                            n.clearTooltip()
                        }),
                        n.clearTimer()
                    };
                    return Lo(Gt([[gt(he, function(l) {
                        n.resetTimer(function() {
                            !function(l) {
                                if (!n.isShowing()) {
                                    De(l);
                                    var d = e.lazySink(l).getOrDie()
                                      , p = l.getSystem().build({
                                        dom: e.tooltipDom,
                                        components: e.tooltipComponents,
                                        events: Lo("normal" === e.mode ? [gt(nv(), function(S) {
                                            po(l, he)
                                        }), gt(ev(), function(S) {
                                            po(l, ye)
                                        })] : []),
                                        behaviours: Wt([pr.config({})])
                                    });
                                    n.setTooltip(p),
                                    Mf(d, p),
                                    e.onShow(l, p),
                                    Au.position(d, p, {
                                        anchor: e.anchor(l)
                                    })
                                }
                            }(l)
                        }, e.delay)
                    }), gt(ye, function(l) {
                        n.resetTimer(function() {
                            r(l)
                        }, e.delay)
                    }), gt(Cf(), function(l, d) {
                        d.universal || nn(d.channels, Ve) && r(l)
                    }), sl(function(l) {
                        r(l)
                    })], "normal" === e.mode ? [gt(xf(), function(l) {
                        po(l, he)
                    }), gt(Ib(), function(l) {
                        po(l, ye)
                    }), gt(nv(), function(l) {
                        po(l, he)
                    }), gt(ev(), function(l) {
                        po(l, ye)
                    })] : [gt(ys(), function(l, d) {
                        po(l, he)
                    }), gt(c1(), function(l) {
                        po(l, ye)
                    })]]))
                }
            }), Lt = [ot("lazySink"), ot("tooltipDom"), Be("exclusive", !0), Be("tooltipComponents", []), Be("delay", 300), al("mode", "normal", ["normal", "follow-highlight"]), Be("anchor", function(e) {
                return {
                    type: "hotspot",
                    hotspot: e,
                    layouts: {
                        onLtr: Se([Eu, ws, Ni, ns, vu, ku]),
                        onRtl: Se([Eu, ws, Ni, ns, vu, ku])
                    }
                }
            }), vo("onHide"), vo("onShow")], Ht = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = ni()
                      , n = ni()
                      , r = function() {
                        e.on(clearTimeout)
                    }
                      , l = Se("not-implemented");
                    return Bs({
                        getTooltip: n.get,
                        isShowing: n.isSet,
                        setTooltip: n.set,
                        clearTooltip: n.clear,
                        clearTimer: r,
                        resetTimer: function(d, p) {
                            r(),
                            e.set(setTimeout(d, p))
                        },
                        readState: l
                    })
                }
            }), zt = zi({
                fields: Lt,
                name: "tooltipping",
                active: Tt,
                state: Ht,
                apis: Dt
            }), ft = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"), Zt = tinymce.util.Tools.resolve("tinymce.EditorManager"), Vr = function(e) {
                return e.getParam("height", Math.max(e.getElement().offsetHeight, 200))
            }, ve = function(e) {
                return e.getParam("width", ft.DOM.getStyle(e.getElement(), "width"))
            }, Ce = function(e) {
                return D.from(e.getParam("min_width")).filter(Cn)
            }, Je = function(e) {
                return D.from(e.getParam("min_height")).filter(Cn)
            }, bt = function(e) {
                return D.from(e.getParam("max_width")).filter(Cn)
            }, vt = function(e) {
                return D.from(e.getParam("max_height")).filter(Cn)
            }, ar = function(e) {
                return !1 !== e.getParam("menubar", !0, "boolean")
            }, go = function(e) {
                var n = e.getParam("toolbar", !0)
                  , r = !0 === n
                  , u = wn(n)
                  , l = Hr(n) && n.length > 0;
                return !nu(e) && (l || u || r)
            }, fi = function(e) {
                var n = kt(9, function(u) {
                    return e.getParam("toolbar" + (u + 1), !1, "string")
                })
                  , r = je(n, function(u) {
                    return "string" == typeof u
                });
                return r.length > 0 ? D.some(r) : D.none()
            }, nu = function(e) {
                return fi(e).fold(function() {
                    return e.getParam("toolbar", [], "string[]").length > 0
                }, ge)
            }, wa = (()=>(function(e) {
                e.default = "wrap",
                e.floating = "floating",
                e.sliding = "sliding",
                e.scrolling = "scrolling"
            }(wa || (wa = {})),
            wa))(), xi = function(e) {
                return e.getParam("toolbar_mode", "", "string")
            }, Ai = (()=>(function(e) {
                e.auto = "auto",
                e.top = "top",
                e.bottom = "bottom"
            }(Ai || (Ai = {})),
            Ai))(), Hf = function(e) {
                return e.getParam("toolbar_location", Ai.auto, "string")
            }, Ap = function(e) {
                return Hf(e) === Ai.bottom
            }, s_ = function(e) {
                if (!e.inline)
                    return D.none();
                var n = function(e) {
                    return e.getParam("fixed_toolbar_container", "", "string")
                }(e);
                if (n.length > 0)
                    return ta(aa(), n);
                var r = function(e) {
                    return e.getParam("fixed_toolbar_container_target")
                }(e);
                return xe(r) ? D.some(Ie_fromDom(r)) : D.none()
            }, DS = function(e) {
                return e.inline && s_(e).isSome()
            }, g3 = function(e) {
                return s_(e).getOrThunk(function() {
                    return ur(Bn(Ie_fromDom(e.getElement())))
                })
            }, h3 = function(e) {
                return e.inline && !ar(e) && !go(e) && !nu(e)
            }, MS = function(e) {
                return (e.getParam("toolbar_sticky", !1, "boolean") || e.inline) && !DS(e) && !h3(e)
            }, hR = function(e) {
                var n = e.getParam("menu");
                return n ? ee(n, function(r) {
                    return ae(ae({}, r), {
                        items: r.items
                    })
                }) : {}
            }, pR = function(e) {
                return e.getParam("menubar")
            }, SR = function(e) {
                return e.getParam("anchor_top", "#top")
            }, TR = function(e) {
                return e.getParam("anchor_bottom", "#bottom")
            }, wk = "silver.readonly", kR = Wn([ui("readonly", Ds)]), RS = function(e, n) {
                var u = e.outerContainer.element;
                n && (e.mothership.broadcastOn([Rf()], {
                    target: u
                }),
                e.uiMothership.broadcastOn([Rf()], {
                    target: u
                })),
                e.mothership.broadcastOn([wk], {
                    readonly: n
                }),
                e.uiMothership.broadcastOn([wk], {
                    readonly: n
                })
            }, AE = function(e, n) {
                e.on("init", function() {
                    e.mode.isReadOnly() && RS(n, !0)
                }),
                e.on("SwitchMode", function() {
                    return RS(n, e.mode.isReadOnly())
                }),
                function(e) {
                    return e.getParam("readonly", !1, "boolean")
                }(e) && e.setMode("readonly")
            }, mu = function() {
                var e;
                return Zs.config({
                    channels: (e = {},
                    e[wk] = {
                        schema: kR,
                        onReceive: function(n, r) {
                            On.set(n, r.readonly)
                        }
                    },
                    e)
                })
            }, jv_item = function(e) {
                return On.config({
                    disabled: e,
                    disableClass: "tox-collection__item--state-disabled"
                })
            }, jv_button = function(e) {
                return On.config({
                    disabled: e
                })
            }, jv_splitButton = function(e) {
                return On.config({
                    disabled: e,
                    disableClass: "tox-tbtn--disabled"
                })
            }, jv_toolbarButton = function(e) {
                return On.config({
                    disabled: e,
                    disableClass: "tox-tbtn--disabled",
                    useNative: !1
                })
            }, c_ = function(e, n) {
                var r = e.getApi(n);
                return function(u) {
                    u(r)
                }
            }, p3 = function(e, n) {
                return pa(function(r) {
                    c_(e, r)(function(l) {
                        var d = e.onSetup(l);
                        hn(d) && n.set(d)
                    })
                })
            }, b3 = function(e, n) {
                return sl(function(r) {
                    return c_(e, r)(n.get())
                })
            }, MR = function(e, n) {
                return cl(function(r, u) {
                    c_(e, r)(e.onAction),
                    !e.triggersSubmenu && n === af.CLOSE_ON_EXECUTE && (po(r, lc()),
                    u.stop())
                })
            }, RR = ((xk = {})[co()] = ["disabling", "alloy.base.behaviour", "toggling", "item-events"],
            xk), PS = fa, BS = function(e, n, r, u) {
                var l = Xn(Xe);
                return {
                    type: "item",
                    dom: n.dom,
                    components: PS(n.optComponents),
                    data: e.data,
                    eventOrder: RR,
                    hasSubmenu: e.triggersSubmenu,
                    itemBehaviours: Wt([rn("item-events", [MR(e, r), p3(e, l), b3(e, l)]), jv_item(function() {
                        return e.disabled || u.isDisabled()
                    }), mu(), pr.config({})].concat(e.itemBehaviours))
                }
            }, NS = function(e) {
                return {
                    value: e.value,
                    meta: ae({
                        text: e.text.getOr("")
                    }, e.meta)
                }
            }, Ck = tinymce.util.Tools.resolve("tinymce.Env"), PR = function(e) {
                var u = Ck.mac ? {
                    alt: "&#x2325;",
                    ctrl: "&#x2303;",
                    shift: "&#x21E7;",
                    meta: "&#x2318;",
                    access: "&#x2303;&#x2325;"
                } : {
                    meta: "Ctrl",
                    access: "Shift+Alt"
                }
                  , l = e.split("+");
                return re(l, function(p) {
                    var S = p.toLowerCase().trim();
                    return yr(u, S) ? u[S] : p
                }).join(Ck.mac ? "" : "+")
            }, Sk = function(e, n, r) {
                return void 0 === r && (r = [Sp]),
                If(e, {
                    tag: "div",
                    classes: r
                }, n)
            }, OE = function(e) {
                return {
                    dom: {
                        tag: "div",
                        classes: [Tp]
                    },
                    components: [Fu(rf.translate(e))]
                }
            }, DE = function(e, n) {
                return {
                    dom: {
                        tag: "div",
                        classes: n,
                        innerHtml: e
                    }
                }
            }, BR = function(e, n) {
                return {
                    dom: {
                        tag: "div",
                        classes: [Tp]
                    },
                    components: [{
                        dom: {
                            tag: e.tag,
                            styles: e.styles
                        },
                        components: [Fu(rf.translate(n))]
                    }]
                }
            }, NR = function(e) {
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-collection__item-accessory"],
                        innerHtml: PR(e)
                    }
                }
            }, ME = function(e) {
                return Sk("checkmark", e, ["tox-collection__item-checkmark"])
            }, RE = function(e) {
                var n = e.map(function(r) {
                    return {
                        attributes: {
                            title: rf.translate(r)
                        }
                    }
                }).getOr({});
                return ae({
                    tag: "div",
                    classes: [Uv, Hs]
                }, n)
            }, y3 = function(e, n, r, u) {
                return void 0 === u && (u = D.none()),
                "color" === e.presets ? function(e, n, r) {
                    var I, q, d = e.ariaLabel, p = e.value, S = e.iconContent.map(function(O) {
                        return function(e, n, r) {
                            var u = n();
                            return W3(e, u).or(r).getOrThunk(dS(u))
                        }(O, n.icons, r)
                    });
                    return {
                        dom: (I = S.getOr(""),
                        q = {
                            tag: "div",
                            attributes: d.map(function(Z) {
                                return {
                                    title: n.translate(Z)
                                }
                            }).getOr({}),
                            classes: ["tox-swatch"]
                        },
                        ae(ae({}, q), "custom" === p ? {
                            tag: "button",
                            classes: Ct(Ct([], q.classes, !0), ["tox-swatches__picker-btn"], !1),
                            innerHtml: I
                        } : "remove" === p ? {
                            classes: Ct(Ct([], q.classes, !0), ["tox-swatch--remove"], !1),
                            innerHtml: I
                        } : {
                            attributes: ae(ae({}, q.attributes), {
                                "data-mce-color": p
                            }),
                            styles: {
                                "background-color": p
                            }
                        })),
                        optComponents: []
                    }
                }(e, n, u) : function(e, n, r, u) {
                    var l = {
                        tag: "div",
                        classes: [Sp]
                    }
                      , S = r ? e.iconContent.map(function(q) {
                        return If(q, l, n.icons, u)
                    }).orThunk(function() {
                        return D.some({
                            dom: l
                        })
                    }) : D.none()
                      , T = e.checkMark
                      , O = D.from(e.meta).fold(function() {
                        return OE
                    }, function(q) {
                        return yr(q, "style") ? In(BR, q.style) : OE
                    })
                      , I = e.htmlContent.fold(function() {
                        return e.textContent.map(O)
                    }, function(q) {
                        return D.some(DE(q, [Tp]))
                    });
                    return {
                        dom: RE(e.ariaLabel),
                        optComponents: [S, I, e.shortcutContent.map(NR), T, e.caret]
                    }
                }(e, n, r, u)
            }, PE = function(e, n) {
                return St(e, "tooltipWorker").map(function(r) {
                    return [zt.config({
                        lazySink: n.getSink,
                        tooltipDom: {
                            tag: "div",
                            classes: ["tox-tooltip-worker-container"]
                        },
                        tooltipComponents: [],
                        anchor: function(u) {
                            return {
                                type: "submenu",
                                item: u,
                                overrides: {
                                    maxHeightFunction: Vc
                                }
                            }
                        },
                        mode: "follow-highlight",
                        onShow: function(u, l) {
                            r(function(d) {
                                zt.setComponents(u, [Ef({
                                    element: Ie_fromDom(d)
                                })])
                            })
                        }
                    })]
                }).getOr([])
            }, BE = function(e, n) {
                var u = function(e) {
                    return ft.DOM.encode(e)
                }(rf.translate(e));
                if (n.length > 0) {
                    var l = new RegExp(function(e) {
                        return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&")
                    }(n),"gi");
                    return u.replace(l, function(d) {
                        return '<span class="tox-autocompleter-highlight">' + d + "</span>"
                    })
                }
                return u
            }, NE = function(e, n) {
                return re(e, function(r) {
                    switch (r.type) {
                    case "cardcontainer":
                        return function(e, n) {
                            return {
                                dom: {
                                    tag: "div",
                                    classes: [_p, "vertical" === e.direction ? "tox-collection__item-container--column" : u_, "left" === e.align ? "tox-collection__item-container--align-left" : "tox-collection__item-container--align-right", function() {
                                        switch (e.valign) {
                                        case "top":
                                            return "tox-collection__item-container--valign-top";
                                        case "middle":
                                            return "tox-collection__item-container--valign-middle";
                                        case "bottom":
                                            return "tox-collection__item-container--valign-bottom"
                                        }
                                    }()]
                                },
                                components: n
                            }
                        }(r, NE(r.items, n));
                    case "cardimage":
                        return function(e, n, r) {
                            return {
                                dom: {
                                    tag: "img",
                                    classes: n,
                                    attributes: {
                                        src: e,
                                        alt: r.getOr("")
                                    }
                                }
                            }
                        }(r.src, r.classes, r.alt);
                    case "cardtext":
                        var l = r.name.exists(function(d) {
                            return nn(n.cardText.highlightOn, d)
                        }) ? D.from(n.cardText.matchText).getOr("") : "";
                        return DE(BE(r.text, l), r.classes)
                    }
                })
            }, zE = s2(Q(), se()), FE = function(e) {
                return {
                    value: e
                }
            }, IE = /^#?([a-f\d])([a-f\d])([a-f\d])$/i, LE = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i, HE = function(e) {
                return IE.test(e) || LE.test(e)
            }, GR = function(e) {
                return function(e, n) {
                    return function(e, n) {
                        return Vo(e, n, 0)
                    }(e, "#") ? function(e, n) {
                        return e.substring(n)
                    }(e, "#".length) : e
                }(e).toUpperCase()
            }, Tk = function(e) {
                var n = e.toString(16);
                return (1 === n.length ? "0" + n : n).toUpperCase()
            }, w3 = function(e) {
                var n = Tk(e.red) + Tk(e.green) + Tk(e.blue);
                return FE(n)
            }, $E = Math.min, VE = Math.max, l_ = Math.round, YR = /^rgb\((\d+),\s*(\d+),\s*(\d+)\)/, JR = /^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/, db = function(e, n, r, u) {
                return {
                    red: e,
                    green: n,
                    blue: r,
                    alpha: u
                }
            }, _k = function(e) {
                var n = parseInt(e, 10);
                return n.toString() === e && n >= 0 && n <= 255
            }, UE = function(e) {
                var n, r, u, l = (e.hue || 0) % 360, d = e.saturation / 100, p = e.value / 100;
                if (d = VE(0, $E(d, 1)),
                p = VE(0, $E(p, 1)),
                0 === d)
                    return n = r = u = l_(255 * p),
                    db(n, r, u, 1);
                var S = l / 60
                  , T = p * d
                  , O = T * (1 - Math.abs(S % 2 - 1))
                  , I = p - T;
                switch (Math.floor(S)) {
                case 0:
                    n = T,
                    r = O,
                    u = 0;
                    break;
                case 1:
                    n = O,
                    r = T,
                    u = 0;
                    break;
                case 2:
                    n = 0,
                    r = T,
                    u = O;
                    break;
                case 3:
                    n = 0,
                    r = O,
                    u = T;
                    break;
                case 4:
                    n = O,
                    r = 0,
                    u = T;
                    break;
                case 5:
                    n = T,
                    r = 0,
                    u = O;
                    break;
                default:
                    n = r = u = 0
                }
                return n = l_(255 * (n + I)),
                r = l_(255 * (r + I)),
                u = l_(255 * (u + I)),
                db(n, r, u, 1)
            }, x3 = function(e) {
                var n = function(e) {
                    var n = function(e) {
                        return {
                            value: e.value.replace(IE, function(r, u, l, d) {
                                return u + u + l + l + d + d
                            })
                        }
                    }(e)
                      , r = LE.exec(n.value);
                    return null === r ? ["FFFFFF", "FF", "FF", "FF"] : r
                }(e)
                  , r = parseInt(n[1], 16)
                  , u = parseInt(n[2], 16)
                  , l = parseInt(n[3], 16);
                return db(r, u, l, 1)
            }, WE = function(e, n, r, u) {
                var l = parseInt(e, 10)
                  , d = parseInt(n, 10)
                  , p = parseInt(r, 10)
                  , S = parseFloat(u);
                return db(l, d, p, S)
            }, jE = function(e) {
                if ("transparent" === e)
                    return D.some(db(0, 0, 0, 0));
                var n = YR.exec(e);
                if (null !== n)
                    return D.some(WE(n[1], n[2], n[3], "1"));
                var r = JR.exec(e);
                return null !== r ? D.some(WE(r[1], r[2], r[3], r[4])) : D.none()
            }, GE = function(e) {
                return "rgba(" + e.red + "," + e.green + "," + e.blue + "," + e.alpha + ")"
            }, qE = db(255, 0, 0, 1), kk = function(e, n) {
                return e.fire("ResizeContent", n)
            }, C3 = function(e, n, r) {
                return {
                    hue: e,
                    saturation: n,
                    value: r
                }
            }, Ek = function(e) {
                var r, n = 0, u = 0, l = e.red / 255, d = e.green / 255, p = e.blue / 255, S = Math.min(l, Math.min(d, p)), T = Math.max(l, Math.max(d, p));
                return S === T ? C3(0, 0, 100 * (u = S)) : (n = 60 * ((n = l === S ? 3 : p === S ? 1 : 5) - (l === S ? d - p : p === S ? l - d : p - l) / (T - S)),
                r = (T - S) / T,
                u = T,
                C3(Math.round(n), Math.round(100 * r), Math.round(100 * u)))
            }, KE = function(e) {
                return w3(UE(e))
            }, o8 = function(e) {
                return function(e) {
                    return HE(e) ? D.some({
                        value: GR(e)
                    }) : D.none()
                }(e).orThunk(function() {
                    return jE(e).map(w3)
                }).getOrThunk(function() {
                    var n = document.createElement("canvas");
                    n.height = 1,
                    n.width = 1;
                    var r = n.getContext("2d");
                    r.clearRect(0, 0, n.width, n.height),
                    r.fillStyle = "#FFFFFF",
                    r.fillStyle = e,
                    r.fillRect(0, 0, 1, 1);
                    var u = r.getImageData(0, 0, 1, 1).data;
                    return w3(db(u[0], u[1], u[2], u[3]))
                })
            }, f_ = tinymce.util.Tools.resolve("tinymce.util.LocalStorage"), XE = "tinymce-custom-colors", Mu = "choiceitem", i8 = [{
                type: Mu,
                text: "Light Green",
                value: "#BFEDD2"
            }, {
                type: Mu,
                text: "Light Yellow",
                value: "#FBEEB8"
            }, {
                type: Mu,
                text: "Light Red",
                value: "#F8CAC6"
            }, {
                type: Mu,
                text: "Light Purple",
                value: "#ECCAFA"
            }, {
                type: Mu,
                text: "Light Blue",
                value: "#C2E0F4"
            }, {
                type: Mu,
                text: "Green",
                value: "#2DC26B"
            }, {
                type: Mu,
                text: "Yellow",
                value: "#F1C40F"
            }, {
                type: Mu,
                text: "Red",
                value: "#E03E2D"
            }, {
                type: Mu,
                text: "Purple",
                value: "#B96AD9"
            }, {
                type: Mu,
                text: "Blue",
                value: "#3598DB"
            }, {
                type: Mu,
                text: "Dark Turquoise",
                value: "#169179"
            }, {
                type: Mu,
                text: "Orange",
                value: "#E67E23"
            }, {
                type: Mu,
                text: "Dark Red",
                value: "#BA372A"
            }, {
                type: Mu,
                text: "Dark Purple",
                value: "#843FA1"
            }, {
                type: Mu,
                text: "Dark Blue",
                value: "#236FA1"
            }, {
                type: Mu,
                text: "Light Gray",
                value: "#ECF0F1"
            }, {
                type: Mu,
                text: "Medium Gray",
                value: "#CED4D9"
            }, {
                type: Mu,
                text: "Gray",
                value: "#95A5A6"
            }, {
                type: Mu,
                text: "Dark Gray",
                value: "#7E8C8D"
            }, {
                type: Mu,
                text: "Navy Blue",
                value: "#34495E"
            }, {
                type: Mu,
                text: "Black",
                value: "#000000"
            }, {
                type: Mu,
                text: "White",
                value: "#ffffff"
            }], YE = function(e) {
                void 0 === e && (e = 10);
                var T, n = f_.getItem(XE), r = wn(n) ? JSON.parse(n) : [], l = e - (T = r).length < 0 ? T.slice(0, e) : T, p = function(T) {
                    l.splice(T, 1)
                };
                return {
                    add: function(T) {
                        (function(e, n) {
                            var r = kr(e, n);
                            return -1 === r ? D.none() : D.some(r)
                        }
                        )(l, T).each(p),
                        l.unshift(T),
                        l.length > e && l.pop(),
                        f_.setItem(XE, JSON.stringify(l))
                    },
                    state: function() {
                        return l.slice(0)
                    }
                }
            }(10), JE = function(e) {
                return !1 !== e.getParam("custom_colors")
            }, Ak = function(e) {
                var n = function(e) {
                    return e.getParam("color_map")
                }(e);
                return void 0 !== n ? function(e) {
                    for (var n = [], r = 0; r < e.length; r += 2)
                        n.push({
                            text: e[r + 1],
                            value: "#" + o8(e[r]).value,
                            type: "choiceitem"
                        });
                    return n
                }(n) : i8
            }, ZE = function(e) {
                YE.add(e)
            }, Ok = "#000000", QE = function(e) {
                var r = function(e) {
                    return Math.max(5, Math.ceil(Math.sqrt(e)))
                }(Ak(e).length);
                return function(e, n) {
                    return e.getParam("color_cols", n, "number")
                }(e, r)
            }, eA = function(e) {
                var n = "choiceitem"
                  , r = {
                    type: n,
                    text: "Remove color",
                    icon: "color-swatch-remove-color",
                    value: "remove"
                };
                return e ? [r, {
                    type: n,
                    text: "Custom color",
                    icon: "color-picker",
                    value: "custom"
                }] : [r]
            }, Dk = function(e, n, r, u) {
                "custom" === r ? iA(e)(function(d) {
                    d.each(function(p) {
                        ZE(p),
                        e.execCommand("mceApplyTextcolor", n, p),
                        u(p)
                    })
                }, Ok) : "remove" === r ? (u(""),
                e.execCommand("mceRemoveTextcolor", n)) : (u(r),
                e.execCommand("mceApplyTextcolor", n, r))
            }, tA = function(e, n) {
                return e.concat(re(YE.state(), function(e) {
                    return {
                        type: Mu,
                        text: e,
                        value: e
                    }
                }).concat(eA(n)))
            }, nA = function(e, n) {
                return function(r) {
                    r(tA(e, n))
                }
            }, rA = function(e, n, r) {
                e.setIconFill("forecolor" === n ? "tox-icon-text-color__color" : "tox-icon-highlight-bg-color__color", r)
            }, oA = function(e, n, r, u, l) {
                e.ui.registry.addSplitButton(n, {
                    tooltip: u,
                    presets: "color",
                    icon: "forecolor" === n ? "text-color" : "highlight-bg-color",
                    select: function(d) {
                        var p = function(e, n) {
                            var r;
                            return e.dom.getParents(e.selection.getStart(), function(u) {
                                var l;
                                (l = u.style["forecolor" === n ? "color" : "background-color"]) && (r = r || l)
                            }),
                            D.from(r)
                        }(e, r);
                        return p.bind(function(S) {
                            return jE(S).map(function(T) {
                                var O = w3(T).value;
                                return oa(d.toLowerCase(), O)
                            })
                        }).getOr(!1)
                    },
                    columns: QE(e),
                    fetch: nA(Ak(e), JE(e)),
                    onAction: function(d) {
                        Dk(e, r, l.get(), Xe)
                    },
                    onItemAction: function(d, p) {
                        Dk(e, r, p, function(S) {
                            l.set(S),
                            function(e, n) {
                                e.fire("TextColorChange", n)
                            }(e, {
                                name: n,
                                color: S
                            })
                        })
                    },
                    onSetup: function(d) {
                        rA(d, n, l.get());
                        var p = function(S) {
                            S.name === n && rA(d, S.name, S.color)
                        };
                        return e.on("TextColorChange", p),
                        function() {
                            e.off("TextColorChange", p)
                        }
                    }
                })
            }, aA = function(e, n, r, u) {
                e.ui.registry.addNestedMenuItem(n, {
                    text: u,
                    icon: "forecolor" === n ? "text-color" : "highlight-bg-color",
                    getSubmenuItems: function() {
                        return [{
                            type: "fancymenuitem",
                            fancytype: "colorswatch",
                            onAction: function(l) {
                                Dk(e, r, l.value, Xe)
                            }
                        }]
                    }
                })
            }, iA = function(e) {
                return function(n, r) {
                    var u = !1;
                    e.windowManager.open({
                        title: "Color Picker",
                        size: "normal",
                        body: {
                            type: "panel",
                            items: [{
                                type: "colorpicker",
                                name: "colorpicker",
                                label: "Color"
                            }]
                        },
                        buttons: [{
                            type: "cancel",
                            name: "cancel",
                            text: "Cancel"
                        }, {
                            type: "submit",
                            name: "save",
                            text: "Save",
                            primary: !0
                        }],
                        initialData: {
                            colorpicker: r
                        },
                        onAction: function(S, T) {
                            "hex-valid" === T.name && (u = T.value)
                        },
                        onSubmit: function(S) {
                            var O = S.getData().colorpicker;
                            u ? (n(D.from(O)),
                            S.close()) : e.windowManager.alert(e.translate(["Invalid hex color code: {0}", O]))
                        },
                        onClose: Xe,
                        onCancel: function() {
                            n(D.none())
                        }
                    })
                }
            }, Mk = function(e, n, r, u, l, d, p, S) {
                var T = hw(n)
                  , I = p8(n, r, u, "color" !== l ? "normal" : "color", d, p, S);
                return o(e, T, I, u, l)
            }, p8 = function(e, n, r, u, l, d, p) {
                return fa(re(e, function(S) {
                    return "choiceitem" === S.type ? function(e) {
                        return Wo("choicemenuitem", _, e)
                    }(S).fold(Wv, function(T) {
                        return D.some(function(e, n, r, u, l, d, p, S) {
                            void 0 === S && (S = !0);
                            var O = y3({
                                presets: r,
                                textContent: n ? e.text : D.none(),
                                htmlContent: D.none(),
                                ariaLabel: e.text,
                                iconContent: e.icon,
                                shortcutContent: n ? e.shortcut : D.none(),
                                checkMark: n ? D.some(ME(p.icons)) : D.none(),
                                caret: D.none(),
                                value: e.value
                            }, p, S);
                            return Tn(BS({
                                data: NS(e),
                                disabled: e.disabled,
                                getApi: function(I) {
                                    return {
                                        setActive: function($) {
                                            io.set(I, $)
                                        },
                                        isActive: function() {
                                            return io.isOn(I)
                                        },
                                        isDisabled: function() {
                                            return On.isDisabled(I)
                                        },
                                        setDisabled: function($) {
                                            return On.set(I, $)
                                        }
                                    }
                                },
                                onAction: function(I) {
                                    return u(e.value)
                                },
                                onSetup: function(I) {
                                    return I.setActive(l),
                                    Xe
                                },
                                triggersSubmenu: !1,
                                itemBehaviours: []
                            }, O, d, p), {
                                toggling: {
                                    toggleClass: f3,
                                    toggleOnExecute: !1,
                                    selected: e.active
                                }
                            })
                        }(T, 1 === r, u, n, d(S.value), l, p, hw(e)))
                    }) : D.none()
                }))
            }, v_ = function(e, n) {
                var r = uf(n);
                return 1 === e ? {
                    mode: "menu",
                    moveOnTab: !0
                } : "auto" === e ? {
                    mode: "grid",
                    selector: "." + r.item,
                    initSize: {
                        numColumns: 1,
                        numRows: 1
                    }
                } : {
                    mode: "matrix",
                    rowSelector: "." + ("color" === n ? "tox-swatches__row" : "tox-collection__group")
                }
            }, b8 = function(e, n) {
                return 1 === e ? {
                    mode: "menu",
                    moveOnTab: !1,
                    selector: ".tox-collection__item"
                } : "auto" === e ? {
                    mode: "flatgrid",
                    selector: ".tox-collection__item",
                    initSize: {
                        numColumns: 1,
                        numRows: 1
                    }
                } : {
                    mode: "matrix",
                    selectors: {
                        row: "color" === n ? ".tox-swatches__row" : ".tox-collection__group",
                        cell: "color" === n ? "." + l3 : "." + Hs
                    }
                }
            }, uA = Pn("cell-over"), sA = Pn("cell-execute"), x8 = function(e, n, r) {
                var u, d = function(S) {
                    return Vn(S, sA, {
                        row: e,
                        col: n
                    })
                }, p = function(S, T) {
                    T.stop(),
                    d(S)
                };
                return es({
                    dom: {
                        tag: "div",
                        attributes: (u = {
                            role: "button"
                        },
                        u["aria-labelledby"] = r,
                        u)
                    },
                    behaviours: Wt([rn("insert-table-picker-cell", [gt(nv(), sr.focus), gt(co(), d), gt(vd(), p), gt(gd(), p)]), io.config({
                        toggleClass: "tox-insert-table-picker__selected",
                        toggleOnExecute: !1
                    }), sr.config({
                        onFocus: function(S) {
                            return Vn(S, uA, {
                                row: e,
                                col: n
                            })
                        }
                    })])
                })
            }, T8 = function(e) {
                return Un(e, function(n) {
                    return re(n, hc)
                })
            }, cA = function(e, n) {
                return Fu(n + "x" + e)
            }, k8 = {
                inserttable: function(e) {
                    var u = Pn("size-label")
                      , l = function(e, n, r) {
                        for (var u = [], l = 0; l < 10; l++) {
                            for (var d = [], p = 0; p < 10; p++)
                                d.push(x8(l, p, e));
                            u.push(d)
                        }
                        return u
                    }(u)
                      , d = cA(0, 0)
                      , p = ko({
                        dom: {
                            tag: "span",
                            classes: ["tox-insert-table-picker__label"],
                            attributes: {
                                id: u
                            }
                        },
                        components: [d],
                        behaviours: Wt([pr.config({})])
                    });
                    return {
                        type: "widget",
                        data: {
                            value: Pn("widget-id")
                        },
                        dom: {
                            tag: "div",
                            classes: ["tox-fancymenuitem"]
                        },
                        autofocus: !0,
                        components: [zE.widget({
                            dom: {
                                tag: "div",
                                classes: ["tox-insert-table-picker"]
                            },
                            components: T8(l).concat(p.asSpec()),
                            behaviours: Wt([rn("insert-table-picker", [pa(function(S) {
                                pr.set(p.get(S), [d])
                            }), v1(uA, function(S, T, O) {
                                var I = O.event
                                  , $ = I.row
                                  , q = I.col;
                                (function(e, n, r, u, l) {
                                    for (var d = 0; d < 10; d++)
                                        for (var p = 0; p < 10; p++)
                                            io.set(e[d][p], d <= n && p <= r)
                                }
                                )(l, $, q),
                                pr.set(p.get(S), [cA($ + 1, q + 1)])
                            }), v1(sA, function(S, T, O) {
                                var I = O.event;
                                e.onAction({
                                    numRows: I.row + 1,
                                    numColumns: I.col + 1
                                }),
                                po(S, lc())
                            })]), Yn.config({
                                initSize: {
                                    numRows: 10,
                                    numColumns: 10
                                },
                                mode: "flatgrid",
                                selector: '[role="button"]'
                            })])
                        })]
                    }
                },
                colorswatch: function(e, n) {
                    var r = function(e, n) {
                        var r = e.initData.allowCustomColors && n.colorinput.hasCustomColors();
                        return e.initData.colors.fold(function() {
                            return tA(n.colorinput.getColors(), r)
                        }, function(u) {
                            return u.concat(eA(r))
                        })
                    }(e, n)
                      , u = n.colorinput.getColorCols()
                      , l = "color"
                      , d = Mk(Pn("menu-value"), r, function(S) {
                        e.onAction({
                            value: S
                        })
                    }, u, l, af.CLOSE_ON_EXECUTE, st, n.shared.providers)
                      , p = ae(ae({}, d), {
                        markers: uf(l),
                        movement: v_(u, l)
                    });
                    return {
                        type: "widget",
                        data: {
                            value: Pn("widget-id")
                        },
                        dom: {
                            tag: "div",
                            classes: ["tox-fancymenuitem"]
                        },
                        autofocus: !0,
                        components: [zE.widget(rr.sketch(p))]
                    }
                }
            }, lA = function(e) {
                var n = e.text.fold(function() {
                    return {}
                }, function(r) {
                    return {
                        innerHtml: r
                    }
                });
                return {
                    type: "separator",
                    dom: ae({
                        tag: "div",
                        classes: [Hs, "tox-collection__group-heading"]
                    }, n),
                    components: []
                }
            }, zS = (()=>(function(e) {
                e[e.ContentFocus = 0] = "ContentFocus",
                e[e.UiFocus = 1] = "UiFocus"
            }(zS || (zS = {})),
            zS))(), I8 = function(e, n, r, u, l) {
                var d = r.shared.providers
                  , p = function(S) {
                    return l ? ae(ae({}, S), {
                        shortcut: D.none(),
                        icon: S.text.isSome() ? D.none() : S.icon
                    }) : S
                };
                switch (e.type) {
                case "menuitem":
                    return function(e) {
                        return Wo("menuitem", j, e)
                    }(e).fold(Wv, function(S) {
                        return D.some(function(e, n, r, u) {
                            void 0 === u && (u = !0);
                            var d = y3({
                                presets: "normal",
                                iconContent: e.icon,
                                textContent: e.text,
                                htmlContent: D.none(),
                                ariaLabel: e.text,
                                caret: D.none(),
                                checkMark: D.none(),
                                shortcutContent: e.shortcut
                            }, r, u);
                            return BS({
                                data: NS(e),
                                getApi: function(p) {
                                    return {
                                        isDisabled: function() {
                                            return On.isDisabled(p)
                                        },
                                        setDisabled: function(S) {
                                            return On.set(p, S)
                                        }
                                    }
                                },
                                disabled: e.disabled,
                                onAction: e.onAction,
                                onSetup: e.onSetup,
                                triggersSubmenu: !1,
                                itemBehaviours: []
                            }, d, n, r)
                        }(p(S), n, d, u))
                    });
                case "nestedmenuitem":
                    return function(e) {
                        return Wo("nestedmenuitem", oe, e)
                    }(e).fold(Wv, function(S) {
                        return D.some(function(e, n, r, u, l) {
                            void 0 === u && (u = !0),
                            void 0 === l && (l = !1);
                            var d = l ? function(e) {
                                return Sk("chevron-down", e, [v3])
                            }(r.icons) : function(e) {
                                return Sk("chevron-right", e, [v3])
                            }(r.icons)
                              , S = y3({
                                presets: "normal",
                                iconContent: e.icon,
                                textContent: e.text,
                                htmlContent: D.none(),
                                ariaLabel: e.text,
                                caret: D.some(d),
                                checkMark: D.none(),
                                shortcutContent: e.shortcut
                            }, r, u);
                            return BS({
                                data: NS(e),
                                getApi: function(T) {
                                    return {
                                        isDisabled: function() {
                                            return On.isDisabled(T)
                                        },
                                        setDisabled: function(O) {
                                            return On.set(T, O)
                                        }
                                    }
                                },
                                disabled: e.disabled,
                                onAction: Xe,
                                onSetup: e.onSetup,
                                triggersSubmenu: !0,
                                itemBehaviours: []
                            }, S, n, r)
                        }(p(S), n, d, u, l))
                    });
                case "togglemenuitem":
                    return function(e) {
                        return Wo("togglemenuitem", X, e)
                    }(e).fold(Wv, function(S) {
                        return D.some(function(e, n, r, u) {
                            void 0 === u && (u = !0);
                            var d = y3({
                                iconContent: e.icon,
                                textContent: e.text,
                                htmlContent: D.none(),
                                ariaLabel: e.text,
                                checkMark: D.some(ME(r.icons)),
                                caret: D.none(),
                                shortcutContent: e.shortcut,
                                presets: "normal",
                                meta: e.meta
                            }, r, u);
                            return Tn(BS({
                                data: NS(e),
                                disabled: e.disabled,
                                getApi: function(p) {
                                    return {
                                        setActive: function(S) {
                                            io.set(p, S)
                                        },
                                        isActive: function() {
                                            return io.isOn(p)
                                        },
                                        isDisabled: function() {
                                            return On.isDisabled(p)
                                        },
                                        setDisabled: function(S) {
                                            return On.set(p, S)
                                        }
                                    }
                                },
                                onAction: e.onAction,
                                onSetup: e.onSetup,
                                triggersSubmenu: !1,
                                itemBehaviours: []
                            }, d, n, r), {
                                toggling: {
                                    toggleClass: f3,
                                    toggleOnExecute: !1,
                                    selected: e.active
                                }
                            })
                        }(p(S), n, d, u))
                    });
                case "separator":
                    return function(e) {
                        return Wo("separatormenuitem", fw, e)
                    }(e).fold(Wv, function(S) {
                        return D.some(lA(S))
                    });
                case "fancymenuitem":
                    return function(e) {
                        return Wo("fancymenuitem", H, e)
                    }(e).fold(Wv, function(S) {
                        return function(e, n) {
                            return St(k8, e.fancytype).map(function(r) {
                                return r(e, n)
                            })
                        }(p(S), r)
                    });
                default:
                    return console.error("Unknown item in general menu", e),
                    D.none()
                }
            }, L8 = function(e, n, r, u, l, d, p) {
                var S = 1 === u
                  , T = !S || hw(e);
                return fa(re(e, function(O) {
                    switch (O.type) {
                    case "separator":
                        return function(e) {
                            return Wo("Autocompleter.Separator", fw, e)
                        }(O).fold(Wv, function(I) {
                            return D.some(lA(I))
                        });
                    case "cardmenuitem":
                        return function(e) {
                            return Wo("cardmenuitem", y, e)
                        }(O).fold(Wv, function(I) {
                            return D.some(function(e, n, r, u) {
                                var d = {
                                    dom: RE(e.label),
                                    optComponents: [D.some({
                                        dom: {
                                            tag: "div",
                                            classes: [_p, u_]
                                        },
                                        components: NE(e.items, u)
                                    })]
                                };
                                return BS({
                                    data: NS(ae({
                                        text: D.none()
                                    }, e)),
                                    disabled: e.disabled,
                                    getApi: function(p) {
                                        return {
                                            isDisabled: function() {
                                                return On.isDisabled(p)
                                            },
                                            setDisabled: function(S) {
                                                On.set(p, S),
                                                Re(as(p.element, "*"), function(T) {
                                                    p.getSystem().getByDom(T).each(function(O) {
                                                        O.hasConfigured(On) && On.set(O, S)
                                                    })
                                                })
                                            }
                                        }
                                    },
                                    onAction: e.onAction,
                                    onSetup: e.onSetup,
                                    triggersSubmenu: !1,
                                    itemBehaviours: D.from(u.itemBehaviours).getOr([])
                                }, d, n, r.providers)
                            }(ae(ae({}, I), {
                                onAction: function($) {
                                    I.onAction($),
                                    r(I.value, I.meta)
                                }
                            }), l, d, {
                                itemBehaviours: PE(I.meta, d),
                                cardText: {
                                    matchText: n,
                                    highlightOn: p
                                }
                            }))
                        });
                    default:
                        return function(e) {
                            return Wo("Autocompleter.Item", Q3, e)
                        }(O).fold(Wv, function(I) {
                            return D.some(function(e, n, r, u, l, d, p, S) {
                                void 0 === S && (S = !0);
                                var T = y3({
                                    presets: u,
                                    textContent: D.none(),
                                    htmlContent: r ? e.text.map(function(O) {
                                        return BE(O, n)
                                    }) : D.none(),
                                    ariaLabel: e.text,
                                    iconContent: e.icon,
                                    shortcutContent: D.none(),
                                    checkMark: D.none(),
                                    caret: D.none(),
                                    value: e.value
                                }, p.providers, S, e.icon);
                                return BS({
                                    data: NS(e),
                                    disabled: e.disabled,
                                    getApi: Se({}),
                                    onAction: function(O) {
                                        return l(e.value, e.meta)
                                    },
                                    onSetup: Se(Xe),
                                    triggersSubmenu: !1,
                                    itemBehaviours: PE(e.meta, p)
                                }, T, d, p.providers)
                            }(I, n, S, "normal", r, l, d, T))
                        })
                    }
                }))
            }, fA = function(e, n, r, u, l) {
                var d = hw(n)
                  , p = fa(re(n, function(T) {
                    var I = function($) {
                        return I8($, r, u, function($) {
                            return l ? !yr($, "text") : d
                        }($), l)
                    };
                    return "nestedmenuitem" === T.type && T.getSubmenuItems().length <= 0 ? I(ae(ae({}, T), {
                        disabled: !0
                    })) : I(T)
                }));
                return (l ? t : o)(e, d, p, 1, "normal")
            }, vA = function(e) {
                return us.singleData(e.value, e)
            }, V8_register = function(e, n) {
                var r = ni()
                  , u = Xn(!1)
                  , l = es(ya.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-autocompleter"]
                    },
                    components: [],
                    fireDismissalEventInstead: {},
                    inlineBehaviours: Wt([rn("dismissAutocompleter", [gt(fc(), function() {
                        return T()
                    })])]),
                    lazySink: n.getSink
                }))
                  , p = function() {
                    return r.get().isSome()
                }
                  , S = function() {
                    p() && ya.hide(l)
                }
                  , T = function() {
                    if (p()) {
                        var ce = r.get().map(function(ke) {
                            return ke.element
                        });
                        bS(ce.getOr(Ie_fromDom(e.selection.getNode()))).each(gf),
                        S(),
                        r.clear(),
                        u.set(!1)
                    }
                }
                  , O = Wr(function() {
                    return function(e) {
                        var n = e.ui.registry.getAll().popups
                          , r = ee(n, function(p) {
                            return function(e) {
                                return Wo("Autocompleter", ck, e)
                            }(p).fold(function(S) {
                                throw new Error(uu(S))
                            }, _n)
                        })
                          , u = function(e) {
                            var n = {};
                            return Re(e, function(r) {
                                n[r] = {}
                            }),
                            An(n)
                        }(xa(r, function(p) {
                            return p.ch
                        }))
                          , l = Qr(r);
                        return {
                            dataset: r,
                            triggerChars: u,
                            lookupByChar: function(p) {
                                return je(l, function(S) {
                                    return S.ch === p
                                })
                            }
                        }
                    }(e)
                })
                  , te = function(ce) {
                    (function(ce) {
                        return r.get().map(function(ke) {
                            return o3(e.dom, e.selection.getRng(), ke.triggerChar).bind(function(Ze) {
                                return yg(e, O, Ze, ce)
                            })
                        }).getOrThunk(function() {
                            return function(e, n) {
                                var r = n()
                                  , u = e.selection.getRng();
                                return function(e, n, r) {
                                    return Sr(r.triggerChars, function(u) {
                                        return o3(e, n, u)
                                    })
                                }(e.dom, u, r).bind(function(l) {
                                    return yg(e, n, l)
                                })
                            }(e, O)
                        })
                    }
                    )(ce).fold(T, function(ke) {
                        (function(ce) {
                            if (!p()) {
                                var ke = pS(e, ce.range);
                                r.set({
                                    triggerChar: ce.triggerChar,
                                    element: ke,
                                    matchLength: ce.text.length
                                }),
                                u.set(!1)
                            }
                        }
                        )(ke.context),
                        ke.lookupData.then(function(Ze) {
                            r.get().map(function(Ye) {
                                var _e = ke.context;
                                if (Ye.triggerChar === _e.triggerChar) {
                                    var Ue = function(ce, ke) {
                                        var Ze = Sr(ke, function(Ye) {
                                            return D.from(Ye.columns)
                                        }).getOr(1);
                                        return Un(ke, function(Ye) {
                                            return L8(Ye.items, Ye.matchText, function(Ue, ut) {
                                                var Jt = e.selection.getRng();
                                                o3(e.dom, Jt, ce).fold(function() {
                                                    return console.error("Lost context. Cursor probably moved")
                                                }, function(ht) {
                                                    var Qt = ht.range
                                                      , yt = {
                                                        hide: function() {
                                                            T()
                                                        },
                                                        reload: function(it) {
                                                            S(),
                                                            te(it)
                                                        }
                                                    };
                                                    u.set(!0),
                                                    Ye.onAction(yt, Qt, Ue, ut),
                                                    u.set(!1)
                                                })
                                            }, Ze, af.BUBBLE_TO_SANDBOX, n, Ye.highlightOn)
                                        })
                                    }(_e.triggerChar, Ze);
                                    Ue.length > 0 ? function(ce, ke, Ze, Ye) {
                                        ce.matchLength = ke.text.length;
                                        var _e = Sr(Ze, function(Ue) {
                                            return D.from(Ue.columns)
                                        }).getOr(1);
                                        ya.showAt(l, rr.sketch(function(e, n, r, u) {
                                            var l = r === zS.ContentFocus ? Kl() : Wd()
                                              , d = v_(n, u)
                                              , p = uf(u);
                                            return {
                                                dom: e.dom,
                                                components: e.components,
                                                items: e.items,
                                                value: e.value,
                                                markers: {
                                                    selectedItem: p.selectedItem,
                                                    item: p.item
                                                },
                                                movement: d,
                                                fakeFocus: r === zS.ContentFocus,
                                                focusManager: l,
                                                menuBehaviours: Ge_unnamedEvents("auto" !== n ? [] : [pa(function(S, T) {
                                                    ue(S, 4, p.item).each(function(O) {
                                                        Yn.setGridSize(S, O.numRows, O.numColumns)
                                                    })
                                                })])
                                            }
                                        }(o("autocompleter-value", !0, Ye, _e, "normal"), _e, zS.ContentFocus, "normal")), {
                                            anchor: {
                                                type: "node",
                                                root: Ie_fromDom(e.getBody()),
                                                node: D.from(ce.element)
                                            }
                                        }),
                                        ya.getContent(l).each(_o.highlightFirst)
                                    }(Ye, _e, Ze, Ue) : _e.text.length - Ye.matchLength >= 10 ? T() : S()
                                }
                            })
                        })
                    })
                }
                  , Te = {
                    onKeypress: hS(function(ce) {
                        27 !== ce.which && te()
                    }, 50),
                    cancelIfNecessary: T,
                    isMenuOpen: function() {
                        return ya.isOpen(l)
                    },
                    isActive: p,
                    isProcessingAction: u.get,
                    getView: function() {
                        return ya.getContent(l)
                    }
                };
                !1 === e.hasPlugin("rtc") && function(e, n) {
                    n.on("keypress compositionend", e.onKeypress.throttle),
                    n.on("remove", e.onKeypress.cancel);
                    var r = function(u, l) {
                        Vn(u, i1(), {
                            raw: l
                        })
                    };
                    n.on("keydown", function(u) {
                        var l = function() {
                            return e.getView().bind(_o.getHighlighted)
                        };
                        8 === u.which && e.onKeypress.throttle(u),
                        e.isActive() && (27 === u.which && e.cancelIfNecessary(),
                        e.isMenuOpen() ? 13 === u.which ? (l().each(ov),
                        u.preventDefault()) : 40 === u.which ? (l().fold(function() {
                            e.getView().each(_o.highlightFirst)
                        }, function(d) {
                            r(d, u)
                        }),
                        u.preventDefault(),
                        u.stopImmediatePropagation()) : (37 === u.which || 38 === u.which || 39 === u.which) && l().each(function(d) {
                            r(d, u),
                            u.preventDefault(),
                            u.stopImmediatePropagation()
                        }) : (13 === u.which || 38 === u.which || 40 === u.which) && e.cancelIfNecessary())
                    }),
                    n.on("NodeChange", function(u) {
                        e.isActive() && !e.isProcessingAction() && bS(Ie_fromDom(u.element)).isNone() && e.cancelIfNecessary()
                    })
                }(Te, e)
            }, S3 = function(e, n, r) {
                return Ic(e, n, r).isSome()
            }, dA = function(e, n) {
                var r = null;
                return {
                    cancel: function() {
                        null !== r && (clearTimeout(r),
                        r = null)
                    },
                    schedule: function() {
                        for (var d = [], p = 0; p < arguments.length; p++)
                            d[p] = arguments[p];
                        r = setTimeout(function() {
                            e.apply(null, d),
                            r = null
                        }, n)
                    }
                }
            }, gA = function(e) {
                var n = e.raw;
                return void 0 === n.touches || 1 !== n.touches.length ? D.none() : D.some(n.touches[0])
            }, hA = function() {
                return Dr().browser.isFirefox()
            }, X8 = function(e, n) {
                var r = ae({
                    stopBackspace: !0
                }, n)
                  , l = function(e) {
                    var n = ni()
                      , r = Xn(!1)
                      , u = dA(function(O) {
                        e.triggerEvent(Lb(), O),
                        r.set(!0)
                    }, 400)
                      , S = Rc([{
                        key: Pl(),
                        value: function(O) {
                            return gA(O).each(function(I) {
                                u.cancel();
                                var $ = {
                                    x: I.clientX,
                                    y: I.clientY,
                                    target: O.target
                                };
                                u.schedule(O),
                                r.set(!1),
                                n.set($)
                            }),
                            D.none()
                        }
                    }, {
                        key: mm(),
                        value: function(O) {
                            return u.cancel(),
                            gA(O).each(function(I) {
                                n.on(function($) {
                                    (function(e, n) {
                                        var r = Math.abs(e.clientX - n.x)
                                          , u = Math.abs(e.clientY - n.y);
                                        return r > 5 || u > 5
                                    }
                                    )(I, $) && n.clear()
                                })
                            }),
                            D.none()
                        }
                    }, {
                        key: fd(),
                        value: function(O) {
                            return u.cancel(),
                            n.get().filter(function($) {
                                return Eo($.target, O.target)
                            }).map(function($) {
                                return r.get() ? (O.prevent(),
                                !1) : e.triggerEvent(gd(), O)
                            })
                        }
                    }]);
                    return {
                        fireIfReady: function(O, I) {
                            return St(S, I).bind(function($) {
                                return $(O)
                            })
                        }
                    }
                }(r)
                  , d = re(["touchstart", "touchmove", "touchend", "touchcancel", "gesturestart", "mousedown", "mouseup", "mouseover", "mousemove", "mouseout", "click"].concat(["selectstart", "input", "contextmenu", "change", "transitionend", "transitioncancel", "drag", "dragstart", "dragend", "dragenter", "dragleave", "dragover", "drop", "keyup"]), function(Z) {
                    return li(e, Z, function(te) {
                        l.fireIfReady(te, Z).each(function(Te) {
                            Te && te.kill()
                        }),
                        r.triggerEvent(Z, te) && te.kill()
                    })
                })
                  , p = ni()
                  , S = li(e, "paste", function(Z) {
                    l.fireIfReady(Z, "paste").each(function(de) {
                        de && Z.kill()
                    }),
                    r.triggerEvent("paste", Z) && Z.kill(),
                    p.set(setTimeout(function() {
                        r.triggerEvent(md(), Z)
                    }, 0))
                })
                  , T = li(e, "keydown", function(Z) {
                    r.triggerEvent("keydown", Z) ? Z.kill() : r.stopBackspace && function(e) {
                        return e.raw.which === sg[0] && !nn(["input", "textarea"], so(e.target)) && !S3(e.target, '[contenteditable="true"]')
                    }(Z) && Z.prevent()
                })
                  , O = function(e, n) {
                    return hA() ? wh(e, "focus", n) : li(e, "focusin", n)
                }(e, function(Z) {
                    r.triggerEvent("focusin", Z) && Z.kill()
                })
                  , I = ni()
                  , $ = function(e, n) {
                    return hA() ? wh(e, "blur", n) : li(e, "focusout", n)
                }(e, function(Z) {
                    r.triggerEvent("focusout", Z) && Z.kill(),
                    I.set(setTimeout(function() {
                        r.triggerEvent(Ib(), Z)
                    }, 0))
                });
                return {
                    unbind: function() {
                        Re(d, function(Z) {
                            Z.unbind()
                        }),
                        T.unbind(),
                        O.unbind(),
                        $.unbind(),
                        S.unbind(),
                        p.on(clearTimeout),
                        I.on(clearTimeout)
                    }
                }
            }, pA = function(e, n) {
                var r = St(e, "target").getOr(n);
                return Xn(r)
            }, T3 = bs_generate([{
                stopped: []
            }, {
                resume: ["element"]
            }, {
                complete: []
            }]), bA = function(e, n, r, u, l, d) {
                var p = e(n, u)
                  , S = function(e, n) {
                    var r = Xn(!1)
                      , u = Xn(!1);
                    return {
                        stop: function() {
                            r.set(!0)
                        },
                        cut: function() {
                            u.set(!0)
                        },
                        isStopped: r.get,
                        isCut: u.get,
                        event: e,
                        setSource: n.set,
                        getSource: n.get
                    }
                }(r, l);
                return p.fold(function() {
                    return d.logEventNoHandlers(n, u),
                    T3.complete()
                }, function(T) {
                    var O = T.descHandler;
                    return xd(O)(S),
                    S.isStopped() ? (d.logEventStopped(n, T.element, O.purpose),
                    T3.stopped()) : S.isCut() ? (d.logEventCut(n, T.element, O.purpose),
                    T3.complete()) : L(T.element).fold(function() {
                        return d.logNoParent(n, T.element, O.purpose),
                        T3.complete()
                    }, function($) {
                        return d.logEventResponse(n, T.element, O.purpose),
                        T3.resume($)
                    })
                })
            }, yA = function(e, n, r, u, l, d) {
                return bA(e, n, r, u, l, d).fold(ge, function(p) {
                    return yA(e, n, r, p, l, d)
                }, st)
            }, wA = function(e, n, r, u, l) {
                var d = pA(r, u);
                return yA(e, n, r, u, d, l)
            }, o6 = function() {
                var e = function() {
                    var e = {};
                    return {
                        registerId: function(p, S, T) {
                            Ar(T, function(O, I) {
                                var $ = void 0 !== e[I] ? e[I] : {};
                                $[S] = function(e, n) {
                                    return function(e, n) {
                                        return {
                                            cHandler: e,
                                            purpose: n
                                        }
                                    }(In.apply(void 0, [e.handler].concat(n)), e.purpose)
                                }(O, p),
                                e[I] = $
                            })
                        },
                        unregisterId: function(p) {
                            Ar(e, function(S, T) {
                                yr(S, p) && delete S[p]
                            })
                        },
                        filterByType: function(p) {
                            return St(e, p).map(function(S) {
                                return xa(S, function(T, O) {
                                    return function(e, n) {
                                        return {
                                            id: e,
                                            descHandler: n
                                        }
                                    }(O, T)
                                })
                            }).getOr([])
                        },
                        find: function(p, S, T) {
                            return St(e, S).bind(function(O) {
                                return vm(T, function(I) {
                                    return function(p, S) {
                                        return sv(S).bind(function(T) {
                                            return St(p, T)
                                        }).map(function(T) {
                                            return function(e, n) {
                                                return {
                                                    element: e,
                                                    descHandler: n
                                                }
                                            }(S, T)
                                        })
                                    }(O, I)
                                }, p)
                            })
                        }
                    }
                }()
                  , n = {}
                  , d = function(O) {
                    sv(O.element).each(function(I) {
                        delete n[I],
                        e.unregisterId(I)
                    })
                };
                return {
                    find: function(O, I, $) {
                        return e.find(O, I, $)
                    },
                    filter: function(O) {
                        return e.filterByType(O)
                    },
                    register: function(O) {
                        var I = function(O) {
                            return sv(O.element).getOrThunk(function() {
                                return function(e, n) {
                                    var r = Pn(qw + "uid-");
                                    return et(n, r),
                                    r
                                }(0, O.element)
                            })
                        }(O);
                        en(n, I) && function(O, I) {
                            var $ = n[I];
                            if ($ !== O)
                                throw new Error('The tagId "' + I + '" is already used by: ' + _f($.element) + "\nCannot use it for: " + _f(O.element) + "\nThe conflicting element is" + (no($.element) ? " " : " not ") + "already in the DOM");
                            d(O)
                        }(O, I),
                        e.registerId([O], I, O.events),
                        n[I] = O
                    },
                    unregister: d,
                    getById: function(O) {
                        return St(n, O)
                    }
                }
            }, $s = nc({
                name: "Container",
                factory: function(e) {
                    var n = e.dom
                      , r = n.attributes
                      , u = on(n, ["attributes"]);
                    return {
                        uid: e.uid,
                        dom: ae({
                            tag: "div",
                            attributes: ae({
                                role: "presentation"
                            }, r)
                        }, u),
                        components: e.components,
                        behaviours: $h(e.containerBehaviours),
                        events: e.events,
                        domModification: e.domModification,
                        eventOrder: e.eventOrder
                    }
                },
                configFields: [Be("components", []), Wi("containerBehaviours", []), Be("events", {}), Be("domModification", {}), Be("eventOrder", {})]
            }), xA = function(e) {
                var n = function(ce) {
                    return L(e.element).fold(ge, function(ke) {
                        return Eo(ce, ke)
                    })
                }
                  , r = o6()
                  , u = function(ce, ke) {
                    return r.find(n, ce, ke)
                }
                  , l = X8(e.element, {
                    triggerEvent: function(ce, ke) {
                        return _d(ce, ke.target, function(Ze) {
                            return function(e, n, r, u) {
                                return wA(e, n, r, r.target, u)
                            }(u, ce, ke, Ze)
                        })
                    }
                })
                  , d = {
                    debugInfo: Se("real"),
                    triggerEvent: function(ce, ke, Ze) {
                        _d(ce, ke, function(Ye) {
                            return wA(u, ce, Ze, ke, Ye)
                        })
                    },
                    triggerFocus: function(ce, ke) {
                        sv(ce).fold(function() {
                            xs(ce)
                        }, function(Ze) {
                            _d(Bc(), ce, function(Ye) {
                                return function(e, n, r, u, l) {
                                    var d = pA(r, u);
                                    bA(e, n, r, u, d, l)
                                }(u, Bc(), {
                                    originator: ke,
                                    kill: Xe,
                                    prevent: Xe,
                                    target: ce
                                }, ce, Ye),
                                !1
                            })
                        })
                    },
                    triggerEscape: function(ce, ke) {
                        d.triggerEvent("keydown", ce.element, ke.event)
                    },
                    getByUid: function(ce) {
                        return de(ce)
                    },
                    getByDom: function(ce) {
                        return Te(ce)
                    },
                    build: es,
                    addToGui: function(ce) {
                        T(ce)
                    },
                    removeFromGui: function(ce) {
                        O(ce)
                    },
                    addToWorld: function(ce) {
                        p(ce)
                    },
                    removeFromWorld: function(ce) {
                        S(ce)
                    },
                    broadcast: function(ce) {
                        q(ce)
                    },
                    broadcastOn: function(ce, ke) {
                        Z(ce, ke)
                    },
                    broadcastEvent: function(ce, ke) {
                        te(ce, ke)
                    },
                    isConnected: ge
                }
                  , p = function(ce) {
                    ce.connect(d),
                    ri(ce.element) || (r.register(ce),
                    Re(ce.components(), p),
                    d.triggerEvent(su(), ce.element, {
                        target: ce.element
                    }))
                }
                  , S = function(ce) {
                    ri(ce.element) || (Re(ce.components(), S),
                    r.unregister(ce)),
                    ce.disconnect()
                }
                  , T = function(ce) {
                    Mf(e, ce)
                }
                  , O = function(ce) {
                    Tv(ce)
                }
                  , $ = function(ce) {
                    var ke = r.filter(Cf());
                    Re(ke, function(Ze) {
                        xd(Ze.descHandler)(ce)
                    })
                }
                  , q = function(ce) {
                    $({
                        universal: !0,
                        data: ce
                    })
                }
                  , Z = function(ce, ke) {
                    $({
                        universal: !1,
                        channels: ce,
                        data: ke
                    })
                }
                  , te = function(ce, ke) {
                    return function(e, n, r) {
                        var u = function(e) {
                            var n = Xn(!1);
                            return {
                                stop: function() {
                                    n.set(!0)
                                },
                                cut: Xe,
                                isStopped: n.get,
                                isCut: st,
                                event: e,
                                setSource: $o("Cannot set source of a broadcasted event"),
                                getSource: $o("Cannot get source of a broadcasted event")
                            }
                        }(n);
                        return Re(e, function(l) {
                            xd(l.descHandler)(u)
                        }),
                        u.isStopped()
                    }(r.filter(ce), ke)
                }
                  , de = function(ce) {
                    return r.getById(ce).fold(function() {
                        return Fr.error(new Error('Could not find component with uid: "' + ce + '" in system.'))
                    }, Fr.value)
                }
                  , Te = function(ce) {
                    var ke = sv(ce).getOr("not found");
                    return de(ke)
                };
                return p(e),
                {
                    root: e,
                    element: e.element,
                    destroy: function() {
                        l.unbind(),
                        Nu(e.element)
                    },
                    add: T,
                    remove: O,
                    getByUid: de,
                    getByDom: Te,
                    addToWorld: p,
                    removeFromWorld: S,
                    broadcast: q,
                    broadcastOn: Z,
                    broadcastEvent: te
                }
            }, u6 = Se([Be("prefix", "form-field"), Wi("fieldBehaviours", [qr, tn])]), s6 = Se([tc({
                schema: [ot("dom")],
                name: "label"
            }), tc({
                factory: {
                    sketch: function(e) {
                        return {
                            uid: e.uid,
                            dom: {
                                tag: "span",
                                styles: {
                                    display: "none"
                                },
                                attributes: {
                                    "aria-hidden": "true"
                                },
                                innerHtml: e.text
                            }
                        }
                    }
                },
                schema: [ot("text")],
                name: "aria-descriptor"
            }), Va({
                factory: {
                    sketch: function(e) {
                        var n = function(e, n) {
                            return function(e, n) {
                                var r = {};
                                return Ar(e, function(u, l) {
                                    nn(n, l) || (r[l] = u)
                                }),
                                r
                            }(e, n)
                        }(e, ["factory"]);
                        return e.factory.sketch(n)
                    }
                },
                schema: [ot("factory")],
                name: "field"
            })]), Ao = Lu({
                name: "FormField",
                configFields: u6(),
                partFields: s6(),
                factory: function(e, n, r, u) {
                    var l = eu(e.fieldBehaviours, [qr.config({
                        find: function(S) {
                            return Ro(S, e, "field")
                        }
                    }), tn.config({
                        store: {
                            mode: "manual",
                            getValue: function(S) {
                                return qr.getCurrent(S).bind(tn.getValue)
                            },
                            setValue: function(S, T) {
                                qr.getCurrent(S).each(function(O) {
                                    tn.setValue(O, T)
                                })
                            }
                        }
                    })])
                      , d = Lo([pa(function(S, T) {
                        var O = k0(S, e, ["label", "field", "aria-descriptor"]);
                        O.field().each(function(I) {
                            var $ = Pn(e.prefix);
                            O.label().each(function(q) {
                                wr(q.element, "for", $),
                                wr(I.element, "id", $)
                            }),
                            O["aria-descriptor"]().each(function(q) {
                                var Z = Pn(e.prefix);
                                wr(q.element, "id", Z),
                                wr(I.element, "aria-describedby", Z)
                            })
                        })
                    })]);
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: l,
                        events: d,
                        apis: {
                            getField: function(S) {
                                return Ro(S, e, "field")
                            },
                            getLabel: function(S) {
                                return Ro(S, e, "label")
                            }
                        }
                    }
                },
                apis: {
                    getField: function(e, n) {
                        return e.getField(n)
                    },
                    getLabel: function(e, n) {
                        return e.getLabel(n)
                    }
                }
            }), f6 = Object.freeze({
                __proto__: null,
                exhibit: function(e, n) {
                    return mc({
                        attributes: Rc([{
                            key: n.tabAttr,
                            value: "true"
                        }])
                    })
                }
            }), v6 = [Be("tabAttr", "data-alloy-tabstop")], Fi = zi({
                fields: v6,
                name: "tabstopping",
                active: f6
            }), d6 = tinymce.util.Tools.resolve("tinymce.html.Entities"), _3 = function(e, n, r, u) {
                var l = g6(e, n, r, u);
                return Ao.sketch(l)
            }, g6 = function(e, n, r, u) {
                return {
                    dom: CA(r),
                    components: e.toArray().concat([n]),
                    fieldBehaviours: Wt(u)
                }
            }, CA = function(e) {
                return {
                    tag: "div",
                    classes: ["tox-form__group"].concat(e)
                }
            }, mb = function(e, n) {
                return Ao.parts.label({
                    dom: {
                        tag: "label",
                        classes: ["tox-label"],
                        innerHtml: n.translate(e)
                    }
                })
            }, cf = Pn("form-component-change"), k3 = Pn("form-close"), pw = Pn("form-cancel"), xg = Pn("form-action"), E3 = Pn("form-submit"), Rk = Pn("form-block"), Pk = Pn("form-unblock"), SA = Pn("form-tabchange"), TA = Pn("form-resize"), _A = Se([To("data"), Be("inputAttributes", {}), Be("inputStyles", {}), Be("tag", "input"), Be("inputClasses", []), vo("onSetValue"), Be("styles", {}), Be("eventOrder", {}), Wi("inputBehaviours", [tn, sr]), Be("selectOnFocus", !0)]), kA = function(e) {
                return Wt([sr.config({
                    onFocus: e.selectOnFocus ? function(n) {
                        var r = n.element
                          , u = kf(r);
                        r.dom.setSelectionRange(0, u.length)
                    }
                    : Xe
                })])
            }, b6 = function(e) {
                return ae(ae({}, kA(e)), eu(e.inputBehaviours, [tn.config({
                    store: ae(ae({
                        mode: "manual"
                    }, e.data.map(function(n) {
                        return {
                            initialValue: n
                        }
                    }).getOr({})), {
                        getValue: function(n) {
                            return kf(n.element)
                        },
                        setValue: function(n, r) {
                            kf(n.element) !== r && Dm(n.element, r)
                        }
                    }),
                    onSetValue: e.onSetValue
                })]))
            }, EA = function(e) {
                return {
                    tag: e.tag,
                    attributes: ae({
                        type: "text"
                    }, e.inputAttributes),
                    styles: e.inputStyles,
                    classes: e.inputClasses
                }
            }, A3 = nc({
                name: "Input",
                configFields: _A(),
                factory: function(e, n) {
                    return {
                        uid: e.uid,
                        dom: EA(e),
                        components: [],
                        behaviours: b6(e),
                        eventOrder: e.eventOrder
                    }
                }
            }), AA = {}, OA = {
                exports: AA
            };
            !function(e, n, r, u) {
                var l, d;
                l = this,
                d = function() {
                    var O, l = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== cn.g ? cn.g : "undefined" != typeof self ? self : {}, d = {
                        exports: {}
                    };
                    O = d,
                    function(I) {
                        var $ = setTimeout;
                        function q() {}
                        function te(_e) {
                            if ("object" != typeof this)
                                throw new TypeError("Promises must be constructed via new");
                            if ("function" != typeof _e)
                                throw new TypeError("not a function");
                            this._state = 0,
                            this._handled = !1,
                            this._value = void 0,
                            this._deferreds = [],
                            Ye(_e, this)
                        }
                        function de(_e, Ue) {
                            for (; 3 === _e._state; )
                                _e = _e._value;
                            0 !== _e._state ? (_e._handled = !0,
                            te._immediateFn(function() {
                                var ut = 1 === _e._state ? Ue.onFulfilled : Ue.onRejected;
                                if (null !== ut) {
                                    var Jt;
                                    try {
                                        Jt = ut(_e._value)
                                    } catch (ht) {
                                        return void ce(Ue.promise, ht)
                                    }
                                    Te(Ue.promise, Jt)
                                } else
                                    (1 === _e._state ? Te : ce)(Ue.promise, _e._value)
                            })) : _e._deferreds.push(Ue)
                        }
                        function Te(_e, Ue) {
                            try {
                                if (Ue === _e)
                                    throw new TypeError("A promise cannot be resolved with itself.");
                                if (Ue && ("object" == typeof Ue || "function" == typeof Ue)) {
                                    var ut = Ue.then;
                                    if (Ue instanceof te)
                                        return _e._state = 3,
                                        _e._value = Ue,
                                        void ke(_e);
                                    if ("function" == typeof ut)
                                        return void Ye(function(_e, Ue) {
                                            return function() {
                                                _e.apply(Ue, arguments)
                                            }
                                        }(ut, Ue), _e)
                                }
                                _e._state = 1,
                                _e._value = Ue,
                                ke(_e)
                            } catch (Jt) {
                                ce(_e, Jt)
                            }
                        }
                        function ce(_e, Ue) {
                            _e._state = 2,
                            _e._value = Ue,
                            ke(_e)
                        }
                        function ke(_e) {
                            2 === _e._state && 0 === _e._deferreds.length && te._immediateFn(function() {
                                _e._handled || te._unhandledRejectionFn(_e._value)
                            });
                            for (var Ue = 0, ut = _e._deferreds.length; Ue < ut; Ue++)
                                de(_e, _e._deferreds[Ue]);
                            _e._deferreds = null
                        }
                        function Ze(_e, Ue, ut) {
                            this.onFulfilled = "function" == typeof _e ? _e : null,
                            this.onRejected = "function" == typeof Ue ? Ue : null,
                            this.promise = ut
                        }
                        function Ye(_e, Ue) {
                            var ut = !1;
                            try {
                                _e(function(Jt) {
                                    ut || (ut = !0,
                                    Te(Ue, Jt))
                                }, function(Jt) {
                                    ut || (ut = !0,
                                    ce(Ue, Jt))
                                })
                            } catch (Jt) {
                                if (ut)
                                    return;
                                ut = !0,
                                ce(Ue, Jt)
                            }
                        }
                        te.prototype.catch = function(_e) {
                            return this.then(null, _e)
                        }
                        ,
                        te.prototype.then = function(_e, Ue) {
                            var ut = new this.constructor(q);
                            return de(this, new Ze(_e,Ue,ut)),
                            ut
                        }
                        ,
                        te.all = function(_e) {
                            var Ue = Array.prototype.slice.call(_e);
                            return new te(function(ut, Jt) {
                                if (0 === Ue.length)
                                    return ut([]);
                                var ht = Ue.length;
                                function Qt(it, $t) {
                                    try {
                                        if ($t && ("object" == typeof $t || "function" == typeof $t)) {
                                            var kn = $t.then;
                                            if ("function" == typeof kn)
                                                return void kn.call($t, function(mt) {
                                                    Qt(it, mt)
                                                }, Jt)
                                        }
                                        Ue[it] = $t,
                                        0 == --ht && ut(Ue)
                                    } catch (mt) {
                                        Jt(mt)
                                    }
                                }
                                for (var yt = 0; yt < Ue.length; yt++)
                                    Qt(yt, Ue[yt])
                            }
                            )
                        }
                        ,
                        te.resolve = function(_e) {
                            return _e && "object" == typeof _e && _e.constructor === te ? _e : new te(function(Ue) {
                                Ue(_e)
                            }
                            )
                        }
                        ,
                        te.reject = function(_e) {
                            return new te(function(Ue, ut) {
                                ut(_e)
                            }
                            )
                        }
                        ,
                        te.race = function(_e) {
                            return new te(function(Ue, ut) {
                                for (var Jt = 0, ht = _e.length; Jt < ht; Jt++)
                                    _e[Jt].then(Ue, ut)
                            }
                            )
                        }
                        ,
                        te._immediateFn = "function" == typeof setImmediate ? function(_e) {
                            setImmediate(_e)
                        }
                        : function(_e) {
                            $(_e, 0)
                        }
                        ,
                        te._unhandledRejectionFn = function(Ue) {
                            "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", Ue)
                        }
                        ,
                        te._setImmediateFn = function(Ue) {
                            te._immediateFn = Ue
                        }
                        ,
                        te._setUnhandledRejectionFn = function(Ue) {
                            te._unhandledRejectionFn = Ue
                        }
                        ,
                        O.exports ? O.exports = te : I.Promise || (I.Promise = te)
                    }(l);
                    var p = d.exports;
                    return {
                        boltExport: ("undefined" != typeof window ? window : Function("return this;")()).Promise || p
                    }
                }
                ,
                "object" == typeof n && void 0 !== r ? r.exports = d() : (l = "undefined" != typeof globalThis ? globalThis : l || self).EphoxContactWrapper = d()
            }(0, AA, OA);
            var u4, Dp = OA.exports.boltExport, Bk = function(e) {
                var n = D.none()
                  , r = []
                  , l = function(O) {
                    p() ? T(O) : r.push(O)
                }
                  , p = function() {
                    return n.isSome()
                }
                  , T = function(O) {
                    n.each(function(I) {
                        setTimeout(function() {
                            O(I)
                        }, 0)
                    })
                };
                return e(function(O) {
                    p() || (n = D.some(O),
                    function(O) {
                        Re(O, T)
                    }(r),
                    r = [])
                }),
                {
                    get: l,
                    map: function(O) {
                        return Bk(function(I) {
                            l(function($) {
                                I(O($))
                            })
                        })
                    },
                    isReady: p
                }
            }, x6 = {
                nu: Bk,
                pure: function(e) {
                    return Bk(function(n) {
                        n(e)
                    })
                }
            }, C6 = function(e) {
                setTimeout(function() {
                    throw e
                }, 0)
            }, FS = function(e) {
                var n = function(T) {
                    e().then(T, C6)
                };
                return {
                    map: function(T) {
                        return FS(function() {
                            return e().then(T)
                        })
                    },
                    bind: function(T) {
                        return FS(function() {
                            return e().then(function(O) {
                                return T(O).toPromise()
                            })
                        })
                    },
                    anonBind: function(T) {
                        return FS(function() {
                            return e().then(function() {
                                return T.toPromise()
                            })
                        })
                    },
                    toLazy: function() {
                        return x6.nu(n)
                    },
                    toCached: function() {
                        var T = null;
                        return FS(function() {
                            return null === T && (T = e()),
                            T
                        })
                    },
                    toPromise: e,
                    get: n
                }
            }, Cs_nu = function(e) {
                return FS(function() {
                    return new Dp(e)
                })
            }, Cs_pure = function(e) {
                return FS(function() {
                    return Dp.resolve(e)
                })
            }, _6 = ["input", "textarea"], DA = function(e) {
                var n = so(e);
                return nn(_6, n)
            }, MA = function(e, n) {
                var r = n.getRoot(e).getOr(e.element);
                ei(r, n.invalidClass),
                n.notify.each(function(u) {
                    DA(e.element) && wr(e.element, "aria-invalid", !1),
                    u.getContainer(e).each(function(l) {
                        av(l, u.validHtml)
                    }),
                    u.onValid(e)
                })
            }, RA = function(e, n, r, u) {
                var l = n.getRoot(e).getOr(e.element);
                ki(l, n.invalidClass),
                n.notify.each(function(d) {
                    DA(e.element) && wr(e.element, "aria-invalid", !0),
                    d.getContainer(e).each(function(p) {
                        av(p, u)
                    }),
                    d.onInvalid(e, u)
                })
            }, PA = function(e, n, r) {
                return n.validator.fold(function() {
                    return Cs_pure(Fr.value(!0))
                }, function(u) {
                    return u.validate(e)
                })
            }, Nk = function(e, n, r) {
                return n.notify.each(function(u) {
                    u.onValidate(e)
                }),
                PA(e, n).map(function(u) {
                    return e.getSystem().isConnected() ? u.fold(function(l) {
                        return RA(e, n, 0, l),
                        Fr.error(l)
                    }, function(l) {
                        return MA(e, n),
                        Fr.value(l)
                    }) : Fr.error("No longer in system")
                })
            }, E6 = Object.freeze({
                __proto__: null,
                markValid: MA,
                markInvalid: RA,
                query: PA,
                run: Nk,
                isInvalid: function(e, n) {
                    var r = n.getRoot(e).getOr(e.element);
                    return ea(r, n.invalidClass)
                }
            }), O6 = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    return e.validator.map(function(r) {
                        return Lo([gt(r.onEvent, function(u) {
                            Nk(u, e).get(_n)
                        })].concat(r.validateOnLoad ? [pa(function(u) {
                            Nk(u, e).get(Xe)
                        })] : []))
                    }).getOr({})
                }
            }), D6 = [ot("invalidClass"), Be("getRoot", D.none), Ui("notify", [Be("aria", "alert"), Be("getContainer", D.none), Be("validHtml", ""), vo("onValid"), vo("onInvalid"), vo("onValidate")]), Ui("validator", [ot("validate"), Be("onEvent", "input"), Be("validateOnLoad", !0)])], Cg = zi({
                fields: D6,
                name: "invalidating",
                active: O6,
                apis: E6,
                extra: {
                    validation: function(e) {
                        return function(n) {
                            var r = tn.getValue(n);
                            return Cs_pure(e(r))
                        }
                    }
                }
            }), R6 = Object.freeze({
                __proto__: null,
                getCoupled: function(e, n, r, u) {
                    return r.getOrCreate(e, n, u)
                }
            }), P6 = [ui("others", e1(Fr.value, Oc()))], N6 = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = {}
                      , r = Se({});
                    return Bs({
                        readState: r,
                        getOrCreate: function(u, l, d) {
                            var p = An(l.others);
                            if (p)
                                return St(e, d).getOrThunk(function() {
                                    var T = St(l.others, d).getOrDie("No information found for coupled component: " + d)(u)
                                      , O = u.getSystem().build(T);
                                    return e[d] = O,
                                    O
                                });
                            throw new Error("Cannot find coupled component: " + d + ". Known coupled components: " + JSON.stringify(p, null, 2))
                        }
                    })
                }
            }), Gi = zi({
                fields: P6,
                name: "coupling",
                apis: R6,
                state: N6
            }), BA = Se("sink"), NA = Se(tc({
                name: BA(),
                overrides: Se({
                    dom: {
                        tag: "div"
                    },
                    behaviours: Wt([Au.config({
                        useFixed: ge
                    })]),
                    events: Lo([ul(i1()), ul(Pc()), ul(vd())])
                })
            })), Gv = (()=>(function(e) {
                e[e.HighlightFirst = 0] = "HighlightFirst",
                e[e.HighlightNone = 1] = "HighlightNone"
            }(Gv || (Gv = {})),
            Gv))(), zA = function(e, n) {
                var r = e.getHotspot(n).getOr(n)
                  , u = "hotspot"
                  , l = e.getAnchorOverrides();
                return e.layouts.fold(function() {
                    return {
                        type: u,
                        hotspot: r,
                        overrides: l
                    }
                }, function(d) {
                    return {
                        type: u,
                        hotspot: r,
                        overrides: l,
                        layouts: d
                    }
                })
            }, zk = function(e, n, r, u, l, d, p) {
                var T = function(e, n, r, u, l, d, p) {
                    var S = function(e, n, r) {
                        return (0,
                        e.fetch)(r).map(n)
                    }(e, n, u)
                      , T = FA(u, e);
                    return S.map(function(O) {
                        return O.bind(function(I) {
                            return D.from(us.sketch(ae(ae({}, d.menu()), {
                                uid: cv(""),
                                data: I,
                                highlightImmediately: p === Gv.HighlightFirst,
                                onOpenMenu: function($, q) {
                                    var Z = T().getOrDie();
                                    Au.position(Z, q, {
                                        anchor: r
                                    }),
                                    Gr.decloak(l)
                                },
                                onOpenSubmenu: function($, q, Z) {
                                    var te = T().getOrDie();
                                    Au.position(te, Z, {
                                        anchor: {
                                            type: "submenu",
                                            item: q
                                        }
                                    }),
                                    Gr.decloak(l)
                                },
                                onRepositionMenu: function($, q, Z) {
                                    var te = T().getOrDie();
                                    Au.position(te, q, {
                                        anchor: r
                                    }),
                                    Re(Z, function(de) {
                                        Au.position(te, de.triggeredMenu, {
                                            anchor: {
                                                type: "submenu",
                                                item: de.triggeringItem
                                            }
                                        })
                                    })
                                },
                                onEscape: function() {
                                    return sr.focus(u),
                                    Gr.close(l),
                                    D.some(!0)
                                }
                            })))
                        })
                    })
                }(e, n, zA(e, r), r, u, l, p);
                return T.map(function(O) {
                    return O.fold(function() {
                        Gr.isOpen(u) && Gr.close(u)
                    }, function(I) {
                        Gr.cloak(u),
                        Gr.open(u, I),
                        d(u)
                    }),
                    u
                })
            }, I6 = function(e, n, r, u, l, d, p) {
                return Gr.close(u),
                Cs_pure(u)
            }, IS = function(e, n, r, u, l, d) {
                var p = Gi.getCoupled(r, "sandbox");
                return (Gr.isOpen(p) ? I6 : zk)(e, n, r, p, u, l, d)
            }, FA = function(e, n) {
                return e.getSystem().getByUid(n.uid + "-" + BA()).map(function(r) {
                    return function() {
                        return Fr.value(r)
                    }
                }).getOrThunk(function() {
                    return n.lazySink.fold(function() {
                        return function() {
                            return Fr.error(new Error("No internal sink is specified, nor could an external sink be found"))
                        }
                    }, function(r) {
                        return function() {
                            return r(e)
                        }
                    })
                })
            }, IA = function(e) {
                Gr.getState(e).each(function(n) {
                    us.repositionMenus(n)
                })
            }, Fk = function(e, n, r) {
                var u = ty()
                  , p = FA(n, e);
                return {
                    dom: {
                        tag: "div",
                        classes: e.sandboxClasses,
                        attributes: {
                            id: u.id,
                            role: "listbox"
                        }
                    },
                    behaviours: Wc_augment(e.sandboxBehaviours, [tn.config({
                        store: {
                            mode: "memory",
                            initialValue: n
                        }
                    }), Gr.config({
                        onOpen: function(S, T) {
                            var O = zA(e, n);
                            u.link(n.element),
                            e.matchWidth && function(e, n, r) {
                                var u = qr.getCurrent(n).getOr(n)
                                  , l = Hi(e.element);
                                r ? zn(u.element, "min-width", l + "px") : function(e, n) {
                                    Xu.set(e, n)
                                }(u.element, l)
                            }(O.hotspot, T, e.useMinWidth),
                            e.onOpen(O, S, T),
                            void 0 !== r && void 0 !== r.onOpen && r.onOpen(S, T)
                        },
                        onClose: function(S, T) {
                            u.unlink(n.element),
                            void 0 !== r && void 0 !== r.onClose && r.onClose(S, T)
                        },
                        isPartOf: function(S, T, O) {
                            return Lc(T, O) || Lc(n, O)
                        },
                        getAttachPoint: function() {
                            return p().getOrDie()
                        }
                    }), qr.config({
                        find: function(S) {
                            return Gr.getState(S).bind(function(T) {
                                return qr.getCurrent(T)
                            })
                        }
                    }), Zs.config({
                        channels: ae(ae({}, s0({
                            isExtraPart: st
                        })), l0({
                            doReposition: IA
                        }))
                    })])
                }
            }, LA = function(e) {
                var n = Gi.getCoupled(e, "sandbox");
                IA(n)
            }, Ik = function() {
                return [Be("sandboxClasses", []), Wc_field("sandboxBehaviours", [qr, Zs, Gr, tn])]
            }, H6 = Se([ot("dom"), ot("fetch"), vo("onOpen"), _u("onExecute"), Be("getHotspot", D.some), Be("getAnchorOverrides", Se({})), bc(), Wi("dropdownBehaviours", [io, Gi, Yn, sr]), ot("toggleClass"), Be("eventOrder", {}), To("lazySink"), Be("matchWidth", !1), Be("useMinWidth", !1), To("role")].concat(Ik())), $6 = Se([is({
                schema: [Rm()],
                name: "menu",
                defaults: function(e) {
                    return {
                        onExecute: e.onExecute
                    }
                }
            }), NA()]), qv = Lu({
                name: "Dropdown",
                configFields: H6(),
                partFields: $6(),
                factory: function(e, n, r, u) {
                    var l, p = function(I) {
                        Gr.getState(I).each(function($) {
                            us.highlightPrimary($)
                        })
                    }, T = {
                        expand: function(I) {
                            io.isOn(I) || IS(e, _n, I, u, Xe, Gv.HighlightNone).get(Xe)
                        },
                        open: function(I) {
                            io.isOn(I) || IS(e, _n, I, u, Xe, Gv.HighlightFirst).get(Xe)
                        },
                        isOpen: io.isOn,
                        close: function(I) {
                            io.isOn(I) && IS(e, _n, I, u, Xe, Gv.HighlightFirst).get(Xe)
                        },
                        repositionMenus: function(I) {
                            io.isOn(I) && LA(I)
                        }
                    }, O = function(I, $) {
                        return ov(I),
                        D.some(!0)
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: eu(e.dropdownBehaviours, [io.config({
                            toggleClass: e.toggleClass,
                            aria: {
                                mode: "expanded"
                            }
                        }), Gi.config({
                            others: {
                                sandbox: function(I) {
                                    return Fk(e, I, {
                                        onOpen: function() {
                                            return io.on(I)
                                        },
                                        onClose: function() {
                                            return io.off(I)
                                        }
                                    })
                                }
                            }
                        }), Yn.config({
                            mode: "special",
                            onSpace: O,
                            onEnter: O,
                            onDown: function(I, $) {
                                if (qv.isOpen(I)) {
                                    var q = Gi.getCoupled(I, "sandbox");
                                    p(q)
                                } else
                                    qv.open(I);
                                return D.some(!0)
                            },
                            onEscape: function(I, $) {
                                return qv.isOpen(I) ? (qv.close(I),
                                D.some(!0)) : D.none()
                            }
                        }), sr.config({})]),
                        events: ob(D.some(function(I) {
                            IS(e, _n, I, u, p, Gv.HighlightFirst).get(Xe)
                        })),
                        eventOrder: ae(ae({}, e.eventOrder), (l = {},
                        l[co()] = ["disabling", "toggling", "alloy.base.behaviour"],
                        l)),
                        apis: T,
                        domModification: {
                            attributes: ae(ae({
                                "aria-haspopup": "true"
                            }, e.role.fold(function() {
                                return {}
                            }, function(I) {
                                return {
                                    role: I
                                }
                            })), "button" === e.dom.tag ? {
                                type: ("type",
                                St(e.dom, "attributes").bind(function($) {
                                    return St($, "type")
                                })).getOr("button")
                            } : {})
                        }
                    }
                },
                apis: {
                    open: function(e, n) {
                        return e.open(n)
                    },
                    expand: function(e, n) {
                        return e.expand(n)
                    },
                    close: function(e, n) {
                        return e.close(n)
                    },
                    isOpen: function(e, n) {
                        return e.isOpen(n)
                    },
                    repositionMenus: function(e, n) {
                        return e.repositionMenus(n)
                    }
                }
            }), j6 = Object.freeze({
                __proto__: null,
                events: function() {
                    return Lo([Vb(jw(), ge)])
                },
                exhibit: function() {
                    return mc({
                        styles: {
                            "-webkit-user-select": "none",
                            "user-select": "none",
                            "-ms-user-select": "none",
                            "-moz-user-select": "-moz-none"
                        },
                        attributes: {
                            unselectable: "on"
                        }
                    })
                }
            }), O3 = zi({
                fields: [],
                name: "unselecting",
                active: j6
            }), HA = Pn("color-input-change"), $A = Pn("color-swatch-change"), VA = Pn("color-picker-cancel"), K6 = tc({
                schema: [ot("dom")],
                name: "label"
            }), gb = function(e) {
                return tc({
                    name: e + "-edge",
                    overrides: function(n) {
                        return n.model.manager.edgeActions[e].fold(function() {
                            return {}
                        }, function(u) {
                            return {
                                events: Lo([Tf(Pl(), function(l, d, p) {
                                    return u(l, p)
                                }, [n]), Tf(Pc(), function(l, d, p) {
                                    return u(l, p)
                                }, [n]), Tf(wf(), function(l, d, p) {
                                    p.mouseIsDown.get() && u(l, p)
                                }, [n])])
                            }
                        })
                    }
                })
            }, X6 = gb("top-left"), Y6 = gb("top"), J6 = gb("top-right"), Z6 = gb("right"), Q6 = gb("bottom-right"), eP = gb("bottom"), tP = gb("bottom-left"), nP = gb("left"), rP = Va({
                name: "thumb",
                defaults: Se({
                    dom: {
                        styles: {
                            position: "absolute"
                        }
                    }
                }),
                overrides: function(e) {
                    return {
                        events: Lo([vc(Pl(), e, "spectrum"), vc(mm(), e, "spectrum"), vc(fd(), e, "spectrum"), vc(Pc(), e, "spectrum"), vc(wf(), e, "spectrum"), vc(tv(), e, "spectrum")])
                    }
                }
            }), oP = Va({
                schema: [$i("mouseIsDown", function() {
                    return Xn(!1)
                })],
                name: "spectrum",
                overrides: function(e) {
                    var r = e.model.manager
                      , u = function(l, d) {
                        return r.getValueFromEvent(d).map(function(p) {
                            return r.setValueFrom(l, e, p)
                        })
                    };
                    return {
                        behaviours: Wt([Yn.config({
                            mode: "special",
                            onLeft: function(l) {
                                return r.onLeft(l, e)
                            },
                            onRight: function(l) {
                                return r.onRight(l, e)
                            },
                            onUp: function(l) {
                                return r.onUp(l, e)
                            },
                            onDown: function(l) {
                                return r.onDown(l, e)
                            }
                        }), sr.config({})]),
                        events: Lo([gt(Pl(), u), gt(mm(), u), gt(Pc(), u), gt(wf(), function(l, d) {
                            e.mouseIsDown.get() && u(l, d)
                        })])
                    }
                }
            }), aP = [K6, nP, Z6, Y6, eP, X6, J6, tP, Q6, rP, oP], D3 = Se("slider.change.value"), Lk = function(e) {
                var n = e.event.raw;
                return function(e) {
                    return -1 !== e.type.indexOf("touch")
                }(n) ? void 0 !== n.touches && 1 === n.touches.length ? D.some(n.touches[0]).map(function(l) {
                    return Yo(l.clientX, l.clientY)
                }) : D.none() : void 0 !== n.clientX ? D.some(n).map(function(l) {
                    return Yo(l.clientX, l.clientY)
                }) : D.none()
            }, bw = function(e) {
                return e.model.minX
            }, yw = function(e) {
                return e.model.minY
            }, d_ = function(e) {
                return e.model.minX - 1
            }, m_ = function(e) {
                return e.model.minY - 1
            }, ww = function(e) {
                return e.model.maxX
            }, xw = function(e) {
                return e.model.maxY
            }, g_ = function(e) {
                return e.model.maxX + 1
            }, h_ = function(e) {
                return e.model.maxY + 1
            }, UA = function(e, n, r) {
                return n(e) - r(e)
            }, Hk = function(e) {
                return UA(e, ww, bw)
            }, $k = function(e) {
                return UA(e, xw, yw)
            }, WA = function(e) {
                return Hk(e) / 2
            }, jA = function(e) {
                return $k(e) / 2
            }, LS = function(e) {
                return e.stepSize
            }, GA = function(e) {
                return e.snapToGrid
            }, qA = function(e) {
                return e.snapStart
            }, KA = function(e) {
                return e.rounded
            }, p_ = function(e, n) {
                return void 0 !== e[n + "-edge"]
            }, XA = function(e) {
                return p_(e, "left")
            }, YA = function(e) {
                return p_(e, "right")
            }, JA = function(e) {
                return p_(e, "top")
            }, ZA = function(e) {
                return p_(e, "bottom")
            }, Mp = function(e) {
                return e.model.value.get()
            }, QA = function(e) {
                return {
                    x: e
                }
            }, eO = function(e) {
                return {
                    y: e
                }
            }, hb = function(e, n) {
                return {
                    x: e,
                    y: n
                }
            }, Kv = function(e, n) {
                Vn(e, D3(), {
                    value: n
                })
            }, Vk = function(e, n, r, u) {
                return e < n ? e : e > r ? r : e === n ? n - 1 : Math.max(n, e - u)
            }, Uk = function(e, n, r, u) {
                return e > r ? e : e < n ? n : e === r ? r + 1 : Math.min(r, e + u)
            }, tO = function(e, n, r) {
                return Math.max(n, Math.min(r, e))
            }, nO = function(e) {
                var n = e.min
                  , r = e.max
                  , u = e.range
                  , l = e.value
                  , d = e.step
                  , p = e.snap
                  , S = e.snapStart
                  , T = e.rounded
                  , $ = e.minBound
                  , q = e.maxBound
                  , Z = e.screenRange
                  , te = e.hasMinEdge ? n - 1 : n
                  , de = e.hasMaxEdge ? r + 1 : r;
                if (l < $)
                    return te;
                if (l > q)
                    return de;
                var Te = function(e, n, r) {
                    return Math.min(r, Math.max(e, n)) - n
                }(l, $, q)
                  , ce = tO(Te / Z * u + n, te, de);
                return p && ce >= n && ce <= r ? function(e, n, r, u, l) {
                    return l.fold(function() {
                        var p = Math.round((e - n) / u) * u;
                        return tO(n + p, n - 1, r + 1)
                    }, function(d) {
                        var S = Math.round((e - d) % u / u)
                          , T = Math.floor((e - d) / u)
                          , O = Math.floor((r - d) / u)
                          , I = Math.min(O, T + S);
                        return Math.max(d, d + I * u)
                    })
                }(ce, n, r, d, S) : T ? Math.round(ce) : ce
            }, rO = function(e) {
                var n = e.min
                  , l = e.value;
                return l < n ? e.hasMinEdge ? 0 : e.centerMinEdge : l > e.max ? e.hasMaxEdge ? e.maxBound : e.centerMaxEdge : (l - n) / e.range * e.maxOffset
            }, jk = "left", Sg = function(e) {
                return e.element.dom.getBoundingClientRect()
            }, Xv = function(e, n) {
                return e[n]
            }, b_ = function(e) {
                var n = Sg(e);
                return Xv(n, jk)
            }, iO = function(e) {
                var n = Sg(e);
                return Xv(n, "right")
            }, y_ = function(e) {
                var n = Sg(e);
                return Xv(n, "top")
            }, uO = function(e) {
                var n = Sg(e);
                return Xv(n, "bottom")
            }, sO = function(e) {
                var n = Sg(e);
                return Xv(n, "width")
            }, cO = function(e) {
                var n = Sg(e);
                return Xv(n, "height")
            }, lO = function(e, n, r) {
                return (e + n) / 2 - r
            }, fO = function(e, n) {
                var r = Sg(e)
                  , u = Sg(n)
                  , l = Xv(r, jk)
                  , d = Xv(r, "right")
                  , p = Xv(u, jk);
                return lO(l, d, p)
            }, vO = function(e, n) {
                var r = Sg(e)
                  , u = Sg(n)
                  , l = Xv(r, "top")
                  , d = Xv(r, "bottom")
                  , p = Xv(u, "top");
                return lO(l, d, p)
            }, w_ = function(e, n) {
                Vn(e, D3(), {
                    value: n
                })
            }, x_ = function(e) {
                return {
                    x: e
                }
            }, Gk = function(e, n, r) {
                var u = {
                    min: bw(n),
                    max: ww(n),
                    range: Hk(n),
                    value: r,
                    step: LS(n),
                    snap: GA(n),
                    snapStart: qA(n),
                    rounded: KA(n),
                    hasMinEdge: XA(n),
                    hasMaxEdge: YA(n),
                    minBound: b_(e),
                    maxBound: iO(e),
                    screenRange: sO(e)
                };
                return nO(u)
            }, dO = function(e) {
                return function(n, r) {
                    return function(e, n, r) {
                        var l = (e > 0 ? Uk : Vk)(Mp(r).x, bw(r), ww(r), LS(r));
                        return w_(n, x_(l)),
                        D.some(l)
                    }(e, n, r).map(ge)
                }
            }, qk = function(e, n, r, u, l, d) {
                var p = function(e, n, r, u, l) {
                    var p = sO(e)
                      , S = u.bind(function(I) {
                        return D.some(fO(I, e))
                    }).getOr(0)
                      , T = l.bind(function(I) {
                        return D.some(fO(I, e))
                    }).getOr(p)
                      , O = {
                        min: bw(n),
                        max: ww(n),
                        range: Hk(n),
                        value: r,
                        hasMinEdge: XA(n),
                        hasMaxEdge: YA(n),
                        minBound: b_(e),
                        minOffset: 0,
                        maxBound: iO(e),
                        maxOffset: p,
                        centerMinEdge: S,
                        centerMaxEdge: T
                    };
                    return rO(O)
                }(n, d, r, u, l);
                return b_(n) - b_(e) + p
            }, NP = dO(-1), zP = dO(1), FP = D.none, IP = D.none, LP = {
                "top-left": D.none(),
                top: D.none(),
                "top-right": D.none(),
                right: D.some(function(e, n) {
                    Kv(e, QA(g_(n)))
                }),
                "bottom-right": D.none(),
                bottom: D.none(),
                "bottom-left": D.none(),
                left: D.some(function(e, n) {
                    Kv(e, QA(d_(n)))
                })
            }, HP = Object.freeze({
                __proto__: null,
                setValueFrom: function(e, n, r) {
                    var u = Gk(e, n, r)
                      , l = x_(u);
                    return w_(e, l),
                    u
                },
                setToMin: function(e, n) {
                    var r = bw(n);
                    w_(e, x_(r))
                },
                setToMax: function(e, n) {
                    var r = ww(n);
                    w_(e, x_(r))
                },
                findValueOfOffset: Gk,
                getValueFromEvent: function(e) {
                    return Lk(e).map(function(r) {
                        return r.left
                    })
                },
                findPositionOfValue: qk,
                setPositionFromValue: function(e, n, r, u) {
                    var l = Mp(r)
                      , d = qk(e, u.getSpectrum(e), l.x, u.getLeftEdge(e), u.getRightEdge(e), r)
                      , p = Hi(n.element) / 2;
                    zn(n.element, "left", d - p + "px")
                },
                onLeft: NP,
                onRight: zP,
                onUp: FP,
                onDown: IP,
                edgeActions: LP
            }), C_ = function(e, n) {
                Vn(e, D3(), {
                    value: n
                })
            }, S_ = function(e) {
                return {
                    y: e
                }
            }, Kk = function(e, n, r) {
                var u = {
                    min: yw(n),
                    max: xw(n),
                    range: $k(n),
                    value: r,
                    step: LS(n),
                    snap: GA(n),
                    snapStart: qA(n),
                    rounded: KA(n),
                    hasMinEdge: JA(n),
                    hasMaxEdge: ZA(n),
                    minBound: y_(e),
                    maxBound: uO(e),
                    screenRange: cO(e)
                };
                return nO(u)
            }, mO = function(e) {
                return function(n, r) {
                    return function(e, n, r) {
                        var l = (e > 0 ? Uk : Vk)(Mp(r).y, yw(r), xw(r), LS(r));
                        return C_(n, S_(l)),
                        D.some(l)
                    }(e, n, r).map(ge)
                }
            }, Xk = function(e, n, r, u, l, d) {
                var p = function(e, n, r, u, l) {
                    var p = cO(e)
                      , S = u.bind(function(I) {
                        return D.some(vO(I, e))
                    }).getOr(0)
                      , T = l.bind(function(I) {
                        return D.some(vO(I, e))
                    }).getOr(p)
                      , O = {
                        min: yw(n),
                        max: xw(n),
                        range: $k(n),
                        value: r,
                        hasMinEdge: JA(n),
                        hasMaxEdge: ZA(n),
                        minBound: y_(e),
                        minOffset: 0,
                        maxBound: uO(e),
                        maxOffset: p,
                        centerMinEdge: S,
                        centerMaxEdge: T
                    };
                    return rO(O)
                }(n, d, r, u, l);
                return y_(n) - y_(e) + p
            }, KP = D.none, XP = D.none, YP = mO(-1), JP = mO(1), ZP = {
                "top-left": D.none(),
                top: D.some(function(e, n) {
                    Kv(e, eO(m_(n)))
                }),
                "top-right": D.none(),
                right: D.none(),
                "bottom-right": D.none(),
                bottom: D.some(function(e, n) {
                    Kv(e, eO(h_(n)))
                }),
                "bottom-left": D.none(),
                left: D.none()
            }, QP = Object.freeze({
                __proto__: null,
                setValueFrom: function(e, n, r) {
                    var u = Kk(e, n, r)
                      , l = S_(u);
                    return C_(e, l),
                    u
                },
                setToMin: function(e, n) {
                    var r = yw(n);
                    C_(e, S_(r))
                },
                setToMax: function(e, n) {
                    var r = xw(n);
                    C_(e, S_(r))
                },
                findValueOfOffset: Kk,
                getValueFromEvent: function(e) {
                    return Lk(e).map(function(r) {
                        return r.top
                    })
                },
                findPositionOfValue: Xk,
                setPositionFromValue: function(e, n, r, u) {
                    var l = Mp(r)
                      , d = Xk(e, u.getSpectrum(e), l.y, u.getTopEdge(e), u.getBottomEdge(e), r)
                      , p = ia(n.element) / 2;
                    zn(n.element, "top", d - p + "px")
                },
                onLeft: KP,
                onRight: XP,
                onUp: YP,
                onDown: JP,
                edgeActions: ZP
            }), T_ = function(e, n) {
                Vn(e, D3(), {
                    value: n
                })
            }, __ = function(e, n) {
                return {
                    x: e,
                    y: n
                }
            }, k_ = function(e, n) {
                return function(r, u) {
                    return function(e, n, r, u) {
                        var l = e > 0 ? Uk : Vk
                          , d = n ? Mp(u).x : l(Mp(u).x, bw(u), ww(u), LS(u))
                          , p = n ? l(Mp(u).y, yw(u), xw(u), LS(u)) : Mp(u).y;
                        return T_(r, __(d, p)),
                        D.some(d)
                    }(e, n, r, u).map(ge)
                }
            }, iB = k_(-1, !1), uB = k_(1, !1), sB = k_(-1, !0), cB = k_(1, !0), lB = {
                "top-left": D.some(function(e, n) {
                    Kv(e, hb(d_(n), m_(n)))
                }),
                top: D.some(function(e, n) {
                    Kv(e, hb(WA(n), m_(n)))
                }),
                "top-right": D.some(function(e, n) {
                    Kv(e, hb(g_(n), m_(n)))
                }),
                right: D.some(function(e, n) {
                    Kv(e, hb(g_(n), jA(n)))
                }),
                "bottom-right": D.some(function(e, n) {
                    Kv(e, hb(g_(n), h_(n)))
                }),
                bottom: D.some(function(e, n) {
                    Kv(e, hb(WA(n), h_(n)))
                }),
                "bottom-left": D.some(function(e, n) {
                    Kv(e, hb(d_(n), h_(n)))
                }),
                left: D.some(function(e, n) {
                    Kv(e, hb(d_(n), jA(n)))
                })
            }, fB = Object.freeze({
                __proto__: null,
                setValueFrom: function(e, n, r) {
                    var u = Gk(e, n, r.left)
                      , l = Kk(e, n, r.top)
                      , d = __(u, l);
                    return T_(e, d),
                    d
                },
                setToMin: function(e, n) {
                    var r = bw(n)
                      , u = yw(n);
                    T_(e, __(r, u))
                },
                setToMax: function(e, n) {
                    var r = ww(n)
                      , u = xw(n);
                    T_(e, __(r, u))
                },
                getValueFromEvent: function(e) {
                    return Lk(e)
                },
                setPositionFromValue: function(e, n, r, u) {
                    var l = Mp(r)
                      , d = qk(e, u.getSpectrum(e), l.x, u.getLeftEdge(e), u.getRightEdge(e), r)
                      , p = Xk(e, u.getSpectrum(e), l.y, u.getTopEdge(e), u.getBottomEdge(e), r)
                      , S = Hi(n.element) / 2
                      , T = ia(n.element) / 2;
                    zn(n.element, "left", d - S + "px"),
                    zn(n.element, "top", p - T + "px")
                },
                onLeft: iB,
                onRight: uB,
                onUp: sB,
                onDown: cB,
                edgeActions: lB
            }), vB = [Be("stepSize", 1), Be("onChange", Xe), Be("onChoose", Xe), Be("onInit", Xe), Be("onDragStart", Xe), Be("onDragEnd", Xe), Be("snapToGrid", !1), Be("rounded", !0), To("snapStart"), ui("model", Qu("mode", {
                x: [Be("minX", 0), Be("maxX", 100), $i("value", function(e) {
                    return Xn(e.mode.minX)
                }), ot("getInitialValue"), Ho("manager", HP)],
                y: [Be("minY", 0), Be("maxY", 100), $i("value", function(e) {
                    return Xn(e.mode.minY)
                }), ot("getInitialValue"), Ho("manager", QP)],
                xy: [Be("minX", 0), Be("maxX", 100), Be("minY", 0), Be("maxY", 100), $i("value", function(e) {
                    return Xn({
                        x: e.mode.minX,
                        y: e.mode.minY
                    })
                }), ot("getInitialValue"), Ho("manager", fB)]
            })), Wi("sliderBehaviours", [Yn, tn]), $i("mouseIsDown", function() {
                return Xn(!1)
            })], Yv = Lu({
                name: "Slider",
                configFields: vB,
                partFields: aP,
                factory: function(e, n, r, u) {
                    var l, d = function(_e) {
                        return Wl(_e, e, "thumb")
                    }, p = function(_e) {
                        return Wl(_e, e, "spectrum")
                    }, S = function(_e) {
                        return Ro(_e, e, "left-edge")
                    }, T = function(_e) {
                        return Ro(_e, e, "right-edge")
                    }, O = function(_e) {
                        return Ro(_e, e, "top-edge")
                    }, I = function(_e) {
                        return Ro(_e, e, "bottom-edge")
                    }, $ = e.model, q = $.manager, Z = function(_e, Ue) {
                        q.setPositionFromValue(_e, Ue, e, {
                            getLeftEdge: S,
                            getRightEdge: T,
                            getTopEdge: O,
                            getBottomEdge: I,
                            getSpectrum: p
                        })
                    }, te = function(_e, Ue) {
                        $.value.set(Ue);
                        var ut = d(_e);
                        Z(_e, ut)
                    }, ke = function(_e) {
                        var ut = e.mouseIsDown.get();
                        e.mouseIsDown.set(!1),
                        ut && Ro(_e, e, "thumb").each(function(Jt) {
                            var ht = $.value.get();
                            e.onChoose(_e, Jt, ht)
                        })
                    }, Ze = function(_e, Ue) {
                        Ue.stop(),
                        e.mouseIsDown.set(!0),
                        e.onDragStart(_e, d(_e))
                    }, Ye = function(_e, Ue) {
                        Ue.stop(),
                        e.onDragEnd(_e, d(_e)),
                        ke(_e)
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: eu(e.sliderBehaviours, [Yn.config({
                            mode: "special",
                            focusIn: function(_e) {
                                return Ro(_e, e, "spectrum").map(Yn.focusIn).map(ge)
                            }
                        }), tn.config({
                            store: {
                                mode: "manual",
                                getValue: function(_e) {
                                    return $.value.get()
                                }
                            }
                        }), Zs.config({
                            channels: (l = {},
                            l[Uc()] = {
                                onReceive: ke
                            },
                            l)
                        })]),
                        events: Lo([gt(D3(), function(_e, Ue) {
                            !function(_e, Ue) {
                                te(_e, Ue);
                                var ut = d(_e);
                                e.onChange(_e, ut, Ue),
                                D.some(!0)
                            }(_e, Ue.event.value)
                        }), pa(function(_e, Ue) {
                            var ut = $.getInitialValue();
                            $.value.set(ut);
                            var Jt = d(_e);
                            Z(_e, Jt);
                            var ht = p(_e);
                            e.onInit(_e, Jt, ht, $.value.get())
                        }), gt(Pl(), Ze), gt(fd(), Ye), gt(Pc(), Ze), gt(tv(), Ye)]),
                        apis: {
                            resetToMin: function(_e) {
                                q.setToMin(_e, e)
                            },
                            resetToMax: function(_e) {
                                q.setToMax(_e, e)
                            },
                            setValue: te,
                            refresh: Z
                        },
                        domModification: {
                            styles: {
                                position: "relative"
                            }
                        }
                    }
                },
                apis: {
                    setValue: function(e, n, r) {
                        e.setValue(n, r)
                    },
                    resetToMin: function(e, n) {
                        e.resetToMin(n)
                    },
                    resetToMax: function(e, n) {
                        e.resetToMax(n)
                    },
                    refresh: function(e, n) {
                        e.refresh(n)
                    }
                }
            }), Yk = Pn("rgb-hex-update"), gO = Pn("slider-update"), hO = Pn("palette-update"), gB = [Wi("formBehaviours", [tn])], bO = function(e) {
                return "<alloy.field." + e + ">"
            }, bB = function(e, n) {
                return {
                    uid: e.uid,
                    dom: e.dom,
                    components: n,
                    behaviours: eu(e.formBehaviours, [tn.config({
                        store: {
                            mode: "manual",
                            getValue: function(r) {
                                var u = hC(r, e);
                                return ee(u, function(l, d) {
                                    return l().bind(function(p) {
                                        return function(e, n) {
                                            return e.fold(function() {
                                                return Fr.error(n)
                                            }, Fr.value)
                                        }(qr.getCurrent(p), new Error("Cannot find a current component to extract the value from for form part '" + d + "': " + _f(p.element)))
                                    }).map(tn.getValue)
                                })
                            },
                            setValue: function(r, u) {
                                Ar(u, function(l, d) {
                                    Ro(r, e, d).each(function(p) {
                                        qr.getCurrent(p).each(function(S) {
                                            tn.setValue(S, l)
                                        })
                                    })
                                })
                            }
                        }
                    })]),
                    apis: {
                        getField: function(r, u) {
                            return Ro(r, e, u).bind(qr.getCurrent)
                        }
                    }
                }
            }, HS = {
                getField: Xg(function(e, n, r) {
                    return e.getField(n, r)
                }),
                sketch: function(e) {
                    var d, n = {
                        field: function(S, T) {
                            return d.push(S),
                            _0("form", bO(S), T)
                        },
                        record: Se(d = [])
                    }, r = e(n), u = n.record(), l = re(u, function(d) {
                        return Va({
                            name: d,
                            pname: bO(d)
                        })
                    });
                    return v2("form", gB, l, bB, r)
                }
            }, yO = Pn("valid-input"), wO = Pn("invalid-input"), xO = Pn("validating-input"), Jk = "colorcustom.rgb.", yB = function(e, n, r, u) {
                var l = function(q, Z) {
                    return Cg.config({
                        invalidClass: n("invalid"),
                        notify: {
                            onValidate: function(te) {
                                Vn(te, xO, {
                                    type: q
                                })
                            },
                            onValid: function(te) {
                                Vn(te, yO, {
                                    type: q,
                                    value: tn.getValue(te)
                                })
                            },
                            onInvalid: function(te) {
                                Vn(te, wO, {
                                    type: q,
                                    value: tn.getValue(te)
                                })
                            }
                        },
                        validator: {
                            validate: function(te) {
                                var de = tn.getValue(te)
                                  , Te = Z(de) ? Fr.value(!0) : Fr.error(e("aria.input.invalid"));
                                return Cs_pure(Te)
                            },
                            validateOnLoad: !1
                        }
                    })
                }
                  , d = function(q, Z, te, de, Te) {
                    var ce = e(Jk + "range")
                      , Ye = [Ao.parts.label({
                        dom: {
                            tag: "label",
                            innerHtml: te,
                            attributes: {
                                "aria-label": de
                            }
                        }
                    }), Ao.parts.field({
                        data: Te,
                        factory: A3,
                        inputAttributes: ae({
                            type: "text"
                        }, "hex" === Z ? {
                            "aria-live": "polite"
                        } : {}),
                        inputClasses: [n("textfield")],
                        inputBehaviours: Wt([l(Z, q), Fi.config({})]),
                        onSetValue: function(ut) {
                            Cg.isInvalid(ut) && Cg.run(ut).get(Xe)
                        }
                    })]
                      , _e = "hex" !== Z ? [Ao.parts["aria-descriptor"]({
                        text: ce
                    })] : [];
                    return {
                        dom: {
                            tag: "div",
                            attributes: {
                                role: "presentation"
                            }
                        },
                        components: Ye.concat(_e)
                    }
                }
                  , S = function(q, Z) {
                    tn.setValue(q, {
                        red: Z.red,
                        green: Z.green,
                        blue: Z.blue
                    })
                }
                  , T = ko({
                    dom: {
                        tag: "div",
                        classes: [n("rgba-preview")],
                        styles: {
                            "background-color": "white"
                        },
                        attributes: {
                            role: "presentation"
                        }
                    }
                })
                  , O = function(q, Z) {
                    T.getOpt(q).each(function(te) {
                        zn(te.element, "background-color", "#" + Z.value)
                    })
                };
                return nc({
                    factory: function() {
                        var q = {
                            red: Xn(D.some(255)),
                            green: Xn(D.some(255)),
                            blue: Xn(D.some(255)),
                            hex: Xn(D.some("ffffff"))
                        }
                          , te = function(it) {
                            return q[it].get()
                        }
                          , de = function(it, $t) {
                            q[it].set($t)
                        }
                          , ce = function(it) {
                            var kn = it.green
                              , mt = it.blue;
                            de("red", D.some(it.red)),
                            de("green", D.some(kn)),
                            de("blue", D.some(mt))
                        }
                          , ke = function(it, $t) {
                            var kn = $t.event;
                            "hex" !== kn.type ? de(kn.type, D.none()) : u(it)
                        }
                          , Ue = function(it, $t) {
                            var kn = $t.event;
                            !function(it) {
                                return "hex" === it.type
                            }(kn) ? function(it, $t, kn) {
                                var mt = parseInt(kn, 10);
                                de($t, D.some(mt)),
                                te("red").bind(function(it) {
                                    return te("green").bind(function($t) {
                                        return te("blue").map(function(kn) {
                                            return db(it, $t, kn, 1)
                                        })
                                    })
                                }).each(function(yn) {
                                    var Ln = function(q, Z) {
                                        var te = w3(Z);
                                        return HS.getField(q, "hex").each(function(de) {
                                            sr.isFocused(de) || tn.setValue(q, {
                                                hex: te.value
                                            })
                                        }),
                                        te
                                    }(it, yn);
                                    Vn(it, Yk, {
                                        hex: Ln
                                    }),
                                    O(it, Ln)
                                })
                            }(it, kn.type, kn.value) : function(it, $t) {
                                r(it);
                                var kn = FE($t);
                                de("hex", D.some($t));
                                var mt = x3(kn);
                                S(it, mt),
                                ce(mt),
                                Vn(it, Yk, {
                                    hex: kn
                                }),
                                O(it, kn)
                            }(it, kn.value)
                        }
                          , ut = function(it) {
                            return {
                                label: e(Jk + it + ".label"),
                                description: e(Jk + it + ".description")
                            }
                        }
                          , Jt = ut("red")
                          , ht = ut("green")
                          , Qt = ut("blue")
                          , yt = ut("hex");
                        return Tn(HS.sketch(function(it) {
                            return {
                                dom: {
                                    tag: "form",
                                    classes: [n("rgb-form")],
                                    attributes: {
                                        "aria-label": e("aria.color.picker")
                                    }
                                },
                                components: [it.field("red", Ao.sketch(d(_k, "red", Jt.label, Jt.description, 255))), it.field("green", Ao.sketch(d(_k, "green", ht.label, ht.description, 255))), it.field("blue", Ao.sketch(d(_k, "blue", Qt.label, Qt.description, 255))), it.field("hex", Ao.sketch(d(HE, "hex", yt.label, yt.description, "ffffff"))), T.asSpec()],
                                formBehaviours: Wt([Cg.config({
                                    invalidClass: n("form-invalid")
                                }), rn("rgb-form-events", [gt(yO, Ue), gt(wO, ke), gt(xO, ke)])])
                            }
                        }), {
                            apis: {
                                updateHex: function(it, $t) {
                                    tn.setValue(it, {
                                        hex: $t.value
                                    }),
                                    function(it, $t) {
                                        var kn = x3($t);
                                        S(it, kn),
                                        ce(kn)
                                    }(it, $t),
                                    O(it, $t)
                                }
                            }
                        })
                    },
                    name: "RgbForm",
                    configFields: [],
                    apis: {
                        updateHex: function(q, Z, te) {
                            q.updateHex(Z, te)
                        }
                    },
                    extraApis: {}
                })
            }, xB = function(e, n) {
                var u = nc({
                    name: "ColourPicker",
                    configFields: [ot("dom"), Be("onValidHex", Xe), Be("onInvalidHex", Xe)],
                    factory: function(l) {
                        var Ue, d = yB(e, n, l.onValidHex, l.onInvalidHex), p = function(e, n) {
                            var r = Yv.parts.spectrum({
                                dom: {
                                    tag: "canvas",
                                    attributes: {
                                        role: "presentation"
                                    },
                                    classes: [n("sv-palette-spectrum")]
                                }
                            })
                              , u = Yv.parts.thumb({
                                dom: {
                                    tag: "div",
                                    attributes: {
                                        role: "presentation"
                                    },
                                    classes: [n("sv-palette-thumb")],
                                    innerHtml: "<div class=" + n("sv-palette-inner-thumb") + ' role="presentation"></div>'
                                }
                            })
                              , l = function(O, I) {
                                var $ = O.width
                                  , q = O.height
                                  , Z = O.getContext("2d");
                                if (null !== Z) {
                                    Z.fillStyle = I,
                                    Z.fillRect(0, 0, $, q);
                                    var te = Z.createLinearGradient(0, 0, $, 0);
                                    te.addColorStop(0, "rgba(255,255,255,1)"),
                                    te.addColorStop(1, "rgba(255,255,255,0)"),
                                    Z.fillStyle = te,
                                    Z.fillRect(0, 0, $, q);
                                    var de = Z.createLinearGradient(0, 0, 0, q);
                                    de.addColorStop(0, "rgba(0,0,0,0)"),
                                    de.addColorStop(1, "rgba(0,0,0,1)"),
                                    Z.fillStyle = de,
                                    Z.fillRect(0, 0, $, q)
                                }
                            };
                            return nc({
                                factory: function(O) {
                                    var I = Se({
                                        x: 0,
                                        y: 0
                                    })
                                      , Z = Wt([qr.config({
                                        find: D.some
                                    }), sr.config({})]);
                                    return Yv.sketch({
                                        dom: {
                                            tag: "div",
                                            attributes: {
                                                role: "presentation"
                                            },
                                            classes: [n("sv-palette")]
                                        },
                                        model: {
                                            mode: "xy",
                                            getInitialValue: I
                                        },
                                        rounded: !1,
                                        components: [r, u],
                                        onChange: function(te, de, Te) {
                                            Vn(te, hO, {
                                                value: Te
                                            })
                                        },
                                        onInit: function(te, de, Te, ce) {
                                            l(Te.element.dom, GE(qE))
                                        },
                                        sliderBehaviours: Z
                                    })
                                },
                                name: "SaturationBrightnessPalette",
                                configFields: [],
                                apis: {
                                    setHue: function(O, I, $) {
                                        !function(O, I) {
                                            var $ = O.components()[0].element.dom
                                              , q = C3(I, 100, 100)
                                              , Z = UE(q);
                                            l($, GE(Z))
                                        }(I, $)
                                    },
                                    setThumb: function(O, I, $) {
                                        !function(O, I) {
                                            var $ = Ek(x3(I));
                                            Yv.setValue(O, {
                                                x: $.saturation,
                                                y: 100 - $.value
                                            })
                                        }(I, $)
                                    }
                                },
                                extraApis: {}
                            })
                        }(0, n), T = function(Ue) {
                            return 100 - Ue / 360 * 100
                        }, O = {
                            paletteRgba: Xn(qE),
                            paletteHue: Xn(0)
                        }, I = ko(function(e, n) {
                            var r = Yv.parts.spectrum({
                                dom: {
                                    tag: "div",
                                    classes: [n("hue-slider-spectrum")],
                                    attributes: {
                                        role: "presentation"
                                    }
                                }
                            })
                              , u = Yv.parts.thumb({
                                dom: {
                                    tag: "div",
                                    classes: [n("hue-slider-thumb")],
                                    attributes: {
                                        role: "presentation"
                                    }
                                }
                            });
                            return Yv.sketch({
                                dom: {
                                    tag: "div",
                                    classes: [n("hue-slider")],
                                    attributes: {
                                        role: "presentation"
                                    }
                                },
                                rounded: !1,
                                model: {
                                    mode: "y",
                                    getInitialValue: Se({
                                        y: 0
                                    })
                                },
                                components: [r, u],
                                sliderBehaviours: Wt([sr.config({})]),
                                onChange: function(l, d, p) {
                                    Vn(l, gO, {
                                        value: p
                                    })
                                }
                            })
                        }(0, n)), $ = ko(p.sketch({})), q = ko(d.sketch({})), Z = function(Ue, ut, Jt) {
                            $.getOpt(Ue).each(function(ht) {
                                p.setHue(ht, Jt)
                            })
                        }, te = function(Ue, ut) {
                            q.getOpt(Ue).each(function(Jt) {
                                d.updateHex(Jt, ut)
                            })
                        }, ke = function(Ue, ut, Jt, ht) {
                            (function(Ue, ut) {
                                var Jt = x3(Ue);
                                O.paletteRgba.set(Jt),
                                O.paletteHue.set(ut)
                            }
                            )(ut, Jt),
                            Re(ht, function(Qt) {
                                Qt(Ue, ut, Jt)
                            })
                        };
                        return {
                            uid: l.uid,
                            dom: l.dom,
                            components: [$.asSpec(), I.asSpec(), q.asSpec()],
                            behaviours: Wt([rn("colour-picker-events", [gt(Yk, (Ue = [Z, function(Ue, ut, Jt) {
                                I.getOpt(Ue).each(function(ht) {
                                    Yv.setValue(ht, {
                                        y: T(Jt)
                                    })
                                })
                            }
                            , function(Ue, ut) {
                                $.getOpt(Ue).each(function(Jt) {
                                    p.setThumb(Jt, ut)
                                })
                            }
                            ],
                            function(ut, Jt) {
                                var ht = Jt.event.hex
                                  , Qt = function(e) {
                                    return Ek(x3(e))
                                }(ht);
                                ke(ut, ht, Qt.hue, Ue)
                            }
                            )), gt(hO, function() {
                                var Ue = [te];
                                return function(ut, Jt) {
                                    var ht = Jt.event.value
                                      , Qt = O.paletteHue.get()
                                      , yt = C3(Qt, ht.x, 100 - ht.y)
                                      , it = KE(yt);
                                    ke(ut, it, Qt, Ue)
                                }
                            }()), gt(gO, function() {
                                var Ue = [Z, te];
                                return function(ut, Jt) {
                                    var ht = function(Ue) {
                                        return (100 - Ue) / 100 * 360
                                    }(Jt.event.value.y)
                                      , Qt = O.paletteRgba.get()
                                      , yt = Ek(Qt)
                                      , it = C3(ht, yt.saturation, yt.value)
                                      , $t = KE(it);
                                    ke(ut, $t, ht, Ue)
                                }
                            }())]), qr.config({
                                find: function(Ue) {
                                    return q.getOpt(Ue)
                                }
                            }), Yn.config({
                                mode: "acyclic"
                            })])
                        }
                    }
                });
                return u
            }, Zd_self = function() {
                return qr.config({
                    find: D.some
                })
            }, Zd_memento = function(e) {
                return qr.config({
                    find: e.getOpt
                })
            }, Zd_childAt = function(e) {
                return qr.config({
                    find: function(n) {
                        return ie(n.element, e).bind(function(r) {
                            return n.getSystem().getByDom(r).toOptional()
                        })
                    }
                })
            }, _B = {
                "colorcustom.rgb.red.label": "R",
                "colorcustom.rgb.red.description": "Red component",
                "colorcustom.rgb.green.label": "G",
                "colorcustom.rgb.green.description": "Green component",
                "colorcustom.rgb.blue.label": "B",
                "colorcustom.rgb.blue.description": "Blue component",
                "colorcustom.rgb.hex.label": "#",
                "colorcustom.rgb.hex.description": "Hex color code",
                "colorcustom.rgb.range": "Range 0 to 255",
                "colorcustom.sb.saturation": "Saturation",
                "colorcustom.sb.brightness": "Brightness",
                "colorcustom.sb.picker": "Saturation and Brightness Picker",
                "colorcustom.sb.palette": "Saturation and Brightness Palette",
                "colorcustom.sb.instructions": "Use arrow keys to select saturation and brightness, on x and y axes",
                "colorcustom.hue.hue": "Hue",
                "colorcustom.hue.slider": "Hue Slider",
                "colorcustom.hue.palette": "Hue Palette",
                "colorcustom.hue.instructions": "Use arrow keys to select a hue",
                "aria.color.picker": "Color Picker",
                "aria.input.invalid": "Invalid input"
            }, EB = function(e) {
                return function(e) {
                    return _B[e]
                }(e)
            }, OB = tinymce.util.Tools.resolve("tinymce.Resource"), pb = tinymce.util.Tools.resolve("tinymce.util.Tools"), RB = Wn([Be("preprocess", _n), Be("postprocess", _n)]), CO = function(e, n, r) {
                return tn.config(Tn({
                    store: {
                        mode: "manual",
                        getValue: n,
                        setValue: r
                    }
                }, e.map(function(u) {
                    return {
                        store: {
                            initialValue: u
                        }
                    }
                }).getOr({})))
            }, Cw_memento = function(e, n) {
                var r = Bi("RepresentingConfigs.memento processors", RB, n);
                return tn.config({
                    store: {
                        mode: "manual",
                        getValue: function(u) {
                            var l = e.get(u)
                              , d = tn.getValue(l);
                            return r.postprocess(d)
                        },
                        setValue: function(u, l) {
                            var d = r.preprocess(l)
                              , p = e.get(u);
                            tn.setValue(p, d)
                        }
                    }
                })
            }, Cw_withComp = CO, Cw_domHtml = function(e) {
                return function(e, n, r) {
                    return CO(e, function(u) {
                        return n(u.element)
                    }, function(u, l) {
                        return r(u.element, l)
                    })
                }(e, Ps, av)
            }, Cw_memory = function(e) {
                return tn.config({
                    store: {
                        mode: "memory",
                        initialValue: e
                    }
                })
            }, Qk = Pn("alloy-fake-before-tabstop"), e4 = Pn("alloy-fake-after-tabstop"), SO = function(e) {
                return {
                    dom: {
                        tag: "div",
                        styles: {
                            width: "1px",
                            height: "1px",
                            outline: "none"
                        },
                        attributes: {
                            tabindex: "0"
                        },
                        classes: e
                    },
                    behaviours: Wt([sr.config({
                        ignore: !0
                    }), Fi.config({})])
                }
            }, TO = function(e) {
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-navobj"]
                    },
                    components: [SO([Qk]), e, SO([e4])],
                    behaviours: Wt([Zd_childAt(1)])
                }
            }, _O = function(e, n) {
                Vn(e, i1(), {
                    raw: {
                        which: 9,
                        shiftKey: n
                    }
                })
            }, $B = function(e, n) {
                var r = n.element;
                ea(r, Qk) ? _O(e, !0) : ea(r, e4) && _O(e, !1)
            }, M3 = function(e) {
                return S3(e, ["." + Qk, "." + e4].join(","), st)
            }, VB = !(Dr().browser.isIE() || Dr().browser.isEdge()), $S = function(e, n) {
                return GB(document.createElement("canvas"), e, n)
            }, jB = function(e) {
                var n = $S(e.width, e.height);
                return Rp(n).drawImage(e, 0, 0),
                n
            }, Rp = function(e) {
                return e.getContext("2d")
            }, GB = function(e, n, r) {
                return e.width = n,
                e.height = r,
                e
            }, t4 = function(e) {
                return e.naturalWidth || e.width
            }, n4 = function(e) {
                return e.naturalHeight || e.height
            }, kO = function(e, n, r) {
                return n = n || "image/png",
                hn(HTMLCanvasElement.prototype.toBlob) ? new Dp(function(u, l) {
                    e.toBlob(function(d) {
                        d ? u(d) : l()
                    }, n, r)
                }
                ) : function(e) {
                    return new Dp(function(n, r) {
                        (function(e) {
                            var n = e.split(",")
                              , r = /data:([^;]+)/.exec(n[0]);
                            if (!r)
                                return D.none();
                            for (var u = r[1], d = 1024, p = atob(n[1]), S = p.length, T = Math.ceil(S / d), O = new Array(T), I = 0; I < T; ++I) {
                                for (var $ = I * d, q = Math.min($ + d, S), Z = new Array(q - $), te = $, de = 0; te < q; ++de,
                                ++te)
                                    Z[de] = p[te].charCodeAt(0);
                                O[I] = new Uint8Array(Z)
                            }
                            return D.some(new Blob(O,{
                                type: u
                            }))
                        }
                        )(e).fold(function() {
                            r("uri is not base64: " + e)
                        }, n)
                    }
                    )
                }(e.toDataURL(n, r))
            }, QB = function(e) {
                URL.revokeObjectURL(e.src)
            }, EO = function(e, n, r) {
                var l = Se(n.type)
                  , p = Se(r)
                  , O = function(q, Z) {
                    return e.then(function(te) {
                        return function(e, n, r) {
                            return e.toDataURL(n = n || "image/png", r)
                        }(te, q, Z)
                    })
                };
                return {
                    getType: l,
                    toBlob: function() {
                        return Dp.resolve(n)
                    },
                    toDataURL: p,
                    toBase64: function() {
                        return r.split(",")[1]
                    },
                    toAdjustedBlob: function(q, Z) {
                        return e.then(function(te) {
                            return kO(te, q, Z)
                        })
                    },
                    toAdjustedDataURL: O,
                    toAdjustedBase64: function(q, Z) {
                        return O(q, Z).then(function(te) {
                            return te.split(",")[1]
                        })
                    },
                    toCanvas: function() {
                        return e.then(jB)
                    }
                }
            }, e7 = function(e) {
                return function(e) {
                    return new Dp(function(n) {
                        var r = new FileReader;
                        r.onloadend = function() {
                            n(r.result)
                        }
                        ,
                        r.readAsDataURL(e)
                    }
                    )
                }(e).then(function(n) {
                    return EO(function(e) {
                        return function(e) {
                            return new Dp(function(n, r) {
                                var u = URL.createObjectURL(e)
                                  , l = new Image
                                  , d = function() {
                                    l.removeEventListener("load", p),
                                    l.removeEventListener("error", S)
                                }
                                  , p = function() {
                                    d(),
                                    n(l)
                                }
                                  , S = function() {
                                    d(),
                                    r("Unable to load data of type " + e.type + ": " + u)
                                };
                                l.addEventListener("load", p),
                                l.addEventListener("error", S),
                                l.src = u,
                                l.complete && setTimeout(p, 0)
                            }
                            )
                        }(e).then(function(n) {
                            QB(n);
                            var r = $S(t4(n), n4(n));
                            return Rp(r).drawImage(n, 0, 0),
                            r
                        })
                    }(e), e, n)
                })
            }, Sw = function(e, n) {
                return kO(e, n).then(function(r) {
                    return EO(Dp.resolve(e), r, e.toDataURL())
                })
            }, R3 = function(e, n, r) {
                var u = "string" == typeof e ? parseFloat(e) : e;
                return u > r ? u = r : u < n && (u = n),
                u
            }, r4 = [0, .01, .02, .04, .05, .06, .07, .08, .1, .11, .12, .14, .15, .16, .17, .18, .2, .21, .22, .24, .25, .27, .28, .3, .32, .34, .36, .38, .4, .42, .44, .46, .48, .5, .53, .56, .59, .62, .65, .68, .71, .74, .77, .8, .83, .86, .89, .92, .95, .98, 1, 1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.42, 1.48, 1.54, 1.6, 1.66, 1.72, 1.78, 1.84, 1.9, 1.96, 2, 2.12, 2.25, 2.37, 2.5, 2.62, 2.75, 2.87, 3, 3.2, 3.4, 3.6, 3.8, 4, 4.3, 4.7, 4.9, 5, 5.5, 6, 6.5, 6.8, 7, 7.3, 7.5, 7.8, 8, 8.4, 8.7, 9, 9.4, 9.6, 9.8, 10], o4 = function(e, n) {
                for (var l, r = [], u = new Array(25), d = 0; d < 5; d++) {
                    for (var p = 0; p < 5; p++)
                        r[p] = n[p + 5 * d];
                    for (p = 0; p < 5; p++) {
                        l = 0;
                        for (var S = 0; S < 5; S++)
                            l += e[p + 5 * S] * r[S];
                        u[p + 5 * d] = l
                    }
                }
                return u
            }, a4 = function(e, n) {
                return e.toCanvas().then(function(r) {
                    return a7(r, e.getType(), n)
                })
            }, a7 = function(e, n, r) {
                var u = Rp(e)
                  , d = function(p, S) {
                    for (var T, O, I, $, q = p.data, Z = S[0], te = S[1], de = S[2], Te = S[3], ce = S[4], ke = S[5], Ze = S[6], Ye = S[7], _e = S[8], Ue = S[9], ut = S[10], Jt = S[11], ht = S[12], Qt = S[13], yt = S[14], it = S[15], $t = S[16], kn = S[17], mt = S[18], yn = S[19], Ln = 0; Ln < q.length; Ln += 4)
                        q[Ln] = (T = q[Ln]) * Z + (O = q[Ln + 1]) * te + (I = q[Ln + 2]) * de + ($ = q[Ln + 3]) * Te + ce,
                        q[Ln + 1] = T * ke + O * Ze + I * Ye + $ * _e + Ue,
                        q[Ln + 2] = T * ut + O * Jt + I * ht + $ * Qt + yt,
                        q[Ln + 3] = T * it + O * $t + I * kn + $ * mt + yn;
                    return p
                }(u.getImageData(0, 0, e.width, e.height), r);
                return u.putImageData(d, 0, 0),
                Sw(e, n)
            }, OO = function(e) {
                return function(n, r) {
                    return a4(n, e([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], r))
                }
            }, f7 = function(e) {
                return function(n) {
                    return a4(n, e)
                }
            }([-1, 0, 0, 0, 255, 0, -1, 0, 0, 255, 0, 0, -1, 0, 255, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1]), v7 = OO(function(e, n) {
                return n = R3(255 * n, -255, 255),
                o4(e, [1, 0, 0, 0, n, 0, 1, 0, 0, n, 0, 0, 1, 0, n, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])
            }), d7 = OO(function(e, n) {
                var r;
                return n = R3(n, -1, 1),
                r = (n *= 100) < 0 ? 127 + n / 100 * 127 : 127 * (r = 0 == (r = n % 1) ? r4[n] : r4[Math.floor(n)] * (1 - r) + r4[Math.floor(n) + 1] * r) + 127,
                o4(e, [r / 127, 0, 0, 0, .5 * (127 - r), 0, r / 127, 0, 0, .5 * (127 - r), 0, 0, r / 127, 0, .5 * (127 - r), 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])
            }), g7 = function(e) {
                return function(n) {
                    return function(e, n) {
                        return e.toCanvas().then(function(r) {
                            return function(e, n, r) {
                                var u = Rp(e)
                                  , d = u.getImageData(0, 0, e.width, e.height)
                                  , p = u.getImageData(0, 0, e.width, e.height);
                                return p = function(S, T, O) {
                                    for (var I = function($t, kn, mt) {
                                        return $t > mt ? $t = mt : $t < kn && ($t = kn),
                                        $t
                                    }, $ = Math.round(Math.sqrt(O.length)), q = Math.floor($ / 2), Z = S.data, te = T.data, de = S.width, Te = S.height, ce = 0; ce < Te; ce++)
                                        for (var ke = 0; ke < de; ke++) {
                                            for (var Ze = 0, Ye = 0, _e = 0, Ue = 0; Ue < $; Ue++)
                                                for (var ut = 0; ut < $; ut++) {
                                                    var Jt = I(ke + ut - q, 0, de - 1)
                                                      , Qt = 4 * (I(ce + Ue - q, 0, Te - 1) * de + Jt)
                                                      , yt = O[Ue * $ + ut];
                                                    Ze += Z[Qt] * yt,
                                                    Ye += Z[Qt + 1] * yt,
                                                    _e += Z[Qt + 2] * yt
                                                }
                                            var it = 4 * (ce * de + ke);
                                            te[it] = I(Ze, 0, 255),
                                            te[it + 1] = I(Ye, 0, 255),
                                            te[it + 2] = I(_e, 0, 255)
                                        }
                                    return T
                                }(d, p, r),
                                u.putImageData(p, 0, 0),
                                Sw(e, n)
                            }(r, e.getType(), n)
                        })
                    }(n, e)
                }
            }([0, -1, 0, -1, 5, -1, 0, -1, 0]), h7 = function(e) {
                return function(r, u) {
                    return r.toCanvas().then(function(l) {
                        return function(r, u, l) {
                            for (var d = Rp(r), p = new Array(256), T = 0; T < p.length; T++)
                                p[T] = e(T, l);
                            var O = function(I, $) {
                                for (var q = I.data, Z = 0; Z < q.length; Z += 4)
                                    q[Z] = $[q[Z]],
                                    q[Z + 1] = $[q[Z + 1]],
                                    q[Z + 2] = $[q[Z + 2]];
                                return I
                            }(d.getImageData(0, 0, r.width, r.height), p);
                            return d.putImageData(O, 0, 0),
                            Sw(r, u)
                        }(l, r.getType(), u)
                    })
                }
            }(function(e, n) {
                return 255 * Math.pow(e / 255, 1 - n)
            }), DO = function(e, n, r) {
                var u = t4(e)
                  , l = n4(e)
                  , d = n / u
                  , p = r / l
                  , S = !1;
                (d < .5 || d > 2) && (d = d < .5 ? .5 : 2,
                S = !0),
                (p < .5 || p > 2) && (p = p < .5 ? .5 : 2,
                S = !0);
                var T = p7(e, d, p);
                return S ? T.then(function(O) {
                    return DO(O, n, r)
                }) : T
            }, p7 = function(e, n, r) {
                return new Dp(function(u) {
                    var l = t4(e)
                      , d = n4(e)
                      , p = Math.floor(l * n)
                      , S = Math.floor(d * r)
                      , T = $S(p, S);
                    Rp(T).drawImage(e, 0, 0, l, d, 0, 0, p, S),
                    u(T)
                }
                )
            }, MO = function(e, n) {
                void 0 === n && (n = 2);
                var r = Math.pow(10, n)
                  , u = Math.round(e * r);
                return Math.ceil(u / r)
            }, _7 = function(e) {
                return f7(e)
            }, k7 = function(e) {
                return g7(e)
            }, E7 = function(e, n) {
                return h7(e, n)
            }, O7 = function(e, n) {
                return v7(e, n)
            }, D7 = function(e, n) {
                return d7(e, n)
            }, RO = function(e, n) {
                return function(e, n) {
                    return e.toCanvas().then(function(r) {
                        return function(e, n, r) {
                            var u = $S(e.width, e.height)
                              , l = Rp(u);
                            return "v" === r ? (l.scale(1, -1),
                            l.drawImage(e, 0, -u.height)) : (l.scale(-1, 1),
                            l.drawImage(e, -u.width, 0)),
                            Sw(u, n)
                        }(r, e.getType(), n)
                    })
                }(e, n)
            }, M7 = function(e, n, r, u, l) {
                return function(e, n, r, u, l) {
                    return e.toCanvas().then(function(d) {
                        return function(e, n, r, u, l, d) {
                            var p = $S(l, d);
                            return Rp(p).drawImage(e, -r, -u),
                            Sw(p, n)
                        }(d, e.getType(), n, r, u, l)
                    })
                }(e, n, r, u, l)
            }, PO = function(e, n) {
                return function(e, n) {
                    return e.toCanvas().then(function(r) {
                        return function(e, n, r) {
                            var l = (r < 0 ? 360 + r : r) * Math.PI / 180
                              , d = e.width
                              , p = e.height
                              , S = Math.sin(l)
                              , T = Math.cos(l)
                              , O = MO(Math.abs(d * T) + Math.abs(p * S))
                              , I = MO(Math.abs(d * S) + Math.abs(p * T))
                              , $ = $S(O, I)
                              , q = Rp($);
                            return q.translate(O / 2, I / 2),
                            q.rotate(l),
                            q.drawImage(e, -d / 2, -p / 2),
                            Sw($, n)
                        }(r, e.getType(), n)
                    })
                }(e, n)
            }, BO = function(e, n, r) {
                return If(e, {
                    tag: "span",
                    classes: ["tox-icon", "tox-tbtn__icon-wrap"],
                    behaviours: r
                }, n)
            }, E_ = function(e, n) {
                return BO(e, n, [])
            }, NO = function(e, n) {
                return BO(e, n, [pr.config({})])
            }, i4 = function(e, n, r) {
                return {
                    dom: {
                        tag: "span",
                        innerHtml: r.translate(e),
                        classes: [n + "__select-label"]
                    },
                    behaviours: Wt([pr.config({})])
                }
            }, zO = Pn("toolbar.button.execute"), P7 = function(e) {
                return cl(function(n, r) {
                    c_(e, n)(function(u) {
                        Vn(n, zO, {
                            buttonApi: u
                        }),
                        e.onAction(u)
                    })
                })
            }, FO = ((u4 = {})[co()] = ["disabling", "alloy.base.behaviour", "toggling", "toolbar-button-events"],
            u4), VS = Pn("update-menu-text"), IO = Pn("update-menu-icon"), s4 = function(e, n, r) {
                var u = Xn(Xe)
                  , l = e.text.map(function($) {
                    return ko(i4($, n, r.providers))
                })
                  , d = e.icon.map(function($) {
                    return ko(NO($, r.providers.icons))
                })
                  , p = function($, q) {
                    var Z = tn.getValue($);
                    return sr.focus(Z),
                    Vn(Z, "keydown", {
                        raw: q.event.raw
                    }),
                    qv.close(Z),
                    D.some(!0)
                }
                  , S = e.role.fold(function() {
                    return {}
                }, function($) {
                    return {
                        role: $
                    }
                })
                  , T = e.tooltip.fold(function() {
                    return {}
                }, function($) {
                    var q = r.providers.translate($);
                    return {
                        title: q,
                        "aria-label": q
                    }
                })
                  , O = If("chevron-down", {
                    tag: "div",
                    classes: [n + "__select-chevron"]
                }, r.providers.icons);
                return ko(qv.sketch(ae(ae(ae({}, e.uid ? {
                    uid: e.uid
                } : {}), S), {
                    dom: {
                        tag: "button",
                        classes: [n, n + "--select"].concat(re(e.classes, function($) {
                            return n + "--" + $
                        })),
                        attributes: ae({}, T)
                    },
                    components: PS([d.map(function($) {
                        return $.asSpec()
                    }), l.map(function($) {
                        return $.asSpec()
                    }), D.some(O)]),
                    matchWidth: !0,
                    useMinWidth: !0,
                    dropdownBehaviours: Wt(Ct(Ct([], e.dropdownBehaviours, !0), [jv_button(function() {
                        return e.disabled || r.providers.isDisabled()
                    }), mu(), O3.config({}), pr.config({}), rn("dropdown-events", [p3(e, u), b3(e, u)]), rn("menubutton-update-display-text", [gt(VS, function($, q) {
                        l.bind(function(Z) {
                            return Z.getOpt($)
                        }).each(function(Z) {
                            pr.set(Z, [Fu(r.providers.translate(q.event.text))])
                        })
                    }), gt(IO, function($, q) {
                        d.bind(function(Z) {
                            return Z.getOpt($)
                        }).each(function(Z) {
                            pr.set(Z, [NO(q.event.icon, r.providers.icons)])
                        })
                    })])], !1)),
                    eventOrder: Tn(FO, {
                        mousedown: ["focusing", "alloy.base.behaviour", "item-type-events", "normal-dropdown-events"]
                    }),
                    sandboxBehaviours: Wt([Yn.config({
                        mode: "special",
                        onLeft: p,
                        onRight: p
                    })]),
                    lazySink: r.getSink,
                    toggleClass: n + "--active",
                    parts: {
                        menu: Ep(0, 0, e.presets)
                    },
                    fetch: function($) {
                        return Cs_nu(In(e.fetch, $))
                    }
                }))).asSpec()
            }, c4 = function(e) {
                return "separator" === e.type
            }, z7 = {
                type: "separator"
            }, LO = function(e, n) {
                var r = function(e, n) {
                    var r = Bt(e, function(u, l) {
                        return function(e) {
                            return wn(e)
                        }(l) ? "" === l ? u : "|" === l ? u.length > 0 && !c4(u[u.length - 1]) ? u.concat([z7]) : u : yr(n, l.toLowerCase()) ? u.concat([n[l.toLowerCase()]]) : u : u.concat([l])
                    }, []);
                    return r.length > 0 && c4(r[r.length - 1]) && r.pop(),
                    r
                }(wn(e) ? e.split(" ") : e, n);
                return We(r, function(u, l) {
                    var d = function(e) {
                        if (c4(e))
                            return e;
                        var n = St(e, "value").getOrThunk(function() {
                            return Pn("generated-menu-item")
                        });
                        return Tn({
                            value: n
                        }, e)
                    }(l)
                      , p = function(e, n) {
                        return function(e) {
                            return yr(e, "getSubmenuItems")
                        }(e) ? function(e, n) {
                            var r = e.getSubmenuItems()
                              , u = LO(r, n);
                            return {
                                item: e,
                                menus: Tn(u.menus, Mc(e.value, u.items)),
                                expansions: Tn(u.expansions, Mc(e.value, e.value))
                            }
                        }(e, n) : {
                            item: e,
                            menus: {},
                            expansions: {}
                        }
                    }(d, n);
                    return {
                        menus: Tn(u.menus, p.menus),
                        items: [p.item].concat(u.items),
                        expansions: Tn(u.expansions, p.expansions)
                    }
                }, {
                    menus: {},
                    expansions: {},
                    items: []
                })
            }, US = function(e, n, r, u) {
                var l = Pn("primary-menu")
                  , d = LO(e, r.shared.providers.menuItems());
                if (0 === d.items.length)
                    return D.none();
                var p = fA(l, d.items, n, r, u)
                  , S = ee(d.menus, function(O, I) {
                    return fA(I, O, n, r, !1)
                })
                  , T = Tn(S, Mc(l, p));
                return D.from(us.tieredData(l, T, d.expansions))
            }, $7 = function(e) {
                return {
                    isDisabled: function() {
                        return On.isDisabled(e)
                    },
                    setDisabled: function(n) {
                        return On.set(e, n)
                    },
                    setActive: function(n) {
                        var r = e.element;
                        n ? (ki(r, "tox-tbtn--enabled"),
                        wr(r, "aria-pressed", !0)) : (ei(r, "tox-tbtn--enabled"),
                        _i(r, "aria-pressed"))
                    },
                    isActive: function() {
                        return ea(e.element, "tox-tbtn--enabled")
                    }
                }
            }, l4 = function(e, n, r, u) {
                return s4({
                    text: e.text,
                    icon: e.icon,
                    tooltip: e.tooltip,
                    role: u,
                    fetch: function(l, d) {
                        e.fetch(function(p) {
                            d(US(p, af.CLOSE_ON_EXECUTE, r, !1))
                        })
                    },
                    onSetup: e.onSetup,
                    getApi: $7,
                    columns: 1,
                    presets: "normal",
                    classes: [],
                    dropdownBehaviours: [Fi.config({})]
                }, n, r.shared)
            }, V7 = function(e, n, r) {
                var u = function(d) {
                    return function(p) {
                        var S = !p.isActive();
                        p.setActive(S),
                        d.storage.set(S),
                        r.shared.getSink().each(function(T) {
                            n().getOpt(T).each(function(O) {
                                xs(O.element),
                                Vn(O, xg, {
                                    name: d.name,
                                    value: d.storage.get()
                                })
                            })
                        })
                    }
                }
                  , l = function(d) {
                    return function(p) {
                        p.setActive(d.storage.get())
                    }
                };
                return function(d) {
                    d(re(e, function(p) {
                        var S = p.text.fold(function() {
                            return {}
                        }, function(T) {
                            return {
                                text: T
                            }
                        });
                        return ae(ae({
                            type: p.type,
                            active: !1
                        }, S), {
                            onAction: u(p),
                            onSetup: l(p)
                        })
                    }))
                }
            }, HO = function(e, n, r, u, l, d) {
                void 0 === r && (r = []);
                var p = n.fold(function() {
                    return {}
                }, function(O) {
                    return {
                        action: O
                    }
                })
                  , S = ae({
                    buttonBehaviours: Wt([jv_button(function() {
                        return e.disabled || d.isDisabled()
                    }), mu(), Fi.config({}), rn("button press", [Wg("click"), Wg("mousedown")])].concat(r)),
                    eventOrder: {
                        click: ["button press", "alloy.base.behaviour"],
                        mousedown: ["button press", "alloy.base.behaviour"]
                    }
                }, p)
                  , T = Tn(S, {
                    dom: u
                });
                return Tn(T, {
                    components: l
                })
            }, $O = function(e, n, r, u) {
                void 0 === u && (u = []);
                var d = {
                    tag: "button",
                    classes: ["tox-tbtn"],
                    attributes: e.tooltip.map(function(T) {
                        return {
                            "aria-label": r.translate(T),
                            title: r.translate(T)
                        }
                    }).getOr({})
                }
                  , p = e.icon.map(function(T) {
                    return E_(T, r.icons)
                })
                  , S = PS([p]);
                return HO(e, n, u, d, S, r)
            }, VO = function(e, n, r, u) {
                void 0 === u && (u = []);
                var l = $O(e, D.some(n), r, u);
                return Is.sketch(l)
            }, UO = function(e, n, r, u, l) {
                void 0 === u && (u = []),
                void 0 === l && (l = []);
                var d = r.translate(e.text)
                  , p = e.icon ? e.icon.map(function($) {
                    return E_($, r.icons)
                }) : D.none()
                  , S = p.isSome() ? PS([p]) : []
                  , T = p.isSome() ? {} : {
                    innerHtml: d
                }
                  , O = Ct(Ct(Ct(Ct([], e.primary || e.borderless ? ["tox-button"] : ["tox-button", "tox-button--secondary"], !0), p.isSome() ? ["tox-button--icon"] : [], !0), e.borderless ? ["tox-button--naked"] : [], !0), l, !0)
                  , I = ae(ae({
                    tag: "button",
                    classes: O
                }, T), {
                    attributes: {
                        title: d
                    }
                });
                return HO(e, n, u, I, S, r)
            }, f4 = function(e, n, r, u, l) {
                void 0 === u && (u = []),
                void 0 === l && (l = []);
                var d = UO(e, D.some(n), r, u, l);
                return Is.sketch(d)
            }, WO = function(e, n) {
                return function(r) {
                    "custom" === n ? Vn(r, xg, {
                        name: e,
                        value: {}
                    }) : "submit" === n ? po(r, E3) : "cancel" === n ? po(r, pw) : console.error("Unknown button type: ", n)
                }
            }, A_ = function(e, n, r) {
                if (function(e, n) {
                    return "menu" === n
                }(0, n)) {
                    var l = e
                      , d = ae(ae({}, e), {
                        onSetup: function(O) {
                            return O.setDisabled(e.disabled),
                            Xe
                        },
                        fetch: V7(l.items, function() {
                            return p
                        }, r)
                    })
                      , p = ko(l4(d, "tox-tbtn", r, D.none()));
                    return p.asSpec()
                }
                if (function(e, n) {
                    return "custom" === n || "cancel" === n || "submit" === n
                }(0, n)) {
                    var S = WO(e.name, n)
                      , T = ae(ae({}, e), {
                        borderless: !1
                    });
                    return f4(T, S, r.shared.providers, [])
                }
                console.error("Unknown footer button type: ", n)
            }, G7 = Se([Be("field1Name", "field1"), Be("field2Name", "field2"), fl("onLockedChange"), fu(["lockClass"]), Be("locked", !1), Wc_field("coupledFieldBehaviours", [qr, tn])]), jO = function(e, n) {
                return Va({
                    factory: Ao,
                    name: e,
                    overrides: function(r) {
                        return {
                            fieldBehaviours: Wt([rn("coupled-input-behaviour", [gt(rv(), function(u) {
                                (function(e, n, r) {
                                    return Ro(e, n, r).bind(qr.getCurrent)
                                }
                                )(u, r, n).each(function(l) {
                                    Ro(u, r, "lock").each(function(d) {
                                        io.isOn(d) && r.onLockedChange(u, l, d)
                                    })
                                })
                            })])])
                        }
                    }
                })
            }, K7 = Se([jO("field1", "field2"), jO("field2", "field1"), Va({
                factory: Is,
                schema: [ot("dom")],
                name: "lock",
                overrides: function(e) {
                    return {
                        buttonBehaviours: Wt([io.config({
                            selected: e.locked,
                            toggleClass: e.markers.lockClass,
                            aria: {
                                mode: "pressed"
                            }
                        })])
                    }
                }
            })]), lf = Lu({
                name: "FormCoupledInputs",
                configFields: G7(),
                partFields: K7(),
                factory: function(e, n, r, u) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: Wc_augment(e.coupledFieldBehaviours, [qr.config({
                            find: D.some
                        }), tn.config({
                            store: {
                                mode: "manual",
                                getValue: function(l) {
                                    var d, p = E0(l, e, ["field1", "field2"]);
                                    return (d = {})[e.field1Name] = tn.getValue(p.field1()),
                                    d[e.field2Name] = tn.getValue(p.field2()),
                                    d
                                },
                                setValue: function(l, d) {
                                    var p = E0(l, e, ["field1", "field2"]);
                                    en(d, e.field1Name) && tn.setValue(p.field1(), d[e.field1Name]),
                                    en(d, e.field2Name) && tn.setValue(p.field2(), d[e.field2Name])
                                }
                            }
                        })]),
                        apis: {
                            getField1: function(l) {
                                return Ro(l, e, "field1")
                            },
                            getField2: function(l) {
                                return Ro(l, e, "field2")
                            },
                            getLock: function(l) {
                                return Ro(l, e, "lock")
                            }
                        }
                    }
                },
                apis: {
                    getField1: function(e, n) {
                        return e.getField1(n)
                    },
                    getField2: function(e, n) {
                        return e.getField2(n)
                    },
                    getLock: function(e, n) {
                        return e.getLock(n)
                    }
                }
            }), v4 = function(e) {
                var r = /^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);
                if (null !== r) {
                    var u = parseFloat(r[1]);
                    return Fr.value({
                        value: u,
                        unit: r[2]
                    })
                }
                return Fr.error(e)
            }, GO = function(e, n) {
                var r = {
                    "": 96,
                    px: 96,
                    pt: 72,
                    cm: 2.54,
                    pc: 12,
                    mm: 25.4,
                    in: 1
                }
                  , u = function(l) {
                    return yr(r, l)
                };
                return e.unit === n ? D.some(e.value) : u(e.unit) && u(n) ? D.some(r[e.unit] === r[n] ? e.value : e.value / r[e.unit] * r[n]) : D.none()
            }, d4 = function(e) {
                return D.none()
            }, qO = function(e, n) {
                var r = d4
                  , u = Pn("ratio-event")
                  , l = function($) {
                    return If($, {
                        tag: "span",
                        classes: ["tox-icon", "tox-lock-icon__" + $]
                    }, n.icons)
                }
                  , d = lf.parts.lock({
                    dom: {
                        tag: "button",
                        classes: ["tox-lock", "tox-button", "tox-button--naked", "tox-button--icon"],
                        attributes: {
                            title: n.translate(e.label.getOr("Constrain proportions"))
                        }
                    },
                    components: [l("lock"), l("unlock")],
                    buttonBehaviours: Wt([On.config({
                        disabled: function() {
                            return e.disabled || n.isDisabled()
                        }
                    }), mu(), Fi.config({})])
                })
                  , p = function($) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-form__group"]
                        },
                        components: $
                    }
                }
                  , S = function($) {
                    return Ao.parts.field({
                        factory: A3,
                        inputClasses: ["tox-textfield"],
                        inputBehaviours: Wt([On.config({
                            disabled: function() {
                                return e.disabled || n.isDisabled()
                            }
                        }), mu(), Fi.config({}), rn("size-input-events", [gt(xf(), function(q, Z) {
                            Vn(q, u, {
                                isField1: $
                            })
                        }), gt(gm(), function(q, Z) {
                            Vn(q, cf, {
                                name: e.name
                            })
                        })])]),
                        selectOnFocus: !1
                    })
                }
                  , T = function($) {
                    return {
                        dom: {
                            tag: "label",
                            classes: ["tox-label"],
                            innerHtml: n.translate($)
                        }
                    }
                }
                  , O = lf.parts.field1(p([Ao.parts.label(T("Width")), S(!0)]))
                  , I = lf.parts.field2(p([Ao.parts.label(T("Height")), S(!1)]));
                return lf.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-form__group"]
                    },
                    components: [{
                        dom: {
                            tag: "div",
                            classes: ["tox-form__controls-h-stack"]
                        },
                        components: [O, I, p([T("&nbsp;"), d])]
                    }],
                    field1Name: "width",
                    field2Name: "height",
                    locked: !0,
                    markers: {
                        lockClass: "tox-locked"
                    },
                    onLockedChange: function($, q, Z) {
                        v4(tn.getValue($)).each(function(te) {
                            r(te).each(function(de) {
                                tn.setValue(q, function(e) {
                                    var l, n = {
                                        "": 0,
                                        px: 0,
                                        pt: 1,
                                        mm: 1,
                                        pc: 2,
                                        ex: 2,
                                        em: 2,
                                        ch: 2,
                                        rem: 2,
                                        cm: 3,
                                        in: 4,
                                        "%": 4
                                    }, u = e.value.toFixed((l = e.unit)in n ? n[l] : 1);
                                    return -1 !== u.indexOf(".") && (u = u.replace(/\.?0*$/, "")),
                                    u + e.unit
                                }(de))
                            })
                        })
                    },
                    coupledFieldBehaviours: Wt([On.config({
                        disabled: function() {
                            return e.disabled || n.isDisabled()
                        },
                        onDisabled: function($) {
                            lf.getField1($).bind(Ao.getField).each(On.disable),
                            lf.getField2($).bind(Ao.getField).each(On.disable),
                            lf.getLock($).each(On.disable)
                        },
                        onEnabled: function($) {
                            lf.getField1($).bind(Ao.getField).each(On.enable),
                            lf.getField2($).bind(Ao.getField).each(On.enable),
                            lf.getLock($).each(On.enable)
                        }
                    }), mu(), rn("size-input-events2", [gt(u, function($, q) {
                        var Z = q.event.isField1
                          , te = Z ? lf.getField1($) : lf.getField2($)
                          , de = Z ? lf.getField2($) : lf.getField1($)
                          , Te = te.map(tn.getValue).getOr("")
                          , ce = de.map(tn.getValue).getOr("");
                        r = function(e, n) {
                            var r = v4(e).toOptional()
                              , u = v4(n).toOptional();
                            return va(r, u, function(l, d) {
                                return GO(l, d.unit).map(function(p) {
                                    return d.value / p
                                }).map(function(p) {
                                    return function(e, n) {
                                        return function(r) {
                                            return GO(r, n).map(function(u) {
                                                return {
                                                    value: u * e,
                                                    unit: n
                                                }
                                            })
                                        }
                                    }(p, d.unit)
                                }).getOr(d4)
                            }).getOr(d4)
                        }(Te, ce)
                    })])])
                })
            }, Vs = {
                undo: Se(Pn("undo")),
                redo: Se(Pn("redo")),
                zoom: Se(Pn("zoom")),
                back: Se(Pn("back")),
                apply: Se(Pn("apply")),
                swap: Se(Pn("swap")),
                transform: Se(Pn("transform")),
                tempTransform: Se(Pn("temp-transform")),
                transformApply: Se(Pn("transform-apply"))
            }, sN = Se("save-state"), cN = Se("disable"), lN = Se("enable"), Xc = {
                formActionEvent: xg,
                saveState: sN,
                disable: cN,
                enable: lN
            }, fN = function(e, n) {
                var r = function(sn, Nr, Po, Na) {
                    return ko(f4({
                        name: sn,
                        text: sn,
                        disabled: Po,
                        primary: Na,
                        icon: D.none(),
                        borderless: !1
                    }, Nr, n))
                }
                  , u = function(sn, Nr, Po, Na) {
                    return ko(VO({
                        name: sn,
                        icon: D.some(sn),
                        tooltip: D.some(Nr),
                        disabled: Na,
                        primary: !1,
                        borderless: !1
                    }, Po, n))
                }
                  , l = function(sn, Nr) {
                    sn.map(function(Po) {
                        var Na = Po.get(Nr);
                        Na.hasConfigured(On) && On.disable(Na)
                    })
                }
                  , d = function(sn, Nr) {
                    sn.map(function(Po) {
                        var Na = Po.get(Nr);
                        Na.hasConfigured(On) && On.enable(Na)
                    })
                }
                  , p = {
                    tag: "div",
                    classes: ["tox-image-tools__toolbar", "tox-image-tools-edit-panel"]
                }
                  , S = Xe
                  , T = function(sn, Nr, Po) {
                    Vn(sn, Nr, Po)
                }
                  , O = function(sn) {
                    return po(sn, Xc.disable())
                }
                  , I = function(sn) {
                    return po(sn, Xc.enable())
                }
                  , $ = function(sn, Nr) {
                    O(sn),
                    T(sn, Vs.transform(), {
                        transform: Nr
                    }),
                    I(sn)
                }
                  , Z = function(sn) {
                    return function() {
                        Uf.getOpt(sn).each(function(Nr) {
                            pr.set(Nr, [Ag])
                        })
                    }
                }
                  , te = function(sn, Nr) {
                    O(sn),
                    T(sn, Vs.transformApply(), {
                        transform: Nr,
                        swap: Z(sn)
                    }),
                    I(sn)
                }
                  , de = function() {
                    return r("Back", function(sn) {
                        return T(sn, Vs.back(), {
                            swap: Z(sn)
                        })
                    }, !1, !1)
                }
                  , Te = function() {
                    return ko({
                        dom: {
                            tag: "div",
                            classes: ["tox-spacer"]
                        },
                        behaviours: Wt([On.config({})])
                    })
                }
                  , ce = function() {
                    return r("Apply", function(sn) {
                        return T(sn, Vs.apply(), {
                            swap: Z(sn)
                        })
                    }, !0, !0)
                }
                  , Ze = [de(), Te(), r("Apply", function(sn) {
                    te(sn, function(sn) {
                        var Nr = e.getRect();
                        return M7(sn, Nr.x, Nr.y, Nr.w, Nr.h)
                    }),
                    e.hideCrop()
                }, !1, !0)]
                  , Ye = $s.sketch({
                    dom: p,
                    components: Ze.map(function(sn) {
                        return sn.asSpec()
                    }),
                    containerBehaviours: Wt([rn("image-tools-crop-buttons-events", [gt(Xc.disable(), function(sn, Nr) {
                        l(Ze, sn)
                    }), gt(Xc.enable(), function(sn, Nr) {
                        d(Ze, sn)
                    })])])
                })
                  , _e = ko(qO({
                    name: "size",
                    label: D.none(),
                    constrain: !0,
                    disabled: !1
                }, n))
                  , ut = [de(), Te(), _e, Te(), r("Apply", function(sn) {
                    _e.getOpt(sn).each(function(Nr) {
                        var Po = tn.getValue(Nr)
                          , Ts = function(sn, Nr) {
                            return function(Po) {
                                return function(e, n, r) {
                                    return function(e, n, r) {
                                        return e.toCanvas().then(function(u) {
                                            return DO(u, n, r).then(function(l) {
                                                return Sw(l, e.getType())
                                            })
                                        })
                                    }(e, n, r)
                                }(Po, sn, Nr)
                            }
                        }(parseInt(Po.width, 10), parseInt(Po.height, 10));
                        te(sn, Ts)
                    })
                }, !1, !0)]
                  , Jt = $s.sketch({
                    dom: p,
                    components: ut.map(function(sn) {
                        return sn.asSpec()
                    }),
                    containerBehaviours: Wt([rn("image-tools-resize-buttons-events", [gt(Xc.disable(), function(sn, Nr) {
                        l(ut, sn)
                    }), gt(Xc.enable(), function(sn, Nr) {
                        d(ut, sn)
                    })])])
                })
                  , ht = function(sn, Nr) {
                    return function(Po) {
                        return sn(Po, Nr)
                    }
                }
                  , Qt = ht(RO, "h")
                  , yt = ht(RO, "v")
                  , it = ht(PO, -90)
                  , $t = ht(PO, 90)
                  , kn = function(sn, Nr) {
                    !function(sn, Nr) {
                        O(sn),
                        T(sn, Vs.tempTransform(), {
                            transform: Nr
                        }),
                        I(sn)
                    }(sn, Nr)
                }
                  , mt = [de(), Te(), u("flip-horizontally", "Flip horizontally", function(sn) {
                    kn(sn, Qt)
                }, !1), u("flip-vertically", "Flip vertically", function(sn) {
                    kn(sn, yt)
                }, !1), u("rotate-left", "Rotate counterclockwise", function(sn) {
                    kn(sn, it)
                }, !1), u("rotate-right", "Rotate clockwise", function(sn) {
                    kn(sn, $t)
                }, !1), Te(), ce()]
                  , yn = $s.sketch({
                    dom: p,
                    components: mt.map(function(sn) {
                        return sn.asSpec()
                    }),
                    containerBehaviours: Wt([rn("image-tools-fliprotate-buttons-events", [gt(Xc.disable(), function(sn, Nr) {
                        l(mt, sn)
                    }), gt(Xc.enable(), function(sn, Nr) {
                        d(mt, sn)
                    })])])
                })
                  , Ln = function(sn, Nr, Po, Na, Ws) {
                    var Ts = Yv.parts.label({
                        dom: {
                            tag: "label",
                            classes: ["tox-label"],
                            innerHtml: n.translate(sn)
                        }
                    })
                      , Cc = Yv.parts.spectrum({
                        dom: {
                            tag: "div",
                            classes: ["tox-slider__rail"],
                            attributes: {
                                role: "presentation"
                            }
                        }
                    })
                      , _l = Yv.parts.thumb({
                        dom: {
                            tag: "div",
                            classes: ["tox-slider__handle"],
                            attributes: {
                                role: "presentation"
                            }
                        }
                    });
                    return ko(Yv.sketch({
                        dom: {
                            tag: "div",
                            classes: ["tox-slider"],
                            attributes: {
                                role: "presentation"
                            }
                        },
                        model: {
                            mode: "x",
                            minX: Po,
                            maxX: Ws,
                            getInitialValue: Se({
                                x: Na
                            })
                        },
                        components: [Ts, Cc, _l],
                        sliderBehaviours: Wt([sr.config({})]),
                        onChoose: Nr
                    }))
                }
                  , Yr = function(sn, Nr, Po, Na, Ws) {
                    return Ln(sn, function(Cc, _l, Tb) {
                        var Bw = ht(Nr, Tb.x / 100);
                        $(Cc, Bw)
                    }, Po, Na, Ws)
                }
                  , sa = function(sn, Nr, Po, Na, Ws) {
                    var Ts = function(sn, Nr, Po, Na, Ws) {
                        return [de(), Yr(sn, Nr, Po, Na, Ws), ce()]
                    }(sn, Nr, Po, Na, Ws);
                    return $s.sketch({
                        dom: p,
                        components: Ts.map(function(Cc) {
                            return Cc.asSpec()
                        }),
                        containerBehaviours: Wt([rn("image-tools-filter-panel-buttons-events", [gt(Xc.disable(), function(Cc, _l) {
                            l(Ts, Cc)
                        }), gt(Xc.enable(), function(Cc, _l) {
                            d(Ts, Cc)
                        })])])
                    })
                }
                  , Wa = [de(), Te(), ce()]
                  , xc = $s.sketch({
                    dom: p,
                    components: Wa.map(function(sn) {
                        return sn.asSpec()
                    })
                })
                  , ss = sa("Brightness", O7, -100, 0, 100)
                  , JS = sa("Contrast", D7, -100, 0, 100)
                  , ru = sa("Gamma", E7, -100, 0, 100)
                  , Np = function(sn, Nr, Po) {
                    return function(Na) {
                        return function(e, n, r, u) {
                            return function(e, n, r, u) {
                                return a4(e, function(e, n, r, u) {
                                    return n = R3(n, 0, 2),
                                    r = R3(r, 0, 2),
                                    u = R3(u, 0, 2),
                                    o4([1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1], [n, 0, 0, 0, 0, 0, r, 0, 0, 0, 0, 0, u, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1])
                                }(0, n, r, u))
                            }(e, n, r, u)
                        }(Na, sn, Nr, Po)
                    }
                }
                  , zp = function(sn) {
                    return Ln(sn, function(Po, Na, Ws) {
                        var Ts = Mw.getOpt(Po)
                          , Cc = Rw.getOpt(Po)
                          , _l = Fp.getOpt(Po);
                        Ts.each(function(Tb) {
                            Cc.each(function(Bw) {
                                _l.each(function(_b) {
                                    var TE = tn.getValue(Tb).x / 100
                                      , _E = tn.getValue(_b).x / 100
                                      , Lp = tn.getValue(Bw).x / 100
                                      , kb = Np(TE, _E, Lp);
                                    $(Po, kb)
                                })
                            })
                        })
                    }, 0, 100, 200)
                }
                  , Mw = zp("R")
                  , Fp = zp("G")
                  , Rw = zp("B")
                  , Us = [de(), Mw, Fp, Rw, ce()]
                  , Vf = $s.sketch({
                    dom: p,
                    components: Us.map(function(sn) {
                        return sn.asSpec()
                    })
                })
                  , Ss = function(sn, Nr, Po) {
                    return function(Na) {
                        T(Na, Vs.swap(), {
                            transform: Nr,
                            swap: function() {
                                Uf.getOpt(Na).each(function(Ts) {
                                    pr.set(Ts, [sn]),
                                    Po(Ts)
                                })
                            }
                        })
                    }
                }
                  , Sb = D.some(k7)
                  , ou = D.some(_7)
                  , rm = [u("crop", "Crop", Ss(Ye, D.none(), function(sn) {
                    e.showCrop()
                }), !1), u("resize", "Resize", Ss(Jt, D.none(), function(sn) {
                    _e.getOpt(sn).each(function(Nr) {
                        var Po = e.getMeasurements();
                        tn.setValue(Nr, {
                            width: Po.width,
                            height: Po.height
                        })
                    })
                }), !1), u("orientation", "Orientation", Ss(yn, D.none(), S), !1), u("brightness", "Brightness", Ss(ss, D.none(), S), !1), u("sharpen", "Sharpen", Ss(xc, Sb, S), !1), u("contrast", "Contrast", Ss(JS, D.none(), S), !1), u("color-levels", "Color levels", Ss(Vf, D.none(), S), !1), u("gamma", "Gamma", Ss(ru, D.none(), S), !1), u("invert", "Invert", Ss(xc, ou, S), !1)]
                  , Ag = $s.sketch({
                    dom: p,
                    components: rm.map(function(sn) {
                        return sn.asSpec()
                    })
                })
                  , Ip = $s.sketch({
                    dom: {
                        tag: "div"
                    },
                    components: [Ag],
                    containerBehaviours: Wt([pr.config({})])
                })
                  , Uf = ko(Ip);
                return {
                    memContainer: Uf,
                    getApplyButton: function(sn) {
                        return Uf.getOpt(sn).map(function(Nr) {
                            var Po = Nr.components()[0];
                            return Po.components()[Po.components().length - 1]
                        })
                    }
                }
            }, KO = tinymce.util.Tools.resolve("tinymce.geom.Rect"), vN = tinymce.util.Tools.resolve("tinymce.util.Observable"), WS = tinymce.util.Tools.resolve("tinymce.util.VK"), m4 = function(e) {
                if (function(e) {
                    return xe(e.changedTouches)
                }(e))
                    for (var n = "screenX screenY pageX pageY clientX clientY".split(" "), r = 0; r < n.length; r++)
                        e[n[r]] = e.changedTouches[0][n[r]]
            };
            var hN = 0
              , bN_create = function(e, n, r, u, l) {
                var d, p = [], S = "tox-", T = S + "crid-" + hN++, O = Ie_fromDom(u), I = [{
                    name: "move",
                    xMul: 0,
                    yMul: 0,
                    deltaX: 1,
                    deltaY: 1,
                    deltaW: 0,
                    deltaH: 0,
                    label: "Crop Mask"
                }, {
                    name: "nw",
                    xMul: 0,
                    yMul: 0,
                    deltaX: 1,
                    deltaY: 1,
                    deltaW: -1,
                    deltaH: -1,
                    label: "Top Left Crop Handle"
                }, {
                    name: "ne",
                    xMul: 1,
                    yMul: 0,
                    deltaX: 0,
                    deltaY: 1,
                    deltaW: 1,
                    deltaH: -1,
                    label: "Top Right Crop Handle"
                }, {
                    name: "sw",
                    xMul: 0,
                    yMul: 1,
                    deltaX: 1,
                    deltaY: 0,
                    deltaW: -1,
                    deltaH: 1,
                    label: "Bottom Left Crop Handle"
                }, {
                    name: "se",
                    xMul: 1,
                    yMul: 1,
                    deltaX: 0,
                    deltaY: 0,
                    deltaW: 1,
                    deltaH: 1,
                    label: "Bottom Right Crop Handle"
                }], $ = ["top", "right", "bottom", "left"], Z = function(ht, Qt) {
                    return {
                        x: Qt.x - ht.x,
                        y: Qt.y - ht.y,
                        w: Qt.w,
                        h: Qt.h
                    }
                }, de = function(ht, Qt, yt, it) {
                    var $t = Qt.x + yt * ht.deltaX
                      , kn = Qt.y + it * ht.deltaY
                      , mt = Math.max(20, Qt.w + yt * ht.deltaW)
                      , yn = Math.max(20, Qt.h + it * ht.deltaH)
                      , Ln = e = KO.clamp({
                        x: $t,
                        y: kn,
                        w: mt,
                        h: yn
                    }, r, "move" === ht.name);
                    Ln = Z(r, Ln),
                    Jt.fire("updateRect", {
                        rect: Ln
                    }),
                    _e(Ln)
                }, ke = function(ht) {
                    var Qt = function(yt, it) {
                        ta(O, "#" + T + "-" + yt).each(function($t) {
                            Ea($t, {
                                left: it.x + "px",
                                top: it.y + "px",
                                width: Math.max(0, it.w) + "px",
                                height: Math.max(0, it.h) + "px"
                            })
                        })
                    };
                    Re(I, function(yt) {
                        ta(O, "#" + T + "-" + yt.name).each(function(it) {
                            Ea(it, {
                                left: ht.w * yt.xMul + ht.x + "px",
                                top: ht.h * yt.yMul + ht.y + "px"
                            })
                        })
                    }),
                    Qt("top", {
                        x: n.x,
                        y: n.y,
                        w: n.w,
                        h: ht.y - n.y
                    }),
                    Qt("right", {
                        x: ht.x + ht.w,
                        y: ht.y,
                        w: n.w - ht.x - ht.w + n.x,
                        h: ht.h
                    }),
                    Qt("bottom", {
                        x: n.x,
                        y: ht.y + ht.h,
                        w: n.w,
                        h: n.h - ht.y - ht.h + n.y
                    }),
                    Qt("left", {
                        x: n.x,
                        y: ht.y,
                        w: ht.x - n.x,
                        h: ht.h
                    }),
                    Qt("move", ht)
                }, Ze = function(ht) {
                    ke(e = ht)
                }, _e = function(ht) {
                    Ze(function(ht, Qt) {
                        return {
                            x: Qt.x + ht.x,
                            y: Qt.y + ht.y,
                            w: Qt.w,
                            h: Qt.h
                        }
                    }(r, ht))
                };
                !function() {
                    var Qt = Ie_fromTag("div");
                    Wf(Qt, {
                        id: T,
                        class: S + "croprect-container",
                        role: "grid",
                        "aria-dropeffect": "execute"
                    }),
                    Ri(O, Qt),
                    Re($, function($t) {
                        ta(O, "#" + T).each(function(kn) {
                            var mt = Ie_fromTag("div");
                            Wf(mt, {
                                id: T + "-" + $t,
                                class: S + "croprect-block",
                                "data-mce-bogus": "all"
                            }),
                            zn(mt, "display", "none"),
                            Ri(kn, mt)
                        })
                    }),
                    Re(I, function($t) {
                        ta(O, "#" + T).each(function(kn) {
                            var mt = Ie_fromTag("div");
                            Wf(mt, {
                                id: T + "-" + $t.name,
                                "aria-label": $t.label,
                                "aria-grabbed": "false",
                                "data-mce-bogus": "all",
                                role: "gridcell",
                                tabindex: "-1",
                                title: $t.label
                            }),
                            Fc(mt, [S + "croprect-handle", S + "croprect-handle-" + $t.name]),
                            zn(mt, "display", "none"),
                            Ri(kn, mt)
                        })
                    }),
                    d = re(I, function($t) {
                        var kn;
                        return function(e, n) {
                            var r, u, l, d, $, q, Z, p = [], S = [], T = null !== (r = n.document) && void 0 !== r ? r : document, O = null !== (u = n.root) && void 0 !== u ? u : T, I = Ie_fromDom(T), te = Ie_fromDom(O.getElementById(null !== (l = n.handle) && void 0 !== l ? l : e)), de = function(Ze) {
                                var Ye = Ze.raw
                                  , _e = function(e) {
                                    var n = Math.max
                                      , r = e.documentElement
                                      , u = e.body
                                      , l = n(r.scrollWidth, u.scrollWidth)
                                      , d = n(r.clientWidth, u.clientWidth)
                                      , p = n(r.offsetWidth, u.offsetWidth)
                                      , S = n(r.scrollHeight, u.scrollHeight)
                                      , T = n(r.clientHeight, u.clientHeight);
                                    return {
                                        width: l < p ? d : l,
                                        height: S < n(r.offsetHeight, u.offsetHeight) ? T : S
                                    }
                                }(T);
                                m4(Ye),
                                Ze.prevent(),
                                $ = Ye.button,
                                q = Ye.screenX,
                                Z = Ye.screenY;
                                var Ue = ho(te, "cursor");
                                d = Ie_fromTag("div", T),
                                Ea(d, {
                                    position: "absolute",
                                    top: "0",
                                    left: "0",
                                    width: _e.width + "px",
                                    height: _e.height + "px",
                                    "z-index": "2147483647",
                                    opacity: "0.0001",
                                    cursor: Ue
                                }),
                                Ri(Ku(I), d),
                                S.push(li(I, "mousemove", Te), li(I, "touchmove", Te), li(I, "mouseup", ce), li(I, "touchend", ce)),
                                n.start(Ye)
                            }, Te = function(Ze) {
                                var Ye = Ze.raw;
                                if (m4(Ye),
                                Ye.button !== $)
                                    return ce(Ze);
                                Ye.deltaX = Ye.screenX - q,
                                Ye.deltaY = Ye.screenY - Z,
                                Ze.prevent(),
                                n.drag(Ye)
                            }, ce = function(Ze) {
                                m4(Ze.raw),
                                Re(S, function(Ye) {
                                    return Ye.unbind()
                                }),
                                S = [],
                                Nu(d),
                                n.stop && n.stop(Ze.raw)
                            };
                            return p.push(li(te, "mousedown", de), li(te, "touchstart", de)),
                            {
                                destroy: function() {
                                    Re(S.concat(p), function(Ze) {
                                        return Ze.unbind()
                                    }),
                                    S = [],
                                    p = [],
                                    xe(d) && Nu(d)
                                }
                            }
                        }(T, {
                            document: u.ownerDocument,
                            root: Bn(O).dom,
                            handle: T + "-" + $t.name,
                            start: function() {
                                kn = e
                            },
                            drag: function(mt) {
                                de($t, kn, mt.deltaX, mt.deltaY)
                            }
                        })
                    }),
                    ke(e);
                    var yt = function($t) {
                        wr($t.target, "aria-grabbed", "focus" === $t.raw.type ? "true" : "false")
                    };
                    p.push(li(O, "focusin", yt), li(O, "focusout", yt), li(O, "keydown", function($t) {
                        var kn;
                        Re(I, function(yn) {
                            if (Hn($t.target, "id") === T + "-" + yn.name)
                                return kn = yn,
                                !1
                        });
                        var mt = function(yn, Ln, Yr, Oo, sa) {
                            yn.stopPropagation(),
                            yn.preventDefault(),
                            de(kn, Yr, Oo, sa)
                        };
                        switch ($t.raw.keyCode) {
                        case WS.LEFT:
                            mt($t, 0, e, -10, 0);
                            break;
                        case WS.RIGHT:
                            mt($t, 0, e, 10, 0);
                            break;
                        case WS.UP:
                            mt($t, 0, e, 0, -10);
                            break;
                        case WS.DOWN:
                            mt($t, 0, e, 0, 10);
                            break;
                        case WS.ENTER:
                        case WS.SPACEBAR:
                            $t.prevent(),
                            l()
                        }
                    }))
                }();
                var Jt = ae(ae({}, vN), {
                    toggleVisibility: function(ht) {
                        var Qt = Ct(Ct([], re(I, function(it) {
                            return "#" + T + "-" + it.name
                        }), !0), re($, function(it) {
                            return "#" + T + "-" + it
                        }), !0).join(",")
                          , yt = as(O, Qt);
                        Re(yt, ht ? function(it) {
                            return No(it, "display")
                        }
                        : function(it) {
                            return zn(it, "display", "none")
                        }
                        )
                    },
                    setClampRect: function(ht) {
                        r = ht,
                        ke(e)
                    },
                    setRect: Ze,
                    getInnerRect: function() {
                        return Z(r, e)
                    },
                    setInnerRect: _e,
                    setViewPortRect: function(ht) {
                        n = ht,
                        ke(e)
                    },
                    destroy: function() {
                        Re(d, function(ht) {
                            return ht.destroy()
                        }),
                        d = [],
                        Re(p, function(ht) {
                            return ht.unbind()
                        }),
                        p = []
                    }
                });
                return Jt
            }
              , O_ = function(e, n, r, u, l) {
                return VO({
                    name: e,
                    icon: D.some(n),
                    disabled: r,
                    tooltip: D.some(e),
                    primary: !1,
                    borderless: !1
                }, u, l)
            }
              , XO = function(e, n) {
                n ? On.enable(e) : On.disable(e)
            }
              , TN = function(e, n) {
                var r = function(e) {
                    var n = Xn(e)
                      , r = ni()
                      , u = function() {
                        var e = []
                          , n = -1
                          , d = function() {
                            return n > 0
                        }
                          , p = function() {
                            return -1 !== n && n < e.length - 1
                        };
                        return {
                            data: e,
                            add: function(S) {
                                var T = e.splice(++n);
                                return e.push(S),
                                {
                                    state: S,
                                    removed: T
                                }
                            },
                            undo: function() {
                                if (d())
                                    return e[--n]
                            },
                            redo: function() {
                                if (p())
                                    return e[++n]
                            },
                            canUndo: d,
                            canRedo: p
                        }
                    }();
                    u.add(e);
                    var d = function(ke) {
                        n.set(ke)
                    }
                      , T = function(ke) {
                        return {
                            blob: ke,
                            url: URL.createObjectURL(ke)
                        }
                    }
                      , O = function(ke) {
                        URL.revokeObjectURL(ke.url)
                    }
                      , $ = function() {
                        r.on(O),
                        r.clear()
                    }
                      , q = function(ke) {
                        var Ze = T(ke);
                        return d(Ze),
                        function(ke) {
                            pb.each(ke, O)
                        }(u.add(Ze).removed),
                        Ze.url
                    };
                    return {
                        getBlobState: function() {
                            return n.get()
                        },
                        setBlobState: d,
                        addBlobState: q,
                        getTempState: function() {
                            return r.get().getOrThunk(n.get)
                        },
                        updateTempState: function(ke) {
                            var Ze = T(ke);
                            return $(),
                            r.set(Ze),
                            Ze.url
                        },
                        addTempState: function(ke) {
                            var Ze = T(ke);
                            return r.set(Ze),
                            Ze.url
                        },
                        applyTempState: function(ke) {
                            return r.get().fold(Xe, function(Ze) {
                                q(Ze.blob),
                                ke()
                            })
                        },
                        destroyTempState: $,
                        undo: function() {
                            var ke = u.undo();
                            return d(ke),
                            ke.url
                        },
                        redo: function() {
                            var ke = u.redo();
                            return d(ke),
                            ke.url
                        },
                        getHistoryStates: function() {
                            return {
                                undoEnabled: u.canUndo(),
                                redoEnabled: u.canRedo()
                            }
                        }
                    }
                }(e.currentState)
                  , l = function(yt) {
                    var it = r.getHistoryStates();
                    Jt.updateButtonUndoStates(yt, it.undoEnabled, it.redoEnabled),
                    Vn(yt, Xc.formActionEvent, {
                        name: Xc.saveState(),
                        value: it.undoEnabled
                    })
                }
                  , T = function(yt) {
                    return yt.toBlob()
                }
                  , O = function(yt) {
                    Vn(yt, Xc.formActionEvent, {
                        name: Xc.disable(),
                        value: {}
                    })
                }
                  , I = function(yt) {
                    ht.getApplyButton(yt).each(function(it) {
                        On.enable(it)
                    }),
                    Vn(yt, Xc.formActionEvent, {
                        name: Xc.enable(),
                        value: {}
                    })
                }
                  , $ = function(yt, it) {
                    return O(yt),
                    ut.updateSrc(yt, it)
                }
                  , q = function(yt, it, $t, kn, mt) {
                    O(yt),
                    function(e) {
                        return e7(e)
                    }(it).then($t).then(T).then(kn).then(function(yn) {
                        return $(yt, yn)
                    }).then(function() {
                        l(yt),
                        mt(),
                        I(yt)
                    }).catch(function(yn) {
                        console.log(yn),
                        yt.getSystem().isConnected() && I(yt)
                    })
                }
                  , Z = function(yt, it, $t) {
                    var kn = r.getBlobState().blob;
                    q(yt, kn, it, function(yn) {
                        return r.updateTempState(yn)
                    }, $t)
                }
                  , ce = function(yt) {
                    var it = r.getBlobState().url;
                    return r.destroyTempState(),
                    l(yt),
                    it
                }
                  , ut = function(e) {
                    var n = ko({
                        dom: {
                            tag: "div",
                            classes: ["tox-image-tools__image-bg"],
                            attributes: {
                                role: "presentation"
                            }
                        }
                    })
                      , r = Xn(1)
                      , u = function() {
                        var e = Tx();
                        return ae(ae({}, e), {
                            run: function(r) {
                                return e.get().each(r)
                            }
                        })
                    }()
                      , l = Xn({
                        x: 0,
                        y: 0,
                        w: 1,
                        h: 1
                    })
                      , d = Xn({
                        x: 0,
                        y: 0,
                        w: 1,
                        h: 1
                    })
                      , p = function(Te, ce) {
                        te.getOpt(Te).each(function(ke) {
                            var Ze = r.get()
                              , Ye = Hi(ke.element)
                              , _e = ia(ke.element)
                              , Ue = ce.dom.naturalWidth * Ze
                              , ut = ce.dom.naturalHeight * Ze
                              , Jt = Math.max(0, Ye / 2 - Ue / 2)
                              , ht = Math.max(0, _e / 2 - ut / 2)
                              , Qt = {
                                left: Jt.toString() + "px",
                                top: ht.toString() + "px",
                                width: Ue.toString() + "px",
                                height: ut.toString() + "px",
                                position: "absolute"
                            };
                            Ea(ce, Qt),
                            n.getOpt(ke).each(function(yt) {
                                Ea(yt.element, Qt)
                            }),
                            u.run(function(yt) {
                                var it = l.get();
                                yt.setRect({
                                    x: it.x * Ze + Jt,
                                    y: it.y * Ze + ht,
                                    w: it.w * Ze,
                                    h: it.h * Ze
                                }),
                                yt.setClampRect({
                                    x: Jt,
                                    y: ht,
                                    w: Ue,
                                    h: ut
                                }),
                                yt.setViewPortRect({
                                    x: 0,
                                    y: 0,
                                    w: Ye,
                                    h: _e
                                })
                            })
                        })
                    }
                      , T = function(Te, ce) {
                        var ke = Ie_fromTag("img");
                        return wr(ke, "src", ce),
                        function(e) {
                            return new Lf(function(n) {
                                var r = function() {
                                    e.removeEventListener("load", r),
                                    n(e)
                                };
                                e.complete ? n(e) : e.addEventListener("load", r)
                            }
                            )
                        }(ke.dom).then(function() {
                            Te.getSystem().isConnected() && te.getOpt(Te).map(function(Ze) {
                                var Ye = Ef({
                                    element: ke
                                });
                                pr.replaceAt(Ze, 1, D.some(Ye));
                                var _e = d.get()
                                  , Ue = {
                                    x: 0,
                                    y: 0,
                                    w: ke.dom.naturalWidth,
                                    h: ke.dom.naturalHeight
                                };
                                d.set(Ue);
                                var ut = KO.inflate(Ue, -20, -20);
                                l.set(ut),
                                (_e.w !== Ue.w || _e.h !== Ue.h) && function(Te, ce) {
                                    te.getOpt(Te).each(function(ke) {
                                        var Ze = Hi(ke.element)
                                          , Ye = ia(ke.element)
                                          , ut = Math.min(Ze / ce.dom.naturalWidth, Ye / ce.dom.naturalHeight);
                                        r.set(ut >= 1 ? 1 : ut)
                                    })
                                }(Ze, ke),
                                p(Ze, ke)
                            })
                        })
                    }
                      , Z = $s.sketch({
                        dom: {
                            tag: "div",
                            classes: ["tox-image-tools__image"]
                        },
                        components: [n.asSpec(), {
                            dom: {
                                tag: "img",
                                attributes: {
                                    src: e
                                }
                            }
                        }, {
                            dom: {
                                tag: "div"
                            },
                            behaviours: Wt([rn("image-panel-crop-events", [pa(function(Te) {
                                te.getOpt(Te).each(function(ce) {
                                    var Ze = bN_create({
                                        x: 10,
                                        y: 10,
                                        w: 100,
                                        h: 100
                                    }, {
                                        x: 0,
                                        y: 0,
                                        w: 200,
                                        h: 200
                                    }, {
                                        x: 0,
                                        y: 0,
                                        w: 200,
                                        h: 200
                                    }, ce.element.dom, Xe);
                                    Ze.toggleVisibility(!1),
                                    Ze.on("updateRect", function(Ye) {
                                        var _e = Ye.rect
                                          , Ue = r.get()
                                          , ut = {
                                            x: Math.round(_e.x / Ue),
                                            y: Math.round(_e.y / Ue),
                                            w: Math.round(_e.w / Ue),
                                            h: Math.round(_e.h / Ue)
                                        };
                                        l.set(ut)
                                    }),
                                    u.set(Ze)
                                })
                            }), sl(function() {
                                u.clear()
                            })])])
                        }],
                        containerBehaviours: Wt([pr.config({}), rn("image-panel-events", [pa(function(Te) {
                            T(Te, e)
                        })])])
                    })
                      , te = ko(Z);
                    return {
                        memContainer: te,
                        updateSrc: T,
                        zoom: function(Te, ce) {
                            var ke = r.get()
                              , Ze = ce > 0 ? Math.min(2, ke + .1) : Math.max(.1, ke - .1);
                            r.set(Ze),
                            te.getOpt(Te).each(function(Ye) {
                                var _e = Ye.components()[1].element;
                                p(Ye, _e)
                            })
                        },
                        showCrop: function() {
                            u.run(function(Te) {
                                Te.toggleVisibility(!0)
                            })
                        },
                        hideCrop: function() {
                            u.run(function(Te) {
                                Te.toggleVisibility(!1)
                            })
                        },
                        getRect: function() {
                            return l.get()
                        },
                        getMeasurements: function() {
                            var Te = d.get();
                            return {
                                width: Te.w,
                                height: Te.h
                            }
                        }
                    }
                }(e.currentState.url)
                  , Jt = function(e) {
                    var r = ko(O_("Undo", "undo", !0, function(d) {
                        Vn(d, Vs.undo(), {
                            direction: 1
                        })
                    }, e))
                      , u = ko(O_("Redo", "redo", !0, function(d) {
                        Vn(d, Vs.redo(), {
                            direction: 1
                        })
                    }, e));
                    return {
                        container: $s.sketch({
                            dom: {
                                tag: "div",
                                classes: ["tox-image-tools__toolbar", "tox-image-tools__sidebar"]
                            },
                            components: [r.asSpec(), u.asSpec(), O_("Zoom in", "zoom-in", !1, function(d) {
                                Vn(d, Vs.zoom(), {
                                    direction: 1
                                })
                            }, e), O_("Zoom out", "zoom-out", !1, function(d) {
                                Vn(d, Vs.zoom(), {
                                    direction: -1
                                })
                            }, e)]
                        }),
                        updateButtonUndoStates: function(d, p, S) {
                            r.getOpt(d).each(function(T) {
                                XO(T, p)
                            }),
                            u.getOpt(d).each(function(T) {
                                XO(T, S)
                            })
                        }
                    }
                }(n)
                  , ht = fN(ut, n);
                return {
                    dom: {
                        tag: "div",
                        attributes: {
                            role: "presentation"
                        }
                    },
                    components: [ht.memContainer.asSpec(), ut.memContainer.asSpec(), Jt.container],
                    behaviours: Wt([tn.config({
                        store: {
                            mode: "manual",
                            getValue: function() {
                                return r.getBlobState()
                            }
                        }
                    }), rn("image-tools-events", [gt(Vs.undo(), function(yt, it) {
                        var $t = r.undo();
                        $(yt, $t).then(function(kn) {
                            I(yt),
                            l(yt)
                        })
                    }), gt(Vs.redo(), function(yt, it) {
                        var $t = r.redo();
                        $(yt, $t).then(function(kn) {
                            I(yt),
                            l(yt)
                        })
                    }), gt(Vs.zoom(), function(yt, it) {
                        ut.zoom(yt, it.event.direction)
                    }), gt(Vs.back(), function(yt, it) {
                        !function(yt) {
                            var it = ce(yt);
                            $(yt, it).then(function($t) {
                                I(yt)
                            })
                        }(yt),
                        (0,
                        it.event.swap)(),
                        ut.hideCrop()
                    }), gt(Vs.apply(), function(yt, it) {
                        r.applyTempState(function() {
                            ce(yt),
                            (0,
                            it.event.swap)()
                        })
                    }), gt(Vs.transform(), function(yt, it) {
                        return Z(yt, it.event.transform, Xe)
                    }), gt(Vs.tempTransform(), function(yt, it) {
                        return function(yt, it) {
                            var $t = r.getTempState().blob;
                            q(yt, $t, it, function(mt) {
                                return r.addTempState(mt)
                            }, Xe)
                        }(yt, it.event.transform)
                    }), gt(Vs.transformApply(), function(yt, it) {
                        return function(yt, it, $t) {
                            var kn = r.getBlobState().blob;
                            q(yt, kn, it, function(yn) {
                                var Ln = r.addBlobState(yn);
                                return ce(yt),
                                Ln
                            }, $t)
                        }(yt, it.event.transform, it.event.swap)
                    }), gt(Vs.swap(), function(yt, it) {
                        !function(yt) {
                            Jt.updateButtonUndoStates(yt, !1, !1)
                        }(yt);
                        var kn = it.event.swap;
                        it.event.transform.fold(function() {
                            kn()
                        }, function(mt) {
                            Z(yt, mt, kn)
                        })
                    })]), Zd_self()])
                }
            }
              , g4 = function(e) {
                return !yr(e, "items")
            }
              , YO = "data-value"
              , JO = function(e, n, r, u) {
                return re(r, function(l) {
                    return g4(l) ? {
                        type: "togglemenuitem",
                        text: l.text,
                        value: l.value,
                        active: l.value === u,
                        onAction: function() {
                            tn.setValue(e, l.value),
                            Vn(e, cf, {
                                name: n
                            }),
                            sr.focus(e)
                        }
                    } : {
                        type: "nestedmenuitem",
                        text: l.text,
                        getSubmenuItems: function() {
                            return JO(e, n, l.items, u)
                        }
                    }
                })
            }
              , ZO = function(e, n) {
                return Sr(e, function(r) {
                    return g4(r) ? da(r.value === n, r) : ZO(r.items, n)
                })
            }
              , ON = nc({
                name: "HtmlSelect",
                configFields: [ot("options"), Wi("selectBehaviours", [sr, tn]), Be("selectClasses", []), Be("selectAttributes", {}), To("data")],
                factory: function(e, n) {
                    var r = re(e.options, function(l) {
                        return {
                            dom: {
                                tag: "option",
                                value: l.value,
                                innerHtml: l.text
                            }
                        }
                    })
                      , u = e.data.map(function(l) {
                        return Mc("initialValue", l)
                    }).getOr({});
                    return {
                        uid: e.uid,
                        dom: {
                            tag: "select",
                            classes: e.selectClasses,
                            attributes: e.selectAttributes
                        },
                        components: r,
                        behaviours: eu(e.selectBehaviours, [sr.config({}), tn.config({
                            store: ae({
                                mode: "manual",
                                getValue: function(l) {
                                    return kf(l.element)
                                },
                                setValue: function(l, d) {
                                    $n(e.options, function(S) {
                                        return S.value === d
                                    }).isSome() && Dm(l.element, d)
                                }
                            }, u)
                        })])
                    }
                }
            })
              , QO = function(e, n) {
                var r = e.label.map(function(q) {
                    return mb(q, n)
                })
                  , u = [On.config({
                    disabled: function() {
                        return e.disabled || n.isDisabled()
                    }
                }), mu(), Yn.config({
                    mode: "execution",
                    useEnter: !0 !== e.multiline,
                    useControlEnter: !0 === e.multiline,
                    execute: function(q) {
                        return po(q, E3),
                        D.some(!0)
                    }
                }), rn("textfield-change", [gt(rv(), function(q, Z) {
                    Vn(q, cf, {
                        name: e.name
                    })
                }), gt(md(), function(q, Z) {
                    Vn(q, cf, {
                        name: e.name
                    })
                })]), Fi.config({})]
                  , l = e.validation.map(function(q) {
                    return Cg.config({
                        getRoot: function(Z) {
                            return L(Z.element)
                        },
                        invalidClass: "tox-invalid",
                        validator: {
                            validate: function(Z) {
                                var te = tn.getValue(Z)
                                  , de = q.validator(te);
                                return Cs_pure(!0 === de ? Fr.value(te) : Fr.error(de))
                            },
                            validateOnLoad: q.validateOnLoad
                        }
                    })
                }).toArray()
                  , d = e.placeholder.fold(Se({}), function(q) {
                    return {
                        placeholder: n.translate(q)
                    }
                })
                  , p = e.inputMode.fold(Se({}), function(q) {
                    return {
                        inputmode: q
                    }
                })
                  , S = ae(ae({}, d), p)
                  , T = Ao.parts.field({
                    tag: !0 === e.multiline ? "textarea" : "input",
                    inputAttributes: S,
                    inputClasses: [e.classname],
                    inputBehaviours: Wt(Gt([u, l])),
                    selectOnFocus: !1,
                    factory: A3
                })
                  , I = (e.flex ? ["tox-form__group--stretched"] : []).concat(e.maximized ? ["tox-form-group--maximize"] : [])
                  , $ = [On.config({
                    disabled: function() {
                        return e.disabled || n.isDisabled()
                    },
                    onDisabled: function(q) {
                        Ao.getField(q).each(On.disable)
                    },
                    onEnabled: function(q) {
                        Ao.getField(q).each(On.enable)
                    }
                }), mu()];
                return _3(r, T, I, $)
            }
              , NN = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    var u = e.stream.streams.setup(e, n);
                    return Lo([gt(e.event, u), sl(function() {
                        return n.cancel()
                    })].concat(e.cancelEvent.map(function(l) {
                        return [gt(l, function() {
                            return n.cancel()
                        })]
                    }).getOr([])))
                }
            })
              , eD = function(e) {
                var n = Xn(null);
                return Bs({
                    readState: function() {
                        return {
                            timer: null !== n.get() ? "set" : "unset"
                        }
                    },
                    setTimer: function(d) {
                        n.set(d)
                    },
                    cancel: function() {
                        var d = n.get();
                        null !== d && d.cancel()
                    }
                })
            }
              , FN = Object.freeze({
                __proto__: null,
                throttle: eD,
                init: function(e) {
                    return e.stream.streams.state(e)
                }
            })
              , LN = [ui("stream", Qu("mode", {
                throttle: [ot("delay"), Be("stopEvent", !0), Ho("streams", {
                    setup: function(e, n) {
                        var r = e.stream
                          , u = hS(e.onStream, r.delay);
                        return n.setTimer(u),
                        function(l, d) {
                            u.throttle(l, d),
                            r.stopEvent && d.stop()
                        }
                    },
                    state: eD
                })]
            })), Be("event", "input"), To("cancelEvent"), fl("onStream")]
              , tD = zi({
                fields: LN,
                name: "streaming",
                active: NN,
                state: FN
            })
              , D_ = function(e, n, r) {
                var u = tn.getValue(r);
                tn.setValue(n, u),
                rD(n)
            }
              , nD = function(e, n) {
                var r = e.element
                  , u = kf(r)
                  , l = r.dom;
                "number" !== Hn(r, "type") && n(l, u)
            }
              , rD = function(e) {
                nD(e, function(n, r) {
                    return n.setSelectionRange(r.length, r.length)
                })
            }
              , h4 = Se("alloy.typeahead.itemexecute")
              , UN = Se([To("lazySink"), ot("fetch"), Be("minChars", 5), Be("responseTime", 1e3), vo("onOpen"), Be("getHotspot", D.some), Be("getAnchorOverrides", Se({})), Be("layouts", D.none()), Be("eventOrder", {}), t1("model", {}, [Be("getDisplayText", function(e) {
                return void 0 !== e.meta && void 0 !== e.meta.text ? e.meta.text : e.value
            }), Be("selectsOver", !0), Be("populateFromBrowse", !0)]), vo("onSetValue"), _u("onExecute"), vo("onItemExecute"), Be("inputClasses", []), Be("inputAttributes", {}), Be("inputStyles", {}), Be("matchWidth", !0), Be("useMinWidth", !1), Be("dismissOnBlur", !0), fu(["openClass"]), To("initialData"), Wi("typeaheadBehaviours", [sr, tn, tD, Yn, io, Gi]), $i("previewing", function() {
                return Xn(!0)
            })].concat(_A()).concat(Ik()))
              , WN = Se([is({
                schema: [Rm()],
                name: "menu",
                overrides: function(e) {
                    return {
                        fakeFocus: !0,
                        onHighlight: function(n, r) {
                            e.previewing.get() ? n.getSystem().getByUid(e.uid).each(function(u) {
                                (function(e, n, r) {
                                    if (e.selectsOver) {
                                        var u = tn.getValue(n)
                                          , l = e.getDisplayText(u)
                                          , d = tn.getValue(r);
                                        return 0 === e.getDisplayText(d).indexOf(l) ? D.some(function() {
                                            D_(0, n, r),
                                            function(e, n) {
                                                nD(e, function(r, u) {
                                                    return r.setSelectionRange(n, u.length)
                                                })
                                            }(n, l.length)
                                        }) : D.none()
                                    }
                                    return D.none()
                                }
                                )(e.model, u, r).fold(function() {
                                    return _o.dehighlight(n, r)
                                }, function(l) {
                                    return l()
                                })
                            }) : n.getSystem().getByUid(e.uid).each(function(u) {
                                e.model.populateFromBrowse && D_(0, u, r)
                            }),
                            e.previewing.set(!1)
                        },
                        onExecute: function(n, r) {
                            return n.getSystem().getByUid(e.uid).toOptional().map(function(u) {
                                return Vn(u, h4(), {
                                    item: r
                                }),
                                !0
                            })
                        },
                        onHover: function(n, r) {
                            e.previewing.set(!1),
                            n.getSystem().getByUid(e.uid).each(function(u) {
                                e.model.populateFromBrowse && D_(0, u, r)
                            })
                        }
                    }
                }
            })])
              , jN = Lu({
                name: "Typeahead",
                configFields: UN(),
                partFields: WN(),
                factory: function(e, n, r, u) {
                    var l = function(T, O, I) {
                        e.previewing.set(!1);
                        var $ = Gi.getCoupled(T, "sandbox");
                        Gr.isOpen($) ? qr.getCurrent($).each(function(Z) {
                            _o.getHighlighted(Z).fold(function() {
                                I(Z)
                            }, function() {
                                ym($, Z.element, "keydown", O)
                            })
                        }) : zk(e, p(T), T, $, u, function(Z) {
                            qr.getCurrent(Z).each(I)
                        }, Gv.HighlightFirst).get(Xe)
                    }
                      , d = kA(e)
                      , p = function(T) {
                        return function(O) {
                            return O.map(function(I) {
                                var $ = Qr(I.menus)
                                  , q = Un($, function(te) {
                                    return je(te.items, function(de) {
                                        return "item" === de.type
                                    })
                                });
                                return tn.getState(T).update(re(q, function(te) {
                                    return te.data
                                })),
                                I
                            })
                        }
                    }
                      , S = [sr.config({}), tn.config({
                        onSetValue: e.onSetValue,
                        store: ae({
                            mode: "dataset",
                            getDataKey: function(T) {
                                return kf(T.element)
                            },
                            getFallbackEntry: function(T) {
                                return {
                                    value: T,
                                    meta: {}
                                }
                            },
                            setValue: function(T, O) {
                                Dm(T.element, e.model.getDisplayText(O))
                            }
                        }, e.initialData.map(function(T) {
                            return Mc("initialValue", T)
                        }).getOr({}))
                    }), tD.config({
                        stream: {
                            mode: "throttle",
                            delay: e.responseTime,
                            stopEvent: !1
                        },
                        onStream: function(T, O) {
                            var I = Gi.getCoupled(T, "sandbox");
                            if (sr.isFocused(T) && kf(T.element).length >= e.minChars) {
                                var q = qr.getCurrent(I).bind(function(te) {
                                    return _o.getHighlighted(te).map(tn.getValue)
                                });
                                e.previewing.set(!0),
                                zk(e, p(T), T, I, u, function(te) {
                                    qr.getCurrent(I).each(function(de) {
                                        q.fold(function() {
                                            e.model.selectsOver && _o.highlightFirst(de)
                                        }, function(Te) {
                                            _o.highlightBy(de, function(ce) {
                                                return tn.getValue(ce).value === Te.value
                                            }),
                                            _o.getHighlighted(de).orThunk(function() {
                                                return _o.highlightFirst(de),
                                                D.none()
                                            })
                                        })
                                    })
                                }, Gv.HighlightFirst).get(Xe)
                            }
                        },
                        cancelEvent: Ys()
                    }), Yn.config({
                        mode: "special",
                        onDown: function(T, O) {
                            return l(T, O, _o.highlightFirst),
                            D.some(!0)
                        },
                        onEscape: function(T) {
                            var O = Gi.getCoupled(T, "sandbox");
                            return Gr.isOpen(O) ? (Gr.close(O),
                            D.some(!0)) : D.none()
                        },
                        onUp: function(T, O) {
                            return l(T, O, _o.highlightLast),
                            D.some(!0)
                        },
                        onEnter: function(T) {
                            var O = Gi.getCoupled(T, "sandbox")
                              , I = Gr.isOpen(O);
                            if (I && !e.previewing.get())
                                return qr.getCurrent(O).bind(function(q) {
                                    return _o.getHighlighted(q)
                                }).map(function(q) {
                                    return Vn(T, h4(), {
                                        item: q
                                    }),
                                    !0
                                });
                            var $ = tn.getValue(T);
                            return po(T, Ys()),
                            e.onExecute(O, T, $),
                            I && Gr.close(O),
                            D.some(!0)
                        }
                    }), io.config({
                        toggleClass: e.markers.openClass,
                        aria: {
                            mode: "expanded"
                        }
                    }), Gi.config({
                        others: {
                            sandbox: function(T) {
                                return Fk(e, T, {
                                    onOpen: function() {
                                        return io.on(T)
                                    },
                                    onClose: function() {
                                        return io.off(T)
                                    }
                                })
                            }
                        }
                    }), rn("typeaheadevents", [cl(function(T) {
                        var O = Xe;
                        IS(e, p(T), T, u, O, Gv.HighlightFirst).get(Xe)
                    }), gt(h4(), function(T, O) {
                        var I = Gi.getCoupled(T, "sandbox");
                        D_(0, T, O.event.item),
                        po(T, Ys()),
                        e.onItemExecute(T, I, O.event.item, tn.getValue(T)),
                        Gr.close(I),
                        rD(T)
                    })].concat(e.dismissOnBlur ? [gt(Ib(), function(T) {
                        var O = Gi.getCoupled(T, "sandbox");
                        Qs(O.element).isNone() && Gr.close(O)
                    })] : []))];
                    return {
                        uid: e.uid,
                        dom: EA(Tn(e, {
                            inputAttributes: {
                                role: "combobox",
                                "aria-autocomplete": "list",
                                "aria-haspopup": "true"
                            }
                        })),
                        behaviours: ae(ae({}, d), eu(e.typeaheadBehaviours, S)),
                        eventOrder: e.eventOrder
                    }
                }
            })
              , Jv = function(e) {
                return ae(ae({}, e), {
                    toCached: function() {
                        return Jv(e.toCached())
                    },
                    bindFuture: function(T) {
                        return Jv(e.bind(function(O) {
                            return O.fold(function(I) {
                                return Cs_pure(Fr.error(I))
                            }, function(I) {
                                return T(I)
                            })
                        }))
                    },
                    bindResult: function(T) {
                        return Jv(e.map(function(O) {
                            return O.bind(T)
                        }))
                    },
                    mapResult: function(T) {
                        return Jv(e.map(function(O) {
                            return O.map(T)
                        }))
                    },
                    mapError: function(T) {
                        return Jv(e.map(function(O) {
                            return O.mapError(T)
                        }))
                    },
                    foldResult: function(T, O) {
                        return e.map(function(I) {
                            return I.fold(T, O)
                        })
                    },
                    withTimeout: function(T, O) {
                        return Jv(Cs_nu(function(I) {
                            var $ = !1
                              , q = setTimeout(function() {
                                $ = !0,
                                I(Fr.error(O()))
                            }, T);
                            e.get(function(Z) {
                                $ || (clearTimeout(q),
                                I(Z))
                            })
                        }))
                    }
                })
            }
              , YN_nu = function(e) {
                return Jv(Cs_nu(e))
            }
              , JN = {
                type: "separator"
            }
              , ZN = function(e) {
                return {
                    type: "menuitem",
                    value: e.url,
                    text: e.title,
                    meta: {
                        attach: e.attach
                    },
                    onAction: Xe
                }
            }
              , p4 = function(e, n) {
                return {
                    type: "menuitem",
                    value: n,
                    text: e,
                    meta: {
                        attach: void 0
                    },
                    onAction: Xe
                }
            }
              , iD = function(e, n) {
                return function(e) {
                    return re(e, ZN)
                }(function(e, n) {
                    return je(n, function(r) {
                        return r.type === e
                    })
                }(e, n))
            }
              , tz = function(e) {
                return iD("header", e.targets)
            }
              , nz = function(e) {
                return iD("anchor", e.targets)
            }
              , rz = function(e) {
                return D.from(e.anchorTop).map(function(n) {
                    return p4("<top>", n)
                }).toArray()
            }
              , oz = function(e) {
                return D.from(e.anchorBottom).map(function(n) {
                    return p4("<bottom>", n)
                }).toArray()
            }
              , b4 = function(e, n) {
                var r = e.toLowerCase();
                return je(n, function(u) {
                    return oa((void 0 !== u.meta && void 0 !== u.meta.text ? u.meta.text : u.text).toLowerCase(), r) || oa(u.value.toLowerCase(), r)
                })
            }
              , uD = Pn("aria-invalid")
              , Wu = function(e) {
                return function(n, r, u) {
                    return St(r, "name").fold(function() {
                        return e(r, u)
                    }, function(l) {
                        return n.field(l, e(r, u))
                    })
                }
            }
              , dz = {
                bar: Wu(function(e, n) {
                    return function(e, n) {
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-bar", "tox-form__controls-h-stack"]
                            },
                            components: re(e.items, n.interpreter)
                        }
                    }(e, n.shared)
                }),
                collection: Wu(function(e, n) {
                    return function(e, n) {
                        var r, u = e.label.map(function($) {
                            return mb($, n)
                        }), l = function($) {
                            return function(q, Z) {
                                Ic(Z.event.target, "[data-collection-item-value]").each(function(te) {
                                    $(q, Z, te, Hn(te, "data-collection-item-value"))
                                })
                            }
                        }, p = l(function($, q, Z, te) {
                            q.stop(),
                            n.isDisabled() || Vn($, xg, {
                                name: e.name,
                                value: te
                            })
                        }), S = [gt(nv(), l(function($, q, Z) {
                            xs(Z)
                        })), gt(vd(), p), gt(gd(), p), gt(xf(), l(function($, q, Z) {
                            ta($.element, "." + lb).each(function(te) {
                                ei(te, lb)
                            }),
                            ki(Z, lb)
                        })), gt(Vw(), l(function($) {
                            ta($.element, "." + lb).each(function(q) {
                                ei(q, lb)
                            })
                        })), cl(l(function($, q, Z, te) {
                            Vn($, xg, {
                                name: e.name,
                                value: te
                            })
                        }))], T = function($, q) {
                            return re(as($.element, ".tox-collection__item"), q)
                        }, O = Ao.parts.field({
                            dom: {
                                tag: "div",
                                classes: ["tox-collection"].concat(1 !== e.columns ? ["tox-collection--grid"] : ["tox-collection--list"])
                            },
                            components: [],
                            factory: {
                                sketch: _n
                            },
                            behaviours: Wt([On.config({
                                disabled: n.isDisabled,
                                onDisabled: function($) {
                                    T($, function(q) {
                                        ki(q, "tox-collection__item--state-disabled"),
                                        wr(q, "aria-disabled", !0)
                                    })
                                },
                                onEnabled: function($) {
                                    T($, function(q) {
                                        ei(q, "tox-collection__item--state-disabled"),
                                        _i(q, "aria-disabled")
                                    })
                                }
                            }), mu(), pr.config({}), tn.config({
                                store: {
                                    mode: "memory",
                                    initialValue: []
                                },
                                onSetValue: function($, q) {
                                    (function($, q) {
                                        var Z = re(q, function(Te) {
                                            var ce = rf.translate(Te.text)
                                              , ke = 1 === e.columns ? '<div class="tox-collection__item-label">' + ce + "</div>" : ""
                                              , Ze = '<div class="tox-collection__item-icon">' + Te.icon + "</div>"
                                              , Ye = {
                                                _: " ",
                                                " - ": " ",
                                                "-": " "
                                            }
                                              , _e = ce.replace(/\_| \- |\-/g, function(ut) {
                                                return Ye[ut]
                                            });
                                            return '<div class="tox-collection__item' + (n.isDisabled() ? " tox-collection__item--state-disabled" : "") + '" tabindex="-1" data-collection-item-value="' + d6.encodeAllRaw(Te.value) + '" title="' + _e + '" aria-label="' + _e + '">' + Ze + ke + "</div>"
                                        })
                                          , te = "auto" !== e.columns && e.columns > 1 ? Mn(Z, e.columns) : [Z]
                                          , de = re(te, function(Te) {
                                            return '<div class="tox-collection__group">' + Te.join("") + "</div>"
                                        });
                                        av($.element, de.join(""))
                                    }
                                    )($, q),
                                    "auto" === e.columns && ue($, 5, "tox-collection__item").each(function(Z) {
                                        Yn.setGridSize($, Z.numRows, Z.numColumns)
                                    }),
                                    po($, TA)
                                }
                            }), Fi.config({}), Yn.config(b8(e.columns, "normal")), rn("collection-events", S)]),
                            eventOrder: (r = {},
                            r[co()] = ["disabling", "alloy.base.behaviour", "collection-events"],
                            r)
                        });
                        return _3(u, O, ["tox-form__group--collection"], [])
                    }(e, n.shared.providers)
                }),
                alertbanner: Wu(function(e, n) {
                    return function(e, n) {
                        return $s.sketch({
                            dom: {
                                tag: "div",
                                attributes: {
                                    role: "alert"
                                },
                                classes: ["tox-notification", "tox-notification--in", "tox-notification--" + e.level]
                            },
                            components: [{
                                dom: {
                                    tag: "div",
                                    classes: ["tox-notification__icon"]
                                },
                                components: [Is.sketch({
                                    dom: {
                                        tag: "button",
                                        classes: ["tox-button", "tox-button--naked", "tox-button--icon"],
                                        innerHtml: QT(e.icon, n.icons),
                                        attributes: {
                                            title: n.translate(e.iconTooltip)
                                        }
                                    },
                                    action: function(r) {
                                        Vn(r, xg, {
                                            name: "alert-banner",
                                            value: e.url
                                        })
                                    },
                                    buttonBehaviours: Wt([gS()])
                                })]
                            }, {
                                dom: {
                                    tag: "div",
                                    classes: ["tox-notification__body"],
                                    innerHtml: n.translate(e.text)
                                }
                            }]
                        })
                    }(e, n.shared.providers)
                }),
                input: Wu(function(e, n) {
                    return function(e, n) {
                        return QO({
                            name: e.name,
                            multiline: !1,
                            label: e.label,
                            inputMode: e.inputMode,
                            placeholder: e.placeholder,
                            flex: !1,
                            disabled: e.disabled,
                            classname: "tox-textfield",
                            validation: D.none(),
                            maximized: e.maximized
                        }, n)
                    }(e, n.shared.providers)
                }),
                textarea: Wu(function(e, n) {
                    return function(e, n) {
                        return QO({
                            name: e.name,
                            multiline: !0,
                            label: e.label,
                            inputMode: D.none(),
                            placeholder: e.placeholder,
                            flex: !0,
                            disabled: e.disabled,
                            classname: "tox-textarea",
                            validation: D.none(),
                            maximized: e.maximized
                        }, n)
                    }(e, n.shared.providers)
                }),
                label: Wu(function(e, n) {
                    return function(e, n) {
                        var r = {
                            dom: {
                                tag: "label",
                                innerHtml: n.providers.translate(e.label),
                                classes: ["tox-label"]
                            }
                        }
                          , u = re(e.items, n.interpreter);
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-form__group"]
                            },
                            components: [r].concat(u),
                            behaviours: Wt([Zd_self(), pr.config({}), Cw_domHtml(D.none()), Yn.config({
                                mode: "acyclic"
                            })])
                        }
                    }(e, n.shared)
                }),
                iframe: function(e) {
                    return function(n, r, u) {
                        var l = Tn(r, {
                            source: "dynamic"
                        });
                        return Wu(e)(n, l, u)
                    }
                }(function(e, n) {
                    return function(e, n) {
                        var r = VB && e.sandboxed
                          , u = ae(ae({}, e.label.map(function(T) {
                            return {
                                title: T
                            }
                        }).getOr({})), r ? {
                            sandbox: "allow-scripts allow-same-origin"
                        } : {})
                          , l = function(e) {
                            var n = Xn("");
                            return {
                                getValue: function(r) {
                                    return n.get()
                                },
                                setValue: function(r, u) {
                                    if (e)
                                        wr(r.element, "srcdoc", u);
                                    else {
                                        wr(r.element, "src", "javascript:''");
                                        var l = r.element.dom.contentWindow.document;
                                        l.open(),
                                        l.write(u),
                                        l.close()
                                    }
                                    n.set(u)
                                }
                            }
                        }(r)
                          , d = e.label.map(function(T) {
                            return mb(T, n)
                        })
                          , S = Ao.parts.field({
                            factory: {
                                sketch: function(T) {
                                    return TO({
                                        uid: T.uid,
                                        dom: {
                                            tag: "iframe",
                                            attributes: u
                                        },
                                        behaviours: Wt([Fi.config({}), sr.config({}), Cw_withComp(D.none(), l.getValue, l.setValue)])
                                    })
                                }
                            }
                        });
                        return _3(d, S, ["tox-form__group--stretched"], [])
                    }(e, n.shared.providers)
                }),
                button: Wu(function(e, n) {
                    return function(e, n) {
                        var r = WO(e.name, "custom");
                        return function(e, n) {
                            return _3(e, n, [], [])
                        }(D.none(), Ao.parts.field(ae({
                            factory: Is
                        }, UO(e, D.some(r), n, [Cw_memory(""), Zd_self()]))))
                    }(e, n.shared.providers)
                }),
                checkbox: Wu(function(e, n) {
                    return function(e, n) {
                        var r = tn.config({
                            store: {
                                mode: "manual",
                                getValue: function(T) {
                                    return T.element.dom.checked
                                },
                                setValue: function(T, O) {
                                    T.element.dom.checked = O
                                }
                            }
                        })
                          , u = function(T) {
                            return T.element.dom.click(),
                            D.some(!0)
                        }
                          , l = Ao.parts.field({
                            factory: {
                                sketch: _n
                            },
                            dom: {
                                tag: "input",
                                classes: ["tox-checkbox__input"],
                                attributes: {
                                    type: "checkbox"
                                }
                            },
                            behaviours: Wt([Zd_self(), On.config({
                                disabled: function() {
                                    return e.disabled || n.isDisabled()
                                }
                            }), Fi.config({}), sr.config({}), r, Yn.config({
                                mode: "special",
                                onEnter: u,
                                onSpace: u,
                                stopSpaceKeyup: !0
                            }), rn("checkbox-events", [gt(gm(), function(T, O) {
                                Vn(T, cf, {
                                    name: e.name
                                })
                            })])])
                        })
                          , d = Ao.parts.label({
                            dom: {
                                tag: "span",
                                classes: ["tox-checkbox__label"],
                                innerHtml: n.translate(e.label)
                            },
                            behaviours: Wt([O3.config({})])
                        })
                          , p = function(T) {
                            return If("checked" === T ? "selected" : "unselected", {
                                tag: "span",
                                classes: ["tox-icon", "tox-checkbox-icon__" + T]
                            }, n.icons)
                        }
                          , S = ko({
                            dom: {
                                tag: "div",
                                classes: ["tox-checkbox__icons"]
                            },
                            components: [p("checked"), p("unchecked")]
                        });
                        return Ao.sketch({
                            dom: {
                                tag: "label",
                                classes: ["tox-checkbox"]
                            },
                            components: [l, S.asSpec(), d],
                            fieldBehaviours: Wt([On.config({
                                disabled: function() {
                                    return e.disabled || n.isDisabled()
                                },
                                disableClass: "tox-checkbox--disabled",
                                onDisabled: function(T) {
                                    Ao.getField(T).each(On.disable)
                                },
                                onEnabled: function(T) {
                                    Ao.getField(T).each(On.enable)
                                }
                            }), mu()])
                        })
                    }(e, n.shared.providers)
                }),
                colorinput: Wu(function(e, n) {
                    return function(e, n, r) {
                        var u = Ao.parts.field({
                            factory: A3,
                            inputClasses: ["tox-textfield"],
                            onSetValue: function(T) {
                                return Cg.run(T).get(Xe)
                            },
                            inputBehaviours: Wt([On.config({
                                disabled: n.providers.isDisabled
                            }), mu(), Fi.config({}), Cg.config({
                                invalidClass: "tox-textbox-field-invalid",
                                getRoot: function(T) {
                                    return L(T.element)
                                },
                                notify: {
                                    onValid: function(T) {
                                        var O = tn.getValue(T);
                                        Vn(T, HA, {
                                            color: O
                                        })
                                    }
                                },
                                validator: {
                                    validateOnLoad: !1,
                                    validate: function(T) {
                                        var O = tn.getValue(T);
                                        if (0 === O.length)
                                            return Cs_pure(Fr.value(!0));
                                        var I = Ie_fromTag("span");
                                        zn(I, "background-color", O);
                                        var $ = Bo(I, "background-color").fold(function() {
                                            return Fr.error("blah")
                                        }, function(q) {
                                            return Fr.value(O)
                                        });
                                        return Cs_pure($)
                                    }
                                }
                            })]),
                            selectOnFocus: !1
                        })
                          , l = e.label.map(function(T) {
                            return mb(T, n.providers)
                        })
                          , d = function(T, O) {
                            Vn(T, $A, {
                                value: O
                            })
                        }
                          , S = ko(function(e, n) {
                            return qv.sketch({
                                dom: e.dom,
                                components: e.components,
                                toggleClass: "mce-active",
                                dropdownBehaviours: Wt([jv_button(n.providers.isDisabled), mu(), O3.config({}), Fi.config({})]),
                                layouts: e.layouts,
                                sandboxClasses: ["tox-dialog__popups"],
                                lazySink: n.getSink,
                                fetch: function(r) {
                                    return Cs_nu(function(u) {
                                        return e.fetch(u)
                                    }).map(function(u) {
                                        return D.from(vA(Tn(Mk(Pn("menu-value"), u, function(l) {
                                            e.onItemAction(r, l)
                                        }, e.columns, e.presets, af.CLOSE_ON_EXECUTE, st, n.providers), {
                                            movement: v_(e.columns, e.presets)
                                        })))
                                    })
                                },
                                parts: {
                                    menu: Ep(0, 0, e.presets)
                                }
                            })
                        }({
                            dom: {
                                tag: "span",
                                attributes: {
                                    "aria-label": n.providers.translate("Color swatch")
                                }
                            },
                            layouts: {
                                onRtl: function() {
                                    return [vu, Ni, Eu]
                                },
                                onLtr: function() {
                                    return [Ni, vu, Eu]
                                }
                            },
                            components: [],
                            fetch: nA(r.getColors(), r.hasCustomColors()),
                            columns: r.getColorCols(),
                            presets: "color",
                            onItemAction: function(T, O) {
                                S.getOpt(T).each(function(I) {
                                    "custom" === O ? r.colorPicker(function($) {
                                        $.fold(function() {
                                            return po(I, VA)
                                        }, function(q) {
                                            d(I, q),
                                            ZE(q)
                                        })
                                    }, "#ffffff") : d(I, "remove" === O ? "" : O)
                                })
                            }
                        }, n));
                        return Ao.sketch({
                            dom: {
                                tag: "div",
                                classes: ["tox-form__group"]
                            },
                            components: l.toArray().concat([{
                                dom: {
                                    tag: "div",
                                    classes: ["tox-color-input"]
                                },
                                components: [u, S.asSpec()]
                            }]),
                            fieldBehaviours: Wt([rn("form-field-events", [gt(HA, function(T, O) {
                                S.getOpt(T).each(function(I) {
                                    zn(I.element, "background-color", O.event.color)
                                }),
                                Vn(T, cf, {
                                    name: e.name
                                })
                            }), gt($A, function(T, O) {
                                Ao.getField(T).each(function(I) {
                                    tn.setValue(I, O.event.value),
                                    qr.getCurrent(T).each(sr.focus)
                                })
                            }), gt(VA, function(T, O) {
                                Ao.getField(T).each(function(I) {
                                    qr.getCurrent(T).each(sr.focus)
                                })
                            })])])
                        })
                    }(e, n.shared, n.colorinput)
                }),
                colorpicker: Wu(function(e) {
                    var n = function(p) {
                        return "tox-" + p
                    }
                      , r = xB(EB, n)
                      , d = ko(r.sketch({
                        dom: {
                            tag: "div",
                            classes: [n("color-picker-container")],
                            attributes: {
                                role: "presentation"
                            }
                        },
                        onValidHex: function(p) {
                            Vn(p, xg, {
                                name: "hex-valid",
                                value: !0
                            })
                        },
                        onInvalidHex: function(p) {
                            Vn(p, xg, {
                                name: "hex-valid",
                                value: !1
                            })
                        }
                    }));
                    return {
                        dom: {
                            tag: "div"
                        },
                        components: [d.asSpec()],
                        behaviours: Wt([tn.config({
                            store: {
                                mode: "manual",
                                getValue: function(p) {
                                    var S = d.get(p);
                                    return qr.getCurrent(S).bind(function(I) {
                                        return tn.getValue(I).hex
                                    }).map(function(I) {
                                        return "#" + I
                                    }).getOr("")
                                },
                                setValue: function(p, S) {
                                    var O = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(S)
                                      , I = d.get(p);
                                    qr.getCurrent(I).fold(function() {
                                        console.log("Can not find form")
                                    }, function(q) {
                                        tn.setValue(q, {
                                            hex: D.from(O[1]).getOr("")
                                        }),
                                        HS.getField(q, "hex").each(function(Z) {
                                            po(Z, rv())
                                        })
                                    })
                                }
                            }
                        }), Zd_self()])
                    }
                }),
                dropzone: Wu(function(e, n) {
                    return function(e, n) {
                        var r = function($, q) {
                            q.stop()
                        }
                          , u = function($) {
                            return function(q, Z) {
                                Re($, function(te) {
                                    te(q, Z)
                                })
                            }
                        }
                          , l = function($, q) {
                            On.isDisabled($) || p($, q.event.raw.dataTransfer.files)
                        }
                          , d = function($, q) {
                            p($, q.event.raw.target.files)
                        }
                          , p = function($, q) {
                            tn.setValue($, function(e, n) {
                                var r = pb.explode(n.getSetting("images_file_types", "jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp", "string"));
                                return je(cr(e), function(l) {
                                    return ir(r, function(d) {
                                        return qa(l.name.toLowerCase(), "." + d.toLowerCase())
                                    })
                                })
                            }(q, n)),
                            Vn($, cf, {
                                name: e.name
                            })
                        }
                          , S = ko({
                            dom: {
                                tag: "input",
                                attributes: {
                                    type: "file",
                                    accept: "image/*"
                                },
                                styles: {
                                    display: "none"
                                }
                            },
                            behaviours: Wt([rn("input-file-events", [ul(vd()), ul(gd())])])
                        })
                          , O = e.label.map(function($) {
                            return mb($, n)
                        })
                          , I = Ao.parts.field({
                            factory: {
                                sketch: function($) {
                                    return {
                                        uid: $.uid,
                                        dom: {
                                            tag: "div",
                                            classes: ["tox-dropzone-container"]
                                        },
                                        behaviours: Wt([Cw_memory([]), Zd_self(), On.config({}), io.config({
                                            toggleClass: "dragenter",
                                            toggleOnExecute: !1
                                        }), rn("dropzone-events", [gt("dragenter", u([r, io.toggle])), gt("dragleave", u([r, io.toggle])), gt("dragover", r), gt("drop", u([r, l])), gt(gm(), d)])]),
                                        components: [{
                                            dom: {
                                                tag: "div",
                                                classes: ["tox-dropzone"],
                                                styles: {}
                                            },
                                            components: [{
                                                dom: {
                                                    tag: "p",
                                                    innerHtml: n.translate("Drop an image here")
                                                }
                                            }, Is.sketch({
                                                dom: {
                                                    tag: "button",
                                                    innerHtml: n.translate("Browse for an image"),
                                                    styles: {
                                                        position: "relative"
                                                    },
                                                    classes: ["tox-button", "tox-button--secondary"]
                                                },
                                                components: [S.asSpec()],
                                                action: function(q) {
                                                    S.get(q).element.dom.click()
                                                },
                                                buttonBehaviours: Wt([Fi.config({}), jv_button(n.isDisabled), mu()])
                                            })]
                                        }]
                                    }
                                }
                            }
                        });
                        return _3(O, I, ["tox-form__group--stretched"], [])
                    }(e, n.shared.providers)
                }),
                grid: Wu(function(e, n) {
                    return function(e, n) {
                        return {
                            dom: {
                                tag: "div",
                                classes: ["tox-form__grid", "tox-form__grid--" + e.columns + "col"]
                            },
                            components: re(e.items, n.interpreter)
                        }
                    }(e, n.shared)
                }),
                listbox: Wu(function(e, n) {
                    return function(e, n) {
                        var r = n.shared.providers
                          , u = Yt(e.items).filter(g4)
                          , l = e.label.map(function(S) {
                            return mb(S, r)
                        })
                          , p = {
                            dom: {
                                tag: "div",
                                classes: ["tox-listboxfield"]
                            },
                            components: [Ao.parts.field({
                                dom: {},
                                factory: {
                                    sketch: function(S) {
                                        return s4({
                                            uid: S.uid,
                                            text: u.map(function(T) {
                                                return T.text
                                            }),
                                            icon: D.none(),
                                            tooltip: e.label,
                                            role: D.none(),
                                            fetch: function(T, O) {
                                                var I = JO(T, e.name, e.items, tn.getValue(T));
                                                O(US(I, af.CLOSE_ON_EXECUTE, n, !1))
                                            },
                                            onSetup: Se(Xe),
                                            getApi: Se({}),
                                            columns: 1,
                                            presets: "normal",
                                            classes: [],
                                            dropdownBehaviours: [Fi.config({}), tn.config({
                                                store: {
                                                    mode: "manual",
                                                    initialValue: u.map(function(T) {
                                                        return T.value
                                                    }).getOr(""),
                                                    getValue: function(T) {
                                                        return Hn(T.element, YO)
                                                    },
                                                    setValue: function(T, O) {
                                                        ZO(e.items, O).each(function(I) {
                                                            wr(T.element, YO, I.value),
                                                            Vn(T, VS, {
                                                                text: I.text
                                                            })
                                                        })
                                                    }
                                                }
                                            })]
                                        }, "tox-listbox", n.shared)
                                    }
                                }
                            })]
                        };
                        return Ao.sketch({
                            dom: {
                                tag: "div",
                                classes: ["tox-form__group"]
                            },
                            components: Gt([l.toArray(), [p]]),
                            fieldBehaviours: Wt([On.config({
                                disabled: Se(e.disabled),
                                onDisabled: function(S) {
                                    Ao.getField(S).each(On.disable)
                                },
                                onEnabled: function(S) {
                                    Ao.getField(S).each(On.enable)
                                }
                            })])
                        })
                    }(e, n)
                }),
                selectbox: Wu(function(e, n) {
                    return function(e, n) {
                        var r = re(e.items, function(S) {
                            return {
                                text: n.translate(S.text),
                                value: S.value
                            }
                        })
                          , u = e.label.map(function(S) {
                            return mb(S, n)
                        })
                          , l = Ao.parts.field({
                            dom: {},
                            selectAttributes: {
                                size: e.size
                            },
                            options: r,
                            factory: ON,
                            selectBehaviours: Wt([On.config({
                                disabled: function() {
                                    return e.disabled || n.isDisabled()
                                }
                            }), Fi.config({}), rn("selectbox-change", [gt(gm(), function(S, T) {
                                Vn(S, cf, {
                                    name: e.name
                                })
                            })])])
                        })
                          , d = e.size > 1 ? D.none() : D.some(If("chevron-down", {
                            tag: "div",
                            classes: ["tox-selectfield__icon-js"]
                        }, n.icons))
                          , p = {
                            dom: {
                                tag: "div",
                                classes: ["tox-selectfield"]
                            },
                            components: Gt([[l], d.toArray()])
                        };
                        return Ao.sketch({
                            dom: {
                                tag: "div",
                                classes: ["tox-form__group"]
                            },
                            components: Gt([u.toArray(), [p]]),
                            fieldBehaviours: Wt([On.config({
                                disabled: function() {
                                    return e.disabled || n.isDisabled()
                                },
                                onDisabled: function(S) {
                                    Ao.getField(S).each(On.disable)
                                },
                                onEnabled: function(S) {
                                    Ao.getField(S).each(On.enable)
                                }
                            }), mu()])
                        })
                    }(e, n.shared.providers)
                }),
                sizeinput: Wu(function(e, n) {
                    return qO(e, n.shared.providers)
                }),
                urlinput: Wu(function(e, n) {
                    return function(e, n, r) {
                        var u, ce, ke, Ze, Ye, l = n.shared.providers, d = function(ce) {
                            var ke = tn.getValue(ce);
                            r.addToHistory(ke.value, e.filetype)
                        }, p = Ao.parts.field({
                            factory: jN,
                            dismissOnBlur: !0,
                            inputClasses: ["tox-textfield"],
                            sandboxClasses: ["tox-dialog__popups"],
                            inputAttributes: {
                                "aria-errormessage": uD,
                                type: "url"
                            },
                            minChars: 0,
                            responseTime: 0,
                            fetch: function(ce) {
                                var ke = function(e, n, r) {
                                    var u = tn.getValue(n)
                                      , l = void 0 !== u.meta.text ? u.meta.text : u.value;
                                    return r.getLinkInformation().fold(function() {
                                        return []
                                    }, function(p) {
                                        var S = b4(l, function(e) {
                                            return re(e, function(n) {
                                                return p4(n, n)
                                            })
                                        }(r.getHistory(e)));
                                        return "file" === e ? function(e) {
                                            return Bt(e, function(n, r) {
                                                return 0 === n.length || 0 === r.length ? n.concat(r) : n.concat(JN, r)
                                            }, [])
                                        }([S, b4(l, tz(p)), b4(l, Gt([rz(p), nz(p), oz(p)]))]) : S
                                    })
                                }(e.filetype, ce, r)
                                  , Ze = US(ke, af.BUBBLE_TO_SANDBOX, n, !1);
                                return Cs_pure(Ze)
                            },
                            getHotspot: function(ce) {
                                return Z.getOpt(ce)
                            },
                            onSetValue: function(ce, ke) {
                                ce.hasConfigured(Cg) && Cg.run(ce).get(Xe)
                            },
                            typeaheadBehaviours: Wt(Gt([r.getValidationHandler().map(function(ce) {
                                return Cg.config({
                                    getRoot: function(ke) {
                                        return L(ke.element)
                                    },
                                    invalidClass: "tox-control-wrap--status-invalid",
                                    notify: {
                                        onInvalid: function(ke, Ze) {
                                            O.getOpt(ke).each(function(Ye) {
                                                wr(Ye.element, "title", l.translate(Ze))
                                            })
                                        }
                                    },
                                    validator: {
                                        validate: function(ke) {
                                            var Ze = tn.getValue(ke);
                                            return YN_nu(function(Ye) {
                                                ce({
                                                    type: e.filetype,
                                                    url: Ze.value
                                                }, function(_e) {
                                                    if ("invalid" === _e.status) {
                                                        var Ue = Fr.error(_e.message);
                                                        Ye(Ue)
                                                    } else {
                                                        var ut = Fr.value(_e.message);
                                                        Ye(ut)
                                                    }
                                                })
                                            })
                                        },
                                        validateOnLoad: !1
                                    }
                                })
                            }).toArray(), [On.config({
                                disabled: function() {
                                    return e.disabled || l.isDisabled()
                                }
                            }), Fi.config({}), rn("urlinput-events", Gt(["file" === e.filetype ? [gt(rv(), function(ce) {
                                Vn(ce, cf, {
                                    name: e.name
                                })
                            })] : [], [gt(gm(), function(ce) {
                                Vn(ce, cf, {
                                    name: e.name
                                }),
                                d(ce)
                            }), gt(md(), function(ce) {
                                Vn(ce, cf, {
                                    name: e.name
                                }),
                                d(ce)
                            })]]))]])),
                            eventOrder: (u = {},
                            u[rv()] = ["streaming", "urlinput-events", "invalidating"],
                            u),
                            model: {
                                getDisplayText: function(ce) {
                                    return ce.value
                                },
                                selectsOver: !1,
                                populateFromBrowse: !1
                            },
                            markers: {
                                openClass: "tox-textfield--popup-open"
                            },
                            lazySink: n.shared.getSink,
                            parts: {
                                menu: Ep(0, 0, "normal")
                            },
                            onExecute: function(ce, ke, Ze) {
                                Vn(ke, E3, {})
                            },
                            onItemExecute: function(ce, ke, Ze, Ye) {
                                d(ce),
                                Vn(ce, cf, {
                                    name: e.name
                                })
                            }
                        }), S = e.label.map(function(ce) {
                            return mb(ce, l)
                        }), O = ko((ce = "invalid",
                        ke = D.some(uD),
                        void 0 === (Ze = "warning") && (Ze = ce),
                        void 0 === Ye && (Ye = ce),
                        If(Ze, {
                            tag: "div",
                            classes: ["tox-icon", "tox-control-wrap__status-icon-" + ce],
                            attributes: ae({
                                title: l.translate(Ye),
                                "aria-live": "polite"
                            }, ke.fold(function() {
                                return {}
                            }, function(_e) {
                                return {
                                    id: _e
                                }
                            }))
                        }, l.icons))), I = ko({
                            dom: {
                                tag: "div",
                                classes: ["tox-control-wrap__status-icon-wrap"]
                            },
                            components: [O.asSpec()]
                        }), $ = r.getUrlPicker(e.filetype), q = Pn("browser.url.event"), Z = ko({
                            dom: {
                                tag: "div",
                                classes: ["tox-control-wrap"]
                            },
                            components: [p, I.asSpec()],
                            behaviours: Wt([On.config({
                                disabled: function() {
                                    return e.disabled || l.isDisabled()
                                }
                            })])
                        }), te = ko(f4({
                            name: e.name,
                            icon: D.some("browse"),
                            text: e.label.getOr(""),
                            disabled: e.disabled,
                            primary: !1,
                            borderless: !0
                        }, function(ce) {
                            return po(ce, q)
                        }, l, [], ["tox-browse-url"]));
                        return Ao.sketch({
                            dom: CA([]),
                            components: S.toArray().concat([{
                                dom: {
                                    tag: "div",
                                    classes: ["tox-form__controls-h-stack"]
                                },
                                components: Gt([[Z.asSpec()], $.map(function() {
                                    return te.asSpec()
                                }).toArray()])
                            }]),
                            fieldBehaviours: Wt([On.config({
                                disabled: function() {
                                    return e.disabled || l.isDisabled()
                                },
                                onDisabled: function(ce) {
                                    Ao.getField(ce).each(On.disable),
                                    te.getOpt(ce).each(On.disable)
                                },
                                onEnabled: function(ce) {
                                    Ao.getField(ce).each(On.enable),
                                    te.getOpt(ce).each(On.enable)
                                }
                            }), mu(), rn("url-input-events", [gt(q, function(ce) {
                                qr.getCurrent(ce).each(function(ke) {
                                    var Ze = tn.getValue(ke)
                                      , Ye = ae({
                                        fieldname: e.name
                                    }, Ze);
                                    $.each(function(_e) {
                                        _e(Ye).get(function(Ue) {
                                            tn.setValue(ke, Ue),
                                            Vn(ce, cf, {
                                                name: e.name
                                            })
                                        })
                                    })
                                })
                            })])])
                        })
                    }(e, n, n.urlinput)
                }),
                customeditor: Wu(function(e) {
                    var n = ni()
                      , r = ko({
                        dom: {
                            tag: e.tag
                        }
                    })
                      , u = ni();
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-custom-editor"]
                        },
                        behaviours: Wt([rn("custom-editor-events", [pa(function(l) {
                            r.getOpt(l).each(function(d) {
                                (!function(e) {
                                    return yr(e, "init")
                                }(e) ? OB.load(e.scriptId, e.scriptUrl).then(function(p) {
                                    return p(d.element.dom, e.settings)
                                }) : e.init(d.element.dom)).then(function(p) {
                                    u.on(function(S) {
                                        p.setValue(S)
                                    }),
                                    u.clear(),
                                    n.set(p)
                                })
                            })
                        })]), tn.config({
                            store: {
                                mode: "manual",
                                getValue: function() {
                                    return n.get().fold(function() {
                                        return u.get().getOr("")
                                    }, function(l) {
                                        return l.getValue()
                                    })
                                },
                                setValue: function(l, d) {
                                    n.get().fold(function() {
                                        u.set(d)
                                    }, function(p) {
                                        return p.setValue(d)
                                    })
                                }
                            }
                        }), Zd_self()]),
                        components: [r.asSpec()]
                    }
                }),
                htmlpanel: Wu(function(e) {
                    return $s.sketch("presentation" === e.presets ? {
                        dom: {
                            tag: "div",
                            classes: ["tox-form__group"],
                            innerHtml: e.html
                        }
                    } : {
                        dom: {
                            tag: "div",
                            classes: ["tox-form__group"],
                            innerHtml: e.html,
                            attributes: {
                                role: "document"
                            }
                        },
                        containerBehaviours: Wt([Fi.config({}), sr.config({})])
                    })
                }),
                imagetools: Wu(function(e, n) {
                    return TN(e, n.shared.providers)
                }),
                table: Wu(function(e, n) {
                    return function(e, n) {
                        var S, l = function(S) {
                            return {
                                dom: {
                                    tag: "td",
                                    innerHtml: n.translate(S)
                                }
                            }
                        }, d = function(S) {
                            return {
                                dom: {
                                    tag: "tr"
                                },
                                components: re(S, l)
                            }
                        };
                        return {
                            dom: {
                                tag: "table",
                                classes: ["tox-dialog__table"]
                            },
                            components: [(S = e.header,
                            {
                                dom: {
                                    tag: "thead"
                                },
                                components: [{
                                    dom: {
                                        tag: "tr"
                                    },
                                    components: re(S, function(S) {
                                        return {
                                            dom: {
                                                tag: "th",
                                                innerHtml: n.translate(S)
                                            }
                                        }
                                    })
                                }]
                            }), function(S) {
                                return {
                                    dom: {
                                        tag: "tbody"
                                    },
                                    components: re(S, d)
                                }
                            }(e.cells)],
                            behaviours: Wt([Fi.config({}), sr.config({})])
                        }
                    }(e, n.shared.providers)
                }),
                panel: Wu(function(e, n) {
                    return function(e, n) {
                        return {
                            dom: {
                                tag: "div",
                                classes: e.classes
                            },
                            components: re(e.items, n.shared.interpreter)
                        }
                    }(e, n)
                })
            }
              , mz = {
                field: function(e, n) {
                    return n
                }
            }
              , sD = function(e, n, r) {
                var u = Tn(r, {
                    shared: {
                        interpreter: function(l) {
                            return y4(e, l, u)
                        }
                    }
                });
                return y4(e, n, u)
            }
              , y4 = function(e, n, r) {
                return St(dz, n.type).fold(function() {
                    return console.error('Unknown factory type "' + n.type + '", defaulting to container: ', n),
                    n
                }, function(u) {
                    return u(e, n, r)
                })
            }
              , cD = {
                valignCentre: [],
                alignCentre: [],
                alignLeft: [],
                alignRight: [],
                right: [],
                left: [],
                bottom: [],
                top: []
            }
              , hz = function(e, n, r) {
                var l = {
                    maxHeightFunction: Vc()
                };
                return function() {
                    return r() ? {
                        type: "node",
                        root: ur(e()),
                        node: D.from(e()),
                        bubble: Um(12, 12, cD),
                        layouts: {
                            onRtl: function() {
                                return [tf]
                            },
                            onLtr: function() {
                                return [bp]
                            }
                        },
                        overrides: l
                    } : {
                        type: "hotspot",
                        hotspot: n(),
                        bubble: Um(-12, 12, cD),
                        layouts: {
                            onRtl: function() {
                                return [Ni]
                            },
                            onLtr: function() {
                                return [vu]
                            }
                        },
                        overrides: l
                    }
                }
            }
              , pz = function(e, n, r) {
                return function() {
                    return r() ? {
                        type: "node",
                        root: ur(e()),
                        node: D.from(e()),
                        layouts: {
                            onRtl: function() {
                                return [xl]
                            },
                            onLtr: function() {
                                return [xl]
                            }
                        }
                    } : {
                        type: "hotspot",
                        hotspot: n(),
                        layouts: {
                            onRtl: function() {
                                return [Eu]
                            },
                            onLtr: function() {
                                return [Eu]
                            }
                        }
                    }
                }
            }
              , bz = function(e, n) {
                return function() {
                    return {
                        type: "selection",
                        root: n(),
                        getSelection: function() {
                            var r = e.selection.getRng();
                            return D.some(Fd.range(Ie_fromDom(r.startContainer), r.startOffset, Ie_fromDom(r.endContainer), r.endOffset))
                        }
                    }
                }
            }
              , yz = function(e) {
                return function(n) {
                    return {
                        type: "node",
                        root: e(),
                        node: n
                    }
                }
            }
              , wz = function(e, n, r) {
                var u = DS(e)
                  , l = function() {
                    return Ie_fromDom(e.getBody())
                }
                  , d = function() {
                    return Ie_fromDom(e.getContentAreaContainer())
                }
                  , p = function() {
                    return u || !r()
                };
                return {
                    inlineDialog: hz(d, n, p),
                    banner: pz(d, n, p),
                    cursor: bz(e, l),
                    node: yz(l)
                }
            }
              , xz = function(e) {
                return function(n, r) {
                    iA(e)(n, r)
                }
            }
              , Cz = function(e) {
                return function() {
                    return JE(e)
                }
            }
              , Sz = function(e) {
                return function() {
                    return Ak(e)
                }
            }
              , Tz = function(e) {
                return function() {
                    return QE(e)
                }
            }
              , _z = function(e) {
                return {
                    colorPicker: xz(e),
                    hasCustomColors: Cz(e),
                    getColors: Sz(e),
                    getColorCols: Tz(e)
                }
            }
              , kz = function(e) {
                return function() {
                    return function(e) {
                        return e.getParam("draggable_modal", !1, "boolean")
                    }(e)
                }
            }
              , Ez = function(e) {
                return {
                    isDraggableModal: kz(e)
                }
            }
              , lD = [{
                title: "Headings",
                items: [{
                    title: "Heading 1",
                    format: "h1"
                }, {
                    title: "Heading 2",
                    format: "h2"
                }, {
                    title: "Heading 3",
                    format: "h3"
                }, {
                    title: "Heading 4",
                    format: "h4"
                }, {
                    title: "Heading 5",
                    format: "h5"
                }, {
                    title: "Heading 6",
                    format: "h6"
                }]
            }, {
                title: "Inline",
                items: [{
                    title: "Bold",
                    format: "bold"
                }, {
                    title: "Italic",
                    format: "italic"
                }, {
                    title: "Underline",
                    format: "underline"
                }, {
                    title: "Strikethrough",
                    format: "strikethrough"
                }, {
                    title: "Superscript",
                    format: "superscript"
                }, {
                    title: "Subscript",
                    format: "subscript"
                }, {
                    title: "Code",
                    format: "code"
                }]
            }, {
                title: "Blocks",
                items: [{
                    title: "Paragraph",
                    format: "p"
                }, {
                    title: "Blockquote",
                    format: "blockquote"
                }, {
                    title: "Div",
                    format: "div"
                }, {
                    title: "Pre",
                    format: "pre"
                }]
            }, {
                title: "Align",
                items: [{
                    title: "Left",
                    format: "alignleft"
                }, {
                    title: "Center",
                    format: "aligncenter"
                }, {
                    title: "Right",
                    format: "alignright"
                }, {
                    title: "Justify",
                    format: "alignjustify"
                }]
            }]
              , fD = function(e) {
                return Bt(e, function(n, r) {
                    if (function(e) {
                        return yr(e, "items")
                    }(r)) {
                        var u = fD(r.items);
                        return {
                            customFormats: n.customFormats.concat(u.customFormats),
                            formats: n.formats.concat([{
                                title: r.title,
                                items: u.formats
                            }])
                        }
                    }
                    if (function(e) {
                        return yr(e, "inline")
                    }(r) || function(e) {
                        return yr(e, "block")
                    }(r) || function(e) {
                        return yr(e, "selector")
                    }(r)) {
                        var d = "custom-" + (wn(r.name) ? r.name : r.title.toLowerCase());
                        return {
                            customFormats: n.customFormats.concat([{
                                name: d,
                                format: r
                            }]),
                            formats: n.formats.concat([{
                                title: r.title,
                                format: d,
                                icon: r.icon
                            }])
                        }
                    }
                    return ae(ae({}, n), {
                        formats: n.formats.concat(r)
                    })
                }, {
                    customFormats: [],
                    formats: []
                })
            }
              , vD = function(e) {
                return function(e) {
                    return D.from(e.getParam("style_formats")).filter(Hr)
                }(e).map(function(n) {
                    var r = function(e, n) {
                        var r = fD(n)
                          , u = function(l) {
                            Re(l, function(d) {
                                e.formatter.has(d.name) || e.formatter.register(d.name, d.format)
                            })
                        };
                        return e.formatter ? u(r.customFormats) : e.on("init", function() {
                            u(r.customFormats)
                        }),
                        r.formats
                    }(e, n);
                    return function(e) {
                        return e.getParam("style_formats_merge", !1, "boolean")
                    }(e) ? lD.concat(r) : r
                }).getOr(lD)
            }
              , dD = function(e, n, r) {
                var u = {
                    type: "formatter",
                    isSelected: n(e.format),
                    getStylePreview: r(e.format)
                };
                return Tn(e, u)
            }
              , mD = function(e, n, r, u) {
                var S = function(T) {
                    return re(T, function(O) {
                        var I = An(O);
                        if (en(O, "items")) {
                            var $ = S(O.items);
                            return Tn(function(T) {
                                return Tn(T, {
                                    type: "submenu"
                                })
                            }(O), {
                                getStyleItems: Se($)
                            })
                        }
                        return en(O, "format") ? function(T) {
                            return dD(T, r, u)
                        }(O) : 1 === I.length && nn(I, "title") ? Tn(O, {
                            type: "separator"
                        }) : function(T) {
                            var O = wn(T.name) ? T.name : Pn(T.title)
                              , I = "custom-" + O
                              , $ = {
                                type: "formatter",
                                format: I,
                                isSelected: r(I),
                                getStylePreview: u(I)
                            }
                              , q = Tn(T, $);
                            return e.formatter.register(O, q),
                            q
                        }(O)
                    })
                };
                return S(n)
            }
              , Bz = function(e) {
                var n = function($) {
                    return function() {
                        return e.formatter.match($)
                    }
                }
                  , r = function($) {
                    return function() {
                        var q = e.formatter.get($);
                        return void 0 !== q ? D.some({
                            tag: q.length > 0 && (q[0].inline || q[0].block) || "div",
                            styles: e.dom.parseStyle(e.formatter.getCssText($))
                        }) : D.none()
                    }
                }
                  , u = function($) {
                    var q = $.items;
                    return void 0 !== q && q.length > 0 ? Un(q, u) : [$.format]
                }
                  , l = Xn([])
                  , d = Xn([])
                  , p = Xn([])
                  , S = Xn([])
                  , T = Xn(!1);
                return e.on("PreInit", function($) {
                    var q = vD(e)
                      , Z = mD(e, q, n, r);
                    l.set(Z),
                    d.set(Un(Z, u))
                }),
                e.on("addStyleModifications", function($) {
                    var q = mD(e, $.items, n, r);
                    p.set(q),
                    T.set($.replace),
                    S.set(Un(q, u))
                }),
                {
                    getData: function() {
                        var $ = T.get() ? [] : l.get()
                          , q = p.get();
                        return $.concat(q)
                    },
                    getFlattenedKeys: function() {
                        var $ = T.get() ? [] : d.get()
                          , q = S.get();
                        return $.concat(q)
                    }
                }
            }
              , zz = pb.trim
              , gD = function(e) {
                return function(n) {
                    return !(!function(e) {
                        return xe(e) && 1 === e.nodeType
                    }(n) || n.contentEditable !== e && n.getAttribute("data-mce-contenteditable") !== e)
                }
            }
              , Fz = gD("true")
              , Iz = gD("false")
              , hD = function(e, n, r, u, l) {
                return {
                    type: e,
                    title: n,
                    url: r,
                    level: u,
                    attach: l
                }
            }
              , pD = function(e) {
                return e.innerText || e.textContent
            }
              , Uz = function(e) {
                return function(e) {
                    return e && "A" === e.nodeName && void 0 !== (e.id || e.name)
                }(e) && yD(e)
            }
              , bD = function(e) {
                return e && /^(H[1-6])$/.test(e.nodeName)
            }
              , yD = function(e) {
                return function(e) {
                    for (; e = e.parentNode; ) {
                        var n = e.contentEditable;
                        if (n && "inherit" !== n)
                            return Fz(e)
                    }
                    return !1
                }(e) && !Iz(e)
            }
              , Wz = function(e) {
                return bD(e) && yD(e)
            }
              , Gz = function(e) {
                var n = function(e) {
                    return e.id ? e.id : Pn("h")
                }(e);
                return hD("header", pD(e), "#" + n, function(e) {
                    return bD(e) ? parseInt(e.nodeName.substr(1), 10) : 0
                }(e), function() {
                    e.id = n
                })
            }
              , qz = function(e) {
                var n = e.id || e.name
                  , r = pD(e);
                return hD("anchor", r || "#" + n, "#" + n, 0, Xe)
            }
              , Jz = function(e) {
                return zz(e.title).length > 0
            }
              , Qz_find = function(e) {
                var n = function(e) {
                    return function(e, n) {
                        return re(as(Ie_fromDom(n), "h1,h2,h3,h4,h5,h6,a:not([href])"), function(r) {
                            return r.dom
                        })
                    }(0, e)
                }(e);
                return je(function(e) {
                    return re(je(e, Wz), Gz)
                }(n).concat(function(e) {
                    return re(je(e, Uz), qz)
                }(n)), Jz)
            }
              , M_ = "tinymce-url-history"
              , xD = function(e) {
                return wn(e) && /^https?/.test(e)
            }
              , CD = function(e) {
                return fn(e) && Mo(e, function(n) {
                    return !function(e) {
                        return Hr(e) && e.length <= 5 && xo(e, xD)
                    }(n)
                }).isNone()
            }
              , SD = function() {
                var n, e = f_.getItem(M_);
                if (null === e)
                    return {};
                try {
                    n = JSON.parse(e)
                } catch (r) {
                    if (r instanceof SyntaxError)
                        return console.log("Local storage " + M_ + " was not valid JSON", r),
                        {};
                    throw r
                }
                return CD(n) ? n : (console.log("Local storage " + M_ + " was not valid format", n),
                {})
            }
              , nF = function(e) {
                var n = SD();
                return St(n, e).getOr([])
            }
              , rF = function(e, n) {
                if (xD(e)) {
                    var r = SD()
                      , u = St(r, n).getOr([])
                      , l = je(u, function(d) {
                        return d !== e
                    });
                    r[n] = [e].concat(l).slice(0, 5),
                    function(e) {
                        if (!CD(e))
                            throw new Error("Bad format for history:\n" + JSON.stringify(e));
                        f_.setItem(M_, JSON.stringify(e))
                    }(r)
                }
            }
              , w4 = function(e) {
                return !!e
            }
              , oF = function(e) {
                return ee(pb.makeMap(e, /[, ]/), w4)
            }
              , x4 = function(e) {
                return D.from(function(e) {
                    return e.getParam("file_picker_callback")
                }(e)).filter(hn)
            }
              , TD = function(e) {
                return D.from(e).filter(wn).getOrUndefined()
            }
              , lF = function(e) {
                return {
                    getHistory: nF,
                    addToHistory: rF,
                    getLinkInformation: function() {
                        return function(e) {
                            return function(e) {
                                return !1 === e.getParam("typeahead_urls")
                            }(e) ? D.none() : D.some({
                                targets: Qz_find(e.getBody()),
                                anchorTop: TD(SR(e)),
                                anchorBottom: TD(TR(e))
                            })
                        }(e)
                    },
                    getValidationHandler: function() {
                        return function(e) {
                            return D.from(function(e) {
                                var n = e.getParam("file_picker_validator_handler", void 0, "function");
                                return void 0 === n ? e.getParam("filepicker_validator_handler", void 0, "function") : n
                            }(e))
                        }(e)
                    },
                    getUrlPicker: function(n) {
                        return function(e, n) {
                            return function(e, n) {
                                var r = function(e) {
                                    var n = D.some(function(e) {
                                        return e.getParam("file_picker_types")
                                    }(e)).filter(w4)
                                      , r = D.some(function(e) {
                                        return e.getParam("file_browser_callback_types")
                                    }(e)).filter(w4)
                                      , u = n.or(r).map(oF);
                                    return x4(e).fold(st, function(l) {
                                        return u.fold(ge, function(d) {
                                            return An(d).length > 0 && d
                                        })
                                    })
                                }(e);
                                return _t(r) ? r ? x4(e) : D.none() : r[n] ? x4(e) : D.none()
                            }(e, n).map(function(r) {
                                return function(u) {
                                    return Cs_nu(function(l) {
                                        var p = ae({
                                            filetype: n,
                                            fieldname: u.fieldname
                                        }, D.from(u.meta).getOr({}));
                                        r.call(e, function(S, T) {
                                            if (!wn(S))
                                                throw new Error("Expected value to be string");
                                            if (void 0 !== T && !fn(T))
                                                throw new Error("Expected meta to be a object");
                                            l({
                                                value: S,
                                                meta: T
                                            })
                                        }, u.value, p)
                                    })
                                }
                            })
                        }(e, n)
                    }
                }
            }
              , Yc = bC
              , Tw = S0
              , dF = Se([Be("shell", !1), ot("makeItem"), Be("setupItem", Xe), Wc_field("listBehaviours", [pr])])
              , gF = tc({
                name: "items",
                overrides: function() {
                    return {
                        behaviours: Wt([pr.config({})])
                    }
                }
            })
              , hF = Se([gF])
              , pF = Se("CustomList")
              , _D = Lu({
                name: pF(),
                configFields: dF(),
                partFields: hF(),
                factory: function(e, n, r, u) {
                    var d = e.shell ? {
                        behaviours: [pr.config({})],
                        components: []
                    } : {
                        behaviours: [],
                        components: n
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: d.components,
                        behaviours: eu(e.listBehaviours, d.behaviours),
                        apis: {
                            setItems: function(S, T) {
                                (function(S) {
                                    return e.shell ? D.some(S) : Ro(S, e, "items")
                                }
                                )(S).fold(function() {
                                    throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),
                                    new Error("Custom List was defined to not be a shell, but no item container was specified in components")
                                }, function(O) {
                                    var I = pr.contents(O)
                                      , $ = T.length
                                      , q = $ - I.length
                                      , Z = q > 0 ? kt(q, function() {
                                        return e.makeItem()
                                    }) : []
                                      , te = I.slice($);
                                    Re(te, function(Te) {
                                        return pr.remove(O, Te)
                                    }),
                                    Re(Z, function(Te) {
                                        return pr.append(O, Te)
                                    });
                                    var de = pr.contents(O);
                                    Re(de, function(Te, ce) {
                                        e.setupItem(S, Te, T[ce], ce)
                                    })
                                })
                            }
                        }
                    }
                },
                apis: {
                    setItems: function(e, n, r) {
                        e.setItems(n, r)
                    }
                }
            })
              , jS = Se([ot("dom"), Be("shell", !0), Wi("toolbarBehaviours", [pr])])
              , wF = Se([tc({
                name: "groups",
                overrides: function() {
                    return {
                        behaviours: Wt([pr.config({})])
                    }
                }
            })])
              , Qd = Lu({
                name: "Toolbar",
                configFields: jS(),
                partFields: wF(),
                factory: function(e, n, r, u) {
                    var p = e.shell ? {
                        behaviours: [pr.config({})],
                        components: []
                    } : {
                        behaviours: [],
                        components: n
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: p.components,
                        behaviours: eu(e.toolbarBehaviours, p.behaviours),
                        apis: {
                            setGroups: function(S, T) {
                                (function(S) {
                                    return e.shell ? D.some(S) : Ro(S, e, "groups")
                                }
                                )(S).fold(function() {
                                    throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),
                                    new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")
                                }, function(O) {
                                    pr.set(O, T)
                                })
                            }
                        },
                        domModification: {
                            attributes: {
                                role: "group"
                            }
                        }
                    }
                },
                apis: {
                    setGroups: function(e, n, r) {
                        e.setGroups(n, r)
                    }
                }
            })
              , CF = Xe
              , SF = st
              , kD = Se([])
              , TF = Object.freeze({
                __proto__: null,
                setup: CF,
                isDocked: SF,
                getBehaviours: kD
            })
              , ED = function(e) {
                return (qo(Bo(e, "position"), "fixed") ? D.none() : C(e)).orThunk(function() {
                    var u = Ie_fromTag("span");
                    return L(e).bind(function(l) {
                        Ri(l, u);
                        var d = C(u);
                        return Nu(u),
                        d
                    })
                })
            }
              , AD = function(e) {
                return ED(e).map(Su).getOrThunk(function() {
                    return Yo(0, 0)
                })
            }
              , C4 = bs_generate([{
                static: []
            }, {
                absolute: ["positionCss"]
            }, {
                fixed: ["positionCss"]
            }])
              , _F = function(e, n) {
                var r = e.element;
                ki(r, n.transitionClass),
                ei(r, n.fadeOutClass),
                ki(r, n.fadeInClass),
                n.onShow(e)
            }
              , kF = function(e, n) {
                var r = e.element;
                ki(r, n.transitionClass),
                ei(r, n.fadeInClass),
                ki(r, n.fadeOutClass),
                n.onHide(e)
            }
              , OD = function(e, n, r) {
                return xo(e, function(u) {
                    switch (u) {
                    case "bottom":
                        return function(e, n) {
                            return e.bottom <= n.bottom
                        }(n, r);
                    case "top":
                        return function(e, n) {
                            return e.y >= n.y
                        }(n, r)
                    }
                })
            }
              , DD = function(e, n) {
                return n.getInitialPos().map(function(r) {
                    return Za(r.bounds.x, r.bounds.y, Hi(e), ia(e))
                })
            }
              , MD = function(e, n, r) {
                return r.getInitialPos().bind(function(u) {
                    switch (r.clearInitialPos(),
                    u.position) {
                    case "static":
                        return D.some(C4.static());
                    case "absolute":
                        var l = ED(e).map(Ji).getOrThunk(function() {
                            return Ji(aa())
                        });
                        return D.some(C4.absolute(ec("absolute", St(u.style, "left").map(function(d) {
                            return n.x - l.x
                        }), St(u.style, "top").map(function(d) {
                            return n.y - l.y
                        }), St(u.style, "right").map(function(d) {
                            return l.right - n.right
                        }), St(u.style, "bottom").map(function(d) {
                            return l.bottom - n.bottom
                        }))));
                    default:
                        return D.none()
                    }
                })
            }
              , PF = function(e, n, r) {
                var u = e.element;
                return qo(Bo(u, "position"), "fixed") ? function(e, n, r) {
                    return DD(e, r).filter(function(u) {
                        return OD(r.getModes(), u, n)
                    }).bind(function(u) {
                        return MD(e, u, r)
                    })
                }(u, n, r) : function(e, n, r) {
                    var u = Ji(e);
                    if (OD(r.getModes(), u, n))
                        return D.none();
                    !function(e, n, r) {
                        r.setInitialPos({
                            style: La(e),
                            position: ho(e, "position") || "static",
                            bounds: n
                        })
                    }(e, u, r);
                    var l = sc()
                      , p = n.y - l.y
                      , S = l.bottom - n.bottom
                      , T = u.y <= n.y;
                    return D.some(C4.fixed(ec("fixed", D.some(u.x - l.x), T ? D.some(p) : D.none(), D.none(), T ? D.none() : D.some(S))))
                }(u, n, r)
            }
              , RD = function(e, n, r) {
                r.setDocked(!1),
                Re(["left", "right", "top", "bottom", "position"], function(u) {
                    return No(e.element, u)
                }),
                n.onUndocked(e)
            }
              , S4 = function(e, n, r, u) {
                var l = "fixed" === u.position;
                r.setDocked(l),
                Dd(e.element, u),
                (l ? n.onDocked : n.onUndocked)(e)
            }
              , PD = function(e, n, r, u, l) {
                void 0 === l && (l = !1),
                n.contextual.each(function(d) {
                    d.lazyContext(e).each(function(p) {
                        var S = function(e, n) {
                            return e.y < n.bottom && e.bottom > n.y
                        }(p, u);
                        S !== r.isVisible() && (r.setVisible(S),
                        l && !S ? (Fc(e.element, [d.fadeOutClass]),
                        d.onHide(e)) : (S ? _F : kF)(e, d))
                    })
                })
            }
              , T4 = function(e, n, r) {
                e.getSystem().isConnected() && function(e, n, r) {
                    var u = n.lazyViewport(e);
                    r.isDocked() && PD(e, n, r, u),
                    PF(e, u, r).each(function(d) {
                        d.fold(function() {
                            return RD(e, n, r)
                        }, function(p) {
                            return S4(e, n, r, p)
                        }, function(p) {
                            PD(e, n, r, u, !0),
                            S4(e, n, r, p)
                        })
                    })
                }(e, n, r)
            }
              , BD = function(e, n, r) {
                r.isDocked() && function(e, n, r) {
                    var u = e.element;
                    r.setDocked(!1),
                    function(e, n) {
                        var r = e.element;
                        return DD(r, n).bind(function(u) {
                            return MD(r, u, n)
                        })
                    }(e, r).each(function(l) {
                        l.fold(function() {
                            return RD(e, n, r)
                        }, function(d) {
                            return S4(e, n, r, d)
                        }, Xe)
                    }),
                    r.setVisible(!0),
                    n.contextual.each(function(l) {
                        lu(u, [l.fadeInClass, l.fadeOutClass, l.transitionClass]),
                        l.onShow(e)
                    }),
                    T4(e, n, r)
                }(e, n, r)
            }
              , HF = Object.freeze({
                __proto__: null,
                refresh: T4,
                reset: BD,
                isDocked: function(e, n, r) {
                    return r.isDocked()
                },
                getModes: function(e, n, r) {
                    return r.getModes()
                },
                setModes: function(e, n, r, u) {
                    return r.setModes(u)
                }
            })
              , VF = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    return Lo([bd(dd(), function(r, u) {
                        e.contextual.each(function(l) {
                            ea(r.element, l.transitionClass) && (lu(r.element, [l.transitionClass, l.fadeInClass]),
                            (n.isVisible() ? l.onShown : l.onHidden)(r)),
                            u.stop()
                        })
                    }), gt(pm(), function(r, u) {
                        T4(r, e, n)
                    }), gt(Rs(), function(r, u) {
                        BD(r, e, n)
                    })])
                }
            })
              , UF = [Ui("contextual", [fr("fadeInClass"), fr("fadeOutClass"), fr("transitionClass"), yi("lazyContext"), vo("onShow"), vo("onShown"), vo("onHide"), vo("onHidden")]), Ba("lazyViewport", sc), Lg("modes", ["top", "bottom"], Uo), vo("onDocked"), vo("onUndocked")]
              , jF = Object.freeze({
                __proto__: null,
                init: function(e) {
                    var n = Xn(!1)
                      , r = Xn(!0)
                      , u = ni()
                      , l = Xn(e.modes);
                    return Bs({
                        isDocked: n.get,
                        setDocked: n.set,
                        getInitialPos: u.get,
                        setInitialPos: u.set,
                        clearInitialPos: u.clear,
                        isVisible: r.get,
                        setVisible: r.set,
                        getModes: l.get,
                        setModes: l.set,
                        readState: function() {
                            return "docked:  " + n.get() + ", visible: " + r.get() + ", modes: " + l.get().join(",")
                        }
                    })
                }
            })
              , rc = zi({
                fields: UF,
                name: "docking",
                active: VF,
                apis: HF,
                state: jF
            })
              , _4 = Se(Pn("toolbar-height-change"))
              , Tg = {
                fadeInClass: "tox-editor-dock-fadein",
                fadeOutClass: "tox-editor-dock-fadeout",
                transitionClass: "tox-editor-dock-transition"
            }
              , ND = "tox-tinymce--toolbar-sticky-on"
              , zD = "tox-tinymce--toolbar-sticky-off"
              , k4 = function(e, n) {
                return nn(rc.getModes(e), n)
            }
              , E4 = function(e) {
                var r = e.element;
                L(r).each(function(u) {
                    var l = "padding-" + rc.getModes(e)[0];
                    if (rc.isDocked(e)) {
                        var d = Hi(u);
                        zn(r, "width", d + "px"),
                        zn(u, l, function(u) {
                            return hs(u) + (parseInt(ho(u, "margin-top"), 10) || 0) + (parseInt(ho(u, "margin-bottom"), 10) || 0)
                        }(r) + "px")
                    } else
                        No(r, "width"),
                        No(u, l)
                })
            }
              , FD = function(e, n) {
                n ? (ei(e, Tg.fadeOutClass),
                Fc(e, [Tg.transitionClass, Tg.fadeInClass])) : (ei(e, Tg.fadeInClass),
                Fc(e, [Tg.fadeOutClass, Tg.transitionClass]))
            }
              , ID = function(e, n) {
                var r = Ie_fromDom(e.getContainer());
                n ? (ki(r, ND),
                ei(r, zD)) : (ki(r, zD),
                ei(r, ND))
            }
              , LD = function(e, n) {
                var r = ni()
                  , u = n.getSink
                  , l = function(S) {
                    u().each(function(T) {
                        return S(T.element)
                    })
                }
                  , d = function(S) {
                    e.inline || E4(S),
                    ID(e, rc.isDocked(S)),
                    S.getSystem().broadcastOn([Pf()], {}),
                    u().each(function(T) {
                        return T.getSystem().broadcastOn([Pf()], {})
                    })
                }
                  , p = e.inline ? [] : function() {
                    var e;
                    return [Zs.config({
                        channels: (e = {},
                        e[_4()] = {
                            onReceive: E4
                        },
                        e)
                    })]
                }();
                return Ct([sr.config({}), rc.config({
                    contextual: ae({
                        lazyContext: function(S) {
                            var T = hs(S.element)
                              , O = e.inline ? e.getContentAreaContainer() : e.getContainer()
                              , I = Ji(Ie_fromDom(O))
                              , $ = I.height - T
                              , q = I.y + (k4(S, "top") ? 0 : T);
                            return D.some(Za(I.x, q, I.width, $))
                        },
                        onShow: function() {
                            l(function(S) {
                                return FD(S, !0)
                            })
                        },
                        onShown: function(S) {
                            l(function(T) {
                                return lu(T, [Tg.transitionClass, Tg.fadeInClass])
                            }),
                            r.get().each(function(T) {
                                (function(e, n) {
                                    var r = Ti(n);
                                    rs(r).filter(function(u) {
                                        return !Eo(n, u)
                                    }).filter(function(u) {
                                        return Eo(u, Ie_fromDom(r.dom.body)) || ds(e, u)
                                    }).each(function() {
                                        return xs(n)
                                    })
                                }
                                )(S.element, T),
                                r.clear()
                            })
                        },
                        onHide: function(S) {
                            (function(e, n) {
                                return Qs(e).orThunk(function() {
                                    return n().toOptional().bind(function(r) {
                                        return Qs(r.element)
                                    })
                                })
                            }
                            )(S.element, u).fold(r.clear, r.set),
                            l(function(T) {
                                return FD(T, !1)
                            })
                        },
                        onHidden: function() {
                            l(function(S) {
                                return lu(S, [Tg.transitionClass])
                            })
                        }
                    }, Tg),
                    lazyViewport: function(S) {
                        var T = sc()
                          , O = function(e) {
                            return e.getParam("toolbar_sticky_offset", 0, "number")
                        }(e)
                          , I = T.y + (k4(S, "top") ? O : 0)
                          , $ = T.height - (k4(S, "bottom") ? O : 0);
                        return Za(T.x, I, T.width, $)
                    },
                    modes: [n.header.getDockingMode()],
                    onDocked: d,
                    onUndocked: d
                })], p, !0)
            }
              , ZF = Object.freeze({
                __proto__: null,
                setup: function(e, n, r) {
                    e.inline || (n.header.isPositionedAtTop() || e.on("ResizeEditor", function() {
                        r().each(rc.reset)
                    }),
                    e.on("ResizeWindow ResizeEditor", function() {
                        r().each(E4)
                    }),
                    e.on("SkinLoaded", function() {
                        r().each(function(u) {
                            rc.isDocked(u) ? rc.reset(u) : rc.refresh(u)
                        })
                    }),
                    e.on("FullscreenStateChanged", function() {
                        r().each(rc.reset)
                    })),
                    e.on("AfterScrollIntoView", function(u) {
                        r().each(function(l) {
                            rc.refresh(l);
                            var d = l.element;
                            M2(d) && function(e, n) {
                                var r = Ti(n)
                                  , u = r.dom.defaultView.innerHeight
                                  , l = Yu(r)
                                  , d = Ie_fromDom(e.elm)
                                  , p = Ec(d)
                                  , S = ia(d)
                                  , T = p.y
                                  , O = T + S
                                  , I = Su(n)
                                  , $ = ia(n)
                                  , q = I.top
                                  , Z = q + $
                                  , te = Math.abs(q - l.top) < 2
                                  , de = Math.abs(Z - (l.top + u)) < 2;
                                te && T < Z ? iu(l.left, T - $, r) : de && O > q && iu(l.left, T - u + S + $, r)
                            }(u, d)
                        })
                    }),
                    e.on("PostRender", function() {
                        ID(e, !1)
                    })
                },
                isDocked: function(e) {
                    return e().map(rc.isDocked).getOr(!1)
                },
                getBehaviours: LD
            })
              , eI = Wn([fr("type"), ui("items", ud([Jp([fr("name"), Vi("items", Uo)]), Uo]))].concat(cb))
              , nI = [Ko("text"), Ko("tooltip"), Ko("icon"), yi("fetch"), Ba("onSetup", function() {
                return Xe
            })]
              , rI = Wn(Ct([fr("type")], nI, !0))
              , HD = function(e) {
                return Wo("menubutton", rI, e)
            }
              , oI = Wn([fr("type"), Ko("tooltip"), Ko("icon"), Ko("text"), rl("select"), yi("fetch"), Ba("onSetup", function() {
                return Xe
            }), al("presets", "normal", ["normal", "color", "listpreview"]), Be("columns", 1), yi("onAction"), yi("onItemAction")])
              , A4 = nc({
                factory: function(e, n) {
                    var u = {
                        focus: Yn.focusIn,
                        setMenus: function(l, d) {
                            var p = re(d, function(S) {
                                var O = HD({
                                    type: "menubutton",
                                    text: S.text,
                                    fetch: function(I) {
                                        I(S.getItems())
                                    }
                                }).mapError(function(I) {
                                    return uu(I)
                                }).getOrDie();
                                return l4(O, "tox-mbtn", n.backstage, D.some("menuitem"))
                            });
                            pr.set(l, p)
                        }
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: [],
                        behaviours: Wt([pr.config({}), rn("menubar-events", [pa(function(l) {
                            e.onSetup(l)
                        }), gt(nv(), function(l, d) {
                            ta(l.element, ".tox-mbtn--active").each(function(p) {
                                Ic(d.event.target, ".tox-mbtn").each(function(S) {
                                    Eo(p, S) || l.getSystem().getByDom(p).each(function(T) {
                                        l.getSystem().getByDom(S).each(function(O) {
                                            qv.expand(O),
                                            qv.close(T),
                                            sr.focus(O)
                                        })
                                    })
                                })
                            })
                        }), gt(s1(), function(l, d) {
                            d.event.prevFocus.bind(function(p) {
                                return l.getSystem().getByDom(p).toOptional()
                            }).each(function(p) {
                                d.event.newFocus.bind(function(S) {
                                    return l.getSystem().getByDom(S).toOptional()
                                }).each(function(S) {
                                    qv.isOpen(p) && (qv.expand(S),
                                    qv.close(p))
                                })
                            })
                        })]), Yn.config({
                            mode: "flow",
                            selector: ".tox-mbtn",
                            onEscape: function(l) {
                                return e.onEscape(l),
                                D.some(!0)
                            }
                        }), Fi.config({})]),
                        apis: u,
                        domModification: {
                            attributes: {
                                role: "menubar"
                            }
                        }
                    }
                },
                name: "silver.Menubar",
                configFields: [ot("dom"), ot("uid"), ot("onEscape"), ot("backstage"), Be("onSetup", Xe)],
                apis: {
                    focus: function(e, n) {
                        e.focus(n)
                    },
                    setMenus: function(e, n, r) {
                        e.setMenus(n, r)
                    }
                }
            })
              , P3 = function(e, n) {
                return n.getAnimationRoot.fold(function() {
                    return e.element
                }, function(r) {
                    return r(e)
                })
            }
              , bb = function(e) {
                return e.dimension.property
            }
              , GS = function(e, n) {
                return e.dimension.getDimension(n)
            }
              , O4 = function(e, n) {
                var r = P3(e, n);
                lu(r, [n.shrinkingClass, n.growingClass])
            }
              , D4 = function(e, n) {
                ei(e.element, n.openClass),
                ki(e.element, n.closedClass),
                zn(e.element, bb(n), "0px"),
                uc(e.element)
            }
              , $D = function(e, n) {
                ei(e.element, n.closedClass),
                ki(e.element, n.openClass),
                No(e.element, bb(n))
            }
              , VD = function(e, n, r, u) {
                r.setCollapsed(),
                zn(e.element, bb(n), GS(n, e.element)),
                uc(e.element),
                O4(e, n),
                D4(e, n),
                n.onStartShrink(e),
                n.onShrunk(e)
            }
              , uI = function(e, n, r, u) {
                var l = u.getOrThunk(function() {
                    return GS(n, e.element)
                });
                r.setCollapsed(),
                zn(e.element, bb(n), l),
                uc(e.element);
                var d = P3(e, n);
                ei(d, n.growingClass),
                ki(d, n.shrinkingClass),
                D4(e, n),
                n.onStartShrink(e)
            }
              , UD = function(e, n, r) {
                var u = GS(n, e.element);
                ("0px" === u ? VD : uI)(e, n, r, D.some(u))
            }
              , WD = function(e, n, r) {
                var u = P3(e, n)
                  , l = ea(u, n.shrinkingClass)
                  , d = GS(n, e.element);
                $D(e, n);
                var p = GS(n, e.element);
                (l ? function() {
                    zn(e.element, bb(n), d),
                    uc(e.element)
                }
                : function() {
                    D4(e, n)
                }
                )(),
                ei(u, n.shrinkingClass),
                ki(u, n.growingClass),
                $D(e, n),
                zn(e.element, bb(n), p),
                r.setExpanded(),
                n.onStartGrow(e)
            }
              , jD = function(e, n, r) {
                var u = P3(e, n);
                return !0 === ea(u, n.growingClass)
            }
              , GD = function(e, n, r) {
                var u = P3(e, n);
                return !0 === ea(u, n.shrinkingClass)
            }
              , hI = Object.freeze({
                __proto__: null,
                refresh: function(e, n, r) {
                    if (r.isExpanded()) {
                        No(e.element, bb(n));
                        var u = GS(n, e.element);
                        zn(e.element, bb(n), u)
                    }
                },
                grow: function(e, n, r) {
                    r.isExpanded() || WD(e, n, r)
                },
                shrink: function(e, n, r) {
                    r.isExpanded() && UD(e, n, r)
                },
                immediateShrink: function(e, n, r) {
                    r.isExpanded() && VD(e, n, r)
                },
                hasGrown: function(e, n, r) {
                    return r.isExpanded()
                },
                hasShrunk: function(e, n, r) {
                    return r.isCollapsed()
                },
                isGrowing: jD,
                isShrinking: GD,
                isTransitioning: function(e, n, r) {
                    return jD(e, n) || GD(e, n)
                },
                toggleGrow: function(e, n, r) {
                    (r.isExpanded() ? UD : WD)(e, n, r)
                },
                disableTransitions: O4
            })
              , yI = Object.freeze({
                __proto__: null,
                exhibit: function(e, n, r) {
                    return mc(n.expanded ? {
                        classes: [n.openClass],
                        styles: {}
                    } : {
                        classes: [n.closedClass],
                        styles: Mc(n.dimension.property, "0px")
                    })
                },
                events: function(e, n) {
                    return Lo([bd(dd(), function(r, u) {
                        u.event.raw.propertyName === e.dimension.property && (O4(r, e),
                        n.isExpanded() && No(r.element, e.dimension.property),
                        (n.isExpanded() ? e.onGrown : e.onShrunk)(r))
                    })])
                }
            })
              , wI = [ot("closedClass"), ot("openClass"), ot("shrinkingClass"), ot("growingClass"), To("getAnimationRoot"), vo("onShrunk"), vo("onStartShrink"), vo("onGrown"), vo("onStartGrow"), Be("expanded", !1), ui("dimension", Qu("property", {
                width: [Ho("property", "width"), Ho("getDimension", function(e) {
                    return Hi(e) + "px"
                })],
                height: [Ho("property", "height"), Ho("getDimension", function(e) {
                    return ia(e) + "px"
                })]
            }))]
              , CI = Object.freeze({
                __proto__: null,
                init: function(e) {
                    var n = Xn(e.expanded);
                    return Bs({
                        isExpanded: function() {
                            return !0 === n.get()
                        },
                        isCollapsed: function() {
                            return !1 === n.get()
                        },
                        setCollapsed: In(n.set, !1),
                        setExpanded: In(n.set, !0),
                        readState: function() {
                            return "expanded: " + n.get()
                        }
                    })
                }
            })
              , em = zi({
                fields: wI,
                name: "sliding",
                active: yI,
                apis: hI,
                state: CI
            })
              , qD = "container"
              , SI = [Wi("slotBehaviours", [])]
              , KD = function(e) {
                return "<alloy.field." + e + ">"
            }
              , _I = function(e, n) {
                var de, r = function(de) {
                    return pC(e)
                }, l = function(de, Te) {
                    return function(ce, ke) {
                        return Ro(ce, e, ke).map(function(Ze) {
                            return de(Ze, ke)
                        }).getOr(Te)
                    }
                }, p = function(de, Te) {
                    return "true" !== Hn(de.element, "aria-hidden")
                }, O = l(p, !1), I = l(function(de, Te) {
                    if (p(de)) {
                        var ce = de.element;
                        zn(ce, "display", "none"),
                        wr(ce, "aria-hidden", "true"),
                        Vn(de, bm(), {
                            name: Te,
                            visible: !1
                        })
                    }
                }), $ = (de = I,
                function(Te, ce) {
                    Re(ce, function(ke) {
                        return de(Te, ke)
                    })
                }
                ), Z = l(function(de, Te) {
                    if (!p(de)) {
                        var ce = de.element;
                        No(ce, "display"),
                        _i(ce, "aria-hidden"),
                        Vn(de, bm(), {
                            name: Te,
                            visible: !0
                        })
                    }
                }), te = {
                    getSlotNames: r,
                    getSlot: function(de, Te) {
                        return Ro(de, e, Te)
                    },
                    isShowing: O,
                    hideSlot: I,
                    hideAllSlots: function(de) {
                        return $(de, r())
                    },
                    showSlot: Z
                };
                return {
                    uid: e.uid,
                    dom: e.dom,
                    components: n,
                    behaviours: $h(e.slotBehaviours),
                    apis: te
                }
            }
              , kI = ee({
                getSlotNames: function(e, n) {
                    return e.getSlotNames(n)
                },
                getSlot: function(e, n, r) {
                    return e.getSlot(n, r)
                },
                isShowing: function(e, n, r) {
                    return e.isShowing(n, r)
                },
                hideSlot: function(e, n, r) {
                    return e.hideSlot(n, r)
                },
                hideAllSlots: function(e, n) {
                    return e.hideAllSlots(n)
                },
                showSlot: function(e, n, r) {
                    return e.showSlot(n, r)
                }
            }, function(e) {
                return Xg(e)
            })
              , _g = ae(ae({}, kI), {
                sketch: function(e) {
                    var d, n = {
                        slot: function(S, T) {
                            return d.push(S),
                            _0(qD, KD(S), T)
                        },
                        record: Se(d = [])
                    }, r = e(n), u = n.record(), l = re(u, function(d) {
                        return Va({
                            name: d,
                            pname: KD(d)
                        })
                    });
                    return v2(qD, SI, l, _I, r)
                }
            })
              , EI = Wn([Ko("icon"), Ko("tooltip"), Ba("onShow", Xe), Ba("onHide", Xe), Ba("onSetup", function() {
                return Xe
            })])
              , DI = function(e) {
                return {
                    element: function() {
                        return e.element.dom
                    }
                }
            }
              , MI = function(e, n) {
                var r = re(An(n), function(u) {
                    var d = Ms(function(e) {
                        return Wo("sidebar", EI, e)
                    }(n[u]));
                    return {
                        name: u,
                        getApi: DI,
                        onSetup: d.onSetup,
                        onShow: d.onShow,
                        onHide: d.onHide
                    }
                });
                return re(r, function(u) {
                    var l = Xn(Xe);
                    return e.slot(u.name, {
                        dom: {
                            tag: "div",
                            classes: ["tox-sidebar__pane"]
                        },
                        behaviours: Ge_unnamedEvents([p3(u, l), b3(u, l), gt(bm(), function(d, p) {
                            var S = p.event;
                            $n(r, function(O) {
                                return O.name === S.name
                            }).each(function(O) {
                                (S.visible ? O.onShow : O.onHide)(O.getApi(d))
                            })
                        })])
                    })
                })
            }
              , RI = function(e) {
                return _g.sketch(function(n) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-sidebar__pane-container"]
                        },
                        components: MI(n, e),
                        slotBehaviours: Ge_unnamedEvents([pa(function(r) {
                            return _g.hideAllSlots(r)
                        })])
                    }
                })
            }
              , NI = function(e) {
                return qr.getCurrent(e).bind(function(r) {
                    return em.isGrowing(r) || em.hasGrown(r) ? qr.getCurrent(r).bind(function(d) {
                        return $n(_g.getSlotNames(d), function(p) {
                            return _g.isShowing(d, p)
                        })
                    }) : D.none()
                })
            }
              , M4 = Pn("FixSizeEvent")
              , R4 = Pn("AutoSizeEvent")
              , LI = Object.freeze({
                __proto__: null,
                block: function(e, n, r, u) {
                    wr(e.element, "aria-busy", !0);
                    var l = n.getRoot(e).getOr(e)
                      , d = Wt([Yn.config({
                        mode: "special",
                        onTab: function() {
                            return D.some(!0)
                        },
                        onShiftTab: function() {
                            return D.some(!0)
                        }
                    }), sr.config({})])
                      , p = u(l, d)
                      , S = l.getSystem().build(p);
                    pr.append(l, hc(S)),
                    S.hasConfigured(Yn) && n.focus && Yn.focusIn(S),
                    r.isBlocked() || n.onBlock(e),
                    r.blockWith(function() {
                        return pr.remove(l, S)
                    })
                },
                unblock: function(e, n, r) {
                    _i(e.element, "aria-busy"),
                    r.isBlocked() && n.onUnblock(e),
                    r.clear()
                }
            })
              , HI = [Ba("getRoot", D.none), Qa("focus", !0), vo("onBlock"), vo("onUnblock")]
              , VI = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = Tx();
                    return Bs({
                        readState: e.isSet,
                        blockWith: function(r) {
                            e.set({
                                destroy: r
                            })
                        },
                        clear: e.clear,
                        isBlocked: e.isSet
                    })
                }
            })
              , Pp = zi({
                fields: HI,
                name: "blocking",
                apis: LI,
                state: VI
            })
              , yb = function(e) {
                var n = Ie_fromHtml(e)
                  , r = G(n)
                  , u = function(e) {
                    return Bt(void 0 !== e.dom.attributes ? e.dom.attributes : [], function(r, u) {
                        var l;
                        return "class" === u.name ? r : ae(ae({}, r), ((l = {})[u.name] = u.value,
                        l))
                    }, {})
                }(n)
                  , l = function(e) {
                    return Array.prototype.slice.call(e.dom.classList, 0)
                }(n)
                  , d = 0 === r.length ? {} : {
                    innerHtml: Ps(n)
                };
                return ae({
                    tag: so(n),
                    classes: l,
                    attributes: u
                }, d)
            }
              , XD = function(e) {
                return qr.getCurrent(e).each(function(n) {
                    return xs(n.element)
                })
            }
              , JI = function(e, n, r) {
                var u = Xn(!1)
                  , l = ni()
                  , d = function(S) {
                    u.get() && !function(e) {
                        return !!function(e) {
                            return "focusin" === e.type
                        }(e) && (e.composed ? Yt(e.composedPath()) : D.from(e.target)).map(Ie_fromDom).filter(Sa).exists(function(r) {
                            return ea(r, "mce-pastebin")
                        })
                    }(S) && (S.preventDefault(),
                    XD(n()),
                    e.editorManager.setActive(e))
                };
                e.inline || e.on("PreInit", function() {
                    e.dom.bind(e.getWin(), "focusin", d),
                    e.on("BeforeExecCommand", function(S) {
                        "mcefocus" === S.command.toLowerCase() && !0 !== S.value && d(S)
                    })
                });
                var p = function(S) {
                    S !== u.get() && (u.set(S),
                    function(e, n, r, u) {
                        var l = n.element;
                        if (function(e, n) {
                            var r = "tabindex"
                              , u = "data-mce-" + r;
                            D.from(e.iframeElement).map(Ie_fromDom).each(function(l) {
                                n ? (gs(l, r).each(function(d) {
                                    return wr(l, u, d)
                                }),
                                wr(l, r, -1)) : (_i(l, r),
                                gs(l, u).each(function(d) {
                                    wr(l, r, d),
                                    _i(l, u)
                                }))
                            })
                        }(e, r),
                        r)
                            Pp.block(n, function(e) {
                                return function(n, r) {
                                    return {
                                        dom: {
                                            tag: "div",
                                            attributes: {
                                                "aria-label": e.translate("Loading..."),
                                                tabindex: "0"
                                            },
                                            classes: ["tox-throbber__busy-spinner"]
                                        },
                                        components: [{
                                            dom: yb('<div class="tox-spinner"><div></div><div></div><div></div></div>')
                                        }]
                                    }
                                }
                            }(u)),
                            No(l, "display"),
                            _i(l, "aria-hidden"),
                            e.hasFocus() && XD(n);
                        else {
                            var d = qr.getCurrent(n).exists(function(p) {
                                return R1(p.element)
                            });
                            Pp.unblock(n),
                            zn(l, "display", "none"),
                            wr(l, "aria-hidden", "true"),
                            d && e.focus()
                        }
                    }(e, n(), S, r.providers),
                    e.fire("AfterProgressState", {
                        state: S
                    }))
                };
                e.on("ProgressState", function(S) {
                    if (l.on(Hv.clearTimeout),
                    Cn(S.time)) {
                        var T = Hv.setEditorTimeout(e, function() {
                            return p(S.state)
                        }, S.time);
                        l.set(T)
                    } else
                        p(S.state),
                        l.clear()
                })
            }
              , P4 = function(e, n, r) {
                return {
                    within: e,
                    extra: n,
                    withinWidth: r
                }
            }
              , YD = function(e, n, r) {
                var u = function(e, n) {
                    return Bt(e, function(l, d) {
                        return (S = d,
                        T = l.len,
                        O = r(S),
                        D.some({
                            element: S,
                            start: T,
                            finish: T + O,
                            width: O
                        })).fold(Se(l), function(S) {
                            return {
                                len: S.finish,
                                list: l.list.concat([S])
                            }
                        });
                        var S, T, O
                    }, {
                        len: 0,
                        list: []
                    }).list
                }(e)
                  , l = je(u, function(S) {
                    return S.finish <= n
                })
                  , d = We(l, function(S, T) {
                    return S + T.width
                }, 0);
                return {
                    within: l,
                    extra: u.slice(l.length),
                    withinWidth: d
                }
            }
              , R_ = function(e) {
                return re(e, function(n) {
                    return n.element
                })
            }
              , JD = function(e, n) {
                var r = re(n, function(u) {
                    return hc(u)
                });
                Qd.setGroups(e, r)
            }
              , ZD = function(e, n, r) {
                var u = n.builtGroups.get();
                if (0 !== u.length) {
                    var l = Wl(e, n, "primary")
                      , d = Gi.getCoupled(e, "overflowGroup");
                    zn(l.element, "visibility", "hidden");
                    var p = u.concat([d])
                      , S = function(e) {
                        return Sr(e, function(n) {
                            return Qs(n.element).bind(function(r) {
                                return n.getSystem().getByDom(r).toOptional()
                            })
                        })
                    }(p);
                    r([]),
                    JD(l, p);
                    var O = function(e, n, r, u) {
                        var l = function(e, n, r) {
                            var u = YD(n, e, r);
                            return 0 === u.extra.length ? D.some(u) : D.none()
                        }(e, n, r).getOrThunk(function() {
                            return YD(n, e - r(u), r)
                        })
                          , d = l.within
                          , p = l.extra
                          , S = l.withinWidth;
                        return 1 === p.length && p[0].width <= r(u) ? function(e, n, r) {
                            var u = R_(e.concat(n));
                            return P4(u, [], r)
                        }(d, p, S) : p.length >= 1 ? function(e, n, r, u) {
                            var l = R_(e).concat([r]);
                            return P4(l, R_(n), u)
                        }(d, p, u, S) : function(e, n, r) {
                            return P4(R_(e), [], r)
                        }(d, 0, S)
                    }(Hi(l.element), n.builtGroups.get(), function(I) {
                        return Hi(I.element)
                    }, d);
                    0 === O.extra.length ? (pr.remove(l, d),
                    r([])) : (JD(l, O.within),
                    r(O.extra)),
                    No(l.element, "visibility"),
                    uc(l.element),
                    S.each(sr.focus)
                }
            }
              , QD = Se([Wi("splitToolbarBehaviours", [Gi]), $i("builtGroups", function() {
                return Xn([])
            })])
              , aL = Se([fu(["overflowToggledClass"]), rl("getOverflowBounds"), ot("lazySink"), $i("overflowGroups", function() {
                return Xn([])
            })].concat(QD()))
              , iL = Se([Va({
                factory: Qd,
                schema: jS(),
                name: "primary"
            }), is({
                schema: jS(),
                name: "overflow"
            }), is({
                name: "overflow-button"
            }), is({
                name: "overflow-group"
            })])
              , B4 = Se(function(e, n) {
                !function(e, n) {
                    var u = Xu.max(e, n, ["margin-left", "border-left-width", "padding-left", "padding-right", "border-right-width", "margin-right"]);
                    zn(e, "max-width", u + "px")
                }(e, Math.floor(n))
            })
              , uL = Se([fu(["toggledClass"]), ot("lazySink"), yi("fetch"), rl("getBounds"), Ui("fireDismissalEventInstead", [Be("event", fc())]), bc()])
              , sL = Se([is({
                name: "button",
                overrides: function(e) {
                    return {
                        dom: {
                            attributes: {
                                "aria-haspopup": "true"
                            }
                        },
                        buttonBehaviours: Wt([io.config({
                            toggleClass: e.markers.toggledClass,
                            aria: {
                                mode: "expanded"
                            },
                            toggleOnExecute: !1
                        })])
                    }
                }
            }), is({
                factory: Qd,
                schema: jS(),
                name: "toolbar",
                overrides: function(e) {
                    return {
                        toolbarBehaviours: Wt([Yn.config({
                            mode: "cyclic",
                            onEscape: function(n) {
                                return Ro(n, e, "button").each(sr.focus),
                                D.none()
                            }
                        })])
                    }
                }
            })])
              , e5 = function(e, n) {
                var r = Gi.getCoupled(e, "toolbarSandbox");
                Gr.isOpen(r) ? Gr.close(r) : Gr.open(r, n.toolbar())
            }
              , N4 = function(e, n, r, u) {
                var l = r.getBounds.map(function(p) {
                    return p()
                })
                  , d = r.lazySink(e).getOrDie();
                Au.positionWithinBounds(d, n, {
                    anchor: {
                        type: "hotspot",
                        hotspot: e,
                        layouts: u,
                        overrides: {
                            maxWidthFunction: B4()
                        }
                    }
                }, l)
            }
              , t5 = function(e, n, r, u, l) {
                Qd.setGroups(n, l),
                N4(e, n, r, u),
                io.on(e)
            }
              , _w = Lu({
                name: "FloatingToolbarButton",
                factory: function(e, n, r, u) {
                    return ae(ae({}, Is.sketch(ae(ae({}, u.button()), {
                        action: function(l) {
                            e5(l, u)
                        },
                        buttonBehaviours: Wc_augment({
                            dump: u.button().buttonBehaviours
                        }, [Gi.config({
                            others: {
                                toolbarSandbox: function(l) {
                                    return function(e, n, r) {
                                        var u = ty();
                                        return {
                                            dom: {
                                                tag: "div",
                                                attributes: {
                                                    id: u.id
                                                }
                                            },
                                            behaviours: Wt([Yn.config({
                                                mode: "special",
                                                onEscape: function(p) {
                                                    return Gr.close(p),
                                                    D.some(!0)
                                                }
                                            }), Gr.config({
                                                onOpen: function(p, S) {
                                                    r.fetch().get(function(T) {
                                                        t5(e, S, r, n.layouts, T),
                                                        u.link(e.element),
                                                        Yn.focusIn(S)
                                                    })
                                                },
                                                onClose: function() {
                                                    io.off(e),
                                                    sr.focus(e),
                                                    u.unlink(e.element)
                                                },
                                                isPartOf: function(p, S, T) {
                                                    return Lc(S, T) || Lc(e, T)
                                                },
                                                getAttachPoint: function() {
                                                    return r.lazySink(e).getOrDie()
                                                }
                                            }), Zs.config({
                                                channels: ae(ae({}, s0(ae({
                                                    isExtraPart: st
                                                }, r.fireDismissalEventInstead.map(function(p) {
                                                    return {
                                                        fireEventInstead: {
                                                            event: p.event
                                                        }
                                                    }
                                                }).getOr({})))), l0({
                                                    doReposition: function() {
                                                        Gr.getState(Gi.getCoupled(e, "toolbarSandbox")).each(function(p) {
                                                            N4(e, p, r, n.layouts)
                                                        })
                                                    }
                                                }))
                                            })])
                                        }
                                    }(l, r, e)
                                }
                            }
                        })])
                    }))), {
                        apis: {
                            setGroups: function(l, d) {
                                Gr.getState(Gi.getCoupled(l, "toolbarSandbox")).each(function(p) {
                                    t5(l, p, e, r.layouts, d)
                                })
                            },
                            reposition: function(l) {
                                Gr.getState(Gi.getCoupled(l, "toolbarSandbox")).each(function(d) {
                                    N4(l, d, e, r.layouts)
                                })
                            },
                            toggle: function(l) {
                                e5(l, u)
                            },
                            getToolbar: function(l) {
                                return Gr.getState(Gi.getCoupled(l, "toolbarSandbox"))
                            },
                            isOpen: function(l) {
                                return Gr.isOpen(Gi.getCoupled(l, "toolbarSandbox"))
                            }
                        }
                    })
                },
                configFields: uL(),
                partFields: sL(),
                apis: {
                    setGroups: function(e, n, r) {
                        e.setGroups(n, r)
                    },
                    reposition: function(e, n) {
                        e.reposition(n)
                    },
                    toggle: function(e, n) {
                        e.toggle(n)
                    },
                    getToolbar: function(e, n) {
                        return e.getToolbar(n)
                    },
                    isOpen: function(e, n) {
                        return e.isOpen(n)
                    }
                }
            })
              , fL = Se([ot("items"), fu(["itemSelector"]), Wi("tgroupBehaviours", [Yn])])
              , vL = Se([ig({
                name: "items",
                unit: "item"
            })])
              , P_ = Lu({
                name: "ToolbarGroup",
                configFields: fL(),
                partFields: vL(),
                factory: function(e, n, r, u) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: eu(e.tgroupBehaviours, [Yn.config({
                            mode: "flow",
                            selector: e.markers.itemSelector
                        })]),
                        domModification: {
                            attributes: {
                                role: "toolbar"
                            }
                        }
                    }
                }
            })
              , n5 = function(e) {
                return re(e, function(n) {
                    return hc(n)
                })
            }
              , r5 = function(e, n, r) {
                ZD(e, r, function(u) {
                    r.overflowGroups.set(u),
                    n.getOpt(e).each(function(l) {
                        _w.setGroups(l, n5(u))
                    })
                })
            }
              , o5 = Lu({
                name: "SplitFloatingToolbar",
                configFields: aL(),
                partFields: iL(),
                factory: function(e, n, r, u) {
                    var l = ko(_w.sketch({
                        fetch: function() {
                            return Cs_nu(function(d) {
                                d(n5(e.overflowGroups.get()))
                            })
                        },
                        layouts: {
                            onLtr: function() {
                                return [vu, Ni]
                            },
                            onRtl: function() {
                                return [Ni, vu]
                            },
                            onBottomLtr: function() {
                                return [ku, ns]
                            },
                            onBottomRtl: function() {
                                return [ns, ku]
                            }
                        },
                        getBounds: r.getOverflowBounds,
                        lazySink: e.lazySink,
                        fireDismissalEventInstead: {},
                        markers: {
                            toggledClass: e.markers.overflowToggledClass
                        },
                        parts: {
                            button: u["overflow-button"](),
                            toolbar: u.overflow()
                        }
                    }));
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: eu(e.splitToolbarBehaviours, [Gi.config({
                            others: {
                                overflowGroup: function() {
                                    return P_.sketch(ae(ae({}, u["overflow-group"]()), {
                                        items: [l.asSpec()]
                                    }))
                                }
                            }
                        })]),
                        apis: {
                            setGroups: function(d, p) {
                                e.builtGroups.set(re(p, d.getSystem().build)),
                                r5(d, l, e)
                            },
                            refresh: function(d) {
                                return r5(d, l, e)
                            },
                            toggle: function(d) {
                                l.getOpt(d).each(function(p) {
                                    _w.toggle(p)
                                })
                            },
                            isOpen: function(d) {
                                return l.getOpt(d).map(_w.isOpen).getOr(!1)
                            },
                            reposition: function(d) {
                                l.getOpt(d).each(function(p) {
                                    _w.reposition(p)
                                })
                            },
                            getOverflow: function(d) {
                                return l.getOpt(d).bind(_w.getToolbar)
                            }
                        },
                        domModification: {
                            attributes: {
                                role: "group"
                            }
                        }
                    }
                },
                apis: {
                    setGroups: function(e, n, r) {
                        e.setGroups(n, r)
                    },
                    refresh: function(e, n) {
                        e.refresh(n)
                    },
                    reposition: function(e, n) {
                        e.reposition(n)
                    },
                    toggle: function(e, n) {
                        e.toggle(n)
                    },
                    isOpen: function(e, n) {
                        return e.isOpen(n)
                    },
                    getOverflow: function(e, n) {
                        return e.getOverflow(n)
                    }
                }
            })
              , gL = Se([fu(["closedClass", "openClass", "shrinkingClass", "growingClass", "overflowToggledClass"]), vo("onOpened"), vo("onClosed")].concat(QD()))
              , hL = Se([Va({
                factory: Qd,
                schema: jS(),
                name: "primary"
            }), Va({
                factory: Qd,
                schema: jS(),
                name: "overflow",
                overrides: function(e) {
                    return {
                        toolbarBehaviours: Wt([em.config({
                            dimension: {
                                property: "height"
                            },
                            closedClass: e.markers.closedClass,
                            openClass: e.markers.openClass,
                            shrinkingClass: e.markers.shrinkingClass,
                            growingClass: e.markers.growingClass,
                            onShrunk: function(n) {
                                Ro(n, e, "overflow-button").each(function(r) {
                                    io.off(r),
                                    sr.focus(r)
                                }),
                                e.onClosed(n)
                            },
                            onGrown: function(n) {
                                Yn.focusIn(n),
                                e.onOpened(n)
                            },
                            onStartGrow: function(n) {
                                Ro(n, e, "overflow-button").each(io.on)
                            }
                        }), Yn.config({
                            mode: "acyclic",
                            onEscape: function(n) {
                                return Ro(n, e, "overflow-button").each(sr.focus),
                                D.some(!0)
                            }
                        })])
                    }
                }
            }), is({
                name: "overflow-button",
                overrides: function(e) {
                    return {
                        buttonBehaviours: Wt([io.config({
                            toggleClass: e.markers.overflowToggledClass,
                            aria: {
                                mode: "pressed"
                            },
                            toggleOnExecute: !1
                        })])
                    }
                }
            }), is({
                name: "overflow-group"
            })])
              , a5 = function(e, n) {
                Ro(e, n, "overflow-button").bind(function() {
                    return Ro(e, n, "overflow")
                }).each(function(r) {
                    z4(e, n),
                    em.toggleGrow(r)
                })
            }
              , z4 = function(e, n) {
                Ro(e, n, "overflow").each(function(r) {
                    ZD(e, n, function(u) {
                        var l = re(u, function(d) {
                            return hc(d)
                        });
                        Qd.setGroups(r, l)
                    }),
                    Ro(e, n, "overflow-button").each(function(u) {
                        em.hasGrown(r) && io.on(u)
                    }),
                    em.refresh(r)
                })
            }
              , F4 = Lu({
                name: "SplitSlidingToolbar",
                configFields: gL(),
                partFields: hL(),
                factory: function(e, n, r, u) {
                    var l = "alloy.toolbar.toggle";
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: eu(e.splitToolbarBehaviours, [Gi.config({
                            others: {
                                overflowGroup: function(p) {
                                    return P_.sketch(ae(ae({}, u["overflow-group"]()), {
                                        items: [Is.sketch(ae(ae({}, u["overflow-button"]()), {
                                            action: function(S) {
                                                po(p, l)
                                            }
                                        }))]
                                    }))
                                }
                            }
                        }), rn("toolbar-toggle-events", [gt(l, function(p) {
                            a5(p, e)
                        })])]),
                        apis: {
                            setGroups: function(p, S) {
                                (function(p, S) {
                                    var T = re(S, p.getSystem().build);
                                    e.builtGroups.set(T)
                                }
                                )(p, S),
                                z4(p, e)
                            },
                            refresh: function(p) {
                                return z4(p, e)
                            },
                            toggle: function(p) {
                                return a5(p, e)
                            },
                            isOpen: function(p) {
                                return function(e, n) {
                                    return Ro(e, n, "overflow").map(em.hasGrown).getOr(!1)
                                }(p, e)
                            }
                        },
                        domModification: {
                            attributes: {
                                role: "group"
                            }
                        }
                    }
                },
                apis: {
                    setGroups: function(e, n, r) {
                        e.setGroups(n, r)
                    },
                    refresh: function(e, n) {
                        e.refresh(n)
                    },
                    toggle: function(e, n) {
                        e.toggle(n)
                    },
                    isOpen: function(e, n) {
                        return e.isOpen(n)
                    }
                }
            })
              , i5 = function(e) {
                var n = e.title.fold(function() {
                    return {}
                }, function(r) {
                    return {
                        attributes: {
                            title: r
                        }
                    }
                });
                return {
                    dom: ae({
                        tag: "div",
                        classes: ["tox-toolbar__group"]
                    }, n),
                    components: [P_.parts.items({})],
                    items: e.items,
                    markers: {
                        itemSelector: "*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"
                    },
                    tgroupBehaviours: Wt([Fi.config({}), sr.config({})])
                }
            }
              , B_ = function(e) {
                return P_.sketch(i5(e))
            }
              , u5 = function(e, n) {
                var r = pa(function(u) {
                    var l = re(e.initGroups, B_);
                    Qd.setGroups(u, l)
                });
                return Wt([jv_toolbarButton(e.providers.isDisabled), mu(), Yn.config({
                    mode: n,
                    onEscape: e.onEscape,
                    selector: ".tox-toolbar__group"
                }), rn("toolbar-events", [r])])
            }
              , s5 = function(e) {
                var n = e.cyclicKeying ? "cyclic" : "acyclic";
                return {
                    uid: e.uid,
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar-overlord"]
                    },
                    parts: {
                        "overflow-group": i5({
                            title: D.none(),
                            items: []
                        }),
                        "overflow-button": $O({
                            name: "more",
                            icon: D.some("more-drawer"),
                            disabled: !1,
                            tooltip: D.some("More..."),
                            primary: !1,
                            borderless: !1
                        }, D.none(), e.providers)
                    },
                    splitToolbarBehaviours: u5(e, n)
                }
            }
              , yL = function(e) {
                var n = s5(e)
                  , u = o5.parts.primary({
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar__primary"]
                    }
                });
                return o5.sketch(ae(ae({}, n), {
                    lazySink: e.getSink,
                    getOverflowBounds: function() {
                        var l = e.moreDrawerData.lazyHeader().element
                          , d = Ec(l)
                          , p = ms(l)
                          , S = Ec(p)
                          , T = Math.max(p.dom.scrollHeight, S.height);
                        return Za(d.x + 4, S.y, d.width - 8, T)
                    },
                    parts: ae(ae({}, n.parts), {
                        overflow: {
                            dom: {
                                tag: "div",
                                classes: ["tox-toolbar__overflow"],
                                attributes: e.attributes
                            }
                        }
                    }),
                    components: [u],
                    markers: {
                        overflowToggledClass: "tox-tbtn--enabled"
                    }
                }))
            }
              , wL = function(e) {
                var n = F4.parts.primary({
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar__primary"]
                    }
                })
                  , r = F4.parts.overflow({
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar__overflow"]
                    }
                })
                  , u = s5(e);
                return F4.sketch(ae(ae({}, u), {
                    components: [n, r],
                    markers: {
                        openClass: "tox-toolbar__overflow--open",
                        closedClass: "tox-toolbar__overflow--closed",
                        growingClass: "tox-toolbar__overflow--growing",
                        shrinkingClass: "tox-toolbar__overflow--shrinking",
                        overflowToggledClass: "tox-tbtn--enabled"
                    },
                    onOpened: function(l) {
                        l.getSystem().broadcastOn([_4()], {
                            type: "opened"
                        })
                    },
                    onClosed: function(l) {
                        l.getSystem().broadcastOn([_4()], {
                            type: "closed"
                        })
                    }
                }))
            }
              , N_ = function(e) {
                var n = e.cyclicKeying ? "cyclic" : "acyclic";
                return Qd.sketch({
                    uid: e.uid,
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar"].concat(e.type === wa.scrolling ? ["tox-toolbar--scrolling"] : [])
                    },
                    components: [Qd.parts.groups({})],
                    toolbarBehaviours: u5(e, n)
                })
            }
              , CL = Tw.optional({
                factory: A4,
                name: "menubar",
                schema: [ot("backstage")]
            })
              , TL = Tw.optional({
                factory: {
                    sketch: function(e) {
                        return _D.sketch({
                            uid: e.uid,
                            dom: e.dom,
                            listBehaviours: Wt([Yn.config({
                                mode: "acyclic",
                                selector: ".tox-toolbar"
                            })]),
                            makeItem: function() {
                                return N_({
                                    type: e.type,
                                    uid: Pn("multiple-toolbar-item"),
                                    cyclicKeying: !1,
                                    initGroups: [],
                                    providers: e.providers,
                                    onEscape: function() {
                                        return e.onEscape(),
                                        D.some(!0)
                                    }
                                })
                            },
                            setupItem: function(n, r, u, l) {
                                Qd.setGroups(r, u)
                            },
                            shell: !0
                        })
                    }
                },
                name: "multiple-toolbar",
                schema: [ot("dom"), ot("onEscape")]
            })
              , _L = Tw.optional({
                factory: {
                    sketch: function(e) {
                        var n = function(e) {
                            return e.type === wa.sliding ? wL : e.type === wa.floating ? yL : N_
                        }(e);
                        return n({
                            type: e.type,
                            uid: e.uid,
                            onEscape: function() {
                                return e.onEscape(),
                                D.some(!0)
                            },
                            cyclicKeying: !1,
                            initGroups: [],
                            getSink: e.getSink,
                            providers: e.providers,
                            moreDrawerData: {
                                lazyToolbar: e.lazyToolbar,
                                lazyMoreButton: e.lazyMoreButton,
                                lazyHeader: e.lazyHeader
                            },
                            attributes: e.attributes
                        })
                    }
                },
                name: "toolbar",
                schema: [ot("dom"), ot("onEscape"), ot("getSink")]
            })
              , kL = Tw.optional({
                factory: {
                    sketch: function(e) {
                        return {
                            uid: e.uid,
                            dom: e.dom,
                            components: e.components,
                            behaviours: Wt((e.sticky ? LD : kD)(e.editor, e.sharedBackstage))
                        }
                    }
                },
                name: "header",
                schema: [ot("dom")]
            })
              , EL = Tw.optional({
                name: "socket",
                schema: [ot("dom")]
            })
              , AL = Tw.optional({
                factory: {
                    sketch: function(e) {
                        return {
                            uid: e.uid,
                            dom: {
                                tag: "div",
                                classes: ["tox-sidebar"],
                                attributes: {
                                    role: "complementary"
                                }
                            },
                            components: [{
                                dom: {
                                    tag: "div",
                                    classes: ["tox-sidebar__slider"]
                                },
                                components: [],
                                behaviours: Wt([Fi.config({}), sr.config({}), em.config({
                                    dimension: {
                                        property: "width"
                                    },
                                    closedClass: "tox-sidebar--sliding-closed",
                                    openClass: "tox-sidebar--sliding-open",
                                    shrinkingClass: "tox-sidebar--sliding-shrinking",
                                    growingClass: "tox-sidebar--sliding-growing",
                                    onShrunk: function(n) {
                                        qr.getCurrent(n).each(_g.hideAllSlots),
                                        po(n, R4)
                                    },
                                    onGrown: function(n) {
                                        po(n, R4)
                                    },
                                    onStartGrow: function(n) {
                                        Vn(n, M4, {
                                            width: Bo(n.element, "width").getOr("")
                                        })
                                    },
                                    onStartShrink: function(n) {
                                        Vn(n, M4, {
                                            width: Hi(n.element) + "px"
                                        })
                                    }
                                }), pr.config({}), qr.config({
                                    find: function(n) {
                                        var r = pr.contents(n);
                                        return Yt(r)
                                    }
                                })])
                            }],
                            behaviours: Wt([Zd_childAt(0), rn("sidebar-sliding-events", [gt(M4, function(n, r) {
                                zn(n.element, "width", r.event.width)
                            }), gt(R4, function(n, r) {
                                No(n.element, "width")
                            })])])
                        }
                    }
                },
                name: "sidebar",
                schema: [ot("dom")]
            })
              , OL = Tw.optional({
                factory: {
                    sketch: function(e) {
                        return {
                            uid: e.uid,
                            dom: {
                                tag: "div",
                                attributes: {
                                    "aria-hidden": "true"
                                },
                                classes: ["tox-throbber"],
                                styles: {
                                    display: "none"
                                }
                            },
                            behaviours: Wt([pr.config({}), Pp.config({
                                focus: !1
                            }), qr.config({
                                find: function(n) {
                                    return Yt(n.components())
                                }
                            })]),
                            components: []
                        }
                    }
                },
                name: "throbber",
                schema: [ot("dom")]
            })
              , Oi = Lu({
                name: "OuterContainer",
                factory: function(e, n, r) {
                    var u = {
                        getSocket: function(l) {
                            return Yc.getPart(l, e, "socket")
                        },
                        setSidebar: function(l, d) {
                            Yc.getPart(l, e, "sidebar").each(function(p) {
                                return function(e, n) {
                                    qr.getCurrent(e).each(function(u) {
                                        return pr.set(u, [RI(n)])
                                    })
                                }(p, d)
                            })
                        },
                        toggleSidebar: function(l, d) {
                            Yc.getPart(l, e, "sidebar").each(function(p) {
                                return function(e, n) {
                                    qr.getCurrent(e).each(function(u) {
                                        qr.getCurrent(u).each(function(d) {
                                            em.hasGrown(u) ? _g.isShowing(d, n) ? em.shrink(u) : (_g.hideAllSlots(d),
                                            _g.showSlot(d, n)) : (_g.hideAllSlots(d),
                                            _g.showSlot(d, n),
                                            em.grow(u))
                                        })
                                    })
                                }(p, d)
                            })
                        },
                        whichSidebar: function(l) {
                            return Yc.getPart(l, e, "sidebar").bind(NI).getOrNull()
                        },
                        getHeader: function(l) {
                            return Yc.getPart(l, e, "header")
                        },
                        getToolbar: function(l) {
                            return Yc.getPart(l, e, "toolbar")
                        },
                        setToolbar: function(l, d) {
                            Yc.getPart(l, e, "toolbar").each(function(p) {
                                p.getApis().setGroups(p, d)
                            })
                        },
                        setToolbars: function(l, d) {
                            Yc.getPart(l, e, "multiple-toolbar").each(function(p) {
                                _D.setItems(p, d)
                            })
                        },
                        refreshToolbar: function(l) {
                            Yc.getPart(l, e, "toolbar").each(function(p) {
                                return p.getApis().refresh(p)
                            })
                        },
                        toggleToolbarDrawer: function(l) {
                            Yc.getPart(l, e, "toolbar").each(function(d) {
                                !function(e, n) {
                                    null != e ? D.some(e(d)) : D.none()
                                }(d.getApis().toggle)
                            })
                        },
                        isToolbarDrawerToggled: function(l) {
                            return Yc.getPart(l, e, "toolbar").bind(function(d) {
                                return D.from(d.getApis().isOpen).map(function(p) {
                                    return p(d)
                                })
                            }).getOr(!1)
                        },
                        getThrobber: function(l) {
                            return Yc.getPart(l, e, "throbber")
                        },
                        focusToolbar: function(l) {
                            Yc.getPart(l, e, "toolbar").orThunk(function() {
                                return Yc.getPart(l, e, "multiple-toolbar")
                            }).each(function(p) {
                                Yn.focusIn(p)
                            })
                        },
                        setMenubar: function(l, d) {
                            Yc.getPart(l, e, "menubar").each(function(p) {
                                A4.setMenus(p, d)
                            })
                        },
                        focusMenubar: function(l) {
                            Yc.getPart(l, e, "menubar").each(function(d) {
                                A4.focus(d)
                            })
                        }
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        apis: u,
                        behaviours: e.behaviours
                    }
                },
                configFields: [ot("dom"), ot("behaviours")],
                partFields: [kL, CL, _L, TL, EL, AL, OL],
                apis: {
                    getSocket: function(e, n) {
                        return e.getSocket(n)
                    },
                    setSidebar: function(e, n, r) {
                        e.setSidebar(n, r)
                    },
                    toggleSidebar: function(e, n, r) {
                        e.toggleSidebar(n, r)
                    },
                    whichSidebar: function(e, n) {
                        return e.whichSidebar(n)
                    },
                    getHeader: function(e, n) {
                        return e.getHeader(n)
                    },
                    getToolbar: function(e, n) {
                        return e.getToolbar(n)
                    },
                    setToolbar: function(e, n, r) {
                        var u = re(r, function(l) {
                            return B_(l)
                        });
                        e.setToolbar(n, u)
                    },
                    setToolbars: function(e, n, r) {
                        var u = re(r, function(l) {
                            return re(l, B_)
                        });
                        e.setToolbars(n, u)
                    },
                    refreshToolbar: function(e, n) {
                        return e.refreshToolbar(n)
                    },
                    toggleToolbarDrawer: function(e, n) {
                        e.toggleToolbarDrawer(n)
                    },
                    isToolbarDrawerToggled: function(e, n) {
                        return e.isToolbarDrawerToggled(n)
                    },
                    getThrobber: function(e, n) {
                        return e.getThrobber(n)
                    },
                    setMenubar: function(e, n, r) {
                        e.setMenubar(n, r)
                    },
                    focusMenubar: function(e, n) {
                        e.focusMenubar(n)
                    },
                    focusToolbar: function(e, n) {
                        e.focusToolbar(n)
                    }
                }
            })
              , c5 = {
                file: {
                    title: "File",
                    items: "newdocument restoredraft | preview | export print | deleteallconversations"
                },
                edit: {
                    title: "Edit",
                    items: "undo redo | cut copy paste pastetext | selectall | searchreplace"
                },
                view: {
                    title: "View",
                    items: "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"
                },
                insert: {
                    title: "Insert",
                    items: "image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"
                },
                format: {
                    title: "Format",
                    items: "bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"
                },
                tools: {
                    title: "Tools",
                    items: "spellchecker spellcheckerlanguage | a11ycheck code wordcount"
                },
                table: {
                    title: "Table",
                    items: "inserttable | cell row column | advtablesort | tableprops deletetable"
                },
                help: {
                    title: "Help",
                    items: "help"
                }
            }
              , I4 = function(e) {
                return "string" == typeof e ? e.split(" ") : e
            }
              , l5 = function(e, n) {
                var r = ae(ae({}, c5), n.menus)
                  , u = An(n.menus).length > 0
                  , l = I4(void 0 === n.menubar || !0 === n.menubar ? "file edit view insert format tools table help" : !1 === n.menubar ? "" : n.menubar)
                  , d = je(l, function(S) {
                    var T = yr(c5, S);
                    return u ? T || St(n.menus, S).exists(function(O) {
                        return yr(O, "items")
                    }) : T
                })
                  , p = re(d, function(S) {
                    var T = r[S];
                    return function(e, n, r) {
                        var u = function(e) {
                            return e.getParam("removed_menuitems", "")
                        }(r).split(/[ ,]/);
                        return {
                            text: e.title,
                            getItems: function() {
                                return Un(e.items, function(l) {
                                    var d = l.toLowerCase();
                                    return 0 === d.trim().length || ir(u, function(p) {
                                        return p === d
                                    }) ? [] : "separator" === d || "|" === d ? [{
                                        type: "separator"
                                    }] : n.menuItems[d] ? [n.menuItems[d]] : []
                                })
                            }
                        }
                    }({
                        title: T.title,
                        items: I4(T.items)
                    }, n, e)
                });
                return je(p, function(S) {
                    return S.getItems().length > 0 && ir(S.getItems(), function(O) {
                        return "separator" !== O.type
                    })
                })
            }
              , f5 = function(e) {
                var n = function() {
                    e._skinLoaded = !0,
                    function(e) {
                        e.fire("SkinLoaded")
                    }(e)
                };
                return function() {
                    e.initialized ? n() : e.on("init", n)
                }
            }
              , v5 = function(e, n, r) {
                return new Lf(function(u, l) {
                    r.load(n, u, l),
                    e.on("remove", function() {
                        return r.unload(n)
                    })
                }
                )
            }
              , PL = function(e, n) {
                return v5(e, n + "/skin.min.css", e.ui.styleSheetLoader)
            }
              , BL = function(e, n) {
                return function(e) {
                    return to(e).isSome()
                }(Ie_fromDom(e.getElement())) ? v5(e, n + "/skin.shadowdom.min.css", ft.DOM.styleSheetLoader) : Lf.resolve()
            }
              , d5 = function(e, n) {
                var r = function(e) {
                    var n = e.getParam("skin")
                      , r = e.getParam("skin_url");
                    if (!1 !== n) {
                        var u = n || "oxide";
                        r = r ? e.documentBaseURI.toAbsolute(r) : Zt.baseURL + "/skins/ui/" + u
                    }
                    return r
                }(n);
                r && n.contentCSS.push(r + (e ? "/content.inline" : "/content") + ".min.css"),
                !1 === function(e) {
                    return !1 === e.getParam("skin")
                }(n) && wn(r) ? Lf.all([PL(n, r), BL(n, r)]).then(f5(n), function(e, n) {
                    return function() {
                        return function(e, n) {
                            return e.fire("SkinLoadError", n)
                        }(e, {
                            message: "Skin could not be loaded"
                        })
                    }
                }(n)) : f5(n)()
            }
              , NL = In(d5, !1)
              , zL = In(d5, !0)
              , z_ = function(e, n) {
                return function(r) {
                    var u = yv()
                      , l = function() {
                        r.setActive(e.formatter.match(n));
                        var d = e.formatter.formatChanged(n, r.setActive);
                        u.set(d)
                    };
                    return e.initialized ? l() : e.once("init", l),
                    function() {
                        e.off("init", l),
                        u.clear()
                    }
                }
            }
              , F_ = function(e, n, r) {
                return function(u) {
                    var l = function() {
                        return r(u)
                    }
                      , d = function() {
                        r(u),
                        e.on(n, l)
                    };
                    return e.initialized ? d() : e.once("init", d),
                    function() {
                        e.off("init", d),
                        e.off(n, l)
                    }
                }
            }
              , m5 = function(e) {
                return function(n) {
                    return function() {
                        e.undoManager.transact(function() {
                            e.focus(),
                            e.execCommand("mceToggleFormat", !1, n.format)
                        })
                    }
                }
            }
              , $f = function(e, n) {
                return function() {
                    return e.execCommand(n)
                }
            }
              , FL = function(e, n, r) {
                var u = function(S, T, O, I) {
                    var $ = n.shared.providers.translate(S.title);
                    if ("separator" === S.type)
                        return D.some({
                            type: "separator",
                            text: $
                        });
                    if ("submenu" === S.type) {
                        var q = Un(S.getStyleItems(), function(Z) {
                            return l(Z, T, I)
                        });
                        return 0 === T && q.length <= 0 ? D.none() : D.some({
                            type: "nestedmenuitem",
                            text: $,
                            disabled: q.length <= 0,
                            getSubmenuItems: function() {
                                return Un(S.getStyleItems(), function(Z) {
                                    return l(Z, T, I)
                                })
                            }
                        })
                    }
                    return D.some(ae({
                        type: "togglemenuitem",
                        text: $,
                        icon: S.icon,
                        active: S.isSelected(I),
                        disabled: O,
                        onAction: r.onAction(S)
                    }, S.getStylePreview().fold(function() {
                        return {}
                    }, function(Z) {
                        return {
                            meta: {
                                style: Z
                            }
                        }
                    })))
                }
                  , l = function(S, T, O) {
                    var I = "formatter" === S.type && r.isInvalid(S);
                    return 0 === T ? I ? [] : u(S, T, !1, O).toArray() : u(S, T, I, O).toArray()
                }
                  , d = function(S) {
                    var T = r.getCurrentValue()
                      , O = r.shouldHide ? 0 : 1;
                    return Un(S, function(I) {
                        return l(I, O, T)
                    })
                };
                return {
                    validateItems: d,
                    getFetch: function(S, T) {
                        return function(O, I) {
                            var $ = T()
                              , q = d($);
                            I(US(q, af.CLOSE_ON_EXECUTE, S, !1))
                        }
                    }
                }
            }
              , qS = function(e, n, r) {
                var u = r.dataset
                  , l = "basic" === u.type ? function() {
                    return re(u.data, function(d) {
                        return dD(d, r.isSelectedFor, r.getPreviewFor)
                    })
                }
                : u.getData;
                return {
                    items: FL(0, n, r),
                    getStyleItems: l
                }
            }
              , B3 = function(e, n, r) {
                var u = qS(0, n, r)
                  , l = u.items
                  , d = u.getStyleItems
                  , S = F_(e, "NodeChange", function(T) {
                    var O = T.getComponent();
                    r.updateText(O)
                });
                return s4({
                    text: r.icon.isSome() ? D.none() : r.text,
                    icon: r.icon,
                    tooltip: D.from(r.tooltip),
                    role: D.none(),
                    fetch: l.getFetch(n, d),
                    onSetup: S,
                    getApi: function(T) {
                        return {
                            getComponent: Se(T)
                        }
                    },
                    columns: 1,
                    presets: "normal",
                    classes: r.icon.isSome() ? [] : ["bespoke"],
                    dropdownBehaviours: []
                }, "tox-tbtn", n.shared)
            }
              , kw = (()=>(function(e) {
                e[e.SemiColon = 0] = "SemiColon",
                e[e.Space = 1] = "Space"
            }(kw || (kw = {})),
            kw))()
              , L4 = function(e, n, r, u) {
                var d = function(e) {
                    return re(e, function(n) {
                        var r = n
                          , u = n
                          , l = n.split("=");
                        return l.length > 1 && (r = l[0],
                        u = l[1]),
                        {
                            title: r,
                            format: u
                        }
                    })
                }(function(e, n) {
                    return n === kw.SemiColon ? e.replace(/;$/, "").split(";") : e.split(" ")
                }(e.getParam(n, r, "string"), u));
                return {
                    type: "basic",
                    data: d
                }
            }
              , H4 = [{
                title: "Left",
                icon: "align-left",
                format: "alignleft",
                command: "JustifyLeft"
            }, {
                title: "Center",
                icon: "align-center",
                format: "aligncenter",
                command: "JustifyCenter"
            }, {
                title: "Right",
                icon: "align-right",
                format: "alignright",
                command: "JustifyRight"
            }, {
                title: "Justify",
                icon: "align-justify",
                format: "alignjustify",
                command: "JustifyFull"
            }]
              , g5 = function(e) {
                var d = function(e) {
                    return {
                        type: "basic",
                        data: e
                    }
                }(H4);
                return {
                    tooltip: "Align",
                    text: D.none(),
                    icon: D.some("align-left"),
                    isSelectedFor: function(S) {
                        return function() {
                            return e.formatter.match(S)
                        }
                    },
                    getCurrentValue: D.none,
                    getPreviewFor: function(S) {
                        return D.none
                    },
                    onAction: function(S) {
                        return function() {
                            return $n(H4, function(T) {
                                return T.format === S.format
                            }).each(function(T) {
                                return e.execCommand(T.command)
                            })
                        }
                    },
                    updateText: function(S) {
                        var T = $n(H4, function(S) {
                            return e.formatter.match(S.format)
                        })
                          , O = T.fold(Se("left"), function(I) {
                            return I.title.toLowerCase()
                        });
                        Vn(S, IO, {
                            icon: "align-" + O
                        })
                    },
                    dataset: d,
                    shouldHide: !1,
                    isInvalid: function(S) {
                        return !e.formatter.canApply(S.format)
                    }
                }
            }
              , WL = ["-apple-system", "Segoe UI", "Roboto", "Helvetica Neue", "sans-serif"]
              , h5 = function(e) {
                var n = e.split(/\s*,\s*/);
                return re(n, function(r) {
                    return r.replace(/^['"]+|['"]+$/g, "")
                })
            }
              , p5 = function(e) {
                var n = "System Font"
                  , r = function() {
                    var O = function(te) {
                        return te ? h5(te)[0] : ""
                    }
                      , I = e.queryCommandValue("FontName")
                      , $ = T.data
                      , q = I ? I.toLowerCase() : ""
                      , Z = $n($, function(te) {
                        var de = te.format;
                        return de.toLowerCase() === q || O(de).toLowerCase() === O(q).toLowerCase()
                    }).orThunk(function() {
                        return da(function(e) {
                            var r;
                            return 0 === e.indexOf("-apple-system") && (r = h5(e.toLowerCase()),
                            xo(WL, function(u) {
                                return r.indexOf(u.toLowerCase()) > -1
                            }))
                        }(q), {
                            title: n,
                            format: q
                        })
                    });
                    return {
                        matchOpt: Z,
                        font: I
                    }
                }
                  , T = L4(e, "font_formats", "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats", kw.SemiColon);
                return {
                    tooltip: "Fonts",
                    text: D.some(n),
                    icon: D.none(),
                    isSelectedFor: function(O) {
                        return function(I) {
                            return I.exists(function($) {
                                return $.format === O
                            })
                        }
                    },
                    getCurrentValue: function() {
                        return r().matchOpt
                    },
                    getPreviewFor: function(O) {
                        return function() {
                            return D.some({
                                tag: "div",
                                styles: -1 === O.indexOf("dings") ? {
                                    "font-family": O
                                } : {}
                            })
                        }
                    },
                    onAction: function(O) {
                        return function() {
                            e.undoManager.transact(function() {
                                e.focus(),
                                e.execCommand("FontName", !1, O.format)
                            })
                        }
                    },
                    updateText: function(O) {
                        var I = r()
                          , Z = I.matchOpt.fold(Se(I.font), function(te) {
                            return te.title
                        });
                        Vn(O, VS, {
                            text: Z
                        })
                    },
                    dataset: T,
                    shouldHide: !1,
                    isInvalid: st
                }
            }
              , XL = {
                "8pt": "1",
                "10pt": "2",
                "12pt": "3",
                "14pt": "4",
                "18pt": "5",
                "24pt": "6",
                "36pt": "7"
            }
              , YL = {
                "xx-small": "7pt",
                "x-small": "8pt",
                small: "10pt",
                medium: "12pt",
                large: "14pt",
                "x-large": "18pt",
                "xx-large": "24pt"
            }
              , b5 = function(e) {
                var n = function() {
                    var T = D.none()
                      , O = S.data
                      , I = e.queryCommandValue("FontSize");
                    if (I)
                        for (var $ = function(Z) {
                            var te = function(e, n) {
                                return /[0-9.]+px$/.test(e) ? function(e, n) {
                                    var r = Math.pow(10, n);
                                    return Math.round(e * r) / r
                                }(72 * parseInt(e, 10) / 96, n || 0) + "pt" : St(YL, e).getOr(e)
                            }(I, Z)
                              , de = function(e) {
                                return St(XL, e).getOr("")
                            }(te);
                            T = $n(O, function(Te) {
                                return Te.format === I || Te.format === te || Te.format === de
                            })
                        }, q = 3; T.isNone() && q >= 0; q--)
                            $(q);
                    return {
                        matchOpt: T,
                        size: I
                    }
                }
                  , l = Se(D.none)
                  , S = L4(e, "fontsize_formats", "8pt 10pt 12pt 14pt 18pt 24pt 36pt", kw.Space);
                return {
                    tooltip: "Font sizes",
                    text: D.some("12pt"),
                    icon: D.none(),
                    isSelectedFor: function(T) {
                        return function(O) {
                            return O.exists(function(I) {
                                return I.format === T
                            })
                        }
                    },
                    getPreviewFor: l,
                    getCurrentValue: function() {
                        return n().matchOpt
                    },
                    onAction: function(T) {
                        return function() {
                            e.undoManager.transact(function() {
                                e.focus(),
                                e.execCommand("FontSize", !1, T.format)
                            })
                        }
                    },
                    updateText: function(T) {
                        var O = n()
                          , q = O.matchOpt.fold(Se(O.size), function(Z) {
                            return Z.title
                        });
                        Vn(T, VS, {
                            text: q
                        })
                    },
                    dataset: S,
                    shouldHide: !1,
                    isInvalid: st
                }
            }
              , y5 = function(e, n) {
                var r = n()
                  , u = re(r, function(l) {
                    return l.format
                });
                return D.from(e.formatter.closest(u)).bind(function(l) {
                    return $n(r, function(d) {
                        return d.format === l
                    })
                }).orThunk(function() {
                    return da(e.formatter.match("p"), {
                        title: "Paragraph",
                        format: "p"
                    })
                })
            }
              , w5 = function(e) {
                var n = "Paragraph"
                  , d = L4(e, "block_formats", "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre", kw.SemiColon);
                return {
                    tooltip: "Blocks",
                    text: D.some(n),
                    icon: D.none(),
                    isSelectedFor: function(p) {
                        return function() {
                            return e.formatter.match(p)
                        }
                    },
                    getCurrentValue: D.none,
                    getPreviewFor: function(p) {
                        return function() {
                            var S = e.formatter.get(p);
                            return D.some({
                                tag: S.length > 0 && (S[0].inline || S[0].block) || "div",
                                styles: e.dom.parseStyle(e.formatter.getCssText(p))
                            })
                        }
                    },
                    onAction: m5(e),
                    updateText: function(p) {
                        var T = y5(e, function() {
                            return d.data
                        }).fold(Se(n), function(O) {
                            return O.title
                        });
                        Vn(p, VS, {
                            text: T
                        })
                    },
                    dataset: d,
                    shouldHide: !1,
                    isInvalid: function(p) {
                        return !e.formatter.canApply(p.format)
                    }
                }
            }
              , x5 = function(e, n) {
                var r = "Paragraph";
                return {
                    tooltip: "Formats",
                    text: D.some(r),
                    icon: D.none(),
                    isSelectedFor: function(p) {
                        return function() {
                            return e.formatter.match(p)
                        }
                    },
                    getCurrentValue: D.none,
                    getPreviewFor: function(p) {
                        return function() {
                            var S = e.formatter.get(p);
                            return void 0 !== S ? D.some({
                                tag: S.length > 0 && (S[0].inline || S[0].block) || "div",
                                styles: e.dom.parseStyle(e.formatter.getCssText(p))
                            }) : D.none()
                        }
                    },
                    onAction: m5(e),
                    updateText: function(p) {
                        var S = function($) {
                            var q = $.items;
                            return void 0 !== q && q.length > 0 ? Un(q, S) : [{
                                title: $.title,
                                format: $.format
                            }]
                        }
                          , T = Un(vD(e), S)
                          , I = y5(e, Se(T)).fold(Se(r), function($) {
                            return $.title
                        });
                        Vn(p, VS, {
                            text: I
                        })
                    },
                    shouldHide: e.getParam("style_formats_autohide", !1, "boolean"),
                    isInvalid: function(p) {
                        return !e.formatter.canApply(p.format)
                    },
                    dataset: n
                }
            }
              , s9 = Object.freeze({
                __proto__: null,
                events: function(e, n) {
                    var r = function(u, l) {
                        e.updateState.each(function(d) {
                            var p = d(u, l);
                            n.set(p)
                        }),
                        e.renderComponents.each(function(d) {
                            var p = d(l, n.get())
                              , S = re(p, u.getSystem().build);
                            Zm(u, S)
                        })
                    };
                    return Lo([gt(Cf(), function(u, l) {
                        var d = l;
                        d.universal || nn(d.channels, e.channel) && r(u, d.data)
                    }), pa(function(u, l) {
                        e.initialData.each(function(d) {
                            r(u, d)
                        })
                    })])
                }
            })
              , l9 = Object.freeze({
                __proto__: null,
                getState: function(e, n, r) {
                    return r
                }
            })
              , f9 = [ot("channel"), To("renderComponents"), To("updateState"), To("initialData")]
              , d9 = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = Xn(D.none());
                    return {
                        readState: function() {
                            return e.get().getOr("none")
                        },
                        get: e.get,
                        set: e.set,
                        clear: function() {
                            return e.set(D.none())
                        }
                    }
                }
            })
              , Cl = zi({
                fields: f9,
                name: "reflecting",
                active: s9,
                apis: l9,
                state: d9
            })
              , m9 = Se([ot("toggleClass"), ot("fetch"), fl("onExecute"), Be("getHotspot", D.some), Be("getAnchorOverrides", Se({})), bc(), fl("onItemExecute"), To("lazySink"), ot("dom"), vo("onOpen"), Wi("splitDropdownBehaviours", [Gi, Yn, sr]), Be("matchWidth", !1), Be("useMinWidth", !1), Be("eventOrder", {}), To("role")].concat(Ik()))
              , g9 = Va({
                factory: Is,
                schema: [ot("dom")],
                name: "arrow",
                defaults: function() {
                    return {
                        buttonBehaviours: Wt([sr.revoke()])
                    }
                },
                overrides: function(e) {
                    return {
                        dom: {
                            tag: "span",
                            attributes: {
                                role: "presentation"
                            }
                        },
                        action: function(n) {
                            n.getSystem().getByUid(e.uid).each(ov)
                        },
                        buttonBehaviours: Wt([io.config({
                            toggleOnExecute: !1,
                            toggleClass: e.toggleClass
                        })])
                    }
                }
            })
              , h9 = Va({
                factory: Is,
                schema: [ot("dom")],
                name: "button",
                defaults: function() {
                    return {
                        buttonBehaviours: Wt([sr.revoke()])
                    }
                },
                overrides: function(e) {
                    return {
                        dom: {
                            tag: "span",
                            attributes: {
                                role: "presentation"
                            }
                        },
                        action: function(n) {
                            n.getSystem().getByUid(e.uid).each(function(r) {
                                e.onExecute(r, n)
                            })
                        }
                    }
                }
            })
              , p9 = Se([g9, h9, tc({
                factory: {
                    sketch: function(e) {
                        return {
                            uid: e.uid,
                            dom: {
                                tag: "span",
                                styles: {
                                    display: "none"
                                },
                                attributes: {
                                    "aria-hidden": "true"
                                },
                                innerHtml: e.text
                            }
                        }
                    }
                },
                schema: [ot("text")],
                name: "aria-descriptor"
            }), is({
                schema: [Rm()],
                name: "menu",
                defaults: function(e) {
                    return {
                        onExecute: function(n, r) {
                            n.getSystem().getByUid(e.uid).each(function(u) {
                                e.onItemExecute(u, n, r)
                            })
                        }
                    }
                }
            }), NA()])
              , I_ = Lu({
                name: "SplitDropdown",
                configFields: m9(),
                partFields: p9(),
                factory: function(e, n, r, u) {
                    var l, d = function($) {
                        qr.getCurrent($).each(function(q) {
                            _o.highlightFirst(q),
                            Yn.focusIn(q)
                        })
                    }, p = function($) {
                        IS(e, _n, $, u, d, Gv.HighlightFirst).get(Xe)
                    }, T = function($) {
                        var q = Wl($, e, "button");
                        return ov(q),
                        D.some(!0)
                    }, O = ae(ae({}, Lo([pa(function($, q) {
                        Ro($, e, "aria-descriptor").each(function(te) {
                            var de = Pn("aria");
                            wr(te.element, "id", de),
                            wr($.element, "aria-describedby", de)
                        })
                    })])), ob(D.some(p)));
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        apis: {
                            repositionMenus: function($) {
                                io.isOn($) && LA($)
                            }
                        },
                        eventOrder: ae(ae({}, e.eventOrder), (l = {},
                        l[co()] = ["disabling", "toggling", "alloy.base.behaviour"],
                        l)),
                        events: O,
                        behaviours: eu(e.splitDropdownBehaviours, [Gi.config({
                            others: {
                                sandbox: function($) {
                                    var q = Wl($, e, "arrow");
                                    return Fk(e, $, {
                                        onOpen: function() {
                                            io.on(q),
                                            io.on($)
                                        },
                                        onClose: function() {
                                            io.off(q),
                                            io.off($)
                                        }
                                    })
                                }
                            }
                        }), Yn.config({
                            mode: "special",
                            onSpace: T,
                            onEnter: T,
                            onDown: function($) {
                                return p($),
                                D.some(!0)
                            }
                        }), sr.config({}), io.config({
                            toggleOnExecute: !1,
                            aria: {
                                mode: "expanded"
                            }
                        })]),
                        domModification: {
                            attributes: {
                                role: e.role.getOr("button"),
                                "aria-haspopup": !0
                            }
                        }
                    }
                },
                apis: {
                    repositionMenus: function(e, n) {
                        return e.repositionMenus(n)
                    }
                }
            })
              , y9 = function(e) {
                return {
                    isDisabled: function() {
                        return On.isDisabled(e)
                    },
                    setDisabled: function(n) {
                        return On.set(e, n)
                    }
                }
            }
              , w9 = function(e) {
                return {
                    setActive: function(n) {
                        io.set(e, n)
                    },
                    isActive: function() {
                        return io.isOn(e)
                    },
                    isDisabled: function() {
                        return On.isDisabled(e)
                    },
                    setDisabled: function(n) {
                        return On.set(e, n)
                    }
                }
            }
              , C5 = function(e, n) {
                return e.map(function(r) {
                    return {
                        "aria-label": n.translate(r),
                        title: n.translate(r)
                    }
                }).getOr({})
            }
              , S5 = Pn("focus-button")
              , $4 = function(e, n, r, u, l, d) {
                var p;
                return {
                    dom: {
                        tag: "button",
                        classes: ["tox-tbtn"].concat(n.isSome() ? ["tox-tbtn--select"] : []),
                        attributes: C5(r, d)
                    },
                    components: PS([e.map(function(S) {
                        return E_(S, d.icons)
                    }), n.map(function(S) {
                        return i4(S, "tox-tbtn", d)
                    })]),
                    eventOrder: (p = {},
                    p[Pc()] = ["focusing", "alloy.base.behaviour", "common-button-display-events"],
                    p),
                    buttonBehaviours: Wt([jv_toolbarButton(d.isDisabled), mu(), rn("common-button-display-events", [gt(Pc(), function(S, T) {
                        T.event.prevent(),
                        po(S, S5)
                    })])].concat(u.map(function(S) {
                        return Cl.config({
                            channel: S,
                            initialData: {
                                icon: e,
                                text: n
                            },
                            renderComponents: function(T, O) {
                                return PS([T.icon.map(function(I) {
                                    return E_(I, d.icons)
                                }), T.text.map(function(I) {
                                    return i4(I, "tox-tbtn", d)
                                })])
                            }
                        })
                    }).toArray()).concat(l.getOr([])))
                }
            }
              , T5 = function(e, n, r) {
                var u = Xn(Xe)
                  , l = $4(e.icon, e.text, e.tooltip, D.none(), D.none(), r);
                return Is.sketch({
                    dom: l.dom,
                    components: l.components,
                    eventOrder: FO,
                    buttonBehaviours: Wt([rn("toolbar-button-events", [P7({
                        onAction: e.onAction,
                        getApi: n.getApi
                    }), p3(n, u), b3(n, u)]), jv_toolbarButton(function() {
                        return e.disabled || r.isDisabled()
                    }), mu()].concat(n.toolbarButtonBehaviours))
                })
            }
              , _5 = function(e, n, r) {
                return T5(e, {
                    toolbarButtonBehaviours: [].concat(r.length > 0 ? [rn("toolbarButtonWith", r)] : []),
                    getApi: y9,
                    onSetup: e.onSetup
                }, n)
            }
              , k5 = function(e, n, r) {
                return Tn(T5(e, {
                    toolbarButtonBehaviours: [pr.config({}), io.config({
                        toggleClass: "tox-tbtn--enabled",
                        aria: {
                            mode: "pressed"
                        },
                        toggleOnExecute: !1
                    })].concat(r.length > 0 ? [rn("toolbarToggleButtonWith", r)] : []),
                    getApi: w9,
                    onSetup: e.onSetup
                }, n))
            }
              , T9 = function(e, n, r) {
                return function(u) {
                    return Cs_nu(function(l) {
                        return n.fetch(l)
                    }).map(function(l) {
                        return D.from(vA(Tn(Mk(Pn("menu-value"), l, function(d) {
                            n.onItemAction(e(u), d)
                        }, n.columns, n.presets, af.CLOSE_ON_EXECUTE, n.select.getOr(st), r), {
                            movement: v_(n.columns, n.presets),
                            menuBehaviours: Ge_unnamedEvents("auto" !== n.columns ? [] : [pa(function(d, p) {
                                ue(d, 4, kS(n.presets)).each(function(S) {
                                    Yn.setGridSize(d, S.numRows, S.numColumns)
                                })
                            })])
                        })))
                    })
                }
            }
              , k9 = [{
                name: "history",
                items: ["undo", "redo"]
            }, {
                name: "styles",
                items: ["styleselect"]
            }, {
                name: "formatting",
                items: ["bold", "italic"]
            }, {
                name: "alignment",
                items: ["alignleft", "aligncenter", "alignright", "alignjustify"]
            }, {
                name: "indentation",
                items: ["outdent", "indent"]
            }, {
                name: "permanent pen",
                items: ["permanentpen"]
            }, {
                name: "comments",
                items: ["addcomment"]
            }]
              , N3 = function(e, n) {
                return function(r, u, l) {
                    var d = e(r).mapError(function(p) {
                        return uu(p)
                    }).getOrDie();
                    return n(d, u, l)
                }
            }
              , KS = {
                button: N3($v, function(e, n) {
                    return function(e, n) {
                        return _5(e, n, [])
                    }(e, n.backstage.shared.providers)
                }),
                togglebutton: N3(n_, function(e, n) {
                    return function(e, n) {
                        return k5(e, n, [])
                    }(e, n.backstage.shared.providers)
                }),
                menubutton: N3(HD, function(e, n) {
                    return l4(e, "tox-tbtn", n.backstage, D.none())
                }),
                splitbutton: N3(function(e) {
                    return Wo("SplitButton", oI, e)
                }, function(e, n) {
                    return function(e, n) {
                        var r, u = Pn("channel-update-split-dropdown-display"), l = function(S) {
                            return {
                                isDisabled: function() {
                                    return On.isDisabled(S)
                                },
                                setDisabled: function(T) {
                                    return On.set(S, T)
                                },
                                setIconFill: function(T, O) {
                                    ta(S.element, 'svg path[id="' + T + '"], rect[id="' + T + '"]').each(function(I) {
                                        wr(I, "fill", O)
                                    })
                                },
                                setIconStroke: function(T, O) {
                                    ta(S.element, 'svg path[id="' + T + '"], rect[id="' + T + '"]').each(function(I) {
                                        wr(I, "stroke", O)
                                    })
                                },
                                setActive: function(T) {
                                    wr(S.element, "aria-pressed", T),
                                    ta(S.element, "span").each(function(O) {
                                        S.getSystem().getByDom(O).each(function(I) {
                                            return io.set(I, T)
                                        })
                                    })
                                },
                                isActive: function() {
                                    return ta(S.element, "span").exists(function(T) {
                                        return S.getSystem().getByDom(T).exists(io.isOn)
                                    })
                                }
                            }
                        }, d = Xn(Xe), p = {
                            getApi: l,
                            onSetup: e.onSetup
                        };
                        return I_.sketch({
                            dom: {
                                tag: "div",
                                classes: ["tox-split-button"],
                                attributes: ae({
                                    "aria-pressed": !1
                                }, C5(e.tooltip, n.providers))
                            },
                            onExecute: function(S) {
                                e.onAction(l(S))
                            },
                            onItemExecute: function(S, T, O) {},
                            splitDropdownBehaviours: Wt([jv_splitButton(n.providers.isDisabled), mu(), rn("split-dropdown-events", [gt(S5, sr.focus), p3(p, d), b3(p, d)]), O3.config({})]),
                            eventOrder: (r = {},
                            r[cu()] = ["alloy.base.behaviour", "split-dropdown-events"],
                            r),
                            toggleClass: "tox-tbtn--enabled",
                            lazySink: n.getSink,
                            fetch: T9(l, e, n.providers),
                            parts: {
                                menu: Ep(0, 0, e.presets)
                            },
                            components: [I_.parts.button($4(e.icon, e.text, D.none(), D.some(u), D.some([io.config({
                                toggleClass: "tox-tbtn--enabled",
                                toggleOnExecute: !1
                            })]), n.providers)), I_.parts.arrow({
                                dom: {
                                    tag: "button",
                                    classes: ["tox-tbtn", "tox-split-button__chevron"],
                                    innerHtml: QT("chevron-down", n.providers.icons)
                                },
                                buttonBehaviours: Wt([jv_splitButton(n.providers.isDisabled), mu(), gS()])
                            }), I_.parts["aria-descriptor"]({
                                text: n.providers.translate("To open the popup, press Shift+Enter")
                            })]
                        })
                    }(e, n.backstage.shared)
                }),
                grouptoolbarbutton: N3(function(e) {
                    return Wo("GroupToolbarButton", eI, e)
                }, function(e, n, r) {
                    var u, l = r.ui.registry.getAll().buttons, p = ((u = {})[Bd] = n.backstage.shared.header.isPositionedAtTop() ? dl.TopToBottom : dl.BottomToTop,
                    u);
                    if (xi(r) === wa.floating)
                        return function(e, n, r, u) {
                            var l = n.shared;
                            return _w.sketch({
                                lazySink: l.getSink,
                                fetch: function() {
                                    return Cs_nu(function(d) {
                                        d(re(r(e.items), B_))
                                    })
                                },
                                markers: {
                                    toggledClass: "tox-tbtn--enabled"
                                },
                                parts: {
                                    button: $4(e.icon, e.text, e.tooltip, D.none(), D.none(), l.providers),
                                    toolbar: {
                                        dom: {
                                            tag: "div",
                                            classes: ["tox-toolbar__overflow"],
                                            attributes: u
                                        }
                                    }
                                }
                            })
                        }(e, n.backstage, function(S) {
                            return L_(r, {
                                buttons: l,
                                toolbar: S,
                                allowToolbarGroups: !1
                            }, n, D.none())
                        }, p);
                    throw new Error("Toolbar groups are only supported when using floating toolbar mode")
                }),
                styleSelectButton: function(e, n) {
                    return function(e, n) {
                        var r = ae({
                            type: "advanced"
                        }, n.styleselect);
                        return B3(e, n, x5(e, r))
                    }(e, n.backstage)
                },
                fontsizeSelectButton: function(e, n) {
                    return function(e, n) {
                        return B3(e, n, b5(e))
                    }(e, n.backstage)
                },
                fontSelectButton: function(e, n) {
                    return function(e, n) {
                        return B3(e, n, p5(e))
                    }(e, n.backstage)
                },
                formatButton: function(e, n) {
                    return function(e, n) {
                        return B3(e, n, w5(e))
                    }(e, n.backstage)
                },
                alignMenuButton: function(e, n) {
                    return function(e, n) {
                        return B3(e, n, g5(e))
                    }(e, n.backstage)
                }
            }
              , E5 = {
                styleselect: KS.styleSelectButton,
                fontsizeselect: KS.fontsizeSelectButton,
                fontselect: KS.fontSelectButton,
                formatselect: KS.formatButton,
                align: KS.alignMenuButton
            }
              , L_ = function(e, n, r, u) {
                var l = function(e) {
                    var n = e.toolbar;
                    return !1 === n ? [] : void 0 === n || !0 === n ? function(e) {
                        var n = re(k9, function(r) {
                            var u = je(r.items, function(l) {
                                return yr(e, l) || yr(E5, l)
                            });
                            return {
                                name: r.name,
                                items: u
                            }
                        });
                        return je(n, function(r) {
                            return r.items.length > 0
                        })
                    }(e.buttons) : wn(n) ? function(e) {
                        var n = e.split("|");
                        return re(n, function(r) {
                            return {
                                items: r.trim().split(" ")
                            }
                        })
                    }(n) : function(e) {
                        return Pt(e, function(n) {
                            return yr(n, "name") && yr(n, "items")
                        })
                    }(n) ? n : (console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),
                    [])
                }(n)
                  , d = re(l, function(p) {
                    var S = Un(p.items, function(T) {
                        return 0 === T.trim().length ? [] : function(e, n, r, u, l, d) {
                            return St(n, r.toLowerCase()).orThunk(function() {
                                return d.bind(function(p) {
                                    return Sr(p, function(S) {
                                        return St(n, S + r.toLowerCase())
                                    })
                                })
                            }).fold(function() {
                                return St(E5, r.toLowerCase()).map(function(p) {
                                    return p(e, l)
                                }).orThunk(function() {
                                    return D.none()
                                })
                            }, function(p) {
                                return "grouptoolbarbutton" !== p.type || u ? function(e, n, r) {
                                    return St(KS, e.type).fold(function() {
                                        return console.error("skipping button defined by", e),
                                        D.none()
                                    }, function(u) {
                                        return D.some(u(e, n, r))
                                    })
                                }(p, l, e) : (console.warn("Ignoring the '" + r + "' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),
                                D.none())
                            })
                        }(e, n.buttons, T, n.allowToolbarGroups, r, u).toArray()
                    });
                    return {
                        title: D.from(e.translate(p.name)),
                        items: S
                    }
                });
                return je(d, function(p) {
                    return p.items.length > 0
                })
            }
              , A5 = function(e, n, r, u) {
                var l = n.outerContainer
                  , d = r.toolbar
                  , p = r.buttons;
                if (Pt(d, wn)) {
                    var S = d.map(function(T) {
                        return L_(e, {
                            toolbar: T,
                            buttons: p,
                            allowToolbarGroups: r.allowToolbarGroups
                        }, {
                            backstage: u
                        }, D.none())
                    });
                    Oi.setToolbars(l, S)
                } else
                    Oi.setToolbar(l, L_(e, r, {
                        backstage: u
                    }, D.none()))
            }
              , O5 = Dr()
              , P9 = O5.os.isiOS() && O5.os.version.major <= 12
              , z9 = Object.freeze({
                __proto__: null,
                render: function(e, n, r, u, l) {
                    var d = Xn(0)
                      , p = n.outerContainer;
                    NL(e);
                    var S = Ie_fromDom(l.targetNode)
                      , T = ur(Bn(S));
                    (function(e, n) {
                        Id(e, n, Mi)
                    }
                    )(S, n.mothership),
                    Fh(T, n.uiMothership),
                    e.on("PostRender", function() {
                        A5(e, n, r, u),
                        d.set(e.getWin().innerWidth),
                        Oi.setMenubar(p, l5(e, r)),
                        Oi.setSidebar(p, r.sidebar),
                        function(e, n) {
                            var r = e.dom
                              , u = e.getWin()
                              , l = e.getDoc().documentElement
                              , d = Xn(Yo(u.innerWidth, u.innerHeight))
                              , p = Xn(Yo(l.offsetWidth, l.offsetHeight))
                              , S = function() {
                                var q = d.get();
                                (q.left !== u.innerWidth || q.top !== u.innerHeight) && (d.set(Yo(u.innerWidth, u.innerHeight)),
                                kk(e))
                            }
                              , T = function() {
                                var q = e.getDoc().documentElement
                                  , Z = p.get();
                                (Z.left !== q.offsetWidth || Z.top !== q.offsetHeight) && (p.set(Yo(q.offsetWidth, q.offsetHeight)),
                                kk(e))
                            }
                              , O = function(q) {
                                return function(e, n) {
                                    return e.fire("ScrollContent", n)
                                }(e, q)
                            };
                            r.bind(u, "resize", S),
                            r.bind(u, "scroll", O);
                            var I = wh(Ie_fromDom(e.getBody()), "load", T)
                              , $ = n.uiMothership.element;
                            e.on("hide", function() {
                                zn($, "display", "none")
                            }),
                            e.on("show", function() {
                                No($, "display")
                            }),
                            e.on("NodeChange", T),
                            e.on("remove", function() {
                                I.unbind(),
                                r.unbind(u, "resize", S),
                                r.unbind(u, "scroll", O),
                                u = null
                            })
                        }(e, n)
                    });
                    var O = Oi.getSocket(p).getOrDie("Could not find expected socket element");
                    if (P9) {
                        Ea(O.element, {
                            overflow: "scroll",
                            "-webkit-overflow-scrolling": "touch"
                        });
                        var I = function(e, n) {
                            var r = null;
                            return {
                                cancel: function() {
                                    gn(r) || (clearTimeout(r),
                                    r = null)
                                },
                                throttle: function() {
                                    for (var d = [], p = 0; p < arguments.length; p++)
                                        d[p] = arguments[p];
                                    gn(r) && (r = setTimeout(function() {
                                        r = null,
                                        e.apply(null, d)
                                    }, 20))
                                }
                            }
                        }(function() {
                            e.fire("ScrollContent")
                        })
                          , $ = li(O.element, "scroll", I.throttle);
                        e.on("remove", $.unbind)
                    }
                    AE(e, n),
                    e.addCommand("ToggleSidebar", function(de, Te) {
                        Oi.toggleSidebar(p, Te),
                        e.fire("ToggleSidebar")
                    }),
                    e.addQueryValueHandler("ToggleSidebar", function() {
                        return Oi.whichSidebar(p)
                    });
                    var q = xi(e);
                    return (q === wa.sliding || q === wa.floating) && e.on("ResizeWindow ResizeEditor ResizeContent", function() {
                        var de = e.getWin().innerWidth;
                        de !== d.get() && (Oi.refreshToolbar(n.outerContainer),
                        d.set(de))
                    }),
                    {
                        iframeContainer: O.element.dom,
                        editorContainer: p.element.dom,
                        api: {
                            enable: function() {
                                RS(n, !1)
                            },
                            disable: function() {
                                RS(n, !0)
                            },
                            isDisabled: function() {
                                return On.isDisabled(p)
                            }
                        }
                    }
                }
            })
              , V4 = function(e) {
                return /^[0-9\.]+(|px)$/i.test("" + e) ? D.some(parseInt("" + e, 10)) : D.none()
            }
              , U4 = function(e) {
                return Cn(e) ? e + "px" : e
            }
              , H_ = function(e, n, r) {
                var u = n.filter(function(d) {
                    return e < d
                })
                  , l = r.filter(function(d) {
                    return e > d
                });
                return u.or(l).getOr(e)
            }
              , D5 = function(e) {
                var n = ve(e)
                  , r = Ce(e)
                  , u = bt(e);
                return V4(n).map(function(l) {
                    return H_(l, r, u)
                })
            }
              , M5 = function(e, n) {
                var r = Ji(e);
                return {
                    pos: n ? r.y : r.bottom,
                    bounds: r
                }
            }
              , U9 = Object.freeze({
                __proto__: null,
                render: function(e, n, r, u, l) {
                    var d = n.mothership
                      , p = n.uiMothership
                      , S = n.outerContainer
                      , T = Xn(null)
                      , O = Ie_fromDom(l.targetNode)
                      , I = function(e, n, r, u, l) {
                        var d = r.uiMothership
                          , p = r.outerContainer
                          , S = ft.DOM
                          , T = DS(e)
                          , O = MS(e)
                          , I = bt(e).or(D5(e))
                          , $ = u.shared.header
                          , q = $.isPositionedAtTop
                          , Z = xi(e)
                          , te = Z === wa.sliding || Z === wa.floating
                          , de = Xn(!1)
                          , Te = function() {
                            return de.get() && !e.removed
                        }
                          , ce = function(yt) {
                            return te ? yt.fold(Se(0), function(it) {
                                return it.components().length > 1 ? ia(it.components()[1].element) : 0
                            }) : 0
                        }
                          , Ue = function() {
                            d.broadcastOn([Pf()], {})
                        }
                          , ut = function(yt) {
                            if (void 0 === yt && (yt = !1),
                            Te()) {
                                if (T || function() {
                                    var yt = I.getOrThunk(function() {
                                        var it = V4(ho(aa(), "margin-left")).getOr(0);
                                        return Hi(aa()) - Su(n).left + it
                                    });
                                    zn(l.get().element, "max-width", yt + "px")
                                }(),
                                te && Oi.refreshToolbar(p),
                                T || function() {
                                    var yt = Oi.getToolbar(p)
                                      , it = ce(yt)
                                      , $t = Ji(n)
                                      , kn = q() ? Math.max($t.y - ia(l.get().element) + it, 0) : $t.bottom;
                                    Ea(p.element, {
                                        position: "absolute",
                                        top: Math.round(kn) + "px",
                                        left: Math.round($t.x) + "px"
                                    })
                                }(),
                                O) {
                                    var it = l.get();
                                    yt ? rc.reset(it) : rc.refresh(it)
                                }
                                Ue()
                            }
                        }
                          , Jt = function(yt) {
                            if (void 0 === yt && (yt = !0),
                            !T && O && Te()) {
                                var it = $.getDockingMode()
                                  , $t = function(yt) {
                                    switch (Hf(e)) {
                                    case Ai.auto:
                                        var it = Oi.getToolbar(p)
                                          , $t = ce(it)
                                          , kn = ia(yt.element) - $t
                                          , mt = Ji(n);
                                        if (mt.y > kn)
                                            return "top";
                                        var Ln = ms(n)
                                          , Yr = Math.max(Ln.dom.scrollHeight, ia(Ln));
                                        return mt.bottom < Yr - kn || sc().bottom < mt.bottom - kn ? "bottom" : "top";
                                    case Ai.bottom:
                                        return "bottom";
                                    default:
                                        return "top"
                                    }
                                }(l.get());
                                $t !== it && (function(yt) {
                                    var it = l.get();
                                    rc.setModes(it, [yt]),
                                    $.setDockingMode(yt);
                                    var $t = q() ? dl.TopToBottom : dl.BottomToTop;
                                    wr(it.element, Bd, $t)
                                }($t),
                                yt && ut(!0))
                            }
                        };
                        return {
                            isVisible: Te,
                            isPositionedAtTop: q,
                            show: function() {
                                de.set(!0),
                                zn(p.element, "display", "flex"),
                                S.addClass(e.getBody(), "mce-edit-focus"),
                                No(d.element, "display"),
                                Jt(!1),
                                ut()
                            },
                            hide: function() {
                                de.set(!1),
                                r.outerContainer && (zn(p.element, "display", "none"),
                                S.removeClass(e.getBody(), "mce-edit-focus")),
                                zn(d.element, "display", "none")
                            },
                            update: ut,
                            updateMode: Jt,
                            repositionPopups: Ue
                        }
                    }(e, O, n, u, T)
                      , $ = function(e) {
                        return e.getParam("toolbar_persist", !1, "boolean")
                    }(e);
                    zL(e);
                    var q = function() {
                        if (T.get())
                            I.show();
                        else {
                            T.set(Oi.getHeader(S).getOrDie());
                            var te = g3(e);
                            Fh(te, d),
                            Fh(te, p),
                            A5(e, n, r, u),
                            Oi.setMenubar(S, l5(e, r)),
                            I.show(),
                            function(e, n, r, u) {
                                var l = Xn(M5(n, r.isPositionedAtTop()))
                                  , d = function(S) {
                                    var T = M5(n, r.isPositionedAtTop())
                                      , O = T.pos
                                      , I = T.bounds
                                      , $ = l.get()
                                      , q = $.pos
                                      , Z = $.bounds
                                      , te = I.height !== Z.height || I.width !== Z.width;
                                    l.set({
                                        pos: O,
                                        bounds: I
                                    }),
                                    te && kk(e, S),
                                    r.isVisible() && (q !== O ? r.update(!0) : te && (r.updateMode(),
                                    r.repositionPopups()))
                                };
                                u || (e.on("activate", r.show),
                                e.on("deactivate", r.hide)),
                                e.on("SkinLoaded ResizeWindow", function() {
                                    return r.update(!0)
                                }),
                                e.on("NodeChange keydown", function(S) {
                                    Hv.requestAnimationFrame(function() {
                                        return d(S)
                                    })
                                }),
                                e.on("ScrollWindow", function() {
                                    return r.updateMode()
                                });
                                var p = yv();
                                p.set(wh(Ie_fromDom(e.getBody()), "load", d)),
                                e.on("remove", function() {
                                    p.clear()
                                })
                            }(e, O, I, $),
                            e.nodeChanged()
                        }
                    };
                    return e.on("show", q),
                    e.on("hide", I.hide),
                    $ || (e.on("focus", q),
                    e.on("blur", I.hide)),
                    e.on("init", function() {
                        (e.hasFocus() || $) && q()
                    }),
                    AE(e, n),
                    {
                        editorContainer: S.element.dom,
                        api: {
                            show: function() {
                                I.show()
                            },
                            hide: function() {
                                I.hide()
                            },
                            enable: function() {
                                RS(n, !1)
                            },
                            disable: function() {
                                RS(n, !0)
                            },
                            isDisabled: function() {
                                return On.isDisabled(S)
                            }
                        }
                    }
                }
            })
              , R5 = "contexttoolbar-hide"
              , P5 = function(e, n) {
                return gt(zO, function(r, u) {
                    var d = function(e) {
                        return {
                            hide: function() {
                                return po(e, lc())
                            },
                            getValue: function() {
                                return tn.getValue(e)
                            }
                        }
                    }(e.get(r));
                    n.onAction(d, u.event.buttonApi)
                })
            }
              , J9_buildInitGroups = function(e, n) {
                var r = e.label.fold(function() {
                    return {}
                }, function(d) {
                    return {
                        "aria-label": d
                    }
                })
                  , u = ko(A3.sketch({
                    inputClasses: ["tox-toolbar-textfield", "tox-toolbar-nav-js"],
                    data: e.initValue(),
                    inputAttributes: r,
                    selectOnFocus: !0,
                    inputBehaviours: Wt([Yn.config({
                        mode: "special",
                        onEnter: function(d) {
                            return l.findPrimary(d).map(function(p) {
                                return ov(p),
                                !0
                            })
                        },
                        onLeft: function(d, p) {
                            return p.cut(),
                            D.none()
                        },
                        onRight: function(d, p) {
                            return p.cut(),
                            D.none()
                        }
                    })])
                }))
                  , l = function(e, n, r) {
                    var u = re(n, function(p) {
                        return ko(function(e, n, r) {
                            var u = {
                                backstage: {
                                    shared: {
                                        providers: r
                                    }
                                }
                            };
                            return "contextformtogglebutton" === n.type ? function(e, n, r) {
                                var l = on(n.original, ["primary"])
                                  , d = Ms(n_(ae(ae({}, l), {
                                    type: "togglebutton",
                                    onAction: Xe
                                })));
                                return k5(d, r.backstage.shared.providers, [P5(e, n)])
                            }(e, n, u) : function(e, n, r) {
                                var l = on(n.original, ["primary"])
                                  , d = Ms($v(ae(ae({}, l), {
                                    type: "button",
                                    onAction: Xe
                                })));
                                return _5(d, r.backstage.shared.providers, [P5(e, n)])
                            }(e, n, u)
                        }(e, p, r))
                    });
                    return {
                        asSpecs: function() {
                            return re(u, function(p) {
                                return p.asSpec()
                            })
                        },
                        findPrimary: function(p) {
                            return Sr(n, function(S, T) {
                                return S.primary ? D.from(u[T]).bind(function(O) {
                                    return O.getOpt(p)
                                }).filter(Kn(On.isDisabled)) : D.none()
                            })
                        }
                    }
                }(u, e.commands, n);
                return [{
                    title: D.none(),
                    items: [u.asSpec()]
                }, {
                    title: D.none(),
                    items: l.asSpecs()
                }]
            }
              , N5 = function(e, n, r) {
                return void 0 === r && (r = .01),
                n.bottom - e.y >= r && e.bottom - n.y >= r
            }
              , W4 = function(e) {
                var r = function(e) {
                    var n = e.getBoundingClientRect();
                    if (n.height <= 0 && n.width <= 0) {
                        var r = Sn(Ie_fromDom(e.startContainer), e.startOffset).element;
                        return (ri(r) ? L(r) : D.some(r)).filter(Sa).map(function(l) {
                            return l.dom.getBoundingClientRect()
                        }).getOr(n)
                    }
                    return n
                }(e.selection.getRng());
                if (e.inline) {
                    var u = Yu();
                    return Za(u.left + r.left, u.top + r.top, r.width, r.height)
                }
                var l = Ec(Ie_fromDom(e.getBody()));
                return Za(l.x + r.left, l.y + r.top, r.width, r.height)
            }
              , z5 = function(e, n, r, u) {
                void 0 === u && (u = 0);
                var l = ad(window)
                  , d = Ji(Ie_fromDom(e.getContentAreaContainer()))
                  , p = ar(e) || go(e) || nu(e)
                  , S = function(e, n, r) {
                    var u = Math.max(e.x + r, n.x);
                    return {
                        x: u,
                        width: Math.min(e.right - r, n.right) - u
                    }
                }(d, l, u)
                  , T = S.x
                  , O = S.width;
                if (e.inline && !p)
                    return Za(T, l.y, O, l.height);
                var $ = function(e, n, r, u, l, d) {
                    var p = Ie_fromDom(e.getContainer())
                      , S = ta(p, ".tox-editor-header").getOr(p)
                      , T = Ji(S)
                      , I = u && !(T.y >= n.bottom);
                    if (e.inline && I)
                        return {
                            y: Math.max(T.bottom + d, r.y),
                            bottom: r.bottom
                        };
                    if (e.inline && !I)
                        return {
                            y: r.y,
                            bottom: Math.min(T.y - d, r.bottom)
                        };
                    var $ = "line" === l ? Ji(p) : n;
                    return I ? {
                        y: Math.max(T.bottom + d, r.y),
                        bottom: Math.min($.bottom - d, r.bottom)
                    } : {
                        y: Math.max($.y + d, r.y),
                        bottom: Math.min(T.y - d, r.bottom)
                    }
                }(e, d, l, n.header.isPositionedAtTop(), r, u)
                  , q = $.y;
                return Za(T, q, O, $.bottom - q)
            }
              , F5 = {
                valignCentre: [],
                alignCentre: [],
                alignLeft: ["tox-pop--align-left"],
                alignRight: ["tox-pop--align-right"],
                right: ["tox-pop--right"],
                left: ["tox-pop--left"],
                bottom: ["tox-pop--bottom"],
                top: ["tox-pop--top"],
                inset: ["tox-pop--inset"]
            }
              , I5 = {
                maxHeightFunction: Vc(),
                maxWidthFunction: B4()
            }
              , L5 = function(e) {
                return "node" === e
            }
              , aH = function(e, n, r, u) {
                var l = function(T) {
                    return function(O, I, $, q, Z) {
                        var te = function(e, n, r, u, l) {
                            var d = W4(e)
                              , p = u.lastElement().exists(function(O) {
                                return Eo(r, O)
                            });
                            return function(e, n) {
                                var r = e.selection.getRng()
                                  , u = Sn(Ie_fromDom(r.startContainer), r.startOffset);
                                return r.startContainer === r.endContainer && r.startOffset === r.endOffset - 1 && Eo(u.element, n)
                            }(e, r) ? p ? $3 : xl : p ? function(e, n, r) {
                                var u = Bo(e, "position");
                                zn(e, "position", n);
                                var l = r();
                                return u.each(function(d) {
                                    return zn(e, "position", d)
                                }),
                                l
                            }(n, u.getMode(), function() {
                                return N5(d, Ji(n)) && !u.isReposition() ? U3 : $3
                            }) : ("fixed" === u.getMode() ? l.y + Yu().top : l.y) + (ia(n) + 12) <= d.y ? xl : nf
                        }(e, q, T, r, Z)
                          , de = ae(ae({}, O), {
                            y: Z.y,
                            height: Z.height
                        });
                        return ae(ae({}, te(de, I, $, q, Z)), {
                            alwaysFit: !0
                        })
                    }
                }
                  , d = function(T) {
                    return L5(u) ? [l(T)] : []
                };
                return n ? {
                    onLtr: function(T) {
                        return [Eu, Ni, vu, ns, ku, ws].concat(d(T))
                    },
                    onRtl: function(T) {
                        return [Eu, vu, Ni, ku, ns, ws].concat(d(T))
                    }
                } : {
                    onLtr: function(T) {
                        return [ws, Eu, ns, Ni, ku, vu].concat(d(T))
                    },
                    onRtl: function(T) {
                        return [ws, Eu, ku, vu, ns, Ni].concat(d(T))
                    }
                }
            }
              , j4 = function(e, n) {
                var r = je(n, function(p) {
                    return p.predicate(e.dom)
                })
                  , u = Le(r, function(p) {
                    return "contexttoolbar" === p.type
                });
                return {
                    contextToolbars: u.pass,
                    contextForms: u.fail
                }
            }
              , vH = function(e, n) {
                var r = {}
                  , u = []
                  , l = []
                  , d = {}
                  , p = {}
                  , O = An(e);
                return Re(O, function(I) {
                    var $ = e[I];
                    "contextform" === $.type ? function(I, $) {
                        var q = Ms(function(e) {
                            return Wo("ContextForm", a_, e)
                        }($));
                        r[I] = q,
                        q.launch.map(function(Z) {
                            d["form:" + I] = ae(ae({}, $.launch), {
                                type: "contextformtogglebutton" === Z.type ? "togglebutton" : "button",
                                onAction: function() {
                                    n(q)
                                }
                            })
                        }),
                        "editor" === q.scope ? l.push(q) : u.push(q),
                        p[I] = q
                    }(I, $) : "contexttoolbar" === $.type && function(I, $) {
                        (function(e) {
                            return Wo("ContextToolbar", of, e)
                        }
                        )($).each(function(q) {
                            "editor" === $.scope ? l.push(q) : u.push(q),
                            p[I] = q
                        })
                    }(I, $)
                }),
                {
                    forms: r,
                    inNodeScope: u,
                    inEditorScope: l,
                    lookupTable: p,
                    formNavigators: d
                }
            }
              , H5 = Pn("forward-slide")
              , $5 = Pn("backward-slide")
              , G4 = Pn("change-slide-event")
              , q4 = "tox-pop--resizing"
              , K4 = "tox-pop--transition"
              , mH = function(e, n, r, u) {
                var l = u.backstage
                  , d = l.shared
                  , p = Dr().deviceType.isTouch
                  , S = ni()
                  , T = ni()
                  , O = ni()
                  , I = es(function(e) {
                    var n = Xn([]);
                    return ya.sketch({
                        dom: {
                            tag: "div",
                            classes: ["tox-pop"]
                        },
                        fireDismissalEventInstead: {
                            event: "doNotDismissYet"
                        },
                        onShow: function(r) {
                            n.set([]),
                            ya.getContent(r).each(function(u) {
                                No(u.element, "visibility")
                            }),
                            ei(r.element, q4),
                            No(r.element, "width")
                        },
                        inlineBehaviours: Wt([rn("context-toolbar-events", [bd(dd(), function(r, u) {
                            "width" === u.event.raw.propertyName && (ei(r.element, q4),
                            No(r.element, "width"))
                        }), gt(G4, function(r, u) {
                            var l = r.element;
                            No(l, "width");
                            var d = Hi(l);
                            ya.setContent(r, u.event.contents),
                            ki(l, q4);
                            var p = Hi(l);
                            zn(l, "width", d + "px"),
                            ya.getContent(r).each(function(S) {
                                u.event.focus.bind(function(T) {
                                    return xs(T),
                                    Qs(l)
                                }).orThunk(function() {
                                    return Yn.focusIn(S),
                                    rs(Bn(l))
                                })
                            }),
                            Hv.setTimeout(function() {
                                zn(r.element, "width", p + "px")
                            }, 0)
                        }), gt(H5, function(r, u) {
                            ya.getContent(r).each(function(l) {
                                n.set(n.get().concat([{
                                    bar: l,
                                    focus: rs(Bn(r.element))
                                }]))
                            }),
                            Vn(r, G4, {
                                contents: u.event.forwardContents,
                                focus: D.none()
                            })
                        }), gt($5, function(r, u) {
                            vn(n.get()).each(function(l) {
                                n.set(n.get().slice(0, n.get().length - 1)),
                                Vn(r, G4, {
                                    contents: hc(l.bar),
                                    focus: l.focus
                                })
                            })
                        })]), Yn.config({
                            mode: "special",
                            onEscape: function(r) {
                                return vn(n.get()).fold(function() {
                                    return e.onEscape()
                                }, function(u) {
                                    return po(r, $5),
                                    D.some(!0)
                                })
                            }
                        })]),
                        lazySink: function() {
                            return Fr.value(e.sink)
                        }
                    })
                }({
                    sink: r,
                    onEscape: function() {
                        return e.focus(),
                        D.some(!0)
                    }
                }))
                  , $ = function() {
                    var ht = O.get().getOr("node")
                      , Qt = L5(ht) ? 1 : 0;
                    return z5(e, d, ht, Qt)
                }
                  , q = function() {
                    return !(e.removed || p() && l.isContextMenuOpen())
                }
                  , te = function() {
                    if (q()) {
                        var ht = $()
                          , Qt = qo(O.get(), "node") ? function(e, n) {
                            return n.filter(no).map(Ec).getOrThunk(function() {
                                return W4(e)
                            })
                        }(e, S.get()) : W4(e);
                        return ht.height <= 0 || !N5(Qt, ht)
                    }
                    return !0
                }
                  , de = function() {
                    S.clear(),
                    T.clear(),
                    O.clear(),
                    ya.hide(I)
                }
                  , Te = function() {
                    if (ya.isOpen(I)) {
                        var ht = I.element;
                        No(ht, "display"),
                        te() ? zn(ht, "display", "none") : (T.set(0),
                        ya.reposition(I))
                    }
                }
                  , ce = function(ht) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-pop__dialog"]
                        },
                        components: [ht],
                        behaviours: Wt([Yn.config({
                            mode: "acyclic"
                        }), rn("pop-dialog-wrap-events", [pa(function(Qt) {
                            e.shortcuts.add("ctrl+F9", "focus statusbar", function() {
                                return Yn.focusIn(Qt)
                            })
                        }), sl(function(Qt) {
                            e.shortcuts.remove("ctrl+F9")
                        })])])
                    }
                }
                  , ke = Wr(function() {
                    return vH(n, function(ht) {
                        var Qt = _e([ht]);
                        Vn(I, H5, {
                            forwardContents: ce(Qt)
                        })
                    })
                })
                  , _e = function(ht) {
                    var Qt = e.ui.registry.getAll().buttons
                      , yt = ke()
                      , it = ae(ae({}, Qt), yt.formNavigators)
                      , $t = xi(e) === wa.scrolling ? wa.scrolling : wa.default
                      , kn = Gt(re(ht, function(mt) {
                        return "contexttoolbar" === mt.type ? function(ht, Qt) {
                            return L_(e, {
                                buttons: ht,
                                toolbar: Qt.items,
                                allowToolbarGroups: !1
                            }, u, D.some(["form:"]))
                        }(it, mt) : function(ht, Qt) {
                            return J9_buildInitGroups(ht, Qt)
                        }(mt, d.providers)
                    }));
                    return N_({
                        type: $t,
                        uid: Pn("context-toolbar"),
                        initGroups: kn,
                        onEscape: D.none,
                        cyclicKeying: !0,
                        providers: d.providers
                    })
                }
                  , ut = function(ht, Qt) {
                    if (Jt.cancel(),
                    q()) {
                        var yt = _e(ht)
                          , it = ht[0].position
                          , $t = function(ht, Qt) {
                            var yt = "node" === ht ? d.anchors.node(Qt) : d.anchors.cursor()
                              , it = function(e, n, r, u) {
                                return "line" === n ? {
                                    bubble: Um(12, 0, F5),
                                    layouts: {
                                        onLtr: function() {
                                            return [$c]
                                        },
                                        onRtl: function() {
                                            return [k1]
                                        }
                                    },
                                    overrides: I5
                                } : {
                                    bubble: Um(0, 12, F5, 1 / 12),
                                    layouts: aH(e, r, u, n),
                                    overrides: I5
                                }
                            }(e, ht, p(), {
                                lastElement: S.get,
                                isReposition: function() {
                                    return qo(T.get(), 0)
                                },
                                getMode: function() {
                                    return Au.getMode(r)
                                }
                            });
                            return Tn(yt, it)
                        }(it, Qt);
                        O.set(it),
                        T.set(1);
                        var kn = I.element;
                        No(kn, "display"),
                        function(ht) {
                            return qo(va(ht, S.get(), Eo), !0)
                        }(Qt) || (ei(kn, K4),
                        Au.reset(r, I)),
                        ya.showWithinBounds(I, ce(yt), {
                            anchor: $t,
                            transition: {
                                classes: [K4],
                                mode: "placement"
                            }
                        }, function() {
                            return D.some($())
                        }),
                        Qt.fold(S.clear, S.set),
                        te() && zn(kn, "display", "none")
                    }
                }
                  , Jt = hS(function() {
                    e.hasFocus() && !e.removed && (ea(I.element, K4) ? Jt.throttle() : function(e, n) {
                        var p, r = Ie_fromDom(n.getBody()), u = function(p) {
                            return Eo(p, r)
                        }, d = Ie_fromDom(n.selection.getNode());
                        return u(p = d) || ds(r, p) ? function(e, n, r) {
                            var u = j4(e, n);
                            if (u.contextForms.length > 0)
                                return D.some({
                                    elem: e,
                                    toolbars: [u.contextForms[0]]
                                });
                            var l = j4(e, r);
                            if (l.contextForms.length > 0)
                                return D.some({
                                    elem: e,
                                    toolbars: [l.contextForms[0]]
                                });
                            if (u.contextToolbars.length > 0 || l.contextToolbars.length > 0) {
                                var d = function(e) {
                                    if (e.length <= 1)
                                        return e;
                                    var n = function(S) {
                                        return ir(e, function(T) {
                                            return T.position === S
                                        })
                                    }
                                      , r = function(S) {
                                        return je(e, function(T) {
                                            return T.position === S
                                        })
                                    }
                                      , u = n("selection")
                                      , l = n("node");
                                    if (u || l) {
                                        if (l && u) {
                                            var d = r("node")
                                              , p = re(r("selection"), function(S) {
                                                return ae(ae({}, S), {
                                                    position: "node"
                                                })
                                            });
                                            return d.concat(p)
                                        }
                                        return r(u ? "selection" : "node")
                                    }
                                    return r("line")
                                }(u.contextToolbars.concat(l.contextToolbars));
                                return D.some({
                                    elem: e,
                                    toolbars: d
                                })
                            }
                            return D.none()
                        }(d, e.inNodeScope, e.inEditorScope).orThunk(function() {
                            return function(e, n, r) {
                                return e(n) ? D.none() : o1(n, function(u) {
                                    if (Sa(u)) {
                                        var l = j4(u, r.inNodeScope)
                                          , p = l.contextForms
                                          , S = p.length > 0 ? p : function(e) {
                                            if (e.length <= 1)
                                                return e;
                                            var n = function(u) {
                                                return $n(e, function(l) {
                                                    return l.position === u
                                                })
                                            };
                                            return n("selection").orThunk(function() {
                                                return n("node")
                                            }).orThunk(function() {
                                                return n("line")
                                            }).map(function(u) {
                                                return u.position
                                            }).fold(function() {
                                                return []
                                            }, function(u) {
                                                return je(e, function(l) {
                                                    return l.position === u
                                                })
                                            })
                                        }(l.contextToolbars);
                                        return S.length > 0 ? D.some({
                                            elem: u,
                                            toolbars: S
                                        }) : D.none()
                                    }
                                    return D.none()
                                }, e)
                            }(u, d, e)
                        }) : D.none()
                    }(ke(), e).fold(de, function(Qt) {
                        ut(Qt.toolbars, D.some(Qt.elem))
                    }))
                }, 17);
                e.on("init", function() {
                    e.on("remove", de),
                    e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress", Te),
                    e.on("click keyup focus SetContent", Jt.throttle),
                    e.on(R5, de),
                    e.on("contexttoolbar-show", function(ht) {
                        var Qt = ke();
                        St(Qt.lookupTable, ht.toolbarKey).each(function(yt) {
                            ut([yt], da(ht.target !== e, ht.target)),
                            ya.getContent(I).each(Yn.focusIn)
                        })
                    }),
                    e.on("focusout", function(ht) {
                        Hv.setEditorTimeout(e, function() {
                            Qs(r.element).isNone() && Qs(I.element).isNone() && de()
                        }, 0)
                    }),
                    e.on("SwitchMode", function() {
                        e.mode.isReadOnly() && de()
                    }),
                    e.on("AfterProgressState", function(ht) {
                        ht.state ? de() : e.hasFocus() && Jt.throttle()
                    }),
                    e.on("NodeChange", function(ht) {
                        Qs(I.element).fold(Jt.throttle, Xe)
                    })
                })
            }
              , hH = {
                unsupportedLength: ["em", "ex", "cap", "ch", "ic", "rem", "lh", "rlh", "vw", "vh", "vi", "vb", "vmin", "vmax", "cm", "mm", "Q", "in", "pc", "pt", "px"],
                fixed: ["px", "pt"],
                relative: ["%"],
                empty: [""]
            }
              , pH = function() {
                var e = "[0-9]+"
                  , r = "[eE][+-]?[0-9]+"
                  , l = function(S) {
                    return "(?:" + S + ")?"
                }
                  , d = ["Infinity", e + "\\." + l(e) + l(r), "\\." + e + l(r), e + l(r)].join("|");
                return new RegExp("^([+-]?(?:" + d + "))(.*)$")
            }()
              , V5 = function(e, n) {
                var r = function() {
                    var u = n.getOptions(e)
                      , l = n.getCurrent(e).map(n.hash)
                      , d = ni();
                    return re(u, function(p) {
                        return {
                            type: "togglemenuitem",
                            text: n.display(p),
                            onSetup: function(S) {
                                var T = function(I) {
                                    I && (d.on(function($) {
                                        return $.setActive(!1)
                                    }),
                                    d.set(S)),
                                    S.setActive(I)
                                };
                                T(qo(l, n.hash(p)));
                                var O = n.watcher(e, p, T);
                                return function() {
                                    d.clear(),
                                    O()
                                }
                            },
                            onAction: function() {
                                return n.setCurrent(e, p)
                            }
                        }
                    })
                };
                e.ui.registry.addMenuButton(n.name, {
                    tooltip: n.text,
                    icon: n.icon,
                    fetch: function(u) {
                        return u(r())
                    },
                    onSetup: n.onToolbarSetup
                }),
                e.ui.registry.addNestedMenuItem(n.name, {
                    type: "nestedmenuitem",
                    text: n.text,
                    getSubmenuItems: r,
                    onSetup: n.onMenuSetup
                })
            }
              , xH = {
                name: "lineheight",
                text: "Line height",
                icon: "line-height",
                getOptions: function(e) {
                    return e.getParam("lineheight_formats", "1 1.1 1.2 1.3 1.4 1.5 2", "string").split(" ")
                },
                hash: function(e) {
                    return function(e, n) {
                        return function(e, n) {
                            return D.from(pH.exec(e)).bind(function(u) {
                                var l = Number(u[1])
                                  , d = u[2];
                                return function(e, n) {
                                    return ir(n, function(r) {
                                        return ir(hH[r], function(u) {
                                            return e === u
                                        })
                                    })
                                }(d, n) ? D.some({
                                    value: l,
                                    unit: d
                                }) : D.none()
                            })
                        }(e, ["fixed", "relative", "empty"]).map(function(r) {
                            return r.value + r.unit
                        })
                    }(e).getOr(e)
                },
                display: _n,
                watcher: function(e, n, r) {
                    return e.formatter.formatChanged("lineheight", r, !1, {
                        value: n
                    }).unbind
                },
                getCurrent: function(e) {
                    return D.from(e.queryCommandValue("LineHeight"))
                },
                setCurrent: function(e, n) {
                    return e.execCommand("LineHeight", !1, n)
                }
            }
              , _H = function(e) {
                return F_(e, "NodeChange", function(n) {
                    n.setDisabled(!e.queryCommandState("outdent"))
                })
            }
              , X4 = function(e, n) {
                return function() {
                    e.execCommand("mceToggleFormat", !1, n)
                }
            }
              , PH = function(e) {
                (function(e) {
                    (function(e) {
                        pb.each([{
                            name: "bold",
                            text: "Bold",
                            icon: "bold"
                        }, {
                            name: "italic",
                            text: "Italic",
                            icon: "italic"
                        }, {
                            name: "underline",
                            text: "Underline",
                            icon: "underline"
                        }, {
                            name: "strikethrough",
                            text: "Strikethrough",
                            icon: "strike-through"
                        }, {
                            name: "subscript",
                            text: "Subscript",
                            icon: "subscript"
                        }, {
                            name: "superscript",
                            text: "Superscript",
                            icon: "superscript"
                        }], function(u, l) {
                            e.ui.registry.addToggleButton(u.name, {
                                tooltip: u.text,
                                icon: u.icon,
                                onSetup: z_(e, u.name),
                                onAction: X4(e, u.name)
                            })
                        });
                        for (var n = 1; n <= 6; n++) {
                            var r = "h" + n;
                            e.ui.registry.addToggleButton(r, {
                                text: r.toUpperCase(),
                                tooltip: "Heading " + n,
                                onSetup: z_(e, r),
                                onAction: X4(e, r)
                            })
                        }
                    }
                    )(e),
                    function(e) {
                        pb.each([{
                            name: "cut",
                            text: "Cut",
                            action: "Cut",
                            icon: "cut"
                        }, {
                            name: "copy",
                            text: "Copy",
                            action: "Copy",
                            icon: "copy"
                        }, {
                            name: "paste",
                            text: "Paste",
                            action: "Paste",
                            icon: "paste"
                        }, {
                            name: "help",
                            text: "Help",
                            action: "mceHelp",
                            icon: "help"
                        }, {
                            name: "selectall",
                            text: "Select all",
                            action: "SelectAll",
                            icon: "select-all"
                        }, {
                            name: "newdocument",
                            text: "New document",
                            action: "mceNewDocument",
                            icon: "new-document"
                        }, {
                            name: "removeformat",
                            text: "Clear formatting",
                            action: "RemoveFormat",
                            icon: "remove-formatting"
                        }, {
                            name: "remove",
                            text: "Remove",
                            action: "Delete",
                            icon: "remove"
                        }], function(n) {
                            e.ui.registry.addButton(n.name, {
                                tooltip: n.text,
                                icon: n.icon,
                                onAction: $f(e, n.action)
                            })
                        })
                    }(e),
                    function(e) {
                        pb.each([{
                            name: "blockquote",
                            text: "Blockquote",
                            action: "mceBlockQuote",
                            icon: "quote"
                        }], function(n) {
                            e.ui.registry.addToggleButton(n.name, {
                                tooltip: n.text,
                                icon: n.icon,
                                onAction: $f(e, n.action),
                                onSetup: z_(e, n.name)
                            })
                        })
                    }(e)
                }
                )(e),
                function(e) {
                    pb.each([{
                        name: "bold",
                        text: "Bold",
                        action: "Bold",
                        icon: "bold",
                        shortcut: "Meta+B"
                    }, {
                        name: "italic",
                        text: "Italic",
                        action: "Italic",
                        icon: "italic",
                        shortcut: "Meta+I"
                    }, {
                        name: "underline",
                        text: "Underline",
                        action: "Underline",
                        icon: "underline",
                        shortcut: "Meta+U"
                    }, {
                        name: "strikethrough",
                        text: "Strikethrough",
                        action: "Strikethrough",
                        icon: "strike-through",
                        shortcut: ""
                    }, {
                        name: "subscript",
                        text: "Subscript",
                        action: "Subscript",
                        icon: "subscript",
                        shortcut: ""
                    }, {
                        name: "superscript",
                        text: "Superscript",
                        action: "Superscript",
                        icon: "superscript",
                        shortcut: ""
                    }, {
                        name: "removeformat",
                        text: "Clear formatting",
                        action: "RemoveFormat",
                        icon: "remove-formatting",
                        shortcut: ""
                    }, {
                        name: "newdocument",
                        text: "New document",
                        action: "mceNewDocument",
                        icon: "new-document",
                        shortcut: ""
                    }, {
                        name: "cut",
                        text: "Cut",
                        action: "Cut",
                        icon: "cut",
                        shortcut: "Meta+X"
                    }, {
                        name: "copy",
                        text: "Copy",
                        action: "Copy",
                        icon: "copy",
                        shortcut: "Meta+C"
                    }, {
                        name: "paste",
                        text: "Paste",
                        action: "Paste",
                        icon: "paste",
                        shortcut: "Meta+V"
                    }, {
                        name: "selectall",
                        text: "Select all",
                        action: "SelectAll",
                        icon: "select-all",
                        shortcut: "Meta+A"
                    }], function(n) {
                        e.ui.registry.addMenuItem(n.name, {
                            text: n.text,
                            icon: n.icon,
                            shortcut: n.shortcut,
                            onAction: $f(e, n.action)
                        })
                    }),
                    e.ui.registry.addMenuItem("codeformat", {
                        text: "Code",
                        icon: "sourcecode",
                        onAction: X4(e, "code")
                    })
                }(e)
            }
              , V_ = function(e, n) {
                return F_(e, "Undo Redo AddUndo TypingUndo ClearUndos SwitchMode", function(r) {
                    r.setDisabled(e.mode.isReadOnly() || !e.undoManager[n]())
                })
            }
              , FH = function(e) {
                return F_(e, "VisualAid", function(n) {
                    n.setActive(e.hasVisual)
                })
            }
              , $H = function(e, n) {
                (function(e) {
                    Re([{
                        name: "alignleft",
                        text: "Align left",
                        cmd: "JustifyLeft",
                        icon: "align-left"
                    }, {
                        name: "aligncenter",
                        text: "Align center",
                        cmd: "JustifyCenter",
                        icon: "align-center"
                    }, {
                        name: "alignright",
                        text: "Align right",
                        cmd: "JustifyRight",
                        icon: "align-right"
                    }, {
                        name: "alignjustify",
                        text: "Justify",
                        cmd: "JustifyFull",
                        icon: "align-justify"
                    }], function(r) {
                        e.ui.registry.addToggleButton(r.name, {
                            tooltip: r.text,
                            icon: r.icon,
                            onAction: $f(e, r.cmd),
                            onSetup: z_(e, r.name)
                        })
                    }),
                    e.ui.registry.addButton("alignnone", {
                        tooltip: "No alignment",
                        icon: "align-none",
                        onAction: $f(e, "JustifyNone")
                    })
                }
                )(e),
                PH(e),
                function(e, n) {
                    (function(e, n) {
                        var r = qS(0, n, g5(e));
                        e.ui.registry.addNestedMenuItem("align", {
                            text: n.shared.providers.translate("Align"),
                            getSubmenuItems: function() {
                                return r.items.validateItems(r.getStyleItems())
                            }
                        })
                    }
                    )(e, n),
                    function(e, n) {
                        var r = qS(0, n, p5(e));
                        e.ui.registry.addNestedMenuItem("fontformats", {
                            text: n.shared.providers.translate("Fonts"),
                            getSubmenuItems: function() {
                                return r.items.validateItems(r.getStyleItems())
                            }
                        })
                    }(e, n),
                    function(e, n) {
                        var r = ae({
                            type: "advanced"
                        }, n.styleselect)
                          , u = qS(0, n, x5(e, r));
                        e.ui.registry.addNestedMenuItem("formats", {
                            text: "Formats",
                            getSubmenuItems: function() {
                                return u.items.validateItems(u.getStyleItems())
                            }
                        })
                    }(e, n),
                    function(e, n) {
                        var r = qS(0, n, w5(e));
                        e.ui.registry.addNestedMenuItem("blockformats", {
                            text: "Blocks",
                            getSubmenuItems: function() {
                                return r.items.validateItems(r.getStyleItems())
                            }
                        })
                    }(e, n),
                    function(e, n) {
                        var r = qS(0, n, b5(e));
                        e.ui.registry.addNestedMenuItem("fontsizes", {
                            text: "Font sizes",
                            getSubmenuItems: function() {
                                return r.items.validateItems(r.getStyleItems())
                            }
                        })
                    }(e, n)
                }(e, n),
                function(e) {
                    (function(e) {
                        e.ui.registry.addMenuItem("undo", {
                            text: "Undo",
                            icon: "undo",
                            shortcut: "Meta+Z",
                            onSetup: V_(e, "hasUndo"),
                            onAction: $f(e, "undo")
                        }),
                        e.ui.registry.addMenuItem("redo", {
                            text: "Redo",
                            icon: "redo",
                            shortcut: "Meta+Y",
                            onSetup: V_(e, "hasRedo"),
                            onAction: $f(e, "redo")
                        })
                    }
                    )(e),
                    function(e) {
                        e.ui.registry.addButton("undo", {
                            tooltip: "Undo",
                            icon: "undo",
                            disabled: !0,
                            onSetup: V_(e, "hasUndo"),
                            onAction: $f(e, "undo")
                        }),
                        e.ui.registry.addButton("redo", {
                            tooltip: "Redo",
                            icon: "redo",
                            disabled: !0,
                            onSetup: V_(e, "hasRedo"),
                            onAction: $f(e, "redo")
                        })
                    }(e)
                }(e),
                function(e) {
                    !function(e) {
                        e.addCommand("mceApplyTextcolor", function(n, r) {
                            !function(e, n, r) {
                                e.undoManager.transact(function() {
                                    e.focus(),
                                    e.formatter.apply(n, {
                                        value: r
                                    }),
                                    e.nodeChanged()
                                })
                            }(e, n, r)
                        }),
                        e.addCommand("mceRemoveTextcolor", function(n) {
                            !function(e, n) {
                                e.undoManager.transact(function() {
                                    e.focus(),
                                    e.formatter.remove(n, {
                                        value: null
                                    }, null, !0),
                                    e.nodeChanged()
                                })
                            }(e, n)
                        })
                    }(e);
                    var n = Xn(Ok)
                      , r = Xn(Ok);
                    oA(e, "forecolor", "forecolor", "Text color", n),
                    oA(e, "backcolor", "hilitecolor", "Background color", r),
                    aA(e, "forecolor", "forecolor", "Text color"),
                    aA(e, "backcolor", "hilitecolor", "Background color")
                }(e),
                function(e) {
                    (function(e) {
                        e.ui.registry.addButton("visualaid", {
                            tooltip: "Visual aids",
                            text: "Visual aids",
                            onAction: $f(e, "mceToggleVisualAid")
                        })
                    }
                    )(e),
                    function(e) {
                        e.ui.registry.addToggleMenuItem("visualaid", {
                            text: "Visual aids",
                            onSetup: FH(e),
                            onAction: $f(e, "mceToggleVisualAid")
                        })
                    }(e)
                }(e),
                function(e) {
                    !function(e) {
                        e.ui.registry.addButton("outdent", {
                            tooltip: "Decrease indent",
                            icon: "outdent",
                            onSetup: _H(e),
                            onAction: $f(e, "outdent")
                        }),
                        e.ui.registry.addButton("indent", {
                            tooltip: "Increase indent",
                            icon: "indent",
                            onAction: $f(e, "indent")
                        })
                    }(e)
                }(e),
                function(e) {
                    V5(e, xH),
                    function(e) {
                        var n = D.from(function(e) {
                            return e.getParam("content_langs", void 0, "array")
                        }(e));
                        return n.map(function(r) {
                            return {
                                name: "language",
                                text: "Language",
                                icon: "language",
                                getOptions: Se(r),
                                hash: function(u) {
                                    return lr(u.customCode) ? u.code : u.code + "/" + u.customCode
                                },
                                display: function(u) {
                                    return u.title
                                },
                                watcher: function(u, l, d) {
                                    return u.formatter.formatChanged("lang", d, !1, {
                                        value: l.code,
                                        customValue: l.customCode
                                    }).unbind
                                },
                                getCurrent: function(u) {
                                    var l = Ie_fromDom(u.selection.getNode());
                                    return vm(l, function(d) {
                                        return D.some(d).filter(Sa).bind(function(p) {
                                            return gs(p, "lang").map(function(T) {
                                                return {
                                                    code: T,
                                                    customCode: gs(p, "data-mce-lang").getOrUndefined(),
                                                    title: ""
                                                }
                                            })
                                        })
                                    })
                                },
                                setCurrent: function(u, l) {
                                    return u.execCommand("Lang", !1, l)
                                },
                                onToolbarSetup: function(u) {
                                    var l = yv();
                                    return u.setActive(e.formatter.match("lang", {}, void 0, !0)),
                                    l.set(e.formatter.formatChanged("lang", u.setActive, !0)),
                                    l.clear
                                }
                            }
                        })
                    }(e).each(function(n) {
                        return V5(e, n)
                    })
                }(e)
            }
              , z3 = function(e, n) {
                return {
                    type: "makeshift",
                    x: e,
                    y: n
                }
            }
              , U5 = function(e) {
                return "longpress" === e.type || 0 === e.type.indexOf("touch")
            }
              , GH = function(e, n) {
                return "contextmenu" === n.type || "longpress" === n.type ? e.inline ? function(e) {
                    if (U5(e)) {
                        var n = e.touches[0];
                        return z3(n.pageX, n.pageY)
                    }
                    return z3(e.pageX, e.pageY)
                }(n) : function(e, n) {
                    var r = ft.DOM.getPos(e);
                    return function(e, n, r) {
                        return z3(e.x + n, e.y + r)
                    }(n, r.x, r.y)
                }(e.getContentAreaContainer(), function(e) {
                    if (U5(e)) {
                        var n = e.touches[0];
                        return z3(n.clientX, n.clientY)
                    }
                    return z3(e.clientX, e.clientY)
                }(n)) : W5(e)
            }
              , W5 = function(e) {
                return {
                    type: "selection",
                    root: Ie_fromDom(e.selection.getNode())
                }
            }
              , j5 = function(e, n, r) {
                switch (r) {
                case "node":
                    return function(e) {
                        return {
                            type: "node",
                            node: D.some(Ie_fromDom(e.selection.getNode())),
                            root: Ie_fromDom(e.getBody())
                        }
                    }(e);
                case "point":
                    return GH(e, n);
                case "selection":
                    return W5(e)
                }
            }
              , KH = function(e, n, r, u, l, d) {
                var p = r()
                  , S = j5(e, n, d);
                US(p, af.CLOSE_ON_EXECUTE, u, !1).map(function(T) {
                    n.preventDefault(),
                    ya.showMenuAt(l, {
                        anchor: S
                    }, {
                        menu: {
                            markers: uf("normal")
                        },
                        data: T
                    })
                })
            }
              , XH = {
                onLtr: function() {
                    return [Eu, Ni, vu, ns, ku, ws, xl, nf, tf, ub, bp, ib]
                },
                onRtl: function() {
                    return [Eu, vu, Ni, ku, ns, ws, xl, nf, bp, ib, tf, ub]
                }
            }
              , JH = {
                valignCentre: [],
                alignCentre: [],
                alignLeft: ["tox-pop--align-left"],
                alignRight: ["tox-pop--align-right"],
                right: ["tox-pop--right"],
                left: ["tox-pop--left"],
                bottom: ["tox-pop--bottom"],
                top: ["tox-pop--top"]
            }
              , n$ = function(e, n, r, u, l, d) {
                var p = Dr()
                  , S = p.os.isiOS()
                  , T = p.os.isOSX()
                  , O = p.os.isAndroid()
                  , I = p.deviceType.isTouch()
                  , q = function() {
                    var te = r();
                    !function(e, n, r, u, l, d, p) {
                        var S = function(e, n, r) {
                            var u = j5(e, n, r);
                            return ae({
                                bubble: Um(0, "point" === r ? 12 : 0, JH),
                                layouts: XH,
                                overrides: {
                                    maxWidthFunction: B4(),
                                    maxHeightFunction: Vc()
                                }
                            }, u)
                        }(e, n, d);
                        US(r, af.CLOSE_ON_EXECUTE, u, !0).map(function(T) {
                            n.preventDefault(),
                            ya.showMenuWithinBounds(l, {
                                anchor: S
                            }, {
                                menu: {
                                    markers: uf("normal"),
                                    highlightImmediately: p
                                },
                                data: T,
                                type: "horizontal"
                            }, function() {
                                return D.some(z5(e, u.shared, "node" === d ? "node" : "selection"))
                            }),
                            e.fire(R5)
                        })
                    }(e, n, te, u, l, d, !(O || S || T && I))
                };
                if ((T || S) && "node" !== d) {
                    var Z = function() {
                        (function(e) {
                            var n = e.selection.getRng()
                              , r = function() {
                                Hv.setEditorTimeout(e, function() {
                                    e.selection.setRng(n)
                                }, 10),
                                d()
                            };
                            e.once("touchend", r);
                            var u = function(p) {
                                p.preventDefault(),
                                p.stopImmediatePropagation()
                            };
                            e.on("mousedown", u, !0);
                            var l = function() {
                                return d()
                            };
                            e.once("longpresscancel", l);
                            var d = function() {
                                e.off("touchend", r),
                                e.off("longpresscancel", l),
                                e.off("mousedown", u)
                            }
                        }
                        )(e),
                        q()
                    };
                    !function(e, n) {
                        var r = e.selection;
                        if (r.isCollapsed() || n.touches.length < 1)
                            return !1;
                        var u = n.touches[0]
                          , l = r.getRng();
                        return Z1(e.getWin(), Fd.domRange(l)).exists(function(p) {
                            return p.left <= u.clientX && p.right >= u.clientX && p.top <= u.clientY && p.bottom >= u.clientY
                        })
                    }(e, n) ? (e.once("selectionchange", Z),
                    e.once("touchend", function() {
                        return e.off("selectionchange", Z)
                    })) : Z()
                } else
                    q()
            }
              , G5 = function(e) {
                return "string" == typeof e ? e.split(/[ ,]/) : e
            }
              , q5 = function(e) {
                return e.getParam("contextmenu_never_use_native", !1, "boolean")
            }
              , K5 = function(e) {
                return wn(e) ? "|" === e : "separator" === e.type
            }
              , Y4 = {
                type: "separator"
            }
              , X5 = function(e) {
                var n = function(r) {
                    return {
                        text: r.text,
                        icon: r.icon,
                        disabled: r.disabled,
                        shortcut: r.shortcut
                    }
                };
                if (wn(e))
                    return e;
                switch (e.type) {
                case "separator":
                    return Y4;
                case "submenu":
                    return ae(ae({
                        type: "nestedmenuitem"
                    }, n(e)), {
                        getSubmenuItems: function() {
                            var r = e.getSubmenuItems();
                            return wn(r) ? r : re(r, X5)
                        }
                    });
                default:
                    return ae(ae({
                        type: "menuitem"
                    }, n(e)), {
                        onAction: Mr(e.onAction)
                    })
                }
            }
              , Y5 = function(e, n) {
                if (0 === n.length)
                    return e;
                var u = vn(e).filter(function(l) {
                    return !K5(l)
                }).fold(function() {
                    return []
                }, function(l) {
                    return [Y4]
                });
                return e.concat(u).concat(n).concat([Y4])
            }
              , J5 = function(e, n) {
                return "longpress" !== n.type && (2 !== n.button || n.target === e.getBody() && "" === n.pointerType)
            }
              , Z5 = function(e, n) {
                return J5(e, n) ? e.selection.getStart(!0) : n.target
            }
              , l$ = function(e, n, r) {
                var l = Dr().deviceType.isTouch
                  , d = es(ya.sketch({
                    dom: {
                        tag: "div"
                    },
                    lazySink: n,
                    onEscape: function() {
                        return e.focus()
                    },
                    onShow: function() {
                        return r.setContextMenuState(!0)
                    },
                    onHide: function() {
                        return r.setContextMenuState(!1)
                    },
                    fireDismissalEventInstead: {},
                    inlineBehaviours: Wt([rn("dismissContextMenu", [gt(fc(), function(T, O) {
                        Gr.close(T),
                        e.focus()
                    })])])
                }))
                  , p = function(T) {
                    return ya.hide(d)
                }
                  , S = function(T) {
                    if (q5(e) && T.preventDefault(),
                    !function(e, n) {
                        return n.ctrlKey && !q5(e)
                    }(e, T) && !function(e) {
                        return !1 === e.getParam("contextmenu")
                    }(e)) {
                        var O = function(e, n) {
                            var r = function(e) {
                                return e.getParam("contextmenu_avoid_overlap", "", "string")
                            }(e)
                              , u = J5(e, n) ? "selection" : "point";
                            if (pu(r)) {
                                var l = Z5(e, n);
                                return S3(Ie_fromDom(l), r) ? "node" : u
                            }
                            return u
                        }(e, T);
                        (l() ? n$ : KH)(e, T, function() {
                            var q = Z5(e, T)
                              , Z = e.ui.registry.getAll()
                              , te = function(e) {
                                return function(e, n, r) {
                                    var u = e.ui.registry.getAll().contextMenus;
                                    return D.from(e.getParam("contextmenu")).map(G5).getOrThunk(function() {
                                        return je(G5("link linkchecker image imagetools table spellchecker configurepermanentpen"), function(l) {
                                            return yr(u, l)
                                        })
                                    })
                                }(e)
                            }(e);
                            return function(e, n, r) {
                                var u = Bt(n, function(l, d) {
                                    return St(e, d.toLowerCase()).map(function(p) {
                                        var S = p.update(r);
                                        if (wn(S))
                                            return Y5(l, S.split(" "));
                                        if (S.length > 0) {
                                            var T = re(S, X5);
                                            return Y5(l, T)
                                        }
                                        return l
                                    }).getOrThunk(function() {
                                        return l.concat([d])
                                    })
                                }, []);
                                return u.length > 0 && K5(u[u.length - 1]) && u.pop(),
                                u
                            }(Z.contextMenus, te, q)
                        }, r, d, O)
                    }
                };
                e.on("init", function() {
                    var T = "ResizeEditor ScrollContent ScrollWindow longpresscancel" + (l() ? "" : " ResizeWindow");
                    e.on(T, p),
                    e.on("longpress contextmenu", S)
                })
            }
              , J4 = bs_generate([{
                offset: ["x", "y"]
            }, {
                absolute: ["x", "y"]
            }, {
                fixed: ["x", "y"]
            }])
              , U_ = function(e) {
                return function(n) {
                    return n.translate(-e.left, -e.top)
                }
            }
              , W_ = function(e) {
                return function(n) {
                    return n.translate(e.left, e.top)
                }
            }
              , Bp = function(e) {
                return function(n, r) {
                    return Bt(e, function(u, l) {
                        return l(u)
                    }, Yo(n, r))
                }
            }
              , j_ = function(e, n, r) {
                return e.fold(Bp([W_(r), U_(n)]), Bp([U_(n)]), Bp([]))
            }
              , XS = function(e, n, r) {
                return e.fold(Bp([W_(r)]), Bp([]), Bp([W_(n)]))
            }
              , Q5 = function(e, n, r) {
                return e.fold(Bp([]), Bp([U_(r)]), Bp([W_(n), U_(r)]))
            }
              , eM = function(e, n, r) {
                var u = e.fold(function(l, d) {
                    return {
                        position: D.some("absolute"),
                        left: D.some(l + "px"),
                        top: D.some(d + "px")
                    }
                }, function(l, d) {
                    return {
                        position: D.some("absolute"),
                        left: D.some(l - r.left + "px"),
                        top: D.some(d - r.top + "px")
                    }
                }, function(l, d) {
                    return {
                        position: D.some("fixed"),
                        left: D.some(l + "px"),
                        top: D.some(d + "px")
                    }
                });
                return ae({
                    right: D.none(),
                    bottom: D.none()
                }, u)
            }
              , Z4 = function(e, n, r, u) {
                var l = function(d, p) {
                    return function(S, T) {
                        var O = d(n, r, u);
                        return p(S.getOr(O.left), T.getOr(O.top))
                    }
                };
                return e.fold(l(Q5, G_), l(XS, wb), l(j_, Ew))
            }
              , G_ = J4.offset
              , wb = J4.absolute
              , Ew = J4.fixed
              , tM = function(e, n) {
                var r = Hn(e, n);
                return lr(r) ? NaN : parseInt(r, 10)
            }
              , b$ = function(e, n, r, u, l, d) {
                var p = function(e, n, r, u) {
                    return function(e, n) {
                        var r = e.element
                          , u = tM(r, n.leftAttr)
                          , l = tM(r, n.topAttr);
                        return isNaN(u) || isNaN(l) ? D.none() : D.some(Yo(u, l))
                    }(e, n).fold(function() {
                        return r
                    }, function(l) {
                        return Ew(l.left + u.left, l.top + u.top)
                    })
                }(e, n, r, u)
                  , S = n.mustSnap ? w$(e, n, p, l, d) : x$(e, n, p, l, d)
                  , T = j_(p, l, d);
                return function(e, n, r) {
                    var u = e.element;
                    wr(u, n.leftAttr, r.left + "px"),
                    wr(u, n.topAttr, r.top + "px")
                }(e, n, T),
                S.fold(function() {
                    return {
                        coord: Ew(T.left, T.top),
                        extra: D.none()
                    }
                }, function(O) {
                    return {
                        coord: O.output,
                        extra: O.extra
                    }
                })
            }
              , nM = function(e, n, r, u) {
                return Sr(e, function(l) {
                    var p = function(e, n, r, u, l, d) {
                        var p = XS(e, l, d)
                          , S = XS(n, l, d);
                        return Math.abs(p.left - S.left) <= r && Math.abs(p.top - S.top) <= u
                    }(n, l.sensor, l.range.left, l.range.top, r, u);
                    return p ? D.some({
                        output: Z4(l.output, n, r, u),
                        extra: l.extra
                    }) : D.none()
                })
            }
              , w$ = function(e, n, r, u, l) {
                var d = n.getSnapPoints(e);
                return nM(d, r, u, l).orThunk(function() {
                    var S = Bt(d, function(T, O) {
                        var $ = function(e, n, r, u, l, d) {
                            var p = XS(e, l, d)
                              , S = XS(n, l, d)
                              , T = Math.abs(p.left - S.left)
                              , O = Math.abs(p.top - S.top);
                            return Yo(T, O)
                        }(r, O.sensor, 0, 0, u, l);
                        return T.deltas.fold(function() {
                            return {
                                deltas: D.some($),
                                snap: D.some(O)
                            }
                        }, function(q) {
                            return ($.left + $.top) / 2 <= (q.left + q.top) / 2 ? {
                                deltas: D.some($),
                                snap: D.some(O)
                            } : T
                        })
                    }, {
                        deltas: D.none(),
                        snap: D.none()
                    });
                    return S.snap.map(function(T) {
                        return {
                            output: Z4(T.output, r, u, l),
                            extra: T.extra
                        }
                    })
                })
            }
              , x$ = function(e, n, r, u, l) {
                var d = n.getSnapPoints(e);
                return nM(d, r, u, l)
            }
              , T$ = Object.freeze({
                __proto__: null,
                snapTo: function(e, n, r, u) {
                    var l = n.getTarget(e.element);
                    if (n.repositionTarget) {
                        var d = Ti(e.element)
                          , p = Yu(d)
                          , S = AD(l)
                          , T = function(e, n, r) {
                            return {
                                coord: Z4(e.output, e.output, n, r),
                                extra: e.extra
                            }
                        }(u, p, S)
                          , O = eM(T.coord, 0, S);
                        Cu(l, O)
                    }
                }
            })
              , Q4 = "data-initial-z-index"
              , rM = function(e, n) {
                e.getSystem().addToGui(n),
                function(e) {
                    L(e.element).filter(Sa).each(function(n) {
                        Bo(n, "z-index").each(function(r) {
                            wr(n, Q4, r)
                        }),
                        zn(n, "z-index", ho(e.element, "z-index"))
                    })
                }(n)
            }
              , E$ = function(e) {
                (function(e) {
                    L(e.element).filter(Sa).each(function(n) {
                        gs(n, Q4).fold(function() {
                            return No(n, "z-index")
                        }, function(r) {
                            return zn(n, "z-index", r)
                        }),
                        _i(n, Q4)
                    })
                }
                )(e),
                e.getSystem().removeFromGui(e)
            }
              , oM = function(e, n, r) {
                return e.getSystem().build($s.sketch({
                    dom: {
                        styles: {
                            left: "0px",
                            top: "0px",
                            width: "100%",
                            height: "100%",
                            position: "fixed",
                            "z-index": "1000000000000000"
                        },
                        classes: [n]
                    },
                    events: r
                }))
            }
              , A$ = Ui("snaps", [ot("getSnapPoints"), vo("onSensor"), ot("leftAttr"), ot("topAttr"), Be("lazyViewport", sc), Be("mustSnap", !1)])
              , eE = [Be("useFixed", st), ot("blockerClass"), Be("getTarget", _n), Be("onDrag", Xe), Be("repositionTarget", !0), Be("onDrop", Xe), Ba("getBounds", sc), A$]
              , O$ = function(e) {
                return function(e, n, r, u) {
                    return e.isSome() && n.isSome() && r.isSome() ? D.some(function(n, r, u) {
                        return ("fixed" === u ? Ew : G_)(parseInt(n, 10), parseInt(r, 10))
                    }(e.getOrDie(), n.getOrDie(), r.getOrDie())) : D.none()
                }(Bo(e, "left"), Bo(e, "top"), Bo(e, "position")).getOrThunk(function() {
                    var n = Su(e);
                    return wb(n.left, n.top)
                })
            }
              , aM = function(e, n) {
                return {
                    bounds: e.getBounds(),
                    height: hs(n.element),
                    width: Bu(n.element)
                }
            }
              , tE = function(e, n, r, u, l) {
                var d = r.update(u, l)
                  , p = r.getStartData().getOrThunk(function() {
                    return aM(n, e)
                });
                d.each(function(S) {
                    !function(e, n, r, u) {
                        var l = n.getTarget(e.element);
                        if (n.repositionTarget) {
                            var d = Ti(e.element)
                              , p = Yu(d)
                              , S = AD(l)
                              , T = O$(l)
                              , O = function(e, n, r, u, l, d, p) {
                                var S = n.fold(function() {
                                    var T = function(e, n, r) {
                                        return e.fold(function(u, l) {
                                            return G_(u + n, l + r)
                                        }, function(u, l) {
                                            return wb(u + n, l + r)
                                        }, function(u, l) {
                                            return Ew(u + n, l + r)
                                        })
                                    }(r, d.left, d.top)
                                      , O = j_(T, u, l);
                                    return Ew(O.left, O.top)
                                }, function(T) {
                                    var O = b$(e, T, r, d, u, l);
                                    return O.extra.each(function(I) {
                                        T.onSensor(e, I)
                                    }),
                                    O.coord
                                });
                                return function(e, n, r, u, l) {
                                    var d = l.bounds
                                      , p = XS(n, r, u)
                                      , S = ts(p.left, d.x, d.x + d.width - l.width)
                                      , T = ts(p.top, d.y, d.y + d.height - l.height)
                                      , O = wb(S, T);
                                    return n.fold(function() {
                                        var I = Q5(O, r, u);
                                        return G_(I.left, I.top)
                                    }, Se(O), function() {
                                        var I = j_(O, r, u);
                                        return Ew(I.left, I.top)
                                    })
                                }(0, S, u, l, p)
                            }(e, n.snaps, T, p, S, u, r)
                              , I = eM(O, 0, S);
                            Cu(l, I)
                        }
                        n.onDrag(e, l, u)
                    }(e, n, p, S)
                })
            }
              , iM = function(e, n, r, u) {
                n.each(E$),
                r.snaps.each(function(d) {
                    !function(e, n) {
                        !function(e, n) {
                            var r = e.element;
                            _i(r, n.leftAttr),
                            _i(r, n.topAttr)
                        }(e, n)
                    }(e, d)
                });
                var l = r.getTarget(e.element);
                u.reset(),
                r.onDrop(e, l)
            }
              , nE = function(e) {
                return function(n, r) {
                    var u = function(l) {
                        r.setStartData(aM(n, l))
                    };
                    return Lo(Ct([gt(pm(), function(l) {
                        r.getStartData().each(function() {
                            return u(l)
                        })
                    })], e(n, r, u), !0))
                }
            }
              , z$ = Object.freeze({
                __proto__: null,
                getData: function(e) {
                    return D.from(Yo(e.x, e.y))
                },
                getDelta: function(e, n) {
                    return Yo(n.left - e.left, n.top - e.top)
                }
            })
              , uM = function(e, n, r) {
                return [gt(Pc(), function(u, l) {
                    if (0 === l.event.raw.button) {
                        l.stop();
                        var p = function() {
                            return iM(u, D.some(O), e, n)
                        }
                          , S = dA(p, 200)
                          , O = oM(u, e.blockerClass, function(e) {
                            return Lo([gt(Pc(), e.forceDrop), gt(tv(), e.drop), gt(wf(), function(n, r) {
                                e.move(r.event)
                            }), gt(ev(), e.delayDrop)])
                        }({
                            drop: p,
                            delayDrop: S.schedule,
                            forceDrop: p,
                            move: function($) {
                                S.cancel(),
                                tE(u, e, n, z$, $)
                            }
                        }));
                        r(u),
                        rM(u, O)
                    }
                })]
            }
              , F$ = Ct(Ct([], eE, !0), [Ho("dragger", {
                handlers: nE(uM)
            })], !1)
              , sM = Object.freeze({
                __proto__: null,
                getData: function(e) {
                    var r = e.raw.touches;
                    return 1 === r.length ? function(e) {
                        var n = e[0];
                        return D.some(Yo(n.clientX, n.clientY))
                    }(r) : D.none()
                },
                getDelta: function(e, n) {
                    return Yo(n.left - e.left, n.top - e.top)
                }
            })
              , cM = function(e, n, r) {
                var u = ni()
                  , l = function(d) {
                    iM(d, u.get(), e, n),
                    u.clear()
                };
                return [gt(Pl(), function(d, p) {
                    p.stop();
                    var S = function() {
                        return l(d)
                    }
                      , O = oM(d, e.blockerClass, function(e) {
                        return Lo([gt(Pl(), e.forceDrop), gt(fd(), e.drop), gt($w(), e.drop), gt(mm(), function(n, r) {
                            e.move(r.event)
                        })])
                    }({
                        drop: S,
                        delayDrop: Xe,
                        forceDrop: S,
                        move: function($) {
                            tE(d, e, n, sM, $)
                        }
                    }));
                    u.set(O),
                    r(d),
                    rM(d, O)
                }), gt(mm(), function(d, p) {
                    p.stop(),
                    tE(d, e, n, sM, p.event)
                }), gt(fd(), function(d, p) {
                    p.stop(),
                    l(d)
                }), gt($w(), l)]
            }
              , V$ = Ct(Ct([], eE, !0), [Ho("dragger", {
                handlers: nE(cM)
            })], !1)
              , W$ = Ct(Ct([], eE, !0), [Ho("dragger", {
                handlers: nE(function(e, n, r) {
                    return Ct(Ct([], uM(e, n, r), !0), cM(e, n, r), !0)
                })
            })], !1)
              , K$ = Object.freeze({
                __proto__: null,
                mouse: F$,
                touch: V$,
                mouseOrTouch: W$
            })
              , Y$ = Object.freeze({
                __proto__: null,
                init: function() {
                    var e = D.none()
                      , n = D.none()
                      , S = Se({});
                    return Bs({
                        readState: S,
                        reset: function() {
                            e = D.none(),
                            n = D.none()
                        },
                        update: function(T, O) {
                            return T.getData(O).bind(function(I) {
                                return function(T, O) {
                                    var I = e.map(function($) {
                                        return T.getDelta($, O)
                                    });
                                    return e = D.some(O),
                                    I
                                }(T, I)
                            })
                        },
                        getStartData: function() {
                            return n
                        },
                        setStartData: function(T) {
                            n = D.some(T)
                        }
                    })
                }
            })
              , Aw = D1({
                branchKey: "mode",
                branches: K$,
                name: "dragging",
                active: {
                    events: function(e, n) {
                        return e.dragger.handlers(e, n)
                    }
                },
                extra: {
                    snap: function(e) {
                        return {
                            sensor: e.sensor,
                            range: e.range,
                            output: e.output,
                            extra: D.from(e.extra)
                        }
                    }
                },
                state: Y$,
                apis: T$
            })
              , lM = function(e, n, r, u, l, d) {
                return e.fold(function() {
                    return Aw.snap({
                        sensor: wb(r - 20, u - 20),
                        range: Yo(l, d),
                        output: wb(D.some(r), D.some(u)),
                        extra: {
                            td: n
                        }
                    })
                }, function(p) {
                    var S = r - 20
                      , T = u - 20
                      , $ = p.element.dom.getBoundingClientRect();
                    return Aw.snap({
                        sensor: wb(S, T),
                        range: Yo(40, 40),
                        output: wb(D.some(r - $.width / 2), D.some(u - $.height / 2)),
                        extra: {
                            td: n
                        }
                    })
                })
            }
              , fM = function(e, n, r) {
                return {
                    getSnapPoints: e,
                    leftAttr: "data-drag-left",
                    topAttr: "data-drag-top",
                    onSensor: function(l, d) {
                        var p = d.td;
                        (function(l, d) {
                            return l.exists(function(p) {
                                return Eo(p, d)
                            })
                        }
                        )(n.get(), p) || (n.set(p),
                        r(p))
                    },
                    mustSnap: !0
                }
            }
              , vM = function(e) {
                return ko(Is.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-selector"]
                    },
                    buttonBehaviours: Wt([Aw.config({
                        mode: "mouseOrTouch",
                        blockerClass: "blocker",
                        snaps: e
                    }), O3.config({})]),
                    eventOrder: {
                        mousedown: ["dragging", "alloy.base.behaviour"],
                        touchstart: ["dragging", "alloy.base.behaviour"]
                    }
                }))
            }
              , Z$ = function(e) {
                return 1 === e.nodeType && ("BR" === e.nodeName || !!e.getAttribute("data-mce-bogus") || "bookmark" === e.getAttribute("data-mce-type"))
            }
              , xb = (()=>(function(e) {
                e[e.None = 0] = "None",
                e[e.Both = 1] = "Both",
                e[e.Vertical = 2] = "Vertical"
            }(xb || (xb = {})),
            xb))()
              , dM = function(e, n, r) {
                var u = Ie_fromDom(e.getContainer())
                  , l = function(e, n, r, u, l) {
                    var d = {};
                    return d.height = H_(u + n.top, Je(e), vt(e)),
                    r === xb.Both && (d.width = H_(l + n.left, Ce(e), bt(e))),
                    d
                }(e, n, r, ia(u), Hi(u));
                Ar(l, function(d, p) {
                    return zn(u, p, U4(d))
                }),
                function(e) {
                    e.fire("ResizeEditor")
                }(e)
            }
              , K_ = function(e, n, r, u) {
                var d = Yo(20 * r, 20 * u);
                return dM(e, d, n),
                D.some(!0)
            }
              , nV = function(e, n) {
                var r = function(e) {
                    var n = !e.hasPlugin("autoresize")
                      , r = e.getParam("resize", n);
                    return !1 === r ? xb.None : "both" === r ? xb.Both : xb.Vertical
                }(e);
                return r === xb.None ? D.none() : D.some(If("resize-handle", {
                    tag: "div",
                    classes: ["tox-statusbar__resize-handle"],
                    attributes: {
                        title: n.translate("Resize")
                    },
                    behaviours: [Aw.config({
                        mode: "mouse",
                        repositionTarget: !1,
                        onDrag: function(u, l, d) {
                            return dM(e, d, r)
                        },
                        blockerClass: "tox-blocker"
                    }), Yn.config({
                        mode: "special",
                        onLeft: function() {
                            return K_(e, r, -1, 0)
                        },
                        onRight: function() {
                            return K_(e, r, 1, 0)
                        },
                        onUp: function() {
                            return K_(e, r, 0, -1)
                        },
                        onDown: function() {
                            return K_(e, r, 0, 1)
                        }
                    }), Fi.config({}), sr.config({})]
                }, n.icons))
            }
              , oV = function(e, n) {
                var d, p;
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-statusbar"]
                    },
                    components: (d = function() {
                        var d = [];
                        return e.getParam("elementpath", !0, "boolean") && d.push(function(e, n, r) {
                            return n.delimiter || (n.delimiter = "\xbb"),
                            {
                                dom: {
                                    tag: "div",
                                    classes: ["tox-statusbar__path"],
                                    attributes: {
                                        role: "navigation"
                                    }
                                },
                                behaviours: Wt([Yn.config({
                                    mode: "flow",
                                    selector: "div[role=button]"
                                }), On.config({
                                    disabled: r.isDisabled
                                }), mu(), Fi.config({}), pr.config({}), rn("elementPathEvents", [pa(function(d, p) {
                                    e.shortcuts.add("alt+F11", "focus statusbar elementpath", function() {
                                        return Yn.focusIn(d)
                                    }),
                                    e.on("NodeChange", function(S) {
                                        var T = function(d) {
                                            for (var p = [], S = d.length; S-- > 0; ) {
                                                var T = d[S];
                                                if (1 === T.nodeType && !Z$(T)) {
                                                    var O = e.fire("ResolveName", {
                                                        name: T.nodeName.toLowerCase(),
                                                        target: T
                                                    });
                                                    if (O.isDefaultPrevented() || p.push({
                                                        name: O.name,
                                                        element: T
                                                    }),
                                                    O.isPropagationStopped())
                                                        break
                                                }
                                            }
                                            return p
                                        }(S.parents);
                                        pr.set(d, T.length > 0 ? function(d) {
                                            var S = re(d || [], function(O, I) {
                                                return Is.sketch({
                                                    dom: {
                                                        tag: "div",
                                                        classes: ["tox-statusbar__path-item"],
                                                        attributes: {
                                                            role: "button",
                                                            "data-index": I,
                                                            "tab-index": -1,
                                                            "aria-level": I + 1
                                                        },
                                                        innerHtml: O.name
                                                    },
                                                    action: function($) {
                                                        e.focus(),
                                                        e.selection.select(O.element),
                                                        e.nodeChanged()
                                                    },
                                                    buttonBehaviours: Wt([jv_button(r.isDisabled), mu()])
                                                })
                                            })
                                              , T = {
                                                dom: {
                                                    tag: "div",
                                                    classes: ["tox-statusbar__path-divider"],
                                                    attributes: {
                                                        "aria-hidden": !0
                                                    },
                                                    innerHtml: " " + n.delimiter + " "
                                                }
                                            };
                                            return Bt(S.slice(1), function(O, I) {
                                                var $ = O;
                                                return $.push(T),
                                                $.push(I),
                                                $
                                            }, [S[0]])
                                        }(T) : [])
                                    })
                                })])]),
                                components: []
                            }
                        }(e, {}, n)),
                        e.hasPlugin("wordcount") && d.push(function(e, n) {
                            var r, u = function(l, d, p) {
                                return pr.set(l, [Fu(n.translate(["{0} " + p, d[p]]))])
                            };
                            return Is.sketch({
                                dom: {
                                    tag: "button",
                                    classes: ["tox-statusbar__wordcount"]
                                },
                                components: [],
                                buttonBehaviours: Wt([jv_button(n.isDisabled), mu(), Fi.config({}), pr.config({}), tn.config({
                                    store: {
                                        mode: "memory",
                                        initialValue: {
                                            mode: "words",
                                            count: {
                                                words: 0,
                                                characters: 0
                                            }
                                        }
                                    }
                                }), rn("wordcount-events", [cl(function(l) {
                                    var d = tn.getValue(l)
                                      , p = "words" === d.mode ? "characters" : "words";
                                    tn.setValue(l, {
                                        mode: p,
                                        count: d.count
                                    }),
                                    u(l, d.count, p)
                                }), pa(function(l) {
                                    e.on("wordCountUpdate", function(d) {
                                        var p = tn.getValue(l).mode;
                                        tn.setValue(l, {
                                            mode: p,
                                            count: d.wordCount
                                        }),
                                        u(l, d.wordCount, p)
                                    })
                                })])]),
                                eventOrder: (r = {},
                                r[co()] = ["disabling", "alloy.base.behaviour", "wordcount-events"],
                                r)
                            })
                        }(e, n)),
                        e.getParam("branding", !0, "boolean") && d.push(function() {
                            var d = rf.translate(["Powered by {0}", "Tiny"]);
                            return {
                                dom: {
                                    tag: "span",
                                    classes: ["tox-statusbar__branding"],
                                    innerHtml: '<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="' + d + '">' + d + "</a>"
                                }
                            }
                        }()),
                        d.length > 0 ? [{
                            dom: {
                                tag: "div",
                                classes: ["tox-statusbar__text-container"]
                            },
                            components: d
                        }] : []
                    }(),
                    p = nV(e, n),
                    d.concat(p.toArray()))
                }
            }
              , aV = function(e) {
                var n, ou, rm, Ag, r = e.inline, u = r ? U9 : z9, l = MS(e) ? ZF : TF, d = D.none(), p = Dr(), T = p.browser.isIE() ? ["tox-platform-ie"] : [], $ = p.deviceType.isTouch() ? ["tox-platform-touch"] : [], q = Ap(e), Z = g3(e), te = rf.isRtl() ? {
                    attributes: {
                        dir: "rtl"
                    }
                } : {}, de = {
                    attributes: (n = {},
                    n[Bd] = q ? dl.BottomToTop : dl.TopToBottom,
                    n)
                }, Te = function() {
                    return d.bind(Oi.getHeader)
                }, Ye = es((ou = Eo(aa(), Z) && "grid" === ho(Z, "display"),
                rm = {
                    dom: ae({
                        tag: "div",
                        classes: ["tox", "tox-silver-sink", "tox-tinymce-aux"].concat(T).concat($)
                    }, te),
                    behaviours: Wt([Au.config({
                        useFixed: function() {
                            return l.isDocked(Te)
                        }
                    })])
                },
                Ag = {
                    dom: {
                        styles: {
                            width: document.body.clientWidth + "px"
                        }
                    },
                    events: Lo([gt(Rs(), function() {
                        zn(Ss.element, "width", document.body.clientWidth + "px")
                    })])
                },
                Tn(rm, ou ? Ag : {}))), _e = function() {
                    return Fr.value(Ye)
                }, Ue = ko({
                    dom: {
                        tag: "div",
                        classes: ["tox-anchorbar"]
                    }
                }), ht = function() {
                    return d.bind(function(ou) {
                        return Oi.getThrobber(ou)
                    }).getOrDie("Could not find throbber element")
                }, Qt = function(e, n, r) {
                    var u = Xn(!1)
                      , l = function(e) {
                        var n = Xn(Ap(e) ? "bottom" : "top");
                        return {
                            isPositionedAtTop: function() {
                                return "top" === n.get()
                            },
                            getDockingMode: n.get,
                            setDockingMode: n.set
                        }
                    }(n)
                      , d = {
                        shared: {
                            providers: {
                                icons: function() {
                                    return n.ui.registry.getAll().icons
                                },
                                menuItems: function() {
                                    return n.ui.registry.getAll().menuItems
                                },
                                translate: rf.translate,
                                isDisabled: function() {
                                    return n.mode.isReadOnly() || n.ui.isDisabled()
                                },
                                getSetting: n.getParam.bind(n)
                            },
                            interpreter: function(p) {
                                return function(e, n) {
                                    return y4(mz, e, n)
                                }(p, d)
                            },
                            anchors: wz(n, r, l.isPositionedAtTop),
                            header: l,
                            getSink: function() {
                                return Fr.value(e)
                            }
                        },
                        urlinput: lF(n),
                        styleselect: Bz(n),
                        colorinput: _z(n),
                        dialog: Ez(n),
                        isContextMenuOpen: function() {
                            return u.get()
                        },
                        setContextMenuState: function(p) {
                            return u.set(p)
                        }
                    };
                    return d
                }(Ye, e, function() {
                    return d.bind(function(ou) {
                        return Ue.getOpt(ou)
                    }).getOrDie("Could not find a anchor bar element")
                }), yt = Oi.parts.menubar({
                    dom: {
                        tag: "div",
                        classes: ["tox-menubar"]
                    },
                    backstage: Qt,
                    onEscape: function() {
                        e.focus()
                    }
                }), it = xi(e), $t = Oi.parts.toolbar(ae({
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar"]
                    },
                    getSink: _e,
                    providers: Qt.shared.providers,
                    onEscape: function() {
                        e.focus()
                    },
                    type: it,
                    lazyToolbar: function() {
                        return d.bind(function(ou) {
                            return Oi.getToolbar(ou)
                        }).getOrDie("Could not find more toolbar element")
                    },
                    lazyHeader: function() {
                        return Te().getOrDie("Could not find header element")
                    }
                }, de)), kn = Oi.parts["multiple-toolbar"]({
                    dom: {
                        tag: "div",
                        classes: ["tox-toolbar-overlord"]
                    },
                    providers: Qt.shared.providers,
                    onEscape: function() {
                        e.focus()
                    },
                    type: it
                }), mt = Oi.parts.socket({
                    dom: {
                        tag: "div",
                        classes: ["tox-edit-area"]
                    }
                }), yn = Oi.parts.sidebar({
                    dom: {
                        tag: "div",
                        classes: ["tox-sidebar"]
                    }
                }), Ln = Oi.parts.throbber({
                    dom: {
                        tag: "div",
                        classes: ["tox-throbber"]
                    },
                    backstage: Qt
                }), Oo = e.getParam("statusbar", !0, "boolean") && !r ? D.some(oV(e, Qt.shared.providers)) : D.none(), sa = {
                    dom: {
                        tag: "div",
                        classes: ["tox-sidebar-wrap"]
                    },
                    components: [mt, yn]
                }, Wa = nu(e), xc = go(e), ss = ar(e), ru = Oi.parts.header({
                    dom: ae({
                        tag: "div",
                        classes: ["tox-editor-header"]
                    }, de),
                    components: Gt([ss ? [yt] : [], Wa ? [kn] : xc ? [$t] : [], DS(e) ? [] : [Ue.asSpec()]]),
                    sticky: MS(e),
                    editor: e,
                    sharedBackstage: Qt.shared
                }), Np = Gt([q ? [] : [ru], r ? [] : [sa], q ? [ru] : []]), Mw = Gt([[{
                    dom: {
                        tag: "div",
                        classes: ["tox-editor-container"]
                    },
                    components: Np
                }], r ? [] : Oo.toArray(), [Ln]]), Fp = h3(e), Rw = ae(ae({
                    role: "application"
                }, rf.isRtl() ? {
                    dir: "rtl"
                } : {}), Fp ? {
                    "aria-hidden": "true"
                } : {}), Us = es(Oi.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox", "tox-tinymce"].concat(r ? ["tox-tinymce-inline"] : []).concat(q ? ["tox-tinymce--toolbar-bottom"] : []).concat($).concat(T),
                        styles: ae({
                            visibility: "hidden"
                        }, Fp ? {
                            opacity: "0",
                            border: "0"
                        } : {}),
                        attributes: Rw
                    },
                    components: Mw,
                    behaviours: Wt([mu(), On.config({
                        disableClass: "tox-tinymce--disabled"
                    }), Yn.config({
                        mode: "cyclic",
                        selector: ".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"
                    })])
                }));
                d = D.some(Us),
                e.shortcuts.add("alt+F9", "focus menubar", function() {
                    Oi.focusMenubar(Us)
                }),
                e.shortcuts.add("alt+F10", "focus toolbar", function() {
                    Oi.focusToolbar(Us)
                }),
                e.addCommand("ToggleToolbarDrawer", function() {
                    Oi.toggleToolbarDrawer(Us)
                }),
                e.addQueryStateHandler("ToggleToolbarDrawer", function() {
                    return Oi.isToolbarDrawerToggled(Us)
                });
                var Vf = xA(Us)
                  , Ss = xA(Ye);
                !function(e, n, r) {
                    var u = function(Ye, _e) {
                        Re([n, r], function(Ue) {
                            Ue.broadcastEvent(Ye, _e)
                        })
                    }
                      , l = function(Ye, _e) {
                        Re([n, r], function(Ue) {
                            Ue.broadcastOn([Ye], _e)
                        })
                    }
                      , d = function(Ye) {
                        return l(Rf(), {
                            target: Ye.target
                        })
                    }
                      , p = Fm()
                      , S = li(p, "touchstart", d)
                      , T = li(p, "touchmove", function(Ye) {
                        return u(Vg(), Ye)
                    })
                      , O = li(p, "touchend", function(Ye) {
                        return u(hm(), Ye)
                    })
                      , I = li(p, "mousedown", d)
                      , $ = li(p, "mouseup", function(Ye) {
                        0 === Ye.raw.button && l(Uc(), {
                            target: Ye.target
                        })
                    })
                      , q = function(Ye) {
                        return l(Rf(), {
                            target: Ie_fromDom(Ye.target)
                        })
                    }
                      , Z = function(Ye) {
                        0 === Ye.button && l(Uc(), {
                            target: Ie_fromDom(Ye.target)
                        })
                    }
                      , te = function() {
                        Re(e.editorManager.get(), function(Ye) {
                            e !== Ye && Ye.fire("DismissPopups", {
                                relatedTarget: e
                            })
                        })
                    }
                      , de = function(Ye) {
                        return u(pm(), N1(Ye))
                    }
                      , Te = function(Ye) {
                        l(Pf(), {}),
                        u(Rs(), N1(Ye))
                    }
                      , ce = function() {
                        return l(Pf(), {})
                    }
                      , ke = function(Ye) {
                        Ye.state && l(Rf(), {
                            target: Ie_fromDom(e.getContainer())
                        })
                    }
                      , Ze = function(Ye) {
                        l(Rf(), {
                            target: Ie_fromDom(Ye.relatedTarget.getContainer())
                        })
                    };
                    e.on("PostRender", function() {
                        e.on("click", q),
                        e.on("tap", q),
                        e.on("mouseup", Z),
                        e.on("mousedown", te),
                        e.on("ScrollWindow", de),
                        e.on("ResizeWindow", Te),
                        e.on("ResizeEditor", ce),
                        e.on("AfterProgressState", ke),
                        e.on("DismissPopups", Ze)
                    }),
                    e.on("remove", function() {
                        e.off("click", q),
                        e.off("tap", q),
                        e.off("mouseup", Z),
                        e.off("mousedown", te),
                        e.off("ScrollWindow", de),
                        e.off("ResizeWindow", Te),
                        e.off("ResizeEditor", ce),
                        e.off("AfterProgressState", ke),
                        e.off("DismissPopups", Ze),
                        I.unbind(),
                        S.unbind(),
                        T.unbind(),
                        O.unbind(),
                        $.unbind()
                    }),
                    e.on("detach", function() {
                        i0(n),
                        i0(r),
                        n.destroy(),
                        r.destroy()
                    })
                }(e, Vf, Ss);
                var Eg = function() {
                    var ou = U4(function(e) {
                        var n = function(e) {
                            var n = Vr(e)
                              , r = Je(e)
                              , u = vt(e);
                            return V4(n).map(function(l) {
                                return H_(l, r, u)
                            })
                        }(e);
                        return n.getOr(Vr(e))
                    }(e))
                      , rm = U4(function(e) {
                        return D5(e).getOr(ve(e))
                    }(e));
                    return e.inline || (Qv("div", "width", rm) && zn(Us.element, "width", rm),
                    Qv("div", "height", ou) ? zn(Us.element, "height", ou) : zn(Us.element, "height", "200px")),
                    ou
                };
                return {
                    mothership: Vf,
                    uiMothership: Ss,
                    backstage: Qt,
                    renderUI: function() {
                        l.setup(e, Qt.shared, Te),
                        $H(e, Qt),
                        l$(e, _e, Qt),
                        function(e) {
                            var n = e.ui.registry.getAll().sidebars;
                            Re(An(n), function(r) {
                                var u = n[r]
                                  , l = function() {
                                    return qo(D.from(e.queryCommandValue("ToggleSidebar")), r)
                                };
                                e.ui.registry.addToggleButton(r, {
                                    icon: u.icon,
                                    tooltip: u.tooltip,
                                    onAction: function(d) {
                                        e.execCommand("ToggleSidebar", !1, r),
                                        d.setActive(l())
                                    },
                                    onSetup: function(d) {
                                        var p = function() {
                                            return d.setActive(l())
                                        };
                                        return e.on("ToggleSidebar", p),
                                        function() {
                                            e.off("ToggleSidebar", p)
                                        }
                                    }
                                })
                            })
                        }(e),
                        JI(e, ht, Qt.shared),
                        ee(function(e) {
                            return e.getParam("toolbar_groups", {}, "object")
                        }(e), function(Ts, Cc) {
                            e.ui.registry.addGroupToolbarButton(Cc, Ts)
                        });
                        var ou = e.ui.registry.getAll()
                          , rm = ou.buttons
                          , Ag = ou.menuItems
                          , Ip = ou.contextToolbars
                          , Uf = ou.sidebars
                          , Og = fi(e)
                          , sn = {
                            menuItems: Ag,
                            menus: hR(e),
                            menubar: pR(e),
                            toolbar: Og.getOrThunk(function() {
                                return function(e) {
                                    return e.getParam("toolbar", !0)
                                }(e)
                            }),
                            allowToolbarGroups: it === wa.floating,
                            buttons: rm,
                            sidebar: Uf
                        };
                        mH(e, Ip, Ye, {
                            backstage: Qt
                        }),
                        function(e, n) {
                            var r = Xn([])
                              , u = Xn([])
                              , l = Xn(!1)
                              , d = ni()
                              , p = ni()
                              , S = function(ut) {
                                var Jt = Ec(ut);
                                return lM(Z.getOpt(n), ut, Jt.x, Jt.y, Jt.width, Jt.height)
                            }
                              , O = function(ut) {
                                var Jt = Ec(ut);
                                return lM(te.getOpt(n), ut, Jt.right, Jt.bottom, Jt.width, Jt.height)
                            }
                              , $ = fM(function() {
                                return re(r.get(), function(ut) {
                                    return S(ut)
                                })
                            }, d, function(ut) {
                                p.get().each(function(Jt) {
                                    e.fire("TableSelectorChange", {
                                        start: ut,
                                        finish: Jt
                                    })
                                })
                            })
                              , q = fM(function() {
                                return re(u.get(), function(ut) {
                                    return O(ut)
                                })
                            }, p, function(ut) {
                                d.get().each(function(Jt) {
                                    e.fire("TableSelectorChange", {
                                        start: Jt,
                                        finish: ut
                                    })
                                })
                            })
                              , Z = vM($)
                              , te = vM(q)
                              , de = es(Z.asSpec())
                              , Te = es(te.asSpec())
                              , ke = function(ut, Jt, ht, Qt) {
                                var yt = ht(Jt);
                                Aw.snapTo(ut, yt),
                                function(ut, Jt, ht, Qt) {
                                    var yt = Jt.dom.getBoundingClientRect();
                                    No(ut.element, "display");
                                    var it = Es(Ie_fromDom(e.getBody())).dom.innerHeight
                                      , $t = ht(yt)
                                      , kn = Qt(yt, it);
                                    ($t || kn) && zn(ut.element, "display", "none")
                                }(ut, Jt, function(kn) {
                                    return kn[Qt] < 0
                                }, function(kn, mt) {
                                    return kn[Qt] > mt
                                })
                            }
                              , Ze = function(ut) {
                                return ke(de, ut, S, "top")
                            }
                              , _e = function(ut) {
                                return ke(Te, ut, O, "bottom")
                            };
                            Dr().deviceType.isTouch() && (e.on("TableSelectionChange", function(ut) {
                                l.get() || (Mf(n, de),
                                Mf(n, Te),
                                l.set(!0)),
                                d.set(ut.start),
                                p.set(ut.finish),
                                ut.otherCells.each(function(Jt) {
                                    r.set(Jt.upOrLeftCells),
                                    u.set(Jt.downOrRightCells),
                                    Ze(ut.start),
                                    _e(ut.finish)
                                })
                            }),
                            e.on("ResizeEditor ResizeWindow ScrollContent", function() {
                                d.get().each(Ze),
                                p.get().each(_e)
                            }),
                            e.on("TableSelectionClear", function() {
                                l.get() && (Tv(de),
                                Tv(Te),
                                l.set(!1)),
                                d.clear(),
                                p.clear()
                            }))
                        }(e, Ye);
                        var Nr = e.getElement()
                          , Po = Eg();
                        return u.render(e, {
                            mothership: Vf,
                            uiMothership: Ss,
                            outerContainer: Us
                        }, sn, Qt, {
                            targetNode: Nr,
                            height: Po
                        })
                    },
                    getUi: function() {
                        return {
                            channels: {
                                broadcastAll: Ss.broadcast,
                                broadcastOn: Ss.broadcastOn,
                                register: Xe
                            }
                        }
                    }
                }
            }
              , sV = Se([ot("lazySink"), To("dragBlockClass"), Ba("getBounds", sc), Be("useTabstopAt", ge), Be("eventOrder", {}), Wi("modalBehaviours", [Yn]), _u("onExecute"), C1("onEscape")])
              , oE = {
                sketch: _n
            }
              , cV = Se([tc({
                name: "draghandle",
                overrides: function(e, n) {
                    return {
                        behaviours: Wt([Aw.config({
                            mode: "mouse",
                            getTarget: function(r) {
                                return Sd(r, '[role="dialog"]').getOr(r)
                            },
                            blockerClass: e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n" + JSON.stringify(n, null, 2)).message),
                            getBounds: e.getDragBounds
                        })])
                    }
                }
            }), Va({
                schema: [ot("dom")],
                name: "title"
            }), Va({
                factory: oE,
                schema: [ot("dom")],
                name: "close"
            }), Va({
                factory: oE,
                schema: [ot("dom")],
                name: "body"
            }), tc({
                factory: oE,
                schema: [ot("dom")],
                name: "footer"
            }), is({
                factory: {
                    sketch: function(e, n) {
                        return ae(ae({}, e), {
                            dom: n.dom,
                            components: n.components
                        })
                    }
                },
                schema: [Be("dom", {
                    tag: "div",
                    styles: {
                        position: "fixed",
                        left: "0px",
                        top: "0px",
                        right: "0px",
                        bottom: "0px"
                    }
                }), Be("components", [])],
                name: "blocker"
            })])
              , gu = Lu({
                name: "ModalDialog",
                configFields: sV(),
                partFields: cV(),
                factory: function(e, n, r, u) {
                    var l, d = ni(), q = Pn("modal-events"), Z = ae(ae({}, e.eventOrder), ((l = {})[cu()] = [q].concat(e.eventOrder["alloy.system.attached"] || []),
                    l));
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        apis: {
                            show: function(te) {
                                d.set(te);
                                var de = e.lazySink(te).getOrDie()
                                  , Te = u.blocker()
                                  , ce = de.getSystem().build(ae(ae({}, Te), {
                                    components: Te.components.concat([hc(te)]),
                                    behaviours: Wt([sr.config({}), rn("dialog-blocker-events", [bd(xf(), function() {
                                        Yn.focusIn(te)
                                    })])])
                                }));
                                Mf(de, ce),
                                Yn.focusIn(te)
                            },
                            hide: function(te) {
                                d.clear(),
                                L(te.element).each(function(de) {
                                    te.getSystem().getByDom(de).each(function(Te) {
                                        Tv(Te)
                                    })
                                })
                            },
                            getBody: function(te) {
                                return Wl(te, e, "body")
                            },
                            getFooter: function(te) {
                                return Wl(te, e, "footer")
                            },
                            setIdle: function(te) {
                                Pp.unblock(te)
                            },
                            setBusy: function(te, de) {
                                Pp.block(te, de)
                            }
                        },
                        eventOrder: Z,
                        domModification: {
                            attributes: {
                                role: "dialog",
                                "aria-modal": "true"
                            }
                        },
                        behaviours: eu(e.modalBehaviours, [pr.config({}), Yn.config({
                            mode: "cyclic",
                            onEnter: e.onExecute,
                            onEscape: e.onEscape,
                            useTabstopAt: e.useTabstopAt
                        }), Pp.config({
                            getRoot: d.get
                        }), rn(q, [pa(function(te) {
                            (function(e, n) {
                                var r = gs(e, "id").fold(function() {
                                    var u = Pn("dialog-label");
                                    return wr(n, "id", u),
                                    u
                                }, _n);
                                wr(e, "aria-labelledby", r)
                            }
                            )(te.element, Wl(te, e, "title").element),
                            function(e, n) {
                                var r = D.from(Hn(e, "id")).fold(function() {
                                    var u = Pn("dialog-describe");
                                    return wr(n, "id", u),
                                    u
                                }, _n);
                                wr(e, "aria-describedby", r)
                            }(te.element, Wl(te, e, "body").element)
                        })])])
                    }
                },
                apis: {
                    show: function(e, n) {
                        e.show(n)
                    },
                    hide: function(e, n) {
                        e.hide(n)
                    },
                    getBody: function(e, n) {
                        return e.getBody(n)
                    },
                    getFooter: function(e, n) {
                        return e.getFooter(n)
                    },
                    setBusy: function(e, n, r) {
                        e.setBusy(n, r)
                    },
                    setIdle: function(e, n) {
                        e.setIdle(n)
                    }
                }
            })
              , fV = Wn([fr("type"), fr("name")].concat(x))
              , vV = Ds
              , mM = [Jo("name", "name", $a(function() {
                return Pn("button-name")
            }), Uo), Ko("icon"), al("align", "end", ["start", "end"]), Qa("primary", !1), Qa("disabled", !1)]
              , gM = Ct(Ct([], mM, !0), [fr("text")], !1)
              , aE = Ct([zg("type", ["submit", "cancel", "custom"])], gM, !0)
              , dV = Ct([zg("type", ["menu"]), Ko("text"), Ko("tooltip"), Ko("icon"), Vi("items", fV)], mM, !0)
              , mV = Qu("type", {
                submit: aE,
                cancel: aE,
                custom: aE,
                menu: dV
            })
              , gV = [fr("type"), fr("text"), zg("level", ["info", "warn", "error", "success"]), fr("icon"), Be("url", "")]
              , hV = Wn(gV)
              , pV = function(e) {
                return [fr("type"), e]
            }
              , bV = [fr("type"), fr("text"), Qa("disabled", !1), Qa("primary", !1), Jo("name", "name", $a(function() {
                return Pn("button-name")
            }), Uo), Ko("icon"), Qa("borderless", !1)]
              , yV = Wn(bV)
              , wV = [fr("type"), fr("name"), fr("label"), Qa("disabled", !1)]
              , xV = Wn(wV)
              , CV = Ds
              , iE = [fr("type"), fr("name")]
              , Zv = iE.concat([Ko("label")])
              , SV = Zv.concat([Be("columns", "auto")])
              , TV = Wn(SV)
              , _V = Jp([fr("value"), fr("text"), fr("icon")])
              , EV = Wn(Zv)
              , AV = Uo
              , DV = Wn(Zv)
              , MV = Uo
              , RV = iE.concat([fm("tag", "textarea"), fr("scriptId"), fr("scriptUrl"), ps("settings", void 0, ga)])
              , PV = iE.concat([fm("tag", "textarea"), yi("init")])
              , BV = Zf(function(e) {
                return Wo("customeditor.old", Pi(PV), e).orThunk(function() {
                    return Wo("customeditor.new", Pi(RV), e)
                })
            })
              , NV = Uo
              , FV = Wn(Zv)
              , IV = Dl(Fw)
              , LV = function(e) {
                return [fr("type"), Rl("columns"), e]
            }
              , HV = [fr("type"), fr("html"), al("presets", "presentation", ["presentation", "document"])]
              , $V = Wn(HV)
              , VV = Zv.concat([Qa("sandboxed", !0)])
              , UV = Wn(VV)
              , WV = Uo
              , jV = Zv.concat([ui("currentState", Wn([ot("blob"), fr("url")]))])
              , GV = Wn(jV)
              , qV = Zv.concat([Ko("inputMode"), Ko("placeholder"), Qa("maximized", !1), Qa("disabled", !1)])
              , KV = Wn(qV)
              , XV = Uo
              , YV = function(e) {
                return [fr("type"), fr("label"), e]
            }
              , JV = [fr("text"), fr("value")]
              , ZV = [fr("text"), Vi("items", function(e, n) {
                var r = Wr(n);
                return {
                    extract: function(d, p) {
                        return r().extract(d, p)
                    },
                    toString: function() {
                        return r().toString()
                    }
                }
            }(0, function() {
                return hM
            }))]
              , hM = ud([Wn(JV), Wn(ZV)])
              , QV = Zv.concat([Vi("items", hM), Qa("disabled", !1)])
              , eU = Wn(QV)
              , tU = Uo
              , nU = Zv.concat([Iw("items", [fr("text"), fr("value")]), ol("size", 1), Qa("disabled", !1)])
              , rU = Wn(nU)
              , oU = Uo
              , aU = Zv.concat([Qa("constrain", !0), Qa("disabled", !1)])
              , iU = Wn(aU)
              , pM = Wn([fr("width"), fr("height")])
              , uU = [fr("type"), Vi("header", Uo), Vi("cells", Dl(Uo))]
              , sU = Wn(uU)
              , cU = Zv.concat([Ko("placeholder"), Qa("maximized", !1), Qa("disabled", !1)])
              , lU = Wn(cU)
              , fU = Uo
              , vU = Zv.concat([al("filetype", "file", ["image", "media", "file"]), Be("disabled", !1)])
              , dU = Wn(vU)
              , mU = Wn([fr("value"), Be("meta", {})])
              , uE = function(e) {
                return Jo("items", "items", {
                    tag: "required",
                    process: {}
                }, Dl(Zf(function(n) {
                    return Wo("Checking item of " + e, sE, n).fold(function(r) {
                        return Fr.error(uu(r))
                    }, function(r) {
                        return Fr.value(r)
                    })
                })))
            }
              , sE = Yp(function() {
                return Bg("type", {
                    alertbanner: hV,
                    bar: Wn(pV(uE("bar"))),
                    button: yV,
                    checkbox: xV,
                    colorinput: EV,
                    colorpicker: DV,
                    dropzone: FV,
                    grid: Wn(LV(uE("grid"))),
                    iframe: UV,
                    input: KV,
                    listbox: eU,
                    selectbox: rU,
                    sizeinput: iU,
                    textarea: lU,
                    urlinput: dU,
                    customeditor: BV,
                    htmlpanel: $V,
                    imagetools: GV,
                    collection: TV,
                    label: Wn(YV(uE("label"))),
                    table: sU,
                    panel: bM
                })
            })
              , gU = [fr("type"), Be("classes", []), Vi("items", sE)]
              , bM = Wn(gU)
              , hU = [Jo("name", "name", $a(function() {
                return Pn("tab-name")
            }), Uo), fr("title"), Vi("items", sE)]
              , pU = [fr("type"), Iw("tabs", hU)]
              , bU = Wn(pU)
              , yU = gM
              , wU = mV
              , xU = Wn([fr("title"), ui("body", Bg("type", {
                panel: bM,
                tabpanel: bU
            })), fm("size", "normal"), Vi("buttons", wU), Be("initialData", {}), Ba("onAction", Xe), Ba("onChange", Xe), Ba("onSubmit", Xe), Ba("onClose", Xe), Ba("onCancel", Xe), Be("onTabChange", Xe)])
              , SU = Wn(Ct([zg("type", ["cancel", "custom"])], yU, !0))
              , TU = Wn([fr("title"), fr("url"), yf("height"), yf("width"), si("buttons", SU), Ba("onAction", Xe), Ba("onCancel", Xe), Ba("onClose", Xe), Ba("onMessage", Xe)])
              , cE = function(e) {
                return fn(e) ? [e].concat(Un(Qr(e), cE)) : Hr(e) ? Un(e, cE) : []
            }
              , kU = function(e) {
                return wn(e.type) && wn(e.name)
            }
              , EU = {
                checkbox: CV,
                colorinput: AV,
                colorpicker: MV,
                dropzone: IV,
                input: XV,
                iframe: WV,
                sizeinput: pM,
                selectbox: oU,
                listbox: tU,
                size: pM,
                textarea: fU,
                urlinput: mU,
                customeditor: NV,
                collection: _V,
                togglemenuitem: vV
            }
              , DU = function(e) {
                var n = function(e) {
                    return je(cE(e), kU)
                }(e)
                  , r = Un(n, function(u) {
                    return function(e) {
                        return D.from(EU[e.type])
                    }(u).fold(function() {
                        return []
                    }, function(l) {
                        return [ui(u.name, l)]
                    })
                });
                return Wn(r)
            }
              , yM = function(e) {
                var n = Ms(function(e) {
                    return Wo("dialog", xU, e)
                }(e));
                return {
                    internalDialog: n,
                    dataValidator: DU(e),
                    initialData: e.initialData
                }
            }
              , F3 = {
                open: function(e, n) {
                    var r = yM(n);
                    return e(r.internalDialog, r.initialData, r.dataValidator)
                },
                openUrl: function(e, n) {
                    var r = Ms(function(e) {
                        return Wo("dialog", TU, e)
                    }(n));
                    return e(r)
                },
                redial: function(e) {
                    return yM(e)
                }
            }
              , wM = function(e) {
                var n = []
                  , r = {};
                return Ar(e, function(u, l) {
                    u.fold(function() {
                        n.push(l)
                    }, function(d) {
                        r[l] = d
                    })
                }),
                n.length > 0 ? Fr.error(n) : Fr.value(r)
            }
              , MU = function(e, n) {
                var r = ko(HS.sketch(function(u) {
                    return {
                        dom: {
                            tag: "div",
                            classes: ["tox-form"].concat(e.classes)
                        },
                        components: re(e.items, function(l) {
                            return sD(u, l, n)
                        })
                    }
                }));
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__body"]
                    },
                    components: [{
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__body-content"]
                        },
                        components: [r.asSpec()]
                    }],
                    behaviours: Wt([Yn.config({
                        mode: "acyclic",
                        useTabstopAt: Kn(M3)
                    }), Zd_memento(r), Cw_memento(r, {
                        postprocess: function(u) {
                            return wM(u).fold(function(l) {
                                return console.error(l),
                                {}
                            }, _n)
                        }
                    })])
                }
            }
              , PU = nc({
                name: "TabButton",
                configFields: [Be("uid", void 0), ot("value"), Jo("dom", "dom", lm(function() {
                    return {
                        attributes: {
                            role: "tab",
                            id: Pn("aria"),
                            "aria-selected": "false"
                        }
                    }
                }), Oc()), To("action"), Be("domModification", {}), Wi("tabButtonBehaviours", [sr, Yn, tn]), ot("view")],
                factory: function(e, n) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: e.components,
                        events: ob(e.action),
                        behaviours: eu(e.tabButtonBehaviours, [sr.config({}), Yn.config({
                            mode: "execution",
                            useSpace: !0,
                            useEnter: !0
                        }), tn.config({
                            store: {
                                mode: "memory",
                                initialValue: e.value
                            }
                        })]),
                        domModification: e.domModification
                    }
                }
            })
              , BU = Se([ot("tabs"), ot("dom"), Be("clickToDismiss", !1), Wi("tabbarBehaviours", [_o, Yn]), fu(["tabClass", "selectedClass"])])
              , NU = ig({
                factory: PU,
                name: "tabs",
                unit: "tab",
                overrides: function(e) {
                    var n = function(u, l) {
                        _o.dehighlight(u, l),
                        Vn(u, $b(), {
                            tabbar: u,
                            button: l
                        })
                    }
                      , r = function(u, l) {
                        _o.highlight(u, l),
                        Vn(u, Ug(), {
                            tabbar: u,
                            button: l
                        })
                    };
                    return {
                        action: function(u) {
                            var l = u.getSystem().getByUid(e.uid).getOrDie()
                              , d = _o.isHighlighted(l, u);
                            (d && e.clickToDismiss ? n : d ? Xe : r)(l, u)
                        },
                        domModification: {
                            classes: [e.markers.tabClass]
                        }
                    }
                }
            })
              , zU = Se([NU])
              , xM = Lu({
                name: "Tabbar",
                configFields: BU(),
                partFields: zU(),
                factory: function(e, n, r, u) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        "debug.sketcher": "Tabbar",
                        domModification: {
                            attributes: {
                                role: "tablist"
                            }
                        },
                        behaviours: eu(e.tabbarBehaviours, [_o.config({
                            highlightClass: e.markers.selectedClass,
                            itemClass: e.markers.tabClass,
                            onHighlight: function(l, d) {
                                wr(d.element, "aria-selected", "true")
                            },
                            onDehighlight: function(l, d) {
                                wr(d.element, "aria-selected", "false")
                            }
                        }), Yn.config({
                            mode: "flow",
                            getInitial: function(l) {
                                return _o.getHighlighted(l).map(function(d) {
                                    return d.element
                                })
                            },
                            selector: "." + e.markers.tabClass,
                            executeOnMove: !0
                        })])
                    }
                }
            })
              , LU = nc({
                name: "Tabview",
                configFields: [Wi("tabviewBehaviours", [pr])],
                factory: function(e, n) {
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        behaviours: eu(e.tabviewBehaviours, [pr.config({})]),
                        domModification: {
                            attributes: {
                                role: "tabpanel"
                            }
                        }
                    }
                }
            })
              , HU = Se([Be("selectFirst", !0), vo("onChangeTab"), vo("onDismissTab"), Be("tabs", []), Wi("tabSectionBehaviours", [])])
              , $U = Va({
                factory: xM,
                schema: [ot("dom"), cc("markers", [ot("tabClass"), ot("selectedClass")])],
                name: "tabbar",
                defaults: function(e) {
                    return {
                        tabs: e.tabs
                    }
                }
            })
              , VU = Va({
                factory: LU,
                name: "tabview"
            })
              , UU = Se([$U, VU])
              , YS = Lu({
                name: "TabSection",
                configFields: HU(),
                partFields: UU(),
                factory: function(e, n, r, u) {
                    var d = function(p, S) {
                        Ro(p, e, "tabbar").each(function(T) {
                            S(T).each(ov)
                        })
                    };
                    return {
                        uid: e.uid,
                        dom: e.dom,
                        components: n,
                        behaviours: $h(e.tabSectionBehaviours),
                        events: Lo(Gt([e.selectFirst ? [pa(function(p, S) {
                            d(p, _o.getFirst)
                        })] : [], [gt(Ug(), function(p, S) {
                            !function(p) {
                                var S = tn.getValue(p);
                                Ro(p, e, "tabview").each(function(T) {
                                    $n(e.tabs, function(I) {
                                        return I.value === S
                                    }).each(function(I) {
                                        var $ = I.view();
                                        gs(p.element, "id").each(function(q) {
                                            wr(T.element, "aria-labelledby", q)
                                        }),
                                        pr.set(T, $),
                                        e.onChangeTab(T, p, $)
                                    })
                                })
                            }(S.event.button)
                        }), gt($b(), function(p, S) {
                            e.onDismissTab(p, S.event.button)
                        })]])),
                        apis: {
                            getViewItems: function(p) {
                                return Ro(p, e, "tabview").map(function(S) {
                                    return pr.contents(S)
                                }).getOr([])
                            },
                            showTab: function(p, S) {
                                d(p, function(O) {
                                    var I = _o.getCandidates(O);
                                    return $n(I, function(q) {
                                        return tn.getValue(q) === S
                                    }).filter(function(q) {
                                        return !_o.isHighlighted(O, q)
                                    })
                                })
                            }
                        }
                    }
                },
                apis: {
                    getViewItems: function(e, n) {
                        return e.getViewItems(n)
                    },
                    showTab: function(e, n, r) {
                        e.showTab(n, r)
                    }
                }
            })
              , CM = function(e, n) {
                zn(e, "height", n + "px"),
                Dr().browser.isIE() ? No(e, "flex-basis") : zn(e, "flex-basis", n + "px")
            }
              , X_ = function(e, n, r) {
                Sd(e, '[role="dialog"]').each(function(u) {
                    ta(u, '[role="tablist"]').each(function(l) {
                        r.get().map(function(d) {
                            return zn(n, "height", "0"),
                            zn(n, "flex-basis", "0"),
                            Math.min(d, function(e, n, r) {
                                var p, u = ms(e).dom, l = Sd(e, ".tox-dialog-wrap").getOr(e);
                                p = "fixed" === ho(l, "position") ? Math.max(u.clientHeight, window.innerHeight) : Math.max(u.offsetHeight, u.scrollHeight);
                                var S = ia(n)
                                  , O = n.dom.offsetLeft >= r.dom.offsetLeft + Hi(r) ? Math.max(ia(r), S) : S
                                  , I = parseInt(ho(e, "margin-top"), 10) || 0
                                  , $ = parseInt(ho(e, "margin-bottom"), 10) || 0;
                                return p - (ia(e) + I + $ - O)
                            }(u, n, l))
                        }).each(function(d) {
                            CM(n, d)
                        })
                    })
                })
            }
              , lE = function(e) {
                return ta(e, '[role="tabpanel"]')
            }
              , SM = "send-data-to-section"
              , TM = "send-data-to-view"
              , YU = function(e, n) {
                var r = Xn({})
                  , u = function(T) {
                    var O = tn.getValue(T)
                      , I = wM(O).getOr({})
                      , $ = r.get()
                      , q = Tn($, I);
                    r.set(q)
                }
                  , l = function(T) {
                    var O = r.get();
                    tn.setValue(T, O)
                }
                  , d = Xn(null)
                  , p = re(e.tabs, function(T) {
                    return {
                        value: T.name,
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__body-nav-item"],
                            innerHtml: n.shared.providers.translate(T.title)
                        },
                        view: function() {
                            return [HS.sketch(function(O) {
                                return {
                                    dom: {
                                        tag: "div",
                                        classes: ["tox-form"]
                                    },
                                    components: re(T.items, function(I) {
                                        return sD(O, I, n)
                                    }),
                                    formBehaviours: Wt([Yn.config({
                                        mode: "acyclic",
                                        useTabstopAt: Kn(M3)
                                    }), rn("TabView.form.events", [pa(l), sl(u)]), Zs.config({
                                        channels: Rc([{
                                            key: SM,
                                            value: {
                                                onReceive: u
                                            }
                                        }, {
                                            key: TM,
                                            value: {
                                                onReceive: l
                                            }
                                        }])
                                    })])
                                }
                            })]
                        }
                    }
                })
                  , S = function(e) {
                    var u, l, n = (u = ni(),
                    l = [pa(function(p) {
                        var S = p.element;
                        lE(S).each(function(T) {
                            zn(T, "visibility", "hidden"),
                            p.getSystem().getByDom(T).toOptional().each(function(O) {
                                var I = function(e, n, r) {
                                    return re(e, function(u, l) {
                                        pr.set(r, e[l].view());
                                        var d = n.dom.getBoundingClientRect();
                                        return pr.set(r, []),
                                        d.height
                                    })
                                }(e, T, O)
                                  , $ = function(e) {
                                    return Yt(Et(e, function(n, r) {
                                        return n > r ? -1 : n < r ? 1 : 0
                                    }))
                                }(I);
                                $.fold(u.clear, u.set)
                            }),
                            X_(S, T, u),
                            No(T, "visibility"),
                            function(e, n) {
                                Yt(e).each(function(r) {
                                    return YS.showTab(n, r.value)
                                })
                            }(e, p),
                            Hv.requestAnimationFrame(function() {
                                X_(S, T, u)
                            })
                        })
                    }), gt(Rs(), function(p) {
                        var S = p.element;
                        lE(S).each(function(T) {
                            X_(S, T, u)
                        })
                    }), gt(TA, function(p, S) {
                        var T = p.element;
                        lE(T).each(function(O) {
                            var I = rs(Bn(O));
                            zn(O, "visibility", "hidden");
                            var $ = Bo(O, "height").map(function(te) {
                                return parseInt(te, 10)
                            });
                            No(O, "height"),
                            No(O, "flex-basis");
                            var q = O.dom.getBoundingClientRect().height;
                            $.forall(function(te) {
                                return q > te
                            }) ? (u.set(q),
                            X_(T, O, u)) : $.each(function(te) {
                                CM(O, te)
                            }),
                            No(O, "visibility"),
                            I.each(xs)
                        })
                    })],
                    {
                        extraEvents: l,
                        selectFirst: !1
                    });
                    return {
                        smartTabHeight: n,
                        naiveTabHeight: {
                            extraEvents: [],
                            selectFirst: !0
                        }
                    }
                }(p).smartTabHeight;
                return YS.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__body"]
                    },
                    onChangeTab: function(T, O, I) {
                        var $ = tn.getValue(O);
                        Vn(T, SA, {
                            name: $,
                            oldName: d.get()
                        }),
                        d.set($)
                    },
                    tabs: p,
                    components: [YS.parts.tabbar({
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__body-nav"]
                        },
                        components: [xM.parts.tabs({})],
                        markers: {
                            tabClass: "tox-tab",
                            selectedClass: "tox-dialog__body-nav-item--active"
                        },
                        tabbarBehaviours: Wt([Fi.config({})])
                    }), YS.parts.tabview({
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__body-content"]
                        }
                    })],
                    selectFirst: S.selectFirst,
                    tabSectionBehaviours: Wt([rn("tabpanel", S.extraEvents), Yn.config({
                        mode: "acyclic"
                    }), qr.config({
                        find: function(T) {
                            return Yt(YS.getViewItems(T))
                        }
                    }), tn.config({
                        store: {
                            mode: "manual",
                            getValue: function(T) {
                                return T.getSystem().broadcastOn([SM], {}),
                                r.get()
                            },
                            setValue: function(T, O) {
                                r.set(O),
                                T.getSystem().broadcastOn([TM], {})
                            }
                        }
                    })])
                })
            }
              , fE = Pn("update-dialog")
              , _M = Pn("update-title")
              , kM = Pn("update-body")
              , EM = Pn("update-footer")
              , AM = Pn("body-send-message")
              , OM = function(e, n, r, u) {
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__content-js"],
                        attributes: ae(ae({}, n.map(function(S) {
                            return {
                                id: S
                            }
                        }).getOr({})), u ? {
                            "aria-live": "polite"
                        } : {})
                    },
                    components: [],
                    behaviours: Wt([Zd_childAt(0), Cl.config({
                        channel: kM,
                        updateState: function(S, T) {
                            return D.some({
                                isTabPanel: function() {
                                    return "tabpanel" === T.body.type
                                }
                            })
                        },
                        renderComponents: function(S) {
                            return "tabpanel" === S.body.type ? [YU(S.body, r)] : [MU(S.body, r)]
                        },
                        initialData: e
                    })])
                }
            };
            function Ow(e) {
                return Ow = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(n) {
                    return typeof n
                }
                : function(n) {
                    return n && "function" == typeof Symbol && n.constructor === Symbol && n !== Symbol.prototype ? "symbol" : typeof n
                }
                ,
                Ow(e)
            }
            function vE(e, n) {
                return (vE = Object.setPrototypeOf || function(u, l) {
                    return u.__proto__ = l,
                    u
                }
                )(e, n)
            }
            function eW() {
                if ("undefined" == typeof Reflect || !Reflect.construct || Reflect.construct.sham)
                    return !1;
                if ("function" == typeof Proxy)
                    return !0;
                try {
                    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})),
                    !0
                } catch (e) {
                    return !1
                }
            }
            function Y_(e, n, r) {
                return (Y_ = eW() ? Reflect.construct : function(l, d, p) {
                    var S = [null];
                    S.push.apply(S, d);
                    var O = new (Function.bind.apply(l, S));
                    return p && vE(O, p.prototype),
                    O
                }
                ).apply(null, arguments)
            }
            function tm(e) {
                return function(e) {
                    if (Array.isArray(e))
                        return dE(e)
                }(e) || function(e) {
                    if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"])
                        return Array.from(e)
                }(e) || function(e, n) {
                    if (e) {
                        if ("string" == typeof e)
                            return dE(e, n);
                        var r = Object.prototype.toString.call(e).slice(8, -1);
                        if ("Object" === r && e.constructor && (r = e.constructor.name),
                        "Map" === r || "Set" === r)
                            return Array.from(e);
                        if ("Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))
                            return dE(e, n)
                    }
                }(e) || function() {
                    throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
                }()
            }
            function dE(e, n) {
                (null == n || n > e.length) && (n = e.length);
                for (var r = 0, u = new Array(n); r < n; r++)
                    u[r] = e[r];
                return u
            }
            var aW = Object.hasOwnProperty
              , DM = Object.setPrototypeOf
              , iW = Object.isFrozen
              , uW = Object.getPrototypeOf
              , sW = Object.getOwnPropertyDescriptor
              , Sl = Object.freeze
              , kg = Object.seal
              , cW = Object.create
              , MM = "undefined" != typeof Reflect && Reflect
              , J_ = MM.apply
              , mE = MM.construct;
            J_ || (J_ = function(n, r, u) {
                return n.apply(r, u)
            }
            ),
            Sl || (Sl = function(n) {
                return n
            }
            ),
            kg || (kg = function(n) {
                return n
            }
            ),
            mE || (mE = function(n, r) {
                return Y_(n, tm(r))
            }
            );
            var lW = nm(Array.prototype.forEach)
              , RM = nm(Array.prototype.pop)
              , I3 = nm(Array.prototype.push)
              , Z_ = nm(String.prototype.toLowerCase)
              , fW = nm(String.prototype.match)
              , Cb = nm(String.prototype.replace)
              , vW = nm(String.prototype.indexOf)
              , dW = nm(String.prototype.trim)
              , Tl = nm(RegExp.prototype.test)
              , gE = function(e) {
                return function() {
                    for (var n = arguments.length, r = new Array(n), u = 0; u < n; u++)
                        r[u] = arguments[u];
                    return mE(e, r)
                }
            }(TypeError);
            function nm(e) {
                return function(n) {
                    for (var r = arguments.length, u = new Array(r > 1 ? r - 1 : 0), l = 1; l < r; l++)
                        u[l - 1] = arguments[l];
                    return J_(e, n, u)
                }
            }
            function Zo(e, n) {
                DM && DM(e, null);
                for (var r = n.length; r--; ) {
                    var u = n[r];
                    if ("string" == typeof u) {
                        var l = Z_(u);
                        l !== u && (iW(n) || (n[r] = l),
                        u = l)
                    }
                    e[u] = !0
                }
                return e
            }
            function Dw(e) {
                var r, n = cW(null);
                for (r in e)
                    J_(aW, e, [r]) && (n[r] = e[r]);
                return n
            }
            function Q_(e, n) {
                for (; null !== e; ) {
                    var r = sW(e, n);
                    if (r) {
                        if (r.get)
                            return nm(r.get);
                        if ("function" == typeof r.value)
                            return nm(r.value)
                    }
                    e = uW(e)
                }
                return function(l) {
                    return console.warn("fallback value for", l),
                    null
                }
            }
            var PM = Sl(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dialog", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"])
              , hE = Sl(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "view", "vkern"])
              , pE = Sl(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feImage", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"])
              , gW = Sl(["animate", "color-profile", "cursor", "discard", "fedropshadow", "font-face", "font-face-format", "font-face-name", "font-face-src", "font-face-uri", "foreignobject", "hatch", "hatchpath", "mesh", "meshgradient", "meshpatch", "meshrow", "missing-glyph", "script", "set", "solidcolor", "unknown", "use"])
              , bE = Sl(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"])
              , hW = Sl(["maction", "maligngroup", "malignmark", "mlongdiv", "mscarries", "mscarry", "msgroup", "mstack", "msline", "msrow", "semantics", "annotation", "annotation-xml", "mprescripts", "none"])
              , BM = Sl(["#text"])
              , NM = Sl(["accept", "action", "align", "alt", "autocapitalize", "autocomplete", "autopictureinpicture", "autoplay", "background", "bgcolor", "border", "capture", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "controls", "controlslist", "coords", "crossorigin", "datetime", "decoding", "default", "dir", "disabled", "disablepictureinpicture", "disableremoteplayback", "download", "draggable", "enctype", "enterkeyhint", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "inputmode", "integrity", "ismap", "kind", "label", "lang", "list", "loading", "loop", "low", "max", "maxlength", "media", "method", "min", "minlength", "multiple", "muted", "name", "nonce", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "playsinline", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "translate", "type", "usemap", "valign", "value", "width", "xmlns", "slot"])
              , yE = Sl(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clippathunits", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "filterunits", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "primitiveunits", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "startoffset", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "systemlanguage", "tabindex", "targetx", "targety", "transform", "transform-origin", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"])
              , zM = Sl(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "encoding", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"])
              , ek = Sl(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"])
              , pW = kg(/\{\{[\w\W]*|[\w\W]*\}\}/gm)
              , bW = kg(/<%[\w\W]*|[\w\W]*%>/gm)
              , yW = kg(/^data-[\-\w.\u00B7-\uFFFF]/)
              , wW = kg(/^aria-[\-\w]+$/)
              , xW = kg(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i)
              , CW = kg(/^(?:\w+script|data):/i)
              , SW = kg(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g)
              , TW = kg(/^html$/i)
              , _W = function() {
                return "undefined" == typeof window ? null : window
            }
              , kW = function(n, r) {
                if ("object" !== Ow(n) || "function" != typeof n.createPolicy)
                    return null;
                var u = null
                  , l = "data-tt-policy-suffix";
                r.currentScript && r.currentScript.hasAttribute(l) && (u = r.currentScript.getAttribute(l));
                var d = "dompurify" + (u ? "#" + u : "");
                try {
                    return n.createPolicy(d, {
                        createHTML: function(S) {
                            return S
                        }
                    })
                } catch (p) {
                    return console.warn("TrustedTypes policy " + d + " could not be created."),
                    null
                }
            }
              , EW = function FM() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _W()
                  , n = function(Qe) {
                    return FM(Qe)
                };
                if (n.version = "2.3.8",
                n.removed = [],
                !e || !e.document || 9 !== e.document.nodeType)
                    return n.isSupported = !1,
                    n;
                var r = e.document
                  , u = e.document
                  , l = e.DocumentFragment
                  , d = e.HTMLTemplateElement
                  , p = e.Node
                  , S = e.Element
                  , T = e.NodeFilter
                  , O = e.NamedNodeMap
                  , I = void 0 === O ? e.NamedNodeMap || e.MozNamedAttrMap : O
                  , $ = e.HTMLFormElement
                  , q = e.DOMParser
                  , Z = e.trustedTypes
                  , te = S.prototype
                  , de = Q_(te, "cloneNode")
                  , Te = Q_(te, "nextSibling")
                  , ce = Q_(te, "childNodes")
                  , ke = Q_(te, "parentNode");
                if ("function" == typeof d) {
                    var Ze = u.createElement("template");
                    Ze.content && Ze.content.ownerDocument && (u = Ze.content.ownerDocument)
                }
                var Ye = kW(Z, r)
                  , _e = Ye ? Ye.createHTML("") : ""
                  , Ue = u
                  , ut = Ue.implementation
                  , Jt = Ue.createNodeIterator
                  , ht = Ue.createDocumentFragment
                  , Qt = Ue.getElementsByTagName
                  , yt = r.importNode
                  , it = {};
                try {
                    it = Dw(u).documentMode ? u.documentMode : {}
                } catch (jr) {}
                var $t = {};
                n.isSupported = "function" == typeof ke && ut && void 0 !== ut.createHTMLDocument && 9 !== it;
                var _b, Lp, kn = pW, mt = bW, yn = yW, Ln = wW, Yr = CW, Oo = SW, sa = xW, Wa = null, xc = Zo({}, [].concat(tm(PM), tm(hE), tm(pE), tm(bE), tm(BM))), ss = null, JS = Zo({}, [].concat(tm(NM), tm(yE), tm(zM), tm(ek))), ru = Object.seal(Object.create(null, {
                    tagNameCheck: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: null
                    },
                    attributeNameCheck: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: null
                    },
                    allowCustomizedBuiltInElements: {
                        writable: !0,
                        configurable: !1,
                        enumerable: !0,
                        value: !1
                    }
                })), Np = null, zp = null, Mw = !0, Fp = !0, Rw = !1, Us = !1, Vf = !1, Ss = !1, Pw = !1, Eg = !1, Sb = !1, ou = !1, rm = !0, Ag = !0, Ip = !1, Uf = {}, Og = null, sn = Zo({}, ["annotation-xml", "audio", "colgroup", "desc", "foreignobject", "head", "iframe", "math", "mi", "mn", "mo", "ms", "mtext", "noembed", "noframes", "noscript", "plaintext", "script", "style", "svg", "template", "thead", "title", "video", "xmp"]), Nr = null, Po = Zo({}, ["audio", "video", "img", "source", "image", "track"]), Na = null, Ws = Zo({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "role", "summary", "title", "value", "style", "xmlns"]), Ts = "http://www.w3.org/1998/Math/MathML", Cc = "http://www.w3.org/2000/svg", _l = "http://www.w3.org/1999/xhtml", Tb = _l, Bw = !1, TE = ["application/xhtml+xml", "text/html"], _E = "text/html", kb = null, ej = u.createElement("form"), oR = function(Qe) {
                    return Qe instanceof RegExp || Qe instanceof Function
                }, kE = function(Qe) {
                    kb && kb === Qe || ((!Qe || "object" !== Ow(Qe)) && (Qe = {}),
                    Qe = Dw(Qe),
                    Wa = "ALLOWED_TAGS"in Qe ? Zo({}, Qe.ALLOWED_TAGS) : xc,
                    ss = "ALLOWED_ATTR"in Qe ? Zo({}, Qe.ALLOWED_ATTR) : JS,
                    Na = "ADD_URI_SAFE_ATTR"in Qe ? Zo(Dw(Ws), Qe.ADD_URI_SAFE_ATTR) : Ws,
                    Nr = "ADD_DATA_URI_TAGS"in Qe ? Zo(Dw(Po), Qe.ADD_DATA_URI_TAGS) : Po,
                    Og = "FORBID_CONTENTS"in Qe ? Zo({}, Qe.FORBID_CONTENTS) : sn,
                    Np = "FORBID_TAGS"in Qe ? Zo({}, Qe.FORBID_TAGS) : {},
                    zp = "FORBID_ATTR"in Qe ? Zo({}, Qe.FORBID_ATTR) : {},
                    Uf = "USE_PROFILES"in Qe && Qe.USE_PROFILES,
                    Mw = !1 !== Qe.ALLOW_ARIA_ATTR,
                    Fp = !1 !== Qe.ALLOW_DATA_ATTR,
                    Rw = Qe.ALLOW_UNKNOWN_PROTOCOLS || !1,
                    Us = Qe.SAFE_FOR_TEMPLATES || !1,
                    Vf = Qe.WHOLE_DOCUMENT || !1,
                    Eg = Qe.RETURN_DOM || !1,
                    Sb = Qe.RETURN_DOM_FRAGMENT || !1,
                    ou = Qe.RETURN_TRUSTED_TYPE || !1,
                    Pw = Qe.FORCE_BODY || !1,
                    rm = !1 !== Qe.SANITIZE_DOM,
                    Ag = !1 !== Qe.KEEP_CONTENT,
                    Ip = Qe.IN_PLACE || !1,
                    sa = Qe.ALLOWED_URI_REGEXP || sa,
                    Tb = Qe.NAMESPACE || _l,
                    Qe.CUSTOM_ELEMENT_HANDLING && oR(Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (ru.tagNameCheck = Qe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),
                    Qe.CUSTOM_ELEMENT_HANDLING && oR(Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (ru.attributeNameCheck = Qe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),
                    Qe.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (ru.allowCustomizedBuiltInElements = Qe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),
                    _b = _b = -1 === TE.indexOf(Qe.PARSER_MEDIA_TYPE) ? _E : Qe.PARSER_MEDIA_TYPE,
                    Lp = "application/xhtml+xml" === _b ? function(Dn) {
                        return Dn
                    }
                    : Z_,
                    Us && (Fp = !1),
                    Sb && (Eg = !0),
                    Uf && (Wa = Zo({}, tm(BM)),
                    ss = [],
                    !0 === Uf.html && (Zo(Wa, PM),
                    Zo(ss, NM)),
                    !0 === Uf.svg && (Zo(Wa, hE),
                    Zo(ss, yE),
                    Zo(ss, ek)),
                    !0 === Uf.svgFilters && (Zo(Wa, pE),
                    Zo(ss, yE),
                    Zo(ss, ek)),
                    !0 === Uf.mathMl && (Zo(Wa, bE),
                    Zo(ss, zM),
                    Zo(ss, ek))),
                    Qe.ADD_TAGS && (Wa === xc && (Wa = Dw(Wa)),
                    Zo(Wa, Qe.ADD_TAGS)),
                    Qe.ADD_ATTR && (ss === JS && (ss = Dw(ss)),
                    Zo(ss, Qe.ADD_ATTR)),
                    Qe.ADD_URI_SAFE_ATTR && Zo(Na, Qe.ADD_URI_SAFE_ATTR),
                    Qe.FORBID_CONTENTS && (Og === sn && (Og = Dw(Og)),
                    Zo(Og, Qe.FORBID_CONTENTS)),
                    Ag && (Wa["#text"] = !0),
                    Vf && Zo(Wa, ["html", "head", "body"]),
                    Wa.table && (Zo(Wa, ["tbody"]),
                    delete Np.tbody),
                    Sl && Sl(Qe),
                    kb = Qe)
                }, aR = Zo({}, ["mi", "mo", "mn", "ms", "mtext"]), iR = Zo({}, ["foreignobject", "desc", "title", "annotation-xml"]), tj = Zo({}, ["title", "style", "font", "a", "script"]), tk = Zo({}, hE);
                Zo(tk, pE),
                Zo(tk, gW);
                var EE = Zo({}, bE);
                Zo(EE, hW);
                var nj = function(Qe) {
                    var Dn = ke(Qe);
                    (!Dn || !Dn.tagName) && (Dn = {
                        namespaceURI: _l,
                        tagName: "template"
                    });
                    var _r = Z_(Qe.tagName)
                      , Di = Z_(Dn.tagName);
                    return Qe.namespaceURI === Cc ? Dn.namespaceURI === _l ? "svg" === _r : Dn.namespaceURI === Ts ? "svg" === _r && ("annotation-xml" === Di || aR[Di]) : Boolean(tk[_r]) : Qe.namespaceURI === Ts ? Dn.namespaceURI === _l ? "math" === _r : Dn.namespaceURI === Cc ? "math" === _r && iR[Di] : Boolean(EE[_r]) : Qe.namespaceURI === _l && !(Dn.namespaceURI === Cc && !iR[Di] || Dn.namespaceURI === Ts && !aR[Di]) && !EE[_r] && (tj[_r] || !tk[_r])
                }
                  , Hp = function(Qe) {
                    I3(n.removed, {
                        element: Qe
                    });
                    try {
                        Qe.parentNode.removeChild(Qe)
                    } catch (Dn) {
                        try {
                            Qe.outerHTML = _e
                        } catch (_r) {
                            Qe.remove()
                        }
                    }
                }
                  , uR = function(Qe, Dn) {
                    try {
                        I3(n.removed, {
                            attribute: Dn.getAttributeNode(Qe),
                            from: Dn
                        })
                    } catch (_r) {
                        I3(n.removed, {
                            attribute: null,
                            from: Dn
                        })
                    }
                    if (Dn.removeAttribute(Qe),
                    "is" === Qe && !ss[Qe])
                        if (Eg || Sb)
                            try {
                                Hp(Dn)
                            } catch (_r) {}
                        else
                            try {
                                Dn.setAttribute(Qe, "")
                            } catch (_r) {}
                }
                  , sR = function(Qe) {
                    var Dn, _r;
                    if (Pw)
                        Qe = "<remove></remove>" + Qe;
                    else {
                        var Di = fW(Qe, /^[\r\n\t ]+/);
                        _r = Di && Di[0]
                    }
                    "application/xhtml+xml" === _b && (Qe = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + Qe + "</body></html>");
                    var ff = Ye ? Ye.createHTML(Qe) : Qe;
                    if (Tb === _l)
                        try {
                            Dn = (new q).parseFromString(ff, _b)
                        } catch (Sc) {}
                    if (!Dn || !Dn.documentElement) {
                        Dn = ut.createDocument(Tb, "template", null);
                        try {
                            Dn.documentElement.innerHTML = Bw ? "" : ff
                        } catch (Sc) {}
                    }
                    var Jc = Dn.body || Dn.documentElement;
                    return Qe && _r && Jc.insertBefore(u.createTextNode(_r), Jc.childNodes[0] || null),
                    Tb === _l ? Qt.call(Dn, Vf ? "html" : "body")[0] : Vf ? Dn.documentElement : Jc
                }
                  , cR = function(Qe) {
                    return Jt.call(Qe.ownerDocument || Qe, Qe, T.SHOW_ELEMENT | T.SHOW_COMMENT | T.SHOW_TEXT, null, !1)
                }
                  , rj = function(Qe) {
                    return Qe instanceof $ && ("string" != typeof Qe.nodeName || "string" != typeof Qe.textContent || "function" != typeof Qe.removeChild || !(Qe.attributes instanceof I) || "function" != typeof Qe.removeAttribute || "function" != typeof Qe.setAttribute || "string" != typeof Qe.namespaceURI || "function" != typeof Qe.insertBefore)
                }
                  , L3 = function(Qe) {
                    return "object" === Ow(p) ? Qe instanceof p : Qe && "object" === Ow(Qe) && "number" == typeof Qe.nodeType && "string" == typeof Qe.nodeName
                }
                  , $p = function(Qe, Dn, _r) {
                    !$t[Qe] || lW($t[Qe], function(Di) {
                        Di.call(n, Dn, _r, kb)
                    })
                }
                  , lR = function(Qe) {
                    var Dn;
                    if ($p("beforeSanitizeElements", Qe, null),
                    rj(Qe) || Tl(/[\u0080-\uFFFF]/, Qe.nodeName))
                        return Hp(Qe),
                        !0;
                    var _r = Lp(Qe.nodeName);
                    if ($p("uponSanitizeElement", Qe, {
                        tagName: _r,
                        allowedTags: Wa
                    }),
                    Qe.hasChildNodes() && !L3(Qe.firstElementChild) && (!L3(Qe.content) || !L3(Qe.content.firstElementChild)) && Tl(/<[/\w]/g, Qe.innerHTML) && Tl(/<[/\w]/g, Qe.textContent) || "select" === _r && Tl(/<template/i, Qe.innerHTML))
                        return Hp(Qe),
                        !0;
                    if (!Wa[_r] || Np[_r]) {
                        if (!Np[_r] && vR(_r) && (ru.tagNameCheck instanceof RegExp && Tl(ru.tagNameCheck, _r) || ru.tagNameCheck instanceof Function && ru.tagNameCheck(_r)))
                            return !1;
                        if (Ag && !Og[_r]) {
                            var Di = ke(Qe) || Qe.parentNode
                              , ff = ce(Qe) || Qe.childNodes;
                            if (ff && Di)
                                for (var Sc = ff.length - 1; Sc >= 0; --Sc)
                                    Di.insertBefore(de(ff[Sc], !0), Te(Qe))
                        }
                        return Hp(Qe),
                        !0
                    }
                    return Qe instanceof S && !nj(Qe) || ("noscript" === _r || "noembed" === _r) && Tl(/<\/no(script|embed)/i, Qe.innerHTML) ? (Hp(Qe),
                    !0) : (Us && 3 === Qe.nodeType && (Dn = Cb(Dn = Qe.textContent, kn, " "),
                    Dn = Cb(Dn, mt, " "),
                    Qe.textContent !== Dn && (I3(n.removed, {
                        element: Qe.cloneNode()
                    }),
                    Qe.textContent = Dn)),
                    $p("afterSanitizeElements", Qe, null),
                    !1)
                }
                  , fR = function(Qe, Dn, _r) {
                    if (rm && ("id" === Dn || "name" === Dn) && (_r in u || _r in ej))
                        return !1;
                    if ((!Fp || zp[Dn] || !Tl(yn, Dn)) && (!Mw || !Tl(Ln, Dn)))
                        if (!ss[Dn] || zp[Dn]) {
                            if (!(vR(Qe) && (ru.tagNameCheck instanceof RegExp && Tl(ru.tagNameCheck, Qe) || ru.tagNameCheck instanceof Function && ru.tagNameCheck(Qe)) && (ru.attributeNameCheck instanceof RegExp && Tl(ru.attributeNameCheck, Dn) || ru.attributeNameCheck instanceof Function && ru.attributeNameCheck(Dn)) || "is" === Dn && ru.allowCustomizedBuiltInElements && (ru.tagNameCheck instanceof RegExp && Tl(ru.tagNameCheck, _r) || ru.tagNameCheck instanceof Function && ru.tagNameCheck(_r))))
                                return !1
                        } else if (!Na[Dn] && !Tl(sa, Cb(_r, Oo, "")) && ("src" !== Dn && "xlink:href" !== Dn && "href" !== Dn || "script" === Qe || 0 !== vW(_r, "data:") || !Nr[Qe]) && (!Rw || Tl(Yr, Cb(_r, Oo, ""))) && _r)
                            return !1;
                    return !0
                }
                  , vR = function(Qe) {
                    return Qe.indexOf("-") > 0
                }
                  , dR = function(Qe) {
                    var Dn, _r, Di, ff;
                    $p("beforeSanitizeAttributes", Qe, null);
                    var Jc = Qe.attributes;
                    if (Jc) {
                        var Sc = {
                            attrName: "",
                            attrValue: "",
                            keepAttr: !0,
                            allowedAttributes: ss
                        };
                        for (ff = Jc.length; ff--; ) {
                            var kl = (Dn = Jc[ff]).name
                              , mR = Dn.namespaceURI;
                            if (_r = "value" === kl ? Dn.value : dW(Dn.value),
                            Di = Lp(kl),
                            Sc.attrName = Di,
                            Sc.attrValue = _r,
                            Sc.keepAttr = !0,
                            Sc.forceKeepAttr = void 0,
                            $p("uponSanitizeAttribute", Qe, Sc),
                            _r = Sc.attrValue,
                            !Sc.forceKeepAttr && (uR(kl, Qe),
                            Sc.keepAttr)) {
                                if (Tl(/\/>/i, _r)) {
                                    uR(kl, Qe);
                                    continue
                                }
                                Us && (_r = Cb(_r, kn, " "),
                                _r = Cb(_r, mt, " "));
                                var aj = Lp(Qe.nodeName);
                                if (fR(aj, Di, _r))
                                    try {
                                        mR ? Qe.setAttributeNS(mR, kl, _r) : Qe.setAttribute(kl, _r),
                                        RM(n.removed)
                                    } catch (ij) {}
                            }
                        }
                        $p("afterSanitizeAttributes", Qe, null)
                    }
                }
                  , oj = function jr(Qe) {
                    var Dn, _r = cR(Qe);
                    for ($p("beforeSanitizeShadowDOM", Qe, null); Dn = _r.nextNode(); )
                        $p("uponSanitizeShadowNode", Dn, null),
                        !lR(Dn) && (Dn.content instanceof l && jr(Dn.content),
                        dR(Dn));
                    $p("afterSanitizeShadowDOM", Qe, null)
                };
                return n.sanitize = function(jr, Qe) {
                    var Dn, _r, Di, ff, Jc;
                    if ((Bw = !jr) && (jr = "\x3c!--\x3e"),
                    "string" != typeof jr && !L3(jr)) {
                        if ("function" != typeof jr.toString)
                            throw gE("toString is not a function");
                        if ("string" != typeof (jr = jr.toString()))
                            throw gE("dirty is not a string, aborting")
                    }
                    if (!n.isSupported) {
                        if ("object" === Ow(e.toStaticHTML) || "function" == typeof e.toStaticHTML) {
                            if ("string" == typeof jr)
                                return e.toStaticHTML(jr);
                            if (L3(jr))
                                return e.toStaticHTML(jr.outerHTML)
                        }
                        return jr
                    }
                    if (Ss || kE(Qe),
                    n.removed = [],
                    "string" == typeof jr && (Ip = !1),
                    Ip) {
                        if (jr.nodeName) {
                            var Sc = Lp(jr.nodeName);
                            if (!Wa[Sc] || Np[Sc])
                                throw gE("root node is forbidden and cannot be sanitized in-place")
                        }
                    } else if (jr instanceof p)
                        1 === (_r = (Dn = sR("\x3c!----\x3e")).ownerDocument.importNode(jr, !0)).nodeType && "BODY" === _r.nodeName || "HTML" === _r.nodeName ? Dn = _r : Dn.appendChild(_r);
                    else {
                        if (!Eg && !Us && !Vf && -1 === jr.indexOf("<"))
                            return Ye && ou ? Ye.createHTML(jr) : jr;
                        if (!(Dn = sR(jr)))
                            return Eg ? null : ou ? _e : ""
                    }
                    Dn && Pw && Hp(Dn.firstChild);
                    for (var nk = cR(Ip ? jr : Dn); Di = nk.nextNode(); )
                        3 === Di.nodeType && Di === ff || lR(Di) || (Di.content instanceof l && oj(Di.content),
                        dR(Di),
                        ff = Di);
                    if (ff = null,
                    Ip)
                        return jr;
                    if (Eg) {
                        if (Sb)
                            for (Jc = ht.call(Dn.ownerDocument); Dn.firstChild; )
                                Jc.appendChild(Dn.firstChild);
                        else
                            Jc = Dn;
                        return ss.shadowroot && (Jc = yt.call(r, Jc, !0)),
                        Jc
                    }
                    var kl = Vf ? Dn.outerHTML : Dn.innerHTML;
                    return Vf && Wa["!doctype"] && Dn.ownerDocument && Dn.ownerDocument.doctype && Dn.ownerDocument.doctype.name && Tl(TW, Dn.ownerDocument.doctype.name) && (kl = "<!DOCTYPE " + Dn.ownerDocument.doctype.name + ">\n" + kl),
                    Us && (kl = Cb(kl, kn, " "),
                    kl = Cb(kl, mt, " ")),
                    Ye && ou ? Ye.createHTML(kl) : kl
                }
                ,
                n.setConfig = function(jr) {
                    kE(jr),
                    Ss = !0
                }
                ,
                n.clearConfig = function() {
                    kb = null,
                    Ss = !1
                }
                ,
                n.isValidAttribute = function(jr, Qe, Dn) {
                    kb || kE({});
                    var _r = Lp(jr)
                      , Di = Lp(Qe);
                    return fR(_r, Di, Dn)
                }
                ,
                n.addHook = function(jr, Qe) {
                    "function" == typeof Qe && ($t[jr] = $t[jr] || [],
                    I3($t[jr], Qe))
                }
                ,
                n.removeHook = function(jr) {
                    if ($t[jr])
                        return RM($t[jr])
                }
                ,
                n.removeHooks = function(jr) {
                    $t[jr] && ($t[jr] = [])
                }
                ,
                n.removeAllHooks = function() {
                    $t = {}
                }
                ,
                n
            }()
              , AW = function(e) {
                return EW().sanitize(e)
            }
              , OW = Ck.deviceType.isTouch()
              , IM = function(e, n) {
                return {
                    dom: {
                        tag: "div",
                        styles: {
                            display: "none"
                        },
                        classes: ["tox-dialog__header"]
                    },
                    components: [e, n]
                }
            }
              , LM = function(e, n) {
                return gu.parts.close(Is.sketch({
                    dom: {
                        tag: "button",
                        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
                        attributes: {
                            type: "button",
                            "aria-label": n.translate("Close")
                        }
                    },
                    action: e,
                    buttonBehaviours: Wt([Fi.config({})])
                }))
            }
              , HM = function() {
                return gu.parts.title({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__title"],
                        innerHtml: "",
                        styles: {
                            display: "none"
                        }
                    }
                })
            }
              , $M = function(e, n) {
                return gu.parts.body({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__body"]
                    },
                    components: [{
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__body-content"]
                        },
                        components: [{
                            dom: yb("<p>" + AW(n.translate(e)) + "</p>")
                        }]
                    }]
                })
            }
              , VM = function(e) {
                return gu.parts.footer({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__footer"]
                    },
                    components: e
                })
            }
              , UM = function(e, n) {
                return [$s.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__footer-start"]
                    },
                    components: e
                }), $s.sketch({
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__footer-end"]
                    },
                    components: n
                })]
            }
              , wE = function(e) {
                var n, r = "tox-dialog", u = r + "-wrap", l = u + "__backdrop", d = r + "__disable-scroll";
                return gu.sketch({
                    lazySink: e.lazySink,
                    onEscape: function(p) {
                        return e.onEscape(p),
                        D.some(!0)
                    },
                    useTabstopAt: function(p) {
                        return !M3(p)
                    },
                    dom: {
                        tag: "div",
                        classes: [r].concat(e.extraClasses),
                        styles: ae({
                            position: "relative"
                        }, e.extraStyles)
                    },
                    components: Ct([e.header, e.body], e.footer.toArray(), !0),
                    parts: {
                        blocker: {
                            dom: yb('<div class="' + u + '"></div>'),
                            components: [{
                                dom: {
                                    tag: "div",
                                    classes: OW ? [l, l + "--opaque"] : [l]
                                }
                            }]
                        }
                    },
                    dragBlockClass: u,
                    modalBehaviours: Wt(Ct([sr.config({}), rn("dialog-events", e.dialogEvents.concat([bd(xf(), function(p, S) {
                        Yn.focusIn(p)
                    })])), rn("scroll-lock", [pa(function() {
                        ki(aa(), d)
                    }), sl(function() {
                        ei(aa(), d)
                    })])], e.extraBehaviours, !0)),
                    eventOrder: ae((n = {},
                    n[co()] = ["dialog-events"],
                    n[cu()] = ["scroll-lock", "dialog-events", "alloy.base.behaviour"],
                    n[Bl()] = ["alloy.base.behaviour", "dialog-events", "scroll-lock"],
                    n), e.eventOrder)
                })
            }
              , WM = function(e) {
                return Is.sketch({
                    dom: {
                        tag: "button",
                        classes: ["tox-button", "tox-button--icon", "tox-button--naked"],
                        attributes: {
                            type: "button",
                            "aria-label": e.translate("Close"),
                            title: e.translate("Close")
                        }
                    },
                    components: [If("close", {
                        tag: "div",
                        classes: ["tox-icon"]
                    }, e.icons)],
                    action: function(n) {
                        po(n, pw)
                    }
                })
            }
              , jM = function(e, n, r) {
                var u = function(l) {
                    return [Fu(r.translate(l.title))]
                };
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__title"],
                        attributes: ae({}, n.map(function(l) {
                            return {
                                id: l
                            }
                        }).getOr({}))
                    },
                    components: u(e),
                    behaviours: Wt([Cl.config({
                        channel: _M,
                        renderComponents: u
                    })])
                }
            }
              , GM = function() {
                return {
                    dom: yb('<div class="tox-dialog__draghandle"></div>')
                }
            }
              , qM = function(e, n) {
                return function(e, n) {
                    var r = gu.parts.title(jM(e, D.none(), n))
                      , u = gu.parts.draghandle(GM())
                      , l = gu.parts.close(WM(n))
                      , d = [r].concat(e.draggable ? [u] : []).concat([l]);
                    return $s.sketch({
                        dom: yb('<div class="tox-dialog__header"></div>'),
                        components: d
                    })
                }({
                    title: n.shared.providers.translate(e),
                    draggable: n.dialog.isDraggableModal()
                }, n.shared.providers)
            }
              , KM = function(e, n, r) {
                return {
                    dom: {
                        tag: "div",
                        classes: ["tox-dialog__busy-spinner"],
                        attributes: {
                            "aria-label": r.translate(e)
                        },
                        styles: {
                            left: "0px",
                            right: "0px",
                            bottom: "0px",
                            top: "0px",
                            position: "absolute"
                        }
                    },
                    behaviours: n,
                    components: [{
                        dom: yb('<div class="tox-spinner"><div></div><div></div><div></div></div>')
                    }]
                }
            }
              , XM = function(e, n, r) {
                return {
                    onClose: function() {
                        return r.closeWindow()
                    },
                    onBlock: function(u) {
                        gu.setBusy(e(), function(l, d) {
                            return KM(u.message, d, n)
                        })
                    },
                    onUnblock: function() {
                        gu.setIdle(e())
                    }
                }
            }
              , YM = function(e, n, r, u) {
                var l;
                return es(wE(ae(ae({}, e), {
                    lazySink: u.shared.getSink,
                    extraBehaviours: Ct([Cl.config({
                        channel: fE,
                        updateState: function(p, S) {
                            return D.some(S)
                        },
                        initialData: n
                    }), Cw_memory({})], e.extraBehaviours, !0),
                    onEscape: function(p) {
                        po(p, pw)
                    },
                    dialogEvents: r,
                    eventOrder: (l = {},
                    l[Cf()] = [Cl.name(), Zs.name()],
                    l[cu()] = ["scroll-lock", Cl.name(), "messages", "dialog-events", "alloy.base.behaviour"],
                    l[Bl()] = ["alloy.base.behaviour", "dialog-events", "messages", Cl.name(), "scroll-lock"],
                    l)
                })))
            }
              , JM = function(e) {
                return re(e, function(r) {
                    return "menu" === r.type ? function(r) {
                        var u = re(r.items, function(l) {
                            var d = Xn(!1);
                            return ae(ae({}, l), {
                                storage: d
                            })
                        });
                        return ae(ae({}, r), {
                            items: u
                        })
                    }(r) : r
                })
            }
              , ZM = function(e) {
                return Bt(e, function(n, r) {
                    return "menu" === r.type ? Bt(r.items, function(l, d) {
                        return l[d.name] = d.storage,
                        l
                    }, n) : n
                }, {})
            }
              , QM = function(e, n) {
                return [v1(xf(), $B), e(k3, function(r, u) {
                    n.onClose(),
                    u.onClose()
                }), e(pw, function(r, u, l, d) {
                    u.onCancel(r),
                    po(d, k3)
                }), gt(Pk, function(r, u) {
                    return n.onUnblock()
                }), gt(Rk, function(r, u) {
                    return n.onBlock(u.event)
                })]
            }
              , xE_initDialog = function(e, n, r) {
                var u = function(d, p) {
                    return gt(d, function(S, T) {
                        l(S, function(O, I) {
                            p(e(), O, T.event, S)
                        })
                    })
                }
                  , l = function(d, p) {
                    Cl.getState(d).get().each(function(S) {
                        p(S.internalDialog, d)
                    })
                };
                return Ct(Ct([], QM(u, n), !0), [u(E3, function(d, p) {
                    return p.onSubmit(d)
                }), u(cf, function(d, p, S) {
                    p.onChange(d, {
                        name: S.name
                    })
                }), u(xg, function(d, p, S, T) {
                    var O = function() {
                        return Yn.focusIn(T)
                    }
                      , I = function(Z) {
                        return dn(Z, "disabled") || gs(Z, "aria-disabled").exists(function(te) {
                            return "true" === te
                        })
                    }
                      , $ = Bn(T.element)
                      , q = rs($);
                    p.onAction(d, {
                        name: S.name,
                        value: S.value
                    }),
                    rs($).fold(O, function(Z) {
                        I(Z) || q.exists(function(te) {
                            return ds(Z, te) && I(te)
                        }) ? O() : r().toOptional().filter(function(te) {
                            return !ds(te.element, Z)
                        }).each(O)
                    })
                }), u(SA, function(d, p, S) {
                    p.onTabChange(d, {
                        newTabName: S.name,
                        oldTabName: S.oldName
                    })
                }), sl(function(d) {
                    var p = e();
                    tn.setValue(d, p.getData())
                })], !1)
            }
              , zW = function(e, n) {
                var r = n.map(function(S) {
                    return S.footerButtons
                }).getOr([])
                  , u = Le(r, function(S) {
                    return "start" === S.align
                })
                  , l = function(S, T) {
                    return $s.sketch({
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__footer-" + S]
                        },
                        components: re(T, function(O) {
                            return O.memento.asSpec()
                        })
                    })
                };
                return [l("start", u.pass), l("end", u.fail)]
            }
              , eR = function(e, n) {
                return {
                    dom: yb('<div class="tox-dialog__footer"></div>'),
                    components: [],
                    behaviours: Wt([Cl.config({
                        channel: EM,
                        initialData: e,
                        updateState: function(u, l) {
                            var d = re(l.buttons, function(S) {
                                var T = ko(function(e, n) {
                                    return A_(e, e.type, n)
                                }(S, n));
                                return {
                                    name: S.name,
                                    align: S.align,
                                    memento: T
                                }
                            });
                            return D.some({
                                lookupByName: function(S, T) {
                                    return function(e, n, r) {
                                        return $n(n, function(u) {
                                            return u.name === r
                                        }).bind(function(u) {
                                            return u.memento.getOpt(e)
                                        })
                                    }(S, d, T)
                                },
                                footerButtons: d
                            })
                        },
                        renderComponents: zW
                    })])
                }
            }
              , tR = function(e, n) {
                return gu.parts.footer(eR(e, n))
            }
              , CE = function(e, n) {
                if (e.getRoot().getSystem().isConnected()) {
                    var u = qr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());
                    return HS.getField(u, n).fold(function() {
                        var l = e.getFooter();
                        return Cl.getState(l).get().bind(function(p) {
                            return p.lookupByName(u, n)
                        })
                    }, function(l) {
                        return D.some(l)
                    })
                }
                return D.none()
            }
              , nR = function(e, n, r) {
                var u = function(de) {
                    var Te = e.getRoot();
                    Te.getSystem().isConnected() && de(Te)
                }
                  , te = {
                    getData: function() {
                        var de = e.getRoot()
                          , Te = de.getSystem().isConnected() ? e.getFormWrapper() : de
                          , ce = tn.getValue(Te)
                          , ke = ee(r, function(Ze) {
                            return Ze.get()
                        });
                        return ae(ae({}, ce), ke)
                    },
                    setData: function(de) {
                        u(function(Te) {
                            var ce = te.getData()
                              , ke = ae(ae({}, ce), de)
                              , Ze = function(e, n) {
                                var r = e.getRoot();
                                return Cl.getState(r).get().map(function(u) {
                                    return Ms(Wo("data", u.dataValidator, n))
                                }).getOr(n)
                            }(e, ke)
                              , Ye = e.getFormWrapper();
                            tn.setValue(Ye, Ze),
                            Ar(r, function(_e, Ue) {
                                yr(ke, Ue) && _e.set(ke[Ue])
                            })
                        })
                    },
                    disable: function(de) {
                        CE(e, de).each(On.disable)
                    },
                    enable: function(de) {
                        CE(e, de).each(On.enable)
                    },
                    focus: function(de) {
                        CE(e, de).each(sr.focus)
                    },
                    block: function(de) {
                        if (!wn(de))
                            throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
                        u(function(Te) {
                            Vn(Te, Rk, {
                                message: de
                            })
                        })
                    },
                    unblock: function() {
                        u(function(de) {
                            po(de, Pk)
                        })
                    },
                    showTab: function(de) {
                        u(function(Te) {
                            var ce = e.getBody();
                            Cl.getState(ce).get().exists(function(Ze) {
                                return Ze.isTabPanel()
                            }) && qr.getCurrent(ce).each(function(Ze) {
                                YS.showTab(Ze, de)
                            })
                        })
                    },
                    redial: function(de) {
                        u(function(Te) {
                            var ce = n(de);
                            Te.getSystem().broadcastOn([fE], ce),
                            Te.getSystem().broadcastOn([_M], ce.internalDialog),
                            Te.getSystem().broadcastOn([kM], ce.internalDialog),
                            Te.getSystem().broadcastOn([EM], ce.internalDialog),
                            te.setData(ce.initialData)
                        })
                    },
                    close: function() {
                        u(function(de) {
                            po(de, k3)
                        })
                    }
                };
                return te
            }
              , SE = tinymce.util.Tools.resolve("tinymce.util.URI")
              , UW = ["insertContent", "setContent", "execCommand", "close", "block", "unblock"]
              , rR = function(e) {
                return fn(e) && -1 !== UW.indexOf(e.mceAction)
            }
              , GW = function(e, n, r, u) {
                var l, d = qM(e.title, u), p = function(e) {
                    var n = {
                        dom: {
                            tag: "div",
                            classes: ["tox-dialog__content-js"]
                        },
                        components: [{
                            dom: {
                                tag: "div",
                                classes: ["tox-dialog__body-iframe"]
                            },
                            components: [TO({
                                dom: {
                                    tag: "iframe",
                                    attributes: {
                                        src: e.url
                                    }
                                },
                                behaviours: Wt([Fi.config({}), sr.config({})])
                            })]
                        }],
                        behaviours: Wt([Yn.config({
                            mode: "acyclic",
                            useTabstopAt: Kn(M3)
                        })])
                    };
                    return gu.parts.body(n)
                }(e), S = e.buttons.bind(function(ke) {
                    return 0 === ke.length ? D.none() : D.some(tR({
                        buttons: ke
                    }, u))
                }), T = function(e, n) {
                    var r = function(l, d) {
                        return gt(l, function(p, S) {
                            u(p, function(T, O) {
                                d(e(), T, S.event, p)
                            })
                        })
                    }
                      , u = function(l, d) {
                        Cl.getState(l).get().each(function(p) {
                            d(p, l)
                        })
                    };
                    return Ct(Ct([], QM(r, n), !0), [r(xg, function(l, d, p) {
                        d.onAction(l, {
                            name: p.name
                        })
                    })], !1)
                }(function() {
                    return ce
                }, XM(function() {
                    return Te
                }, u.shared.providers, n)), O = ae(ae({}, e.height.fold(function() {
                    return {}
                }, function(ke) {
                    return {
                        height: ke + "px",
                        "max-height": ke + "px"
                    }
                })), e.width.fold(function() {
                    return {}
                }, function(ke) {
                    return {
                        width: ke + "px",
                        "max-width": ke + "px"
                    }
                })), I = e.width.isNone() && e.height.isNone() ? ["tox-dialog--width-lg"] : [], $ = new SE(e.url,{
                    base_uri: new SE(window.location.href)
                }), q = $.protocol + "://" + $.host + ($.port ? ":" + $.port : ""), Z = yv(), te = [rn("messages", [pa(function() {
                    var ke = li(Ie_fromDom(window), "message", function(Ze) {
                        if ($.isSameOrigin(new SE(Ze.raw.origin))) {
                            var Ye = Ze.raw.data;
                            rR(Ye) ? function(e, n, r) {
                                switch (r.mceAction) {
                                case "insertContent":
                                    e.insertContent(r.content);
                                    break;
                                case "setContent":
                                    e.setContent(r.content);
                                    break;
                                case "execCommand":
                                    var u = !!_t(r.ui) && r.ui;
                                    e.execCommand(r.cmd, u, r.value);
                                    break;
                                case "close":
                                    n.close();
                                    break;
                                case "block":
                                    n.block(r.message);
                                    break;
                                case "unblock":
                                    n.unblock()
                                }
                            }(r, ce, Ye) : function(e) {
                                return !rR(e) && fn(e) && yr(e, "mceAction")
                            }(Ye) && e.onMessage(ce, Ye)
                        }
                    });
                    Z.set(ke)
                }), sl(Z.clear)]), Zs.config({
                    channels: (l = {},
                    l[AM] = {
                        onReceive: function(ke, Ze) {
                            ta(ke.element, "iframe").each(function(Ye) {
                                Ye.dom.contentWindow.postMessage(Ze, q)
                            })
                        }
                    },
                    l)
                })], Te = YM({
                    header: d,
                    body: p,
                    footer: S,
                    extraClasses: I,
                    extraBehaviours: te,
                    extraStyles: O
                }, e, T, u), ce = function(e) {
                    var n = function(p) {
                        e.getSystem().isConnected() && p(e)
                    };
                    return {
                        block: function(p) {
                            if (!wn(p))
                                throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");
                            n(function(S) {
                                Vn(S, Rk, {
                                    message: p
                                })
                            })
                        },
                        unblock: function() {
                            n(function(p) {
                                po(p, Pk)
                            })
                        },
                        close: function() {
                            n(function(p) {
                                po(p, k3)
                            })
                        },
                        sendMessage: function(p) {
                            n(function(S) {
                                S.getSystem().broadcastOn([AM], p)
                            })
                        }
                    }
                }(Te);
                return {
                    dialog: Te,
                    instanceApi: ce
                }
            }
              , JW = function(e, n, r) {
                return n && r ? [] : [rc.config({
                    contextual: {
                        lazyContext: function() {
                            return D.some(Ji(Ie_fromDom(e.getContentAreaContainer())))
                        },
                        fadeInClass: "tox-dialog-dock-fadein",
                        fadeOutClass: "tox-dialog-dock-fadeout",
                        transitionClass: "tox-dialog-dock-transition"
                    },
                    modes: ["top"]
                })]
            }
              , ZW = function(e) {
                var n = e.backstage
                  , r = e.editor
                  , u = MS(r)
                  , l = function(e) {
                    var n = e.backstage.shared;
                    return {
                        open: function(u, l) {
                            var d = function() {
                                gu.hide(O),
                                l()
                            }
                              , p = ko(A_({
                                name: "close-alert",
                                text: "OK",
                                primary: !0,
                                align: "end",
                                disabled: !1,
                                icon: D.none()
                            }, "cancel", e.backstage))
                              , S = HM()
                              , T = LM(d, n.providers)
                              , O = es(wE({
                                lazySink: function() {
                                    return n.getSink()
                                },
                                header: IM(S, T),
                                body: $M(u, n.providers),
                                footer: D.some(VM(UM([], [p.asSpec()]))),
                                onEscape: d,
                                extraClasses: ["tox-alert-dialog"],
                                extraBehaviours: [],
                                extraStyles: {},
                                dialogEvents: [gt(pw, d)],
                                eventOrder: {}
                            }));
                            gu.show(O);
                            var I = p.get(O);
                            sr.focus(I)
                        }
                    }
                }(e)
                  , d = function(e) {
                    var n = e.backstage.shared;
                    return {
                        open: function(u, l) {
                            var d = function(q) {
                                gu.hide(I),
                                l(q)
                            }
                              , p = ko(A_({
                                name: "yes",
                                text: "Yes",
                                primary: !0,
                                align: "end",
                                disabled: !1,
                                icon: D.none()
                            }, "submit", e.backstage))
                              , S = A_({
                                name: "no",
                                text: "No",
                                primary: !1,
                                align: "end",
                                disabled: !1,
                                icon: D.none()
                            }, "cancel", e.backstage)
                              , T = HM()
                              , O = LM(function() {
                                return d(!1)
                            }, n.providers)
                              , I = es(wE({
                                lazySink: function() {
                                    return n.getSink()
                                },
                                header: IM(T, O),
                                body: $M(u, n.providers),
                                footer: D.some(VM(UM([], [S, p.asSpec()]))),
                                onEscape: function() {
                                    return d(!1)
                                },
                                extraClasses: ["tox-confirm-dialog"],
                                extraBehaviours: [],
                                extraStyles: {},
                                dialogEvents: [gt(pw, function() {
                                    return d(!1)
                                }), gt(E3, function() {
                                    return d(!0)
                                })],
                                eventOrder: {}
                            }));
                            gu.show(I);
                            var $ = p.get(I);
                            sr.focus($)
                        }
                    }
                }(e)
                  , O = function(te, de) {
                    return F3.open(function(ce, ke, Ze) {
                        var Ye = ke
                          , Ue = function(e, n, r) {
                            var u = qM(e.internalDialog.title, r)
                              , l = function(e, n) {
                                var r = OM(e, D.none(), n, !1);
                                return gu.parts.body(r)
                            }({
                                body: e.internalDialog.body
                            }, r)
                              , d = JM(e.internalDialog.buttons)
                              , p = ZM(d)
                              , S = tR({
                                buttons: d
                            }, r)
                              , T = xE_initDialog(function() {
                                return Z
                            }, XM(function() {
                                return $
                            }, r.shared.providers, n), r.shared.getSink)
                              , O = function(e) {
                                switch (e) {
                                case "large":
                                    return ["tox-dialog--width-lg"];
                                case "medium":
                                    return ["tox-dialog--width-md"];
                                default:
                                    return []
                                }
                            }(e.internalDialog.size)
                              , I = {
                                header: u,
                                body: l,
                                footer: D.some(S),
                                extraClasses: O,
                                extraBehaviours: [],
                                extraStyles: {}
                            }
                              , $ = YM(I, e, T, r)
                              , q = {
                                getRoot: Se($),
                                getBody: function() {
                                    return gu.getBody($)
                                },
                                getFooter: function() {
                                    return gu.getFooter($)
                                },
                                getFormWrapper: function() {
                                    var de = gu.getBody($);
                                    return qr.getCurrent(de).getOr(de)
                                }
                            }
                              , Z = nR(q, n.redial, p);
                            return {
                                dialog: $,
                                instanceApi: Z
                            }
                        }({
                            dataValidator: Ze,
                            initialData: Ye,
                            internalDialog: ce
                        }, {
                            redial: F3.redial,
                            closeWindow: function() {
                                gu.hide(Ue.dialog),
                                de(Ue.instanceApi)
                            }
                        }, n);
                        return gu.show(Ue.dialog),
                        Ue.instanceApi.setData(Ye),
                        Ue.instanceApi
                    }, te)
                }
                  , I = function(te, de, Te, ce) {
                    return F3.open(function(Ze, Ye, _e) {
                        var Ue = function(e, n) {
                            return Ms(Wo("data", n, e))
                        }(Ye, _e)
                          , ut = ni()
                          , Jt = n.shared.header.isPositionedAtTop()
                          , Qt = function() {
                            return ut.on(function($t) {
                                ya.reposition($t),
                                rc.refresh($t)
                            })
                        }
                          , yt = function(e, n, r, u) {
                            var l, d, p = Pn("dialog-label"), S = Pn("dialog-content"), O = ko(function(e, n, r) {
                                return $s.sketch({
                                    dom: yb('<div class="tox-dialog__header"></div>'),
                                    components: [jM(e, D.some(n), r), GM(), WM(r)],
                                    containerBehaviours: Wt([Aw.config({
                                        mode: "mouse",
                                        blockerClass: "blocker",
                                        getTarget: function(u) {
                                            return Ic(u, '[role="dialog"]').getOrDie()
                                        },
                                        snaps: {
                                            getSnapPoints: function() {
                                                return []
                                            },
                                            leftAttr: "data-drag-left",
                                            topAttr: "data-drag-top"
                                        }
                                    })])
                                })
                            }({
                                title: e.internalDialog.title,
                                draggable: !0
                            }, p, r.shared.providers)), I = ko(function(e, n, r, u) {
                                return OM(e, D.some(n), r, u)
                            }({
                                body: e.internalDialog.body
                            }, S, r, u)), $ = JM(e.internalDialog.buttons), q = ZM($), Z = ko(function(e, n) {
                                return eR(e, n)
                            }({
                                buttons: $
                            }, r)), te = xE_initDialog(function() {
                                return Te
                            }, {
                                onBlock: function(ce) {
                                    Pp.block(de, function(ke, Ze) {
                                        return KM(ce.message, Ze, r.shared.providers)
                                    })
                                },
                                onUnblock: function() {
                                    Pp.unblock(de)
                                },
                                onClose: function() {
                                    return n.closeWindow()
                                }
                            }, r.shared.getSink), de = es({
                                dom: {
                                    tag: "div",
                                    classes: ["tox-dialog", "tox-dialog-inline"],
                                    attributes: (l = {
                                        role: "dialog"
                                    },
                                    l["aria-labelledby"] = p,
                                    l["aria-describedby"] = S,
                                    l)
                                },
                                eventOrder: (d = {},
                                d[Cf()] = [Cl.name(), Zs.name()],
                                d[co()] = ["execute-on-form"],
                                d[cu()] = ["reflecting", "execute-on-form"],
                                d),
                                behaviours: Wt([Yn.config({
                                    mode: "cyclic",
                                    onEscape: function(ce) {
                                        return po(ce, k3),
                                        D.some(!0)
                                    },
                                    useTabstopAt: function(ce) {
                                        return !M3(ce) && ("button" !== so(ce) || "disabled" !== Hn(ce, "disabled"))
                                    }
                                }), Cl.config({
                                    channel: fE,
                                    updateState: function(ce, ke) {
                                        return D.some(ke)
                                    },
                                    initialData: e
                                }), sr.config({}), rn("execute-on-form", te.concat([bd(xf(), function(ce, ke) {
                                    Yn.focusIn(ce)
                                })])), Pp.config({
                                    getRoot: function() {
                                        return D.some(de)
                                    }
                                }), pr.config({}), Cw_memory({})]),
                                components: [O.asSpec(), I.asSpec(), Z.asSpec()]
                            }), Te = nR({
                                getRoot: Se(de),
                                getFooter: function() {
                                    return Z.get(de)
                                },
                                getBody: function() {
                                    return I.get(de)
                                },
                                getFormWrapper: function() {
                                    var ce = I.get(de);
                                    return qr.getCurrent(ce).getOr(ce)
                                }
                            }, n.redial, q);
                            return {
                                dialog: de,
                                instanceApi: Te
                            }
                        }({
                            dataValidator: _e,
                            initialData: Ue,
                            internalDialog: Ze
                        }, {
                            redial: F3.redial,
                            closeWindow: function() {
                                ut.on(ya.hide),
                                r.off("ResizeEditor", Qt),
                                ut.clear(),
                                Te(yt.instanceApi)
                            }
                        }, n, ce)
                          , it = es(ya.sketch(ae(ae({
                            lazySink: n.shared.getSink,
                            dom: {
                                tag: "div",
                                classes: []
                            },
                            fireDismissalEventInstead: {}
                        }, Jt ? {} : {
                            fireRepositionEventInstead: {}
                        }), {
                            inlineBehaviours: Wt(Ct([rn("window-manager-inline-events", [gt(fc(), function($t, kn) {
                                po(yt.dialog, pw)
                            })])], JW(r, u, Jt), !0)),
                            isExtraPart: function($t, kn) {
                                return function(e) {
                                    return S3(e, ".tox-alert-dialog") || S3(e, ".tox-confirm-dialog")
                                }(kn)
                            }
                        })));
                        return ut.set(it),
                        ya.showWithin(it, hc(yt.dialog), {
                            anchor: de
                        }, D.some(aa())),
                        (!u || !Jt) && (rc.refresh(it),
                        r.on("ResizeEditor", Qt)),
                        yt.instanceApi.setData(Ue),
                        Yn.focusIn(yt.dialog),
                        yt.instanceApi
                    }, te)
                };
                return {
                    open: function(te, de, Te) {
                        return void 0 !== de && "toolbar" === de.inline ? I(te, n.shared.anchors.inlineDialog(), Te, de.ariaAttrs) : void 0 !== de && "cursor" === de.inline ? I(te, n.shared.anchors.cursor(), Te, de.ariaAttrs) : O(te, Te)
                    },
                    openUrl: function(te, de) {
                        return function(te, de) {
                            return F3.openUrl(function(ce) {
                                var ke = GW(ce, {
                                    closeWindow: function() {
                                        gu.hide(ke.dialog),
                                        de(ke.instanceApi)
                                    }
                                }, r, n);
                                return gu.show(ke.dialog),
                                ke.instanceApi
                            }, te)
                        }(te, de)
                    },
                    alert: function(te, de) {
                        l.open(te, function() {
                            de()
                        })
                    },
                    close: function(te) {
                        te.close()
                    },
                    confirm: function(te, de) {
                        d.open(te, function(Te) {
                            de(Te)
                        })
                    }
                }
            };
            ca.add("silver", function(e) {
                var n = aV(e)
                  , r = n.uiMothership
                  , u = n.backstage
                  , l = n.renderUI
                  , d = n.getUi;
                V8_register(e, u.shared);
                var p = ZW({
                    editor: e,
                    backstage: u
                });
                return {
                    renderUI: l,
                    getWindowManagerImpl: Se(p),
                    getNotificationManagerImpl: function() {
                        return function(e, n, r) {
                            var u = n.backstage.shared;
                            return {
                                open: function(O, I) {
                                    var $ = !O.closeButton && O.timeout && (O.timeout > 0 || O.timeout < 0)
                                      , q = function() {
                                        I(),
                                        ya.hide(te)
                                    }
                                      , Z = es(sw.sketch({
                                        text: O.text,
                                        level: nn(["success", "error", "warning", "warn", "info"], O.type) ? O.type : void 0,
                                        progress: !0 === O.progressBar,
                                        icon: D.from(O.icon),
                                        closeButton: !$,
                                        onAction: q,
                                        iconProvider: u.providers.icons,
                                        translationProvider: u.providers.translate
                                    }))
                                      , te = es(ya.sketch(ae({
                                        dom: {
                                            tag: "div",
                                            classes: ["tox-notifications-container"]
                                        },
                                        lazySink: u.getSink,
                                        fireDismissalEventInstead: {}
                                    }, u.header.isPositionedAtTop() ? {} : {
                                        fireRepositionEventInstead: {}
                                    })));
                                    r.add(te),
                                    O.timeout > 0 && Hv.setTimeout(function() {
                                        q()
                                    }, O.timeout);
                                    var de = function() {
                                        var Te = Ji(Ie_fromDom(e.getContentAreaContainer()))
                                          , ce = sc()
                                          , ke = ts(ce.x, Te.x, Te.right)
                                          , Ze = ts(ce.y, Te.y, Te.bottom)
                                          , Ye = Math.max(Te.right, ce.right)
                                          , _e = Math.max(Te.bottom, ce.bottom);
                                        return D.some(Za(ke, Ze, Ye - ke, _e - Ze))
                                    };
                                    return {
                                        close: q,
                                        moveTo: function(Te, ce) {
                                            ya.showAt(te, hc(Z), {
                                                anchor: {
                                                    type: "makeshift",
                                                    x: Te,
                                                    y: ce
                                                }
                                            })
                                        },
                                        moveRel: function(Te, ce) {
                                            var ke = hc(Z)
                                              , Ze = {
                                                maxHeightFunction: Vc()
                                            };
                                            if ("banner" !== ce && xe(Te)) {
                                                var Ye = function(O) {
                                                    switch (O) {
                                                    case "bc-bc":
                                                        return nf;
                                                    case "tc-tc":
                                                        return xl;
                                                    case "tc-bc":
                                                        return ws;
                                                    default:
                                                        return Eu
                                                    }
                                                }(ce)
                                                  , _e = {
                                                    type: "node",
                                                    root: aa(),
                                                    node: D.some(Ie_fromDom(Te)),
                                                    overrides: Ze,
                                                    layouts: {
                                                        onRtl: function() {
                                                            return [Ye]
                                                        },
                                                        onLtr: function() {
                                                            return [Ye]
                                                        }
                                                    }
                                                };
                                                ya.showWithinBounds(te, ke, {
                                                    anchor: _e
                                                }, de)
                                            } else {
                                                var Ue = ae(ae({}, u.anchors.banner()), {
                                                    overrides: Ze
                                                });
                                                ya.showWithinBounds(te, ke, {
                                                    anchor: Ue
                                                }, de)
                                            }
                                        },
                                        text: function(Te) {
                                            sw.updateText(Z, Te)
                                        },
                                        settings: O,
                                        getEl: function() {
                                            return Z.element.dom
                                        },
                                        progressBar: {
                                            value: function(Te) {
                                                sw.updateProgress(Z, Te)
                                            }
                                        }
                                    }
                                },
                                close: function(O) {
                                    O.close()
                                },
                                reposition: function(O) {
                                    O.length > 0 && Re(O, function(I, $) {
                                        0 === $ ? I.moveRel(null, "banner") : I.moveRel(O[$ - 1].getEl(), "bc-tc")
                                    })
                                },
                                getArgs: function(O) {
                                    return O.settings
                                }
                            }
                        }(e, {
                            backstage: u
                        }, r)
                    },
                    ui: d()
                }
            })
        }()
    }
    ,
    42212: (zo,xr,cn)=>{
        !function() {
            "use strict";
            function br(t) {
                if (null === t)
                    return "null";
                if (void 0 === t)
                    return "undefined";
                var o = typeof t;
                return "object" == o && (Array.prototype.isPrototypeOf(t) || t.constructor && "Array" === t.constructor.name) ? "array" : "object" == o && (String.prototype.isPrototypeOf(t) || t.constructor && "String" === t.constructor.name) ? "string" : o
            }
            function Nn(t) {
                return Pt(function(o, i) {
                    if (o.length !== i.length)
                        return !1;
                    for (var s = o.length, f = 0; f < s; f++)
                        if (!t.eq(o[f], i[f]))
                            return !1;
                    return !0
                })
            }
            function Lr(t) {
                return Pt(function(o, i) {
                    var f, m, g = Object.keys(o), b = Object.keys(i);
                    if (f = Nn(Xe),
                    m = function(_) {
                        return Array.prototype.slice.call(_).sort(void 0)
                    }
                    ,
                    !Pt(function(_, A) {
                        return f.eq(m(_), m(A))
                    }).eq(g, b))
                        return !1;
                    for (var x = g.length, y = 0; y < x; y++) {
                        var k = g[y];
                        if (!t.eq(o[k], i[k]))
                            return !1
                    }
                    return !0
                })
            }
            function vr(t) {
                return function(o) {
                    return s = typeof (i = o),
                    (null === i ? "null" : "object" == s && (Array.prototype.isPrototypeOf(i) || i.constructor && "Array" === i.constructor.name) ? "array" : "object" == s && (String.prototype.isPrototypeOf(i) || i.constructor && "String" === i.constructor.name) ? "string" : s) === t;
                    var i, s
                }
            }
            function wn(t) {
                return function(o) {
                    return typeof o === t
                }
            }
            function fn(t) {
                return function(o) {
                    return t === o
                }
            }
            function Hr(t) {
                return null == t
            }
            function gn(t) {
                return !Hr(t)
            }
            function _t() {}
            function lr(t, o) {
                return function() {
                    for (var i = [], s = 0; s < arguments.length; s++)
                        i[s] = arguments[s];
                    return t(o.apply(null, i))
                }
            }
            function oo(t, o) {
                return function(i) {
                    return t(o(i))
                }
            }
            function xe(t) {
                return function() {
                    return t
                }
            }
            function hn(t) {
                return t
            }
            function Cn(t, o) {
                return t === o
            }
            var Pt = function(t) {
                return {
                    eq: t
                }
            }
              , Xe = Pt(function(t, o) {
                return t === o
            })
              , Mr = Pt(function(t, o) {
                if (t === o)
                    return !0;
                var i = br(t);
                return i === br(o) && (-1 !== ["undefined", "boolean", "number", "string", "function", "xml", "null"].indexOf(i) ? t === o : "array" === i ? Nn(Mr).eq(t, o) : "object" === i && Lr(Mr).eq(t, o))
            })
              , Fn = vr("string")
              , an = vr("object")
              , Se = vr("array")
              , _n = fn(null)
              , En = wn("boolean")
              , In = fn(void 0)
              , Kn = wn("function")
              , $o = wn("number");
            function st(t) {
                for (var o = [], i = 1; i < arguments.length; i++)
                    o[i - 1] = arguments[i];
                return function() {
                    for (var s = [], f = 0; f < arguments.length; f++)
                        s[f] = arguments[f];
                    var m = o.concat(s);
                    return t.apply(null, m)
                }
            }
            function ge(t) {
                return function(o) {
                    return !t(o)
                }
            }
            function ca(t) {
                return t()
            }
            function ae(t) {
                t()
            }
            function on() {
                return wt
            }
            var Ct = xe(!1)
              , Ot = xe(!0)
              , wt = {
                fold: function(t, o) {
                    return t()
                },
                isSome: Ct,
                isNone: Ot,
                getOr: hn,
                getOrThunk: ct,
                getOrDie: function(t) {
                    throw new Error(t || "error: getOrDie called on none.")
                },
                getOrNull: xe(null),
                getOrUndefined: xe(void 0),
                or: hn,
                orThunk: ct,
                map: on,
                each: _t,
                bind: on,
                exists: Ct,
                forall: Ot,
                filter: function() {
                    return wt
                },
                toArray: function() {
                    return []
                },
                toString: xe("none()")
            };
            function ct(t) {
                return t()
            }
            function qe(t, o) {
                return Ma.call(t, o)
            }
            function D(t, o) {
                return -1 < qe(t, o)
            }
            function pn(t, o) {
                for (var i = 0, s = t.length; i < s; i++)
                    if (o(t[i], i))
                        return !0;
                return !1
            }
            function bn(t, o) {
                for (var i = t.length, s = new Array(i), f = 0; f < i; f++)
                    s[f] = o(t[f], f);
                return s
            }
            function tt(t, o) {
                for (var i = 0, s = t.length; i < s; i++)
                    o(t[i], i)
            }
            function kr(t, o) {
                for (var i = t.length - 1; 0 <= i; i--)
                    o(t[i], i)
            }
            function jn(t, o) {
                for (var i = [], s = [], f = 0, m = t.length; f < m; f++) {
                    var g = t[f];
                    (o(g, f) ? i : s).push(g)
                }
                return {
                    pass: i,
                    fail: s
                }
            }
            function nn(t, o) {
                for (var i = [], s = 0, f = t.length; s < f; s++) {
                    var m = t[s];
                    o(m, s) && i.push(m)
                }
                return i
            }
            function ir(t, o, i) {
                return kr(t, function(s, f) {
                    i = o(i, s, f)
                }),
                i
            }
            function kt(t, o, i) {
                return tt(t, function(s, f) {
                    i = o(i, s, f)
                }),
                i
            }
            function Mn(t, o, i) {
                for (var s = 0, f = t.length; s < f; s++) {
                    var m = t[s];
                    if (o(m, s))
                        return ee.some(m);
                    if (i(m, s))
                        break
                }
                return ee.none()
            }
            function re(t, o) {
                return Mn(t, o, Ct)
            }
            function Re(t, o) {
                for (var i = 0, s = t.length; i < s; i++)
                    if (o(t[i], i))
                        return ee.some(i);
                return ee.none()
            }
            function me(t, o) {
                return function(i) {
                    for (var s = [], f = 0, m = i.length; f < m; ++f) {
                        if (!Se(i[f]))
                            throw new Error("Arr.flatten item " + f + " was not an array, input: " + i);
                        Ra.apply(s, i[f])
                    }
                    return s
                }(bn(t, o))
            }
            function Le(t, o) {
                for (var i = 0, s = t.length; i < s; ++i)
                    if (!0 !== o(t[i], i))
                        return !1;
                return !0
            }
            function je(t) {
                var o = Do.call(t, 0);
                return o.reverse(),
                o
            }
            function We(t, o) {
                return nn(t, function(i) {
                    return !D(o, i)
                })
            }
            function Bt(t, o) {
                var i = Do.call(t, 0);
                return i.sort(o),
                i
            }
            function Gn(t, o) {
                return 0 <= o && o < t.length ? ee.some(t[o]) : ee.none()
            }
            function $n(t) {
                return Gn(t, 0)
            }
            function Cr(t) {
                return Gn(t, t.length - 1)
            }
            function Gt(t, o) {
                for (var i = 0; i < t.length; i++) {
                    var s = o(t[i], i);
                    if (s.isSome())
                        return s
                }
                return ee.none()
            }
            function Un(t, o) {
                for (var i = xa(t), s = 0, f = i.length; s < f; s++) {
                    var m = i[s];
                    o(t[m], m)
                }
            }
            function xo(t, o) {
                return Qr(t, function(i, s) {
                    return {
                        k: s,
                        v: o(i, s)
                    }
                })
            }
            function Fo(t) {
                return function(o, i) {
                    t[i] = o
                }
            }
            function ja(t, o, i, s) {
                return Un(t, function(f, m) {
                    (o(f, m) ? i : s)(f, m)
                }),
                1
            }
            function la(t, o) {
                var i = {};
                return ja(t, o, Fo(i), _t),
                i
            }
            function pt(t, o) {
                return St(t, o) ? ee.from(t[o]) : ee.none()
            }
            function Et(t, o) {
                return St(t, o) && null != t[o]
            }
            function Vt(t, o, i) {
                var s, f;
                if (!t)
                    return !1;
                if (i = i || t,
                void 0 !== t.length) {
                    for (s = 0,
                    f = t.length; s < f; s++)
                        if (!1 === o.call(i, t[s], s, t))
                            return !1
                } else
                    for (s in t)
                        if (St(t, s) && !1 === o.call(i, t[s], s, t))
                            return !1;
                return !0
            }
            function Yt(t, o) {
                var i = [];
                return Vt(t, function(s, f) {
                    i.push(o(s, f, t))
                }),
                i
            }
            function vn(t, o) {
                var i = [];
                return Vt(t, function(s, f) {
                    o && !o(s, f, t) || i.push(s)
                }),
                i
            }
            function cr(t, o) {
                if (t)
                    for (var i = 0, s = t.length; i < s; i++)
                        if (t[i] === o)
                            return i;
                return -1
            }
            function Sr(t, o, i, s) {
                for (var f = In(i) ? t[0] : i, m = 0; m < t.length; m++)
                    f = o.call(s, f, t[m], m);
                return f
            }
            function An(t, o, i) {
                for (var s = 0, f = t.length; s < f; s++)
                    if (o.call(i, t[s], s, t))
                        return s;
                return -1
            }
            function Jr(t) {
                return t[t.length - 1]
            }
            var Ar = function(t) {
                function o() {
                    return f
                }
                function i(m) {
                    return m(t)
                }
                var s = xe(t)
                  , f = {
                    fold: function(m, g) {
                        return g(t)
                    },
                    isSome: Ot,
                    isNone: Ct,
                    getOr: s,
                    getOrThunk: s,
                    getOrDie: s,
                    getOrNull: s,
                    getOrUndefined: s,
                    or: o,
                    orThunk: o,
                    map: function(m) {
                        return Ar(m(t))
                    },
                    each: function(m) {
                        m(t)
                    },
                    bind: i,
                    exists: i,
                    forall: i,
                    filter: function(m) {
                        return m(t) ? f : wt
                    },
                    toArray: function() {
                        return [t]
                    },
                    toString: function() {
                        return "some(" + t + ")"
                    }
                };
                return f
            }
              , ee = {
                some: Ar,
                none: on,
                from: function(t) {
                    return null == t ? wt : Ar(t)
                }
            }
              , Do = Array.prototype.slice
              , Ma = Array.prototype.indexOf
              , Ra = Array.prototype.push
              , Go = Kn(Array.from) ? Array.from : function(t) {
                return Do.call(t)
            }
              , xa = Object.keys
              , Mo = Object.hasOwnProperty
              , Qr = function(t, o) {
                var i = {};
                return Un(t, function(s, f) {
                    var m = o(s, f);
                    i[m.k] = m.v
                }),
                i
            }
              , St = function(t, o) {
                return Mo.call(t, o)
            }
              , yr = Array.isArray
              , en = function() {
                return (en = Object.assign || function(t) {
                    for (var o, i = 1, s = arguments.length; i < s; i++)
                        for (var f in o = arguments[i])
                            Object.prototype.hasOwnProperty.call(o, f) && (t[f] = o[f]);
                    return t
                }
                ).apply(this, arguments)
            };
            function qo(t, o, i) {
                if (i || 2 === arguments.length)
                    for (var s, f = 0, m = o.length; f < m; f++)
                        !s && f in o || ((s = s || Array.prototype.slice.call(o, 0, f))[f] = o[f]);
                return t.concat(s || Array.prototype.slice.call(o))
            }
            function Ca(t) {
                var o, i = !1;
                return function() {
                    for (var s = [], f = 0; f < arguments.length; f++)
                        s[f] = arguments[f];
                    return i || (i = !0,
                    o = t.apply(null, s)),
                    o
                }
            }
            function fa(t, o) {
                var i = String(o).toLowerCase();
                return re(t, function(s) {
                    return s.search(i)
                })
            }
            function bo(t, o) {
                return -1 !== t.indexOf(o)
            }
            function va(t) {
                return function(o) {
                    return o.replace(t, "")
                }
            }
            function Ga(t) {
                return 0 < t.length
            }
            function qi(t) {
                return !Ga(t)
            }
            function da(t) {
                return function(o) {
                    return bo(o, t)
                }
            }
            function za(t) {
                return window.matchMedia(t).matches
            }
            function hu(t) {
                return null == t ? "" : ("" + t).replace(Si, "")
            }
            function Vo(t, o) {
                return o ? !("array" !== o || !yr(t)) || typeof t === o : void 0 !== t
            }
            function cs(t, o) {
                for (var i = [], s = function(m) {
                    return i.push(m),
                    o(m)
                }, f = o(t); (f = f.bind(s)).isSome(); )
                    ;
                return i
            }
            function Ii(t, o) {
                var i = t.dom;
                if (1 !== i.nodeType)
                    return !1;
                var s = i;
                if (void 0 !== s.matches)
                    return s.matches(o);
                if (void 0 !== s.msMatchesSelector)
                    return s.msMatchesSelector(o);
                if (void 0 !== s.webkitMatchesSelector)
                    return s.webkitMatchesSelector(o);
                if (void 0 !== s.mozMatchesSelector)
                    return s.mozMatchesSelector(o);
                throw new Error("Browser lacks native selectors")
            }
            function oa(t) {
                return 1 !== t.nodeType && 9 !== t.nodeType && 11 !== t.nodeType || 0 === t.childElementCount
            }
            function uo(t, o) {
                return t.dom === o.dom
            }
            function qa(t, o) {
                return Wr().browser.isIE() ? (f = Node.DOCUMENT_POSITION_CONTAINED_BY,
                0 != (t.dom.compareDocumentPosition(o.dom) & f)) : (m = t.dom) !== (g = o.dom) && m.contains(g);
                var f, m, g
            }
            function vi() {
                return au(0, 0)
            }
            function ju(t) {
                function o(f) {
                    return function() {
                        return i === f
                    }
                }
                var i = t.current;
                return {
                    current: i,
                    version: t.version,
                    isEdge: o("Edge"),
                    isChrome: o("Chrome"),
                    isIE: o("IE"),
                    isOpera: o("Opera"),
                    isFirefox: o(Tr),
                    isSafari: o("Safari")
                }
            }
            function pu(t) {
                function o(f) {
                    return function() {
                        return i === f
                    }
                }
                var i = t.current;
                return {
                    current: i,
                    version: t.version,
                    isWindows: o(so),
                    isiOS: o("iOS"),
                    isAndroid: o(Fa),
                    isOSX: o("OSX"),
                    isLinux: o("Linux"),
                    isSolaris: o(Io),
                    isFreeBSD: o(Sa),
                    isChromeOS: o(ri)
                }
            }
            function di(t) {
                if (null == t)
                    throw new Error("Node cannot be null or undefined");
                return {
                    dom: t
                }
            }
            var au = function(t, o) {
                return {
                    major: t,
                    minor: o
                }
            }
              , le = {
                nu: au,
                detect: function(t, o) {
                    var i, s, f = String(o).toLowerCase();
                    return 0 === t.length ? vi() : (s = function(g, b) {
                        for (var x = 0; x < g.length; x++) {
                            var y = g[x];
                            if (y.test(b))
                                return y
                        }
                    }(t, i = f)) ? au(m(1), m(2)) : {
                        major: 0,
                        minor: 0
                    };
                    function m(g) {
                        return Number(i.replace(s, "$" + g))
                    }
                },
                unknown: vi
            }
              , Ee = function(t, o) {
                return "" === (i = o) || t.length >= i.length && t.substr(0, 0 + i.length) === i;
                var i
            }
              , ze = va(/^\s+|\s+$/g)
              , $e = va(/^\s+/g)
              , qt = va(/\s+$/g)
              , Ie = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/
              , nr = {
                browsers: xe([{
                    name: "Edge",
                    versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                    search: function(t) {
                        return bo(t, "edge/") && bo(t, "chrome") && bo(t, "safari") && bo(t, "applewebkit")
                    }
                }, {
                    name: "Chrome",
                    brand: "Chromium",
                    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Ie],
                    search: function(t) {
                        return bo(t, "chrome") && !bo(t, "chromeframe")
                    }
                }, {
                    name: "IE",
                    versionRegexes: [/.*?msie\ ?([0-9]+)\.([0-9]+).*/, /.*?rv:([0-9]+)\.([0-9]+).*/],
                    search: function(t) {
                        return bo(t, "msie") || bo(t, "trident")
                    }
                }, {
                    name: "Opera",
                    versionRegexes: [Ie, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                    search: da("opera")
                }, {
                    name: "Firefox",
                    versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                    search: da("firefox")
                }, {
                    name: "Safari",
                    versionRegexes: [Ie, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                    search: function(t) {
                        return (bo(t, "safari") || bo(t, "mobile/")) && bo(t, "applewebkit")
                    }
                }]),
                oses: xe([{
                    name: "Windows",
                    search: da("win"),
                    versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
                }, {
                    name: "iOS",
                    search: function(t) {
                        return bo(t, "iphone") || bo(t, "ipad")
                    },
                    versionRegexes: [/.*?version\/\ ?([0-9]+)\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]
                }, {
                    name: "Android",
                    search: da("android"),
                    versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
                }, {
                    name: "OSX",
                    search: da("mac os x"),
                    versionRegexes: [/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]
                }, {
                    name: "Linux",
                    search: da("linux"),
                    versionRegexes: []
                }, {
                    name: "Solaris",
                    search: da("sunos"),
                    versionRegexes: []
                }, {
                    name: "FreeBSD",
                    search: da("freebsd"),
                    versionRegexes: []
                }, {
                    name: "ChromeOS",
                    search: da("cros"),
                    versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/]
                }])
            }
              , Tr = "Firefox"
              , Ur = function() {
                return ju({
                    current: void 0,
                    version: le.unknown()
                })
            }
              , ma = ju
              , so = (xe("Edge"),
            xe("Chrome"),
            xe("IE"),
            xe("Opera"),
            xe(Tr),
            xe("Safari"),
            "Windows")
              , Fa = "Android"
              , Io = "Solaris"
              , Sa = "FreeBSD"
              , ri = "ChromeOS"
              , bu = function() {
                return pu({
                    current: void 0,
                    version: le.unknown()
                })
            }
              , Gu = pu
              , Wr = (xe(so),
            xe("iOS"),
            xe(Fa),
            xe("Linux"),
            xe("OSX"),
            xe(Io),
            xe(Sa),
            xe(ri),
            Ca(function() {
                return t = navigator.userAgent,
                o = ee.from(navigator.userAgentData),
                i = za,
                F = nr.browsers(),
                H = nr.oses(),
                {
                    browser: V = o.bind(function(K) {
                        return oe = F,
                        Gt(K.brands, function(pe) {
                            var X = pe.brand.toLowerCase();
                            return re(oe, function(ne) {
                                var ue;
                                return X === (null === (ue = ne.brand) || void 0 === ue ? void 0 : ue.toLowerCase())
                            }).map(function(ne) {
                                return {
                                    current: ne.name,
                                    version: le.nu(parseInt(pe.version, 10), 0)
                                }
                            })
                        });
                        var oe
                    }).orThunk(function() {
                        return fa(F, K = t).map(function(oe) {
                            var pe = le.detect(oe.versionRegexes, K);
                            return {
                                current: oe.name,
                                version: pe
                            }
                        });
                        var K
                    }).fold(Ur, ma),
                    os: j = fa(H, s = t).map(function(K) {
                        var oe = le.detect(K.versionRegexes, s);
                        return {
                            current: K.name,
                            version: oe
                        }
                    }).fold(bu, Gu),
                    deviceType: (m = V,
                    g = t,
                    b = i,
                    x = (f = j).isiOS() && !0 === /ipad/i.test(g),
                    y = f.isiOS() && !x,
                    _ = (k = f.isiOS() || f.isAndroid()) || b("(pointer:coarse)"),
                    A = x || !y && k && b("(min-device-width:768px)"),
                    P = y || k && !A,
                    z = m.isSafari() && f.isiOS() && !1 === /safari/i.test(g),
                    {
                        isiPad: xe(x),
                        isiPhone: xe(y),
                        isTablet: xe(A),
                        isPhone: xe(P),
                        isTouch: xe(_),
                        isAndroid: f.isAndroid,
                        isiOS: f.isiOS,
                        isWebView: xe(z),
                        isDesktop: xe(!P && !A && !z)
                    })
                };
                var t, o, i, s, f, m, g, b, x, y, k, _, A, P, z, F, H, V, j
            }))
              , Ka = navigator.userAgent
              , xt = Wr()
              , yo = xt.browser
              , mi = xt.os
              , Ci = xt.deviceType
              , _s = /WebKit/.test(Ka) && !yo.isEdge()
              , zr = "FormData"in window && "FileReader"in window && "URL"in window && !!URL.createObjectURL
              , oc = -1 !== Ka.indexOf("Windows Phone")
              , er = {
                opera: yo.isOpera(),
                webkit: _s,
                ie: !(!yo.isIE() && !yo.isEdge()) && yo.version.major,
                gecko: yo.isFirefox(),
                mac: mi.isOSX() || mi.isiOS(),
                iOS: Ci.isiPad() || Ci.isiPhone(),
                android: mi.isAndroid(),
                contentEditable: !0,
                transparentSrc: "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
                caretAfter: !0,
                range: window.getSelection && "Range"in window,
                documentMode: yo.isIE() ? document.documentMode || 7 : 10,
                fileApi: zr,
                ceFalse: !0,
                cacheSuffix: null,
                container: null,
                experimentalShadowDom: !1,
                canHaveCSP: !yo.isIE(),
                desktop: Ci.isDesktop(),
                windowsPhone: oc,
                browser: {
                    current: yo.current,
                    version: yo.version,
                    isChrome: yo.isChrome,
                    isEdge: yo.isEdge,
                    isFirefox: yo.isFirefox,
                    isIE: yo.isIE,
                    isOpera: yo.isOpera,
                    isSafari: yo.isSafari
                },
                os: {
                    current: mi.current,
                    version: mi.version,
                    isAndroid: mi.isAndroid,
                    isChromeOS: mi.isChromeOS,
                    isFreeBSD: mi.isFreeBSD,
                    isiOS: mi.isiOS,
                    isLinux: mi.isLinux,
                    isOSX: mi.isOSX,
                    isSolaris: mi.isSolaris,
                    isWindows: mi.isWindows
                },
                deviceType: {
                    isDesktop: Ci.isDesktop,
                    isiPad: Ci.isiPad,
                    isiPhone: Ci.isiPhone,
                    isPhone: Ci.isPhone,
                    isTablet: Ci.isTablet,
                    isTouch: Ci.isTouch,
                    isWebView: Ci.isWebView
                }
            }
              , Si = /^\s*|\s*$/g
              , ls = function(t, o, i, s) {
                s = s || this,
                t && Vt(t = i ? t[i] : t, function(f, m) {
                    return !1 !== o.call(s, f, m, i) && void ls(f, o, i, s)
                })
            }
              , Ke = {
                trim: hu,
                isArray: yr,
                is: Vo,
                toArray: function(t) {
                    if (yr(t))
                        return t;
                    for (var o = [], i = 0, s = t.length; i < s; i++)
                        o[i] = t[i];
                    return o
                },
                makeMap: function(t, o, i) {
                    var s;
                    for (o = o || ",",
                    i = i || {},
                    s = (t = "string" == typeof (t = t || []) ? t.split(o) : t).length; s--; )
                        i[t[s]] = {};
                    return i
                },
                each: Vt,
                map: Yt,
                grep: vn,
                inArray: cr,
                hasOwn: St,
                extend: function(t) {
                    for (var o = [], i = 1; i < arguments.length; i++)
                        o[i - 1] = arguments[i];
                    for (var s = 0; s < o.length; s++) {
                        var f, m, g = o[s];
                        for (f in g)
                            !St(g, f) || void 0 !== (m = g[f]) && (t[f] = m)
                    }
                    return t
                },
                create: function(t, o, i) {
                    var s, f, m, g = this, b = 0, x = (t = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2], y = g.createNS(t[3].replace(/\.\w+$/, ""), i);
                    if (!y[x]) {
                        if ("static" === t[2])
                            return y[x] = o,
                            void (this.onCreate && this.onCreate(t[2], t[3], y[x]));
                        o[x] || (o[x] = function() {}
                        ,
                        b = 1),
                        y[x] = o[x],
                        g.extend(y[x].prototype, o),
                        t[5] && (s = g.resolve(t[5]).prototype,
                        f = t[5].match(/\.(\w+)$/i)[1],
                        m = y[x],
                        y[x] = b ? function() {
                            return s[f].apply(this, arguments)
                        }
                        : function() {
                            return this.parent = s[f],
                            m.apply(this, arguments)
                        }
                        ,
                        y[x].prototype[x] = y[x],
                        g.each(s, function(k, _) {
                            y[x].prototype[_] = s[_]
                        }),
                        g.each(o, function(k, _) {
                            s[_] ? y[x].prototype[_] = function() {
                                return this.parent = s[_],
                                k.apply(this, arguments)
                            }
                            : _ !== x && (y[x].prototype[_] = k)
                        })),
                        g.each(o.static, function(k, _) {
                            y[x][_] = k
                        })
                    }
                },
                walk: ls,
                createNS: function(t, o) {
                    var i, s;
                    for (o = o || window,
                    t = t.split("."),
                    i = 0; i < t.length; i++)
                        o[s = t[i]] || (o[s] = {}),
                        o = o[s];
                    return o
                },
                resolve: function(t, o) {
                    var i, s;
                    for (o = o || window,
                    i = 0,
                    s = (t = t.split(".")).length; i < s && (o = o[t[i]]); i++)
                        ;
                    return o
                },
                explode: function(t, o) {
                    return !t || Vo(t, "array") ? t : Yt(t.split(o || ","), hu)
                },
                _addCacheSuffix: function(t) {
                    var o = er.cacheSuffix;
                    return o && (t += (-1 === t.indexOf("?") ? "?" : "&") + o),
                    t
                }
            }
              , Oe = {
                fromHtml: function(t, o) {
                    var i = (o || document).createElement("div");
                    if (i.innerHTML = t,
                    !i.hasChildNodes() || 1 < i.childNodes.length)
                        throw console.error("HTML does not have a single root node", t),
                        new Error("HTML must have a single root node");
                    return di(i.childNodes[0])
                },
                fromTag: function(t, o) {
                    return di((o || document).createElement(t))
                },
                fromText: function(t, o) {
                    return di((o || document).createTextNode(t))
                },
                fromDom: di,
                fromPoint: function(t, o, i) {
                    return ee.from(t.dom.elementFromPoint(o, i)).map(di)
                }
            };
            function Or(t) {
                return t.dom.nodeName.toLowerCase()
            }
            function js(t) {
                return t.dom.nodeType
            }
            function yu(t) {
                return function(o) {
                    return js(o) === t
                }
            }
            function fs(t) {
                return Oe.fromDom(t.dom.ownerDocument)
            }
            function Ru(t) {
                return ur(t) ? t : fs(t)
            }
            function Li(t) {
                return Oe.fromDom(Ru(t).dom.defaultView)
            }
            function Ta(t) {
                return ee.from(t.dom.parentNode).map(Oe.fromDom)
            }
            function wu(t) {
                return ee.from(t.dom.previousSibling).map(Oe.fromDom)
            }
            function gi(t) {
                return ee.from(t.dom.nextSibling).map(Oe.fromDom)
            }
            function Ki(t) {
                return je(cs(t, wu))
            }
            function J(t) {
                return cs(t, gi)
            }
            function we(t, o) {
                return ee.from(t.dom.childNodes[o]).map(Oe.fromDom)
            }
            function Ne(t) {
                return we(t, 0)
            }
            function at(t) {
                return we(t, t.dom.childNodes.length - 1)
            }
            function Nt(t) {
                return t.dom.childNodes.length
            }
            function qn(t) {
                return So(t) && gn(t.dom.host)
            }
            function eo(t) {
                return qn(t) ? t : function() {
                    var o = Ru(t).dom.head;
                    if (null == o)
                        throw new Error("Head is not available yet");
                    return Oe.fromDom(o)
                }()
            }
            function Co(t) {
                return Oe.fromDom(t.dom.host)
            }
            function Ir(t, o) {
                Ta(t).each(function(i) {
                    i.dom.insertBefore(o.dom, t.dom)
                })
            }
            function _a(t, o) {
                gi(t).fold(function() {
                    Ta(t).each(function(i) {
                        no(i, o)
                    })
                }, function(i) {
                    Ir(i, o)
                })
            }
            function Xa(t, o) {
                Ne(t).fold(function() {
                    no(t, o)
                }, function(i) {
                    t.dom.insertBefore(o.dom, i.dom)
                })
            }
            function Xi(t, o) {
                tt(o, function(i) {
                    no(t, i)
                })
            }
            function Pa(t) {
                t.dom.textContent = "",
                tt(to(t), function(o) {
                    aa(o)
                })
            }
            function xu(t) {
                var o, i = to(t);
                0 < i.length && (o = t,
                tt(i, function(s) {
                    Ir(o, s)
                })),
                aa(t)
            }
            function ks(t, o) {
                return void 0 !== t ? t : void 0 !== o ? o : 0
            }
            function Pu(t) {
                var o = void 0 !== t ? t.dom : document;
                return wr(o.body.scrollLeft || o.documentElement.scrollLeft, o.body.scrollTop || o.documentElement.scrollTop)
            }
            function Zc(t, o, i) {
                var s = (void 0 !== i ? i.dom : document).defaultView;
                s && s.scrollTo(t, o)
            }
            function Dr(t, o) {
                Wr().browser.isSafari() && Kn(t.dom.scrollIntoViewIfNeeded) ? t.dom.scrollIntoViewIfNeeded(!1) : t.dom.scrollIntoView(o)
            }
            function Tc(t, o, i, s) {
                return {
                    x: t,
                    y: o,
                    width: i,
                    height: s,
                    right: t + i,
                    bottom: o + s
                }
            }
            function ac(t) {
                var o = void 0 === t ? window : t
                  , s = Pu(Oe.fromDom(o.document))
                  , f = void 0 === o ? window : o;
                return (Wr().browser.isFirefox() ? ee.none() : ee.from(f.visualViewport)).fold(function() {
                    var m = o.document.documentElement;
                    return Tc(s.left, s.top, m.clientWidth, m.clientHeight)
                }, function(m) {
                    return Tc(Math.max(m.pageLeft, s.left), Math.max(m.pageTop, s.top), m.width, m.height)
                })
            }
            function vs(t) {
                return function(o) {
                    return !!o && o.nodeType === t
                }
            }
            function Yi(t) {
                return t && !Object.getPrototypeOf(t)
            }
            function ka(t) {
                var o = t.map(function(i) {
                    return i.toLowerCase()
                });
                return function(i) {
                    if (i && i.nodeName) {
                        var s = i.nodeName.toLowerCase();
                        return D(o, s)
                    }
                    return !1
                }
            }
            function _c(t, o) {
                var i = o.toLowerCase().split(" ");
                return function(s) {
                    if (Hn(s))
                        for (var f = 0; f < i.length; f++) {
                            var m = s.ownerDocument.defaultView.getComputedStyle(s, null);
                            if ((m ? m.getPropertyValue(t) : null) === i[f])
                                return !0
                        }
                    return !1
                }
            }
            function Eo(t) {
                return function(o) {
                    return Hn(o) && o.hasAttribute(t)
                }
            }
            function Ya(t) {
                return Hn(t) && t.hasAttribute("data-mce-bogus")
            }
            function qu(t) {
                return Hn(t) && "TABLE" === t.tagName
            }
            function ds(t) {
                return function(o) {
                    return !(!Hn(o) || o.contentEditable !== t && o.getAttribute("data-mce-contenteditable") !== t)
                }
            }
            function Ti(t, o, i) {
                return void 0 === i && (i = Cn),
                t.exists(function(s) {
                    return i(s, o)
                })
            }
            function Qo(t, o, i) {
                return t.isSome() && o.isSome() ? ee.some(i(t.getOrDie(), o.getOrDie())) : ee.none()
            }
            function ms(t) {
                return void 0 !== t.style && Kn(t.style.getPropertyValue)
            }
            function Es(t, o, i) {
                if (!(Fn(i) || En(i) || $o(i)))
                    throw console.error("Invalid call to Attribute.set. Key ", o, ":: Value ", i, ":: Element ", t),
                    new Error("Attribute value was not simple");
                t.setAttribute(o, i + "")
            }
            function L(t, o, i) {
                Es(t.dom, o, i)
            }
            function R(t, o) {
                var i = t.dom;
                Un(o, function(s, f) {
                    Es(i, f, s)
                })
            }
            function C(t, o) {
                var i = t.dom.getAttribute(o);
                return null === i ? void 0 : i
            }
            function B(t, o) {
                return ee.from(C(t, o))
            }
            function G(t, o) {
                t.dom.removeAttribute(o)
            }
            function Ae(t, o) {
                var i = t.dom
                  , s = window.getComputedStyle(i).getPropertyValue(o);
                return "" !== s || Ku(t) ? s : La(i, o)
            }
            function lt(t, o) {
                var s = La(t.dom, o);
                return ee.from(s).filter(function(f) {
                    return 0 < f.length
                })
            }
            function Sn(t) {
                var o = {}
                  , i = t.dom;
                if (ms(i))
                    for (var s = 0; s < i.style.length; s++) {
                        var f = i.style.item(s);
                        o[f] = i.style[f]
                    }
                return o
            }
            function or(t) {
                return re(t, un)
            }
            function Xt(t, o) {
                return t.children && D(t.children, o)
            }
            "undefined" != typeof window || Function("return this;")();
            var un = yu(1)
              , Bn = yu(3)
              , ur = yu(9)
              , So = yu(11)
              , to = function(t) {
                return bn(t.dom.childNodes, Oe.fromDom)
            }
              , dr = Kn(Element.prototype.attachShadow) && Kn(Node.prototype.getRootNode)
              , oi = xe(dr)
              , Ia = dr ? function(t) {
                return Oe.fromDom(t.dom.getRootNode())
            }
            : Ru
              , no = function(t, o) {
                t.dom.appendChild(o.dom)
            }
              , aa = function(t) {
                var o = t.dom;
                null !== o.parentNode && o.parentNode.removeChild(o)
            }
              , Ku = function(t) {
                var o = Bn(t) ? t.dom.parentNode : t.dom;
                if (null == o || null === o.ownerDocument)
                    return !1;
                var i = o.ownerDocument
                  , s = Oe.fromDom(o)
                  , f = Ia(s);
                return (qn(f) ? ee.some(f) : ee.none()).fold(function() {
                    return i.body.contains(o)
                }, oo(Ku, Co))
            }
              , om = function(t, o) {
                return {
                    left: t,
                    top: o,
                    translate: function(i, s) {
                        return om(t + i, o + s)
                    }
                }
            }
              , wr = om
              , Wf = function(t) {
                var o, i = t.dom, s = i.ownerDocument.body;
                return s === i ? wr(s.offsetLeft, s.offsetTop) : Ku(t) ? (o = i.getBoundingClientRect(),
                wr(o.left, o.top)) : wr(0, 0)
            }
              , Hn = vs(1)
              , gs = ka(["textarea", "input"])
              , dn = vs(3)
              , _i = vs(8)
              , Qc = vs(9)
              , Ja = vs(11)
              , zn = ka(["br"])
              , Ea = ka(["img"])
              , Cu = ds("true")
              , ho = ds("false")
              , ic = ka(["td", "th"])
              , Bo = ka(["video", "audio", "object", "embed"])
              , La = function(t, o) {
                return ms(t) ? t.style.getPropertyValue(o) : ""
            }
              , Qv = Wr().browser
              , No = {}
              , uc = {
                exports: No
            };
            function jf(t) {
                setTimeout(function() {
                    throw t
                }, 0)
            }
            function am(t) {
                return Yo(function() {
                    return new hs(t)
                })
            }
            function ia(t) {
                if (!Se(t))
                    throw new Error("cases must be an array");
                if (0 === t.length)
                    throw new Error("there must be at least one case");
                var o = []
                  , i = {};
                return tt(t, function(s, f) {
                    var m = xa(s);
                    if (1 !== m.length)
                        throw new Error("one and only one name per case");
                    var g = m[0]
                      , b = s[g];
                    if (void 0 !== i[g])
                        throw new Error("duplicate key detected:" + g);
                    if ("cata" === g)
                        throw new Error("cannot have a case named cata (sorry)");
                    if (!Se(b))
                        throw new Error("case arguments must be an array");
                    o.push(g),
                    i[g] = function() {
                        for (var x = [], y = 0; y < arguments.length; y++)
                            x[y] = arguments[y];
                        var k = x.length;
                        if (k !== b.length)
                            throw new Error("Wrong number of arguments to case " + g + ". Expected " + b.length + " (" + b + "), got " + k);
                        return {
                            fold: function() {
                                for (var _ = [], A = 0; A < arguments.length; A++)
                                    _[A] = arguments[A];
                                if (_.length !== t.length)
                                    throw new Error("Wrong number of arguments to fold. Expected " + t.length + ", got " + _.length);
                                return _[f].apply(null, x)
                            },
                            match: function(_) {
                                var A = xa(_);
                                if (o.length !== A.length)
                                    throw new Error("Wrong number of arguments to match. Expected: " + o.join(",") + "\nActual: " + A.join(","));
                                if (!Le(o, function(P) {
                                    return D(A, P)
                                }))
                                    throw new Error("Not all branches were specified when using match. Specified: " + A.join(", ") + "\nRequired: " + o.join(", "));
                                return _[g].apply(null, x)
                            },
                            log: function(_) {
                                console.log(_, {
                                    constructors: o,
                                    constructor: g,
                                    params: x
                                })
                            }
                        }
                    }
                }),
                i
            }
            !function() {
                var t = this
                  , o = function() {
                    var i, s, f, m = {
                        exports: {}
                    };
                    function g() {}
                    function b(F) {
                        if ("object" != typeof this)
                            throw new TypeError("Promises must be constructed via new");
                        if ("function" != typeof F)
                            throw new TypeError("not a function");
                        this._state = 0,
                        this._handled = !1,
                        this._value = void 0,
                        this._deferreds = [],
                        P(F, this)
                    }
                    function x(F, H) {
                        for (; 3 === F._state; )
                            F = F._value;
                        0 !== F._state ? (F._handled = !0,
                        b._immediateFn(function() {
                            var V, j = 1 === F._state ? H.onFulfilled : H.onRejected;
                            if (null !== j) {
                                try {
                                    V = j(F._value)
                                } catch (K) {
                                    return void k(H.promise, K)
                                }
                                y(H.promise, V)
                            } else
                                (1 === F._state ? y : k)(H.promise, F._value)
                        })) : F._deferreds.push(H)
                    }
                    function y(F, H) {
                        try {
                            if (H === F)
                                throw new TypeError("A promise cannot be resolved with itself.");
                            if (H && ("object" == typeof H || "function" == typeof H)) {
                                var V = H.then;
                                if (H instanceof b)
                                    return F._state = 3,
                                    F._value = H,
                                    void _(F);
                                if ("function" == typeof V)
                                    return void P((j = V,
                                    K = H,
                                    function() {
                                        j.apply(K, arguments)
                                    }
                                    ), F)
                            }
                            F._state = 1,
                            F._value = H,
                            _(F)
                        } catch (oe) {
                            k(F, oe)
                        }
                        var j, K
                    }
                    function k(F, H) {
                        F._state = 2,
                        F._value = H,
                        _(F)
                    }
                    function _(F) {
                        2 === F._state && 0 === F._deferreds.length && b._immediateFn(function() {
                            F._handled || b._unhandledRejectionFn(F._value)
                        });
                        for (var H = 0, V = F._deferreds.length; H < V; H++)
                            x(F, F._deferreds[H]);
                        F._deferreds = null
                    }
                    function A(F, H, V) {
                        this.onFulfilled = "function" == typeof F ? F : null,
                        this.onRejected = "function" == typeof H ? H : null,
                        this.promise = V
                    }
                    function P(F, H) {
                        var V = !1;
                        try {
                            F(function(j) {
                                V || (V = !0,
                                y(H, j))
                            }, function(j) {
                                V || (V = !0,
                                k(H, j))
                            })
                        } catch (j) {
                            if (V)
                                return;
                            V = !0,
                            k(H, j)
                        }
                    }
                    i = m,
                    s = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : void 0 !== cn.g ? cn.g : "undefined" != typeof self ? self : {},
                    f = setTimeout,
                    b.prototype.catch = function(F) {
                        return this.then(null, F)
                    }
                    ,
                    b.prototype.then = function(F, H) {
                        var V = new this.constructor(g);
                        return x(this, new A(F,H,V)),
                        V
                    }
                    ,
                    b.all = function(F) {
                        var H = Array.prototype.slice.call(F);
                        return new b(function(V, j) {
                            if (0 === H.length)
                                return V([]);
                            for (var K = H.length, oe = 0; oe < H.length; oe++)
                                !function pe(X, ne) {
                                    try {
                                        if (ne && ("object" == typeof ne || "function" == typeof ne)) {
                                            var ue = ne.then;
                                            if ("function" == typeof ue)
                                                return ue.call(ne, function(Me) {
                                                    pe(X, Me)
                                                }, j),
                                                0
                                        }
                                        H[X] = ne,
                                        0 == --K && V(H)
                                    } catch (Me) {
                                        j(Me)
                                    }
                                }(oe, H[oe])
                        }
                        )
                    }
                    ,
                    b.resolve = function(F) {
                        return F && "object" == typeof F && F.constructor === b ? F : new b(function(H) {
                            H(F)
                        }
                        )
                    }
                    ,
                    b.reject = function(F) {
                        return new b(function(H, V) {
                            V(F)
                        }
                        )
                    }
                    ,
                    b.race = function(F) {
                        return new b(function(H, V) {
                            for (var j = 0, K = F.length; j < K; j++)
                                F[j].then(H, V)
                        }
                        )
                    }
                    ,
                    b._immediateFn = "function" == typeof setImmediate ? function(F) {
                        setImmediate(F)
                    }
                    : function(F) {
                        f(F, 0)
                    }
                    ,
                    b._unhandledRejectionFn = function(F) {
                        "undefined" != typeof console && console && console.warn("Possible Unhandled Promise Rejection:", F)
                    }
                    ,
                    b._setImmediateFn = function(F) {
                        b._immediateFn = F
                    }
                    ,
                    b._setUnhandledRejectionFn = function(F) {
                        b._unhandledRejectionFn = F
                    }
                    ,
                    i.exports ? i.exports = b : s.Promise || (s.Promise = b);
                    var z = m.exports;
                    return {
                        boltExport: ("undefined" != typeof window ? window : Function("return this;")()).Promise || z
                    }
                };
                "object" == typeof No && void 0 !== uc ? uc.exports = o() : (t = "undefined" != typeof globalThis ? globalThis : t || self).EphoxContactWrapper = o()
            }();
            var hs = uc.exports.boltExport
              , Gs = function(t) {
                function o(g) {
                    f() ? m(g) : s.push(g)
                }
                var i = ee.none()
                  , s = []
                  , f = function() {
                    return i.isSome()
                }
                  , m = function(g) {
                    i.each(function(b) {
                        setTimeout(function() {
                            g(b)
                        }, 0)
                    })
                };
                return t(function(g) {
                    f() || (i = ee.some(g),
                    tt(s, m),
                    s = [])
                }),
                {
                    get: o,
                    map: function(g) {
                        return Gs(function(b) {
                            o(function(x) {
                                b(g(x))
                            })
                        })
                    },
                    isReady: f
                }
            }
              , Gf = {
                nu: Gs,
                pure: function(t) {
                    return Gs(function(o) {
                        o(t)
                    })
                }
            }
              , Yo = function(t) {
                function o(i) {
                    t().then(i, jf)
                }
                return {
                    map: function(i) {
                        return Yo(function() {
                            return t().then(i)
                        })
                    },
                    bind: function(i) {
                        return Yo(function() {
                            return t().then(function(s) {
                                return i(s).toPromise()
                            })
                        })
                    },
                    anonBind: function(i) {
                        return Yo(function() {
                            return t().then(function() {
                                return i.toPromise()
                            })
                        })
                    },
                    toLazy: function() {
                        return Gf.nu(o)
                    },
                    toCached: function() {
                        var i = null;
                        return Yo(function() {
                            return i = null === i ? t() : i
                        })
                    },
                    toPromise: t,
                    get: o
                }
            }
              , Ha = function(t) {
                return {
                    isValue: Ot,
                    isError: Ct,
                    getOr: xe(t),
                    getOrThunk: xe(t),
                    getOrDie: xe(t),
                    or: function(o) {
                        return Ha(t)
                    },
                    orThunk: function(o) {
                        return Ha(t)
                    },
                    fold: function(o, i) {
                        return i(t)
                    },
                    map: function(o) {
                        return Ha(o(t))
                    },
                    mapError: function(o) {
                        return Ha(t)
                    },
                    each: function(o) {
                        o(t)
                    },
                    bind: function(o) {
                        return o(t)
                    },
                    exists: function(o) {
                        return o(t)
                    },
                    forall: function(o) {
                        return o(t)
                    },
                    toOptional: function() {
                        return ee.some(t)
                    }
                }
            }
              , qs = function(t) {
                return {
                    isValue: Ct,
                    isError: Ot,
                    getOr: hn,
                    getOrThunk: function(o) {
                        return o()
                    },
                    getOrDie: function() {
                        return o = String(t),
                        function() {
                            throw new Error(o)
                        }();
                        var o
                    },
                    or: hn,
                    orThunk: function(o) {
                        return o()
                    },
                    fold: function(o, i) {
                        return o(t)
                    },
                    map: function(o) {
                        return qs(t)
                    },
                    mapError: function(o) {
                        return qs(o(t))
                    },
                    each: _t,
                    bind: function(o) {
                        return qs(t)
                    },
                    exists: Ct,
                    forall: Ot,
                    toOptional: ee.none
                }
            }
              , Su = {
                value: Ha,
                error: qs,
                fromOption: function(t, o) {
                    return t.fold(function() {
                        return qs(o)
                    }, Ha)
                }
            };
            function ed(t) {
                return t.fold(hn, hn)
            }
            function Xu(t, o, i, s, f) {
                return t(i, s) ? ee.some(i) : Kn(f) && f(i) ? ee.none() : o(i, s, f)
            }
            function Ks(t, o, i) {
                for (var s = t.dom, f = Kn(i) ? i : Ct; s.parentNode; ) {
                    var m = Oe.fromDom(s = s.parentNode);
                    if (o(m))
                        return ee.some(m);
                    if (f(m))
                        break
                }
                return ee.none()
            }
            function Hi(t, o, i) {
                return Xu(function(s, f) {
                    return f(s)
                }, Ks, t, o, i)
            }
            function Bu(t, o, i) {
                return Ks(t, function(s) {
                    return Ii(s, o)
                }, i)
            }
            function vf(t, o) {
                return i = o,
                oa(s = void 0 === t ? document : t.dom) ? ee.none() : ee.from(s.querySelector(i)).map(Oe.fromDom);
                var i, s
            }
            function qf(t, o, i) {
                return Xu(Ii, Bu, t, o, i)
            }
            function td(t, o) {
                return "number" != typeof o && (o = 0),
                setTimeout(t, o)
            }
            function nd(t, o) {
                return "number" != typeof o && (o = 1),
                setInterval(t, o)
            }
            function df(t, o) {
                function i() {
                    for (var f = [], m = 0; m < arguments.length; m++)
                        f[m] = arguments[m];
                    clearTimeout(s),
                    s = td(function() {
                        t.apply(this, f)
                    }, o)
                }
                var s;
                return i.stop = function() {
                    clearTimeout(s)
                }
                ,
                i
            }
            function rd(t, o) {
                function i(k, _, A) {
                    var P, z = Ke._addCacheSuffix(k), F = pt(g, z).getOrThunk(function() {
                        return {
                            id: "mce-u" + m++,
                            passed: [],
                            failed: [],
                            count: 0
                        }
                    });
                    function H(ne, ue) {
                        for (var Me = ne.length; Me--; )
                            ne[Me]();
                        F.status = ue,
                        F.passed = [],
                        F.failed = [],
                        P && (P.onload = null,
                        P.onerror = null,
                        P = null)
                    }
                    function V() {
                        return H(F.passed, 2),
                        0
                    }
                    function j() {
                        return H(F.failed, 3)
                    }
                    (g[z] = F).count++;
                    var K, oe, pe, X = function() {
                        var ne = X;
                        !function() {
                            for (var ue = t.styleSheets, Me = ue.length; Me--; ) {
                                var Fe = ue[Me].ownerNode;
                                if (Fe && Fe.id === P.id)
                                    return V(),
                                    1
                            }
                        }() && (Date.now() - oe < y ? ai.setTimeout(ne) : j())
                    };
                    _ && F.passed.push(_),
                    A && F.failed.push(A),
                    1 !== F.status && (2 !== F.status ? 3 !== F.status ? (F.status = 1,
                    R(K = Oe.fromTag("link", x.dom), {
                        rel: "stylesheet",
                        type: "text/css",
                        id: F.id
                    }),
                    oe = Date.now(),
                    o.contentCssCors && L(K, "crossOrigin", "anonymous"),
                    o.referrerPolicy && L(K, "referrerpolicy", o.referrerPolicy),
                    (P = K.dom).onload = X,
                    P.onerror = j,
                    pe = K,
                    no(eo(b), pe),
                    L(K, "href", z)) : j() : V())
                }
                function s(k) {
                    return am(function(_) {
                        i(k, lr(_, xe(Su.value(k))), lr(_, xe(Su.error(k))))
                    })
                }
                function f(k) {
                    var _ = Ke._addCacheSuffix(k);
                    pt(g, _).each(function(A) {
                        var P;
                        0 == --A.count && (delete g[_],
                        P = A.id,
                        vf(eo(b), "#" + P).each(aa))
                    })
                }
                void 0 === o && (o = {});
                var m = 0
                  , g = {}
                  , b = Oe.fromDom(t)
                  , x = Ru(b)
                  , y = o.maxLoadTime || 5e3;
                return {
                    load: i,
                    loadAll: function(k, _, A) {
                        var P, z = bn(k, s);
                        P = z,
                        am(function(F) {
                            var H = []
                              , V = 0;
                            0 === P.length ? F([]) : tt(P, function(j, K) {
                                var oe;
                                j.get((oe = K,
                                function(pe) {
                                    H[oe] = pe,
                                    ++V >= P.length && F(H)
                                }
                                ))
                            })
                        }).get(function(F) {
                            var H = jn(F, function(V) {
                                return V.isValue()
                            });
                            0 < H.fail.length ? A(H.fail.map(ed)) : _(H.pass.map(ed))
                        })
                    },
                    unload: f,
                    unloadAll: function(k) {
                        tt(k, function(_) {
                            f(_)
                        })
                    },
                    _setReferrerPolicy: function(k) {
                        o.referrerPolicy = k
                    }
                }
            }
            ia([{
                bothErrors: ["error1", "error2"]
            }, {
                firstError: ["error1", "value2"]
            }, {
                secondError: ["value1", "error2"]
            }, {
                bothValues: ["value1", "value2"]
            }]);
            var El, od, Mi = window.Promise || hs, ai = {
                requestAnimationFrame: function(t, o) {
                    El ? El.then(t) : El = new Mi(function(i) {
                        !function(s, f) {
                            for (var m = window.requestAnimationFrame, g = ["ms", "moz", "webkit"], b = 0; b < g.length && !m; b++)
                                m = window[g[b] + "RequestAnimationFrame"];
                            (m = m || function(x) {
                                window.setTimeout(x, 0)
                            }
                            )(s, f)
                        }(i, o = o || document.body)
                    }
                    ).then(t)
                },
                setTimeout: td,
                setInterval: nd,
                setEditorTimeout: function(t, o, i) {
                    return td(function() {
                        t.removed || o()
                    }, i)
                },
                setEditorInterval: function(t, o, i) {
                    var s = nd(function() {
                        t.removed ? clearInterval(s) : o()
                    }, i);
                    return s
                },
                debounce: df,
                throttle: df,
                clearInterval: function(t) {
                    return clearInterval(t)
                },
                clearTimeout: function(t) {
                    return clearTimeout(t)
                }
            }, Ri = (od = new WeakMap,
            {
                forElement: function(t, o) {
                    var i = Ia(t).dom;
                    return ee.from(od.get(i)).getOrThunk(function() {
                        var s = rd(i, o);
                        return od.set(i, s),
                        s
                    })
                }
            }), ao = (el.prototype.current = function() {
                return this.node
            }
            ,
            el.prototype.next = function(t) {
                return this.node = this.findSibling(this.node, "firstChild", "nextSibling", t),
                this.node
            }
            ,
            el.prototype.prev = function(t) {
                return this.node = this.findSibling(this.node, "lastChild", "previousSibling", t),
                this.node
            }
            ,
            el.prototype.prev2 = function(t) {
                return this.node = this.findPreviousNode(this.node, "lastChild", "previousSibling", t),
                this.node
            }
            ,
            el.prototype.findSibling = function(t, o, i, s) {
                var f, m;
                if (t) {
                    if (!s && t[o])
                        return t[o];
                    if (t !== this.rootNode) {
                        if (f = t[i])
                            return f;
                        for (m = t.parentNode; m && m !== this.rootNode; m = m.parentNode)
                            if (f = m[i])
                                return f
                    }
                }
            }
            ,
            el.prototype.findPreviousNode = function(t, o, i, s) {
                var f, m, g;
                if (t && (f = t[i],
                !this.rootNode || f !== this.rootNode)) {
                    if (f) {
                        if (!s)
                            for (g = f[o]; g; g = g[o])
                                if (!g[o])
                                    return g;
                        return f
                    }
                    return (m = t.parentNode) && m !== this.rootNode ? m : void 0
                }
            }
            ,
            el);
            function el(t, o) {
                this.node = t,
                this.rootNode = o,
                this.current = this.current.bind(this),
                this.next = this.next.bind(this),
                this.prev = this.prev.bind(this),
                this.prev2 = this.prev2.bind(this)
            }
            function kc(t) {
                var o;
                return function(i) {
                    return o = o || function(s, f) {
                        for (var m = {}, g = 0, b = s.length; g < b; g++) {
                            var x = s[g];
                            m[String(x)] = f(x, g)
                        }
                        return m
                    }(t, Ot),
                    St(o, Or(i))
                }
            }
            function mf(t) {
                return un(t) && !M(t)
            }
            function Nu(t) {
                return un(t) && "br" === Or(t)
            }
            function gf(t) {
                return Kf(t) && (t = t.parentNode),
                Aa(t) && t.hasAttribute("data-mce-caret")
            }
            function Yu(t) {
                return Kf(t) && fo(t.data)
            }
            function iu(t) {
                return gf(t) || Yu(t)
            }
            function Dg(t) {
                return t.firstChild !== t.lastChild || !zn(t.firstChild)
            }
            function Al(t) {
                var o = t.container();
                return !!dn(o) && (o.data.charAt(t.offset()) === hr || t.isAtStart() && Yu(o.previousSibling))
            }
            function ad(t) {
                var o = t.container();
                return !!dn(o) && (o.data.charAt(t.offset() - 1) === hr || t.isAtEnd() && Yu(o.nextSibling))
            }
            function um(t) {
                return t && t.hasAttribute("data-mce-caret") ? (Ya(i = (o = t.getElementsByTagName("br"))[o.length - 1]) && i.parentNode.removeChild(i),
                t.removeAttribute("data-mce-caret"),
                t.removeAttribute("data-mce-bogus"),
                t.removeAttribute("style"),
                t.removeAttribute("_moz_abspos"),
                t) : null;
                var o, i
            }
            function As(t) {
                return gf(t.startContainer)
            }
            function hi(t) {
                return !Xf(t) && (Os(t) ? !zw(t.parentNode) : Gp(t) || Eb(t) || Ab(t) || qp(t))
            }
            function Ju(t, o) {
                return hi(t) && function(i, s) {
                    for (i = i.parentNode; i && i !== s; i = i.parentNode) {
                        if (qp(i))
                            return !1;
                        if (Nw(i))
                            return !0
                    }
                    return !0
                }(t, o)
            }
            function ii(t) {
                return ZS.test(t)
            }
            function tl(t, o) {
                return hi(t) && (g = o,
                !1 === (dn(m = t) && ii(m.data) && (i = m,
                s = Oe.fromDom(g),
                !1 === Bu(Oe.fromDom(i), "pre,code", st(uo, s)).isSome()))) || Hn(f = t) && "A" === f.nodeName && !f.hasAttribute("href") && (f.hasAttribute("name") || f.hasAttribute("id")) || QS(t);
                var i, s, f, m, g
            }
            function pi(t, o) {
                return function(i, s) {
                    var f = 0;
                    if (tl(i, i))
                        return !1;
                    var m = i.firstChild;
                    if (!m)
                        return !0;
                    var g = new ao(m,i);
                    do {
                        if (s) {
                            if (eT(m)) {
                                m = g.next(!0);
                                continue
                            }
                            if (Kp(m)) {
                                m = g.next();
                                continue
                            }
                        }
                        if (zn(m))
                            f++,
                            m = g.next();
                        else {
                            if (tl(m, i))
                                return !1;
                            m = g.next()
                        }
                    } while (m);
                    return f <= 1
                }(t.dom, o = void 0 === o || o)
            }
            function Vp(t, o) {
                return gn(t) && (tl(t, o) || mf(Oe.fromDom(t)))
            }
            function Za(t) {
                return "span" === t.nodeName.toLowerCase() && "bookmark" === t.getAttribute("data-mce-type")
            }
            function Ji(t, o) {
                var i, s, f, m = {};
                if (t) {
                    for (t = t.split(","),
                    o = o || 10,
                    i = 0; i < t.length; i += 2)
                        s = String.fromCharCode(parseInt(t[i], o)),
                        Jf[s] || (m[s] = f = "&" + t[i + 1] + ";",
                        m[f] = s);
                    return m
                }
            }
            function Ec(t, o) {
                return t.replace(o ? Xp : Pg, function(i) {
                    return Jf[i] || i
                })
            }
            function sc(t, o) {
                return t.replace(o ? Xp : Pg, function(i) {
                    return 1 < i.length ? "&#" + (1024 * (i.charCodeAt(0) - 55296) + (i.charCodeAt(1) - 56320) + 65536) + ";" : Jf[i] || "&#" + i.charCodeAt(0) + ";"
                })
            }
            function nl(t, o, i) {
                return i = i || Ob,
                t.replace(o ? Xp : Pg, function(s) {
                    return Jf[s] || i[s] || s
                })
            }
            function bi(t, o) {
                return (t = Ke.trim(t)) ? t.split(o || " ") : []
            }
            function Mg(t, o) {
                var i = ud(t, " ", ud(t.toUpperCase(), " "));
                return Db(i, o)
            }
            function Fr(t) {
                return Mg("td th li dt dd figcaption caption details summary", t.getTextBlockElements())
            }
            function Zu(t, o) {
                var i;
                return t && (i = {},
                Tu(t = "string" == typeof t ? {
                    "*": t
                } : t, function(s, f) {
                    i[f] = i[f.toUpperCase()] = ("map" === o ? ud : Jp)(s, /[, ]/)
                })),
                i
            }
            function Ac(t) {
                function o(vt, jt, tr) {
                    var mr = t[vt];
                    return mr ? mr = ud(mr, /[, ]/, ud(mr.toUpperCase(), /[, ]/)) : (mr = Wn[vt]) || (mr = Mg(jt, tr),
                    Wn[vt] = mr),
                    mr
                }
                var i, s, f, m, g, b, x, y, k = {}, _ = {}, A = [], P = {}, z = {}, F = (i = (t = t || {}).schema,
                y = {},
                Wn[i] || (s = "id accesskey class dir lang style tabindex title role",
                f = "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",
                m = "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",
                "html4" !== i && (s += " contenteditable contextmenu draggable dropzone hidden spellcheck translate",
                f += " article aside details dialog figure main header footer hgroup section nav",
                m += " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),
                "html5-strict" !== i && (s += " xml:lang",
                m = [m, x = "acronym applet basefont big font strike tt"].join(" "),
                Tu(bi(x), function(vt) {
                    H(vt, "", m)
                }),
                f = [f, b = "center dir isindex noframes"].join(" "),
                g = [f, m].join(" "),
                Tu(bi(b), function(vt) {
                    H(vt, "", g)
                })),
                g = g || [f, m].join(" "),
                H("html", "manifest", "head body"),
                H("head", "", "base command link meta noscript script style title"),
                H("title hr noscript br"),
                H("base", "href target"),
                H("link", "href rel media hreflang type sizes hreflang"),
                H("meta", "name http-equiv content charset"),
                H("style", "media type scoped"),
                H("script", "src async defer type charset"),
                H("body", "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload", g),
                H("address dt dd div caption", "", g),
                H("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn", "", m),
                H("blockquote", "cite", g),
                H("ol", "reversed start type", "li"),
                H("ul", "", "li"),
                H("li", "value", g),
                H("dl", "", "dt dd"),
                H("a", "href target rel media hreflang type", m),
                H("q", "cite", m),
                H("ins del", "cite datetime", g),
                H("img", "src sizes srcset alt usemap ismap width height"),
                H("iframe", "src name width height", g),
                H("embed", "src type width height"),
                H("object", "data type typemustmatch name usemap form width height", [g, "param"].join(" ")),
                H("param", "name value"),
                H("map", "name", [g, "area"].join(" ")),
                H("area", "alt coords shape href target rel media hreflang type"),
                H("table", "border", "caption colgroup thead tfoot tbody tr" + ("html4" === i ? " col" : "")),
                H("colgroup", "span", "col"),
                H("col", "span"),
                H("tbody thead tfoot", "", "tr"),
                H("tr", "", "td th"),
                H("td", "colspan rowspan headers", g),
                H("th", "colspan rowspan headers scope abbr", g),
                H("form", "accept-charset action autocomplete enctype method name novalidate target", g),
                H("fieldset", "disabled form name", [g, "legend"].join(" ")),
                H("label", "form for", m),
                H("input", "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),
                H("button", "disabled form formaction formenctype formmethod formnovalidate formtarget name type value", "html4" === i ? g : m),
                H("select", "disabled form multiple name required size", "option optgroup"),
                H("optgroup", "disabled label", "option"),
                H("option", "disabled label selected value"),
                H("textarea", "cols dirname disabled form maxlength name readonly required rows wrap"),
                H("menu", "type label", [g, "li"].join(" ")),
                H("noscript", "", g),
                "html4" !== i && (H("wbr"),
                H("ruby", "", [m, "rt rp"].join(" ")),
                H("figcaption", "", g),
                H("mark rt rp summary bdi", "", m),
                H("canvas", "width height", g),
                H("video", "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered", [g, "track source"].join(" ")),
                H("audio", "src crossorigin preload autoplay mediagroup loop muted controls buffered volume", [g, "track source"].join(" ")),
                H("picture", "", "img source"),
                H("source", "src srcset type media sizes"),
                H("track", "kind src srclang label default"),
                H("datalist", "", [m, "option"].join(" ")),
                H("article section nav aside main header footer", "", g),
                H("hgroup", "", "h1 h2 h3 h4 h5 h6"),
                H("figure", "", [g, "figcaption"].join(" ")),
                H("time", "datetime", m),
                H("dialog", "open", g),
                H("command", "type label icon disabled checked radiogroup command"),
                H("output", "for form name", m),
                H("progress", "value max", m),
                H("meter", "value min max low high optimum", m),
                H("details", "open", [g, "summary"].join(" ")),
                H("keygen", "autofocus challenge disabled form keytype name")),
                "html5-strict" !== i && (V("script", "language xml:space"),
                V("style", "xml:space"),
                V("object", "declare classid code codebase codetype archive standby align border hspace vspace"),
                V("embed", "align name hspace vspace"),
                V("param", "valuetype type"),
                V("a", "charset name rev shape coords"),
                V("br", "clear"),
                V("applet", "codebase archive code object alt name width height align hspace vspace"),
                V("img", "name longdesc align border hspace vspace"),
                V("iframe", "longdesc frameborder marginwidth marginheight scrolling align"),
                V("font basefont", "size color face"),
                V("input", "usemap align"),
                V("select"),
                V("textarea"),
                V("h1 h2 h3 h4 h5 h6 div p legend caption", "align"),
                V("ul", "type compact"),
                V("li", "type"),
                V("ol dl menu dir", "compact"),
                V("pre", "width xml:space"),
                V("hr", "align noshade size width"),
                V("isindex", "prompt"),
                V("table", "summary width frame rules cellspacing cellpadding align bgcolor"),
                V("col", "width align char charoff valign"),
                V("colgroup", "width align char charoff valign"),
                V("thead", "align char charoff valign"),
                V("tr", "align char charoff valign bgcolor"),
                V("th", "axis align char charoff valign nowrap bgcolor width height"),
                V("form", "accept"),
                V("td", "abbr axis scope align char charoff valign nowrap bgcolor width height"),
                V("tfoot", "align char charoff valign"),
                V("tbody", "align char charoff valign"),
                V("area", "nohref"),
                V("body", "background bgcolor text link vlink alink")),
                "html4" !== i && (V("input button select textarea", "autofocus"),
                V("input textarea", "placeholder"),
                V("a", "download"),
                V("link script img", "crossorigin"),
                V("img", "loading"),
                V("iframe", "sandbox seamless allowfullscreen loading")),
                Tu(bi("a form meter progress dfn"), function(vt) {
                    y[vt] && delete y[vt].children[vt]
                }),
                delete y.caption.children.table,
                delete y.script,
                Wn[i] = y));
                function H(vt, jt, tr) {
                    function mr(fi, nu) {
                        for (var wa = {}, xi = 0, Ai = fi.length; xi < Ai; xi++)
                            wa[fi[xi]] = nu || {};
                        return wa
                    }
                    var ra, Er;
                    jt = jt || "",
                    "string" == typeof (tr = tr || []) && (tr = bi(tr));
                    for (var ar = bi(vt), go = ar.length; go--; )
                        Er = {
                            attributes: mr(ra = bi([s, jt].join(" "))),
                            attributesOrder: ra,
                            children: mr(tr, Dl)
                        },
                        y[ar[go]] = Er
                }
                function V(vt, jt) {
                    for (var tr, mr, ra, Er = bi(vt), ar = Er.length, go = bi(jt); ar--; )
                        for (tr = y[Er[ar]],
                        mr = 0,
                        ra = go.length; mr < ra; mr++)
                            tr.attributes[go[mr]] = {},
                            tr.attributesOrder.push(go[mr])
                }
                !1 === t.verify_html && (t.valid_elements = "*[*]");
                var j = Zu(t.valid_styles)
                  , K = Zu(t.invalid_styles, "map")
                  , oe = Zu(t.valid_classes, "map")
                  , pe = o("whitespace_elements", "pre script noscript style textarea video audio iframe object code")
                  , X = o("self_closing_elements", "colgroup dd dt li option p td tfoot th thead tr")
                  , ne = o("short_ended_elements", "area base basefont br col frame hr img input isindex link meta param embed source wbr track")
                  , ue = o("boolean_attributes", "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls")
                  , Me = "td th iframe video audio object script code"
                  , Fe = o("non_empty_elements", Me + " pre", ne)
                  , Ge = o("move_caret_before_on_enter_elements", Me + " table", ne)
                  , Ve = o("text_block_elements", "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure")
                  , he = o("block_elements", "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary", Ve)
                  , ye = o("text_inline_elements", "span strong b em i font s strike u var cite dfn code mark q sup sub samp");
                function De(vt) {
                    return new RegExp("^" + vt.replace(/([?+*])/g, ".$1") + "$")
                }
                function He(vt) {
                    var jt, tr, mr, ra, Er, ar, go, fi, nu, wa, xi, Ai, Jd, Hf, Ap, sf, Op, vb, s_ = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/, DS = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/, g3 = /[*?+]/;
                    if (vt) {
                        var h3 = bi(vt, ",");
                        for (k["@"] && (sf = k["@"].attributes,
                        Op = k["@"].attributesOrder),
                        jt = 0,
                        tr = h3.length; jt < tr; jt++)
                            if (Er = s_.exec(h3[jt])) {
                                if (nu = Er[2],
                                Ap = Er[3],
                                fi = Er[5],
                                ar = {
                                    attributes: Ai = {},
                                    attributesOrder: Jd = []
                                },
                                "#" === (Hf = Er[1]) && (ar.paddEmpty = !0),
                                "-" === Hf && (ar.removeEmpty = !0),
                                "!" === Er[4] && (ar.removeEmptyAttrs = !0),
                                sf && (Un(sf, function(MS, yk) {
                                    Ai[yk] = MS
                                }),
                                Jd.push.apply(Jd, Op)),
                                fi)
                                    for (mr = 0,
                                    ra = (fi = bi(fi, "|")).length; mr < ra; mr++)
                                        (Er = DS.exec(fi[mr])) && (go = {},
                                        xi = Er[1],
                                        wa = Er[2].replace(/[\\:]:/g, ":"),
                                        Hf = Er[3],
                                        vb = Er[4],
                                        "!" === xi && (ar.attributesRequired = ar.attributesRequired || [],
                                        ar.attributesRequired.push(wa),
                                        go.required = !0),
                                        "-" !== xi ? (Hf && ("=" === Hf && (ar.attributesDefault = ar.attributesDefault || [],
                                        ar.attributesDefault.push({
                                            name: wa,
                                            value: vb
                                        }),
                                        go.defaultValue = vb),
                                        ":" === Hf && (ar.attributesForced = ar.attributesForced || [],
                                        ar.attributesForced.push({
                                            name: wa,
                                            value: vb
                                        }),
                                        go.forcedValue = vb),
                                        "<" === Hf && (go.validValues = ud(vb, "?"))),
                                        g3.test(wa) ? (ar.attributePatterns = ar.attributePatterns || [],
                                        go.pattern = De(wa),
                                        ar.attributePatterns.push(go)) : (Ai[wa] || Jd.push(wa),
                                        Ai[wa] = go)) : (delete Ai[wa],
                                        Jd.splice(Oc(Jd, wa), 1)));
                                sf || "@" !== nu || (sf = Ai,
                                Op = Jd),
                                Ap && (ar.outputName = nu,
                                k[Ap] = ar),
                                g3.test(nu) ? (ar.pattern = De(nu),
                                A.push(ar)) : k[nu] = ar
                            }
                    }
                }
                function Dt(vt) {
                    k = {},
                    A = [],
                    He(vt),
                    Tu(F, function(jt, tr) {
                        _[tr] = jt.children
                    })
                }
                function It(vt) {
                    var jt = /^(~)?(.+)$/;
                    vt && (Wn.text_block_elements = Wn.block_elements = null,
                    Tu(bi(vt, ","), function(tr) {
                        var mr, ra = jt.exec(tr), Er = "~" === ra[1], ar = Er ? "span" : "div", go = ra[2];
                        _[go] = _[ar],
                        P[go] = ar,
                        Er || (he[go.toUpperCase()] = {},
                        he[go] = {}),
                        k[go] || (delete (mr = Db({}, mr = k[ar])).removeEmptyAttrs,
                        delete mr.removeEmpty,
                        k[go] = mr),
                        Tu(_, function(fi, nu) {
                            fi[ar] && (_[nu] = fi = Db({}, _[nu]),
                            fi[go] = fi[ar])
                        })
                    }))
                }
                function Tt(vt) {
                    var jt = /^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;
                    Wn[t.schema] = null,
                    vt && Tu(bi(vt, ","), function(tr) {
                        var mr, ra, Er = jt.exec(tr);
                        Er && (mr = (ra = Er[1]) ? _[Er[2]] : _[Er[2]] = {
                            "#comment": {}
                        },
                        mr = _[Er[2]],
                        Tu(bi(Er[3], "|"), function(ar) {
                            "-" === ra ? delete mr[ar] : mr[ar] = {}
                        }))
                    })
                }
                function Lt(vt) {
                    var jt, tr = k[vt];
                    if (tr)
                        return tr;
                    for (jt = A.length; jt--; )
                        if ((tr = A[jt]).pattern.test(vt))
                            return tr
                }
                Tu((t.special || "script noscript iframe noframes noembed title style textarea xmp").split(" "), function(vt) {
                    z[vt] = new RegExp("</" + vt + "[^>]*>","gi")
                }),
                t.valid_elements ? Dt(t.valid_elements) : (Tu(F, function(vt, jt) {
                    k[jt] = {
                        attributes: vt.attributes,
                        attributesOrder: vt.attributesOrder
                    },
                    _[jt] = vt.children
                }),
                "html5" !== t.schema && Tu(bi("strong/b em/i"), function(vt) {
                    var jt = bi(vt, "/");
                    k[jt[1]].outputName = jt[0]
                }),
                Tu(ye, function(vt, jt) {
                    k[jt] && (t.padd_empty_block_inline_children && (k[jt].paddInEmptyBlock = !0),
                    k[jt].removeEmpty = !0)
                }),
                Tu(bi("ol ul blockquote a table tbody"), function(vt) {
                    k[vt] && (k[vt].removeEmpty = !0)
                }),
                Tu(bi("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"), function(vt) {
                    k[vt].paddEmpty = !0
                }),
                Tu(bi("span"), function(vt) {
                    k[vt].removeEmptyAttrs = !0
                })),
                It(t.custom_elements),
                Tt(t.valid_children),
                He(t.extended_valid_elements),
                Tt("+ol[ul|ol],+ul[ul|ol]"),
                Tu({
                    dd: "dl",
                    dt: "dl",
                    li: "ul ol",
                    td: "tr",
                    th: "tr",
                    tr: "tbody thead tfoot",
                    tbody: "table",
                    thead: "table",
                    tfoot: "table",
                    legend: "fieldset",
                    area: "map",
                    param: "video audio object"
                }, function(vt, jt) {
                    k[jt] && (k[jt].parentsRequired = bi(vt))
                }),
                t.invalid_elements && Tu(Jp(t.invalid_elements), function(vt) {
                    k[vt] && delete k[vt]
                }),
                Lt("span") || He("span[!data-mce-type|*]");
                var Rt = xe(j)
                  , Ht = xe(K)
                  , zt = xe(oe)
                  , ln = xe(ue)
                  , ft = xe(he)
                  , Zt = xe(Ve)
                  , Mt = xe(ye)
                  , xn = xe(ne)
                  , mn = xe(X)
                  , Vr = xe(Fe)
                  , ve = xe(Ge)
                  , Ce = xe(pe)
                  , Je = xe(z)
                  , bt = xe(P);
                return {
                    children: _,
                    elements: k,
                    getValidStyles: Rt,
                    getValidClasses: zt,
                    getBlockElements: ft,
                    getInvalidStyles: Ht,
                    getShortEndedElements: xn,
                    getTextBlockElements: Zt,
                    getTextInlineElements: Mt,
                    getBoolAttrs: ln,
                    getElementRule: Lt,
                    getSelfClosingElements: mn,
                    getNonEmptyElements: Vr,
                    getMoveCaretBeforeOnEnterElements: ve,
                    getWhiteSpaceElements: Ce,
                    getSpecialElements: Je,
                    isValidChild: function(vt, jt) {
                        var tr = _[vt.toLowerCase()];
                        return !(!tr || !tr[jt.toLowerCase()])
                    },
                    isValid: function(vt, jt) {
                        var tr, mr, ra = Lt(vt);
                        if (ra) {
                            if (!jt || ra.attributes[jt])
                                return !0;
                            if (tr = ra.attributePatterns)
                                for (mr = tr.length; mr--; )
                                    if (tr[mr].pattern.test(vt))
                                        return !0
                        }
                        return !1
                    },
                    getCustomElements: bt,
                    addValidElements: He,
                    setValidElements: Dt,
                    addCustomElements: It,
                    addValidChildren: Tt
                }
            }
            function sm(t, o, i, s) {
                function f(m) {
                    return 1 < (m = parseInt(m, 10).toString(16)).length ? m : "0" + m
                }
                return "#" + f(o) + f(i) + f(s)
            }
            function cm(t, o) {
                var i, s, f = this, m = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi, g = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi, b = /\s*([^:]+):\s*([^;]+);?/g, x = /\s+$/, y = {}, k = Pr;
                t = t || {},
                o && (i = o.getValidStyles(),
                s = o.getInvalidStyles());
                for (var _ = ("\\\" \\' \\; \\: ; : " + k).split(" "), A = 0; A < _.length; A++)
                    y[_[A]] = k + A,
                    y[k + A] = _[A];
                return {
                    toHex: function(P) {
                        return P.replace(m, sm)
                    },
                    parse: function(P) {
                        function z(De, He, Dt) {
                            var It = Ve[De + "-top" + He];
                            if (It) {
                                var Tt = Ve[De + "-right" + He];
                                if (Tt) {
                                    var Lt = Ve[De + "-bottom" + He];
                                    if (Lt) {
                                        var Rt = Ve[De + "-left" + He];
                                        if (Rt) {
                                            var Ht = [It, Tt, Lt, Rt];
                                            for (A = Ht.length - 1; A-- && Ht[A] === Ht[A + 1]; )
                                                ;
                                            -1 < A && Dt || (Ve[De + He] = -1 === A ? Ht[0] : Ht.join(" "),
                                            delete Ve[De + "-top" + He],
                                            delete Ve[De + "-right" + He],
                                            delete Ve[De + "-bottom" + He],
                                            delete Ve[De + "-left" + He])
                                        }
                                    }
                                }
                            }
                        }
                        function F(De) {
                            var He, Dt = Ve[De];
                            if (Dt) {
                                for (He = (Dt = Dt.split(" ")).length; He--; )
                                    if (Dt[He] !== Dt[0])
                                        return;
                                return Ve[De] = Dt[0],
                                1
                            }
                        }
                        function H(De) {
                            return ue = !0,
                            y[De]
                        }
                        function V(De, He) {
                            return ue && (De = De.replace(/\uFEFF[0-9]/g, function(Dt) {
                                return y[Dt]
                            })),
                            He ? De : De.replace(/\\([\'\";:])/g, "$1")
                        }
                        function j(De) {
                            return String.fromCharCode(parseInt(De.slice(1), 16))
                        }
                        function K(De) {
                            return De.replace(/\\[0-9a-f]+/gi, j)
                        }
                        function oe(De, He, Dt, It, Tt, Lt) {
                            if (Tt = Tt || Lt)
                                return "'" + (Tt = V(Tt)).replace(/\'/g, "\\'") + "'";
                            if (He = V(He || Dt || It),
                            !t.allow_script_urls) {
                                var Rt = He.replace(/[\s\r\n]+/g, "");
                                if (/(java|vb)script:/i.test(Rt) || !t.allow_svg_data_urls && /^data:image\/svg/i.test(Rt))
                                    return ""
                            }
                            return "url('" + (He = he ? he.call(ye, He, "style") : He).replace(/\'/g, "\\'") + "')"
                        }
                        var pe, X, ne, ue, Me, Fe, Ge, Ve = {}, he = t.url_converter, ye = t.url_converter_scope || f;
                        if (P) {
                            for (P = (P = P.replace(/[\u0000-\u001F]/g, "")).replace(/\\[\"\';:\uFEFF]/g, H).replace(/\"[^\"]+\"|\'[^\']+\'/g, function(De) {
                                return De.replace(/[;:]/g, H)
                            }); pe = b.exec(P); )
                                b.lastIndex = pe.index + pe[0].length,
                                X = pe[1].replace(x, "").toLowerCase(),
                                ne = pe[2].replace(x, ""),
                                X && ne && (X = K(X),
                                ne = K(ne),
                                -1 === X.indexOf(k) && -1 === X.indexOf('"') && (t.allow_script_urls || "behavior" !== X && !/expression\s*\(|\/\*|\*\//.test(ne)) && ("font-weight" === X && "700" === ne ? ne = "bold" : "color" !== X && "background-color" !== X || (ne = ne.toLowerCase()),
                                ne = (ne = ne.replace(m, sm)).replace(g, oe),
                                Ve[X] = ue ? V(ne, !0) : ne));
                            z("border", "", !0),
                            z("border", "-width"),
                            z("border", "-color"),
                            z("border", "-style"),
                            z("padding", ""),
                            z("margin", ""),
                            Fe = "border-style",
                            Ge = "border-color",
                            F(Me = "border-width") && F(Fe) && F(Ge) && (Ve.border = Ve[Me] + " " + Ve[Fe] + " " + Ve[Ge],
                            delete Ve[Me],
                            delete Ve[Fe],
                            delete Ve[Ge]),
                            "medium none" === Ve.border && delete Ve.border,
                            "none" === Ve["border-image"] && delete Ve["border-image"]
                        }
                        return Ve
                    },
                    serialize: function(P, z) {
                        function F(V) {
                            var j, K = i[V];
                            if (K)
                                for (var oe = 0, pe = K.length; oe < pe; oe++)
                                    (j = P[V = K[oe]]) && (H += (0 < H.length ? " " : "") + V + ": " + j + ";")
                        }
                        var H = "";
                        return z && i ? (F("*"),
                        F(z)) : Un(P, function(V, j) {
                            var K;
                            !V || s && ((K = s["*"]) && K[j] || (K = s[z]) && K[j]) || (H += (0 < H.length ? " " : "") + j + ": " + V + ";")
                        }),
                        H
                    }
                }
            }
            function Rr(t) {
                return t instanceof Event || Kn(t.initEvent)
            }
            function Up(t, o, i, s) {
                var f, m, g = function(b) {
                    var x, y = null != s ? s : {};
                    for (x in b)
                        St(Zp, x) || (y[x] = b[x]);
                    return gn(y.composedPath) && (y.composedPath = function() {
                        return b.composedPath()
                    }
                    ),
                    y
                }(o);
                return g.type = t,
                Hr(g.target) && (g.target = null !== (f = g.srcElement) && void 0 !== f ? f : i),
                (Hr((m = o).preventDefault) || Rr(m)) && (g.preventDefault = function() {
                    g.defaultPrevented = !0,
                    g.isDefaultPrevented = Ot,
                    Kn(o.preventDefault) ? o.preventDefault() : Rr(o) && (o.returnValue = !1)
                }
                ,
                g.stopPropagation = function() {
                    g.cancelBubble = !0,
                    g.isPropagationStopped = Ot,
                    Kn(o.stopPropagation) ? o.stopPropagation() : Rr(o) && (o.cancelBubble = !0)
                }
                ,
                g.stopImmediatePropagation = function() {
                    g.isImmediatePropagationStopped = Ot,
                    g.stopPropagation()
                }
                ,
                g.isDefaultPrevented !== Ot && g.isDefaultPrevented !== Ct && (g.isDefaultPrevented = !0 === g.defaultPrevented ? Ot : Ct,
                g.isPropagationStopped = !0 === g.cancelBubble ? Ot : Ct,
                g.isImmediatePropagationStopped = Ct)),
                g
            }
            function Rg(t, o, i, s) {
                t.addEventListener ? t.addEventListener(o, i, s || !1) : t.attachEvent && t.attachEvent("on" + o, i)
            }
            function id(t, o, i, s) {
                t.removeEventListener ? t.removeEventListener(o, i, s || !1) : t.detachEvent && t.detachEvent("on" + o, i)
            }
            function hf(t, o) {
                var i, s, f, m, g = Up(t.type, t, document, o);
                return gn(m = t) && Mb.test(m.type) && In(t.pageX) && !In(t.clientX) && (s = (i = g.target.ownerDocument || document).documentElement,
                f = i.body,
                g.pageX = t.clientX + (s && s.scrollLeft || f && f.scrollLeft || 0) - (s && s.clientLeft || f && f.clientLeft || 0),
                g.pageY = t.clientY + (s && s.scrollTop || f && f.scrollTop || 0) - (s && s.clientTop || f && f.clientTop || 0)),
                In(g.metaKey) && (g.metaKey = !1),
                g
            }
            var Wp = kc(["h1", "h2", "h3", "h4", "h5", "h6"])
              , M = kc(["article", "aside", "details", "div", "dt", "figcaption", "footer", "form", "fieldset", "header", "hgroup", "html", "main", "nav", "section", "summary", "body", "p", "dl", "multicol", "dd", "figure", "address", "center", "blockquote", "h1", "h2", "h3", "h4", "h5", "h6", "listing", "xmp", "pre", "plaintext", "menu", "dir", "ul", "ol", "li", "hr", "table", "tbody", "thead", "tfoot", "th", "tr", "td", "caption"])
              , U = kc(["h1", "h2", "h3", "h4", "h5", "h6", "p", "div", "address", "pre", "form", "blockquote", "center", "dir", "fieldset", "header", "footer", "article", "section", "hgroup", "aside", "nav", "figure"])
              , Y = kc(["ul", "ol", "dl"])
              , fe = kc(["li", "dd", "dt"])
              , Pe = kc(["thead", "tbody", "tfoot"])
              , Ft = kc(["td", "th"])
              , Rn = kc(["pre", "script", "textarea", "style"])
              , Pr = "\ufeff"
              , Tn = "\xa0"
              , hr = Pr
              , fo = function(t) {
                return t === Pr
            }
              , $a = function(t) {
                return t.replace(/\uFEFF/g, "")
            }
              , Aa = Hn
              , Kf = dn
              , lm = function(t) {
                return Kf(t) && t.data[0] === hr
            }
              , jp = function(t) {
                return Kf(t) && t.data[t.data.length - 1] === hr
            }
              , Nw = Cu
              , Ol = ho
              , Eb = zn
              , Os = dn
              , zw = ka(["script", "style", "textarea"])
              , Gp = ka(["img", "input", "textarea", "hr", "iframe", "video", "audio", "object", "embed"])
              , Ab = ka(["table"])
              , Xf = iu
              , qp = function(t) {
                return !1 === (Hn(o = t) && "true" === o.getAttribute("unselectable")) && Ol(t);
                var o
            }
              , ZS = /^[ \t\r\n]*$/
              , QS = Eo("data-mce-bookmark")
              , Kp = Eo("data-mce-bogus")
              , eT = function(t) {
                return Hn(t) && "all" === t.getAttribute("data-mce-bogus")
            }
              , Yf = function(t, o, i) {
                var s = i || o;
                if (Hn(o) && Za(o))
                    return o;
                for (var f, m, g, b, x, y, k, _, A, P, z, F = o.childNodes, H = F.length - 1; 0 <= H; H--)
                    Yf(t, F[H], s);
                return !Hn(o) || 1 === (f = o.childNodes).length && Za(f[0]) && o.parentNode.insertBefore(f[0], o),
                Ja(g = o) || Qc(g) || tl(o, s) || Hn(m = o) && 0 < m.childNodes.length || (x = s,
                dn(b = o) && 0 < b.data.length && (_ = new ao(y = b,k = x).prev(!1),
                A = new ao(y,k).next(!1),
                P = In(_) || Vp(_, k),
                z = In(A) || Vp(A, k),
                P && z)) || t.remove(o),
                o
            }
              , Fw = Ke.makeMap
              , Xp = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
              , Pg = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g
              , tT = /[<>&\"\']/g
              , nT = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi
              , rT = {
                128: "\u20ac",
                130: "\u201a",
                131: "\u0192",
                132: "\u201e",
                133: "\u2026",
                134: "\u2020",
                135: "\u2021",
                136: "\u02c6",
                137: "\u2030",
                138: "\u0160",
                139: "\u2039",
                140: "\u0152",
                142: "\u017d",
                145: "\u2018",
                146: "\u2019",
                147: "\u201c",
                148: "\u201d",
                149: "\u2022",
                150: "\u2013",
                151: "\u2014",
                152: "\u02dc",
                153: "\u2122",
                154: "\u0161",
                155: "\u203a",
                156: "\u0153",
                158: "\u017e",
                159: "\u0178"
            }
              , Jf = {
                '"': "&quot;",
                "'": "&#39;",
                "<": "&lt;",
                ">": "&gt;",
                "&": "&amp;",
                "`": "&#96;"
            }
              , Yp = {
                "&lt;": "<",
                "&gt;": ">",
                "&amp;": "&",
                "&quot;": '"',
                "&apos;": "'"
            }
              , Ob = Ji("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro", 32)
              , Pi = {
                encodeRaw: Ec,
                encodeAllRaw: function(t) {
                    return ("" + t).replace(tT, function(o) {
                        return Jf[o] || o
                    })
                },
                encodeNumeric: sc,
                encodeNamed: nl,
                getEncodeFunc: function(t, o) {
                    var i = Ji(o) || Ob
                      , s = Fw(t.replace(/\+/g, ","));
                    return s.named && s.numeric ? function(f, m) {
                        return f.replace(m ? Xp : Pg, function(g) {
                            return void 0 !== Jf[g] ? Jf[g] : void 0 !== i[g] ? i[g] : 1 < g.length ? "&#" + (1024 * (g.charCodeAt(0) - 55296) + (g.charCodeAt(1) - 56320) + 65536) + ";" : "&#" + g.charCodeAt(0) + ";"
                        })
                    }
                    : s.named ? o ? function(f, m) {
                        return nl(f, m, i)
                    }
                    : nl : s.numeric ? sc : Ec
                },
                decode: function(t) {
                    return t.replace(nT, function(o, i) {
                        return i ? 65535 < (i = "x" === i.charAt(0).toLowerCase() ? parseInt(i.substr(1), 16) : parseInt(i, 10)) ? (i -= 65536,
                        String.fromCharCode(55296 + (i >> 10), 56320 + (1023 & i))) : rT[i] || String.fromCharCode(i) : Yp[o] || Ob[o] || (s = o,
                        (f = Oe.fromTag("div").dom).innerHTML = s,
                        f.textContent || f.innerText || s);
                        var s, f
                    })
                }
            }
              , Wn = {}
              , Dl = {}
              , ud = Ke.makeMap
              , Tu = Ke.each
              , Db = Ke.extend
              , Jp = Ke.explode
              , Oc = Ke.inArray
              , Zp = {
                keyLocation: !0,
                layerX: !0,
                layerY: !0,
                returnValue: !0,
                webkitMovementX: !0,
                webkitMovementY: !0,
                keyIdentifier: !0,
                mozPressure: !0
            }
              , Mb = /^(?:mouse|contextmenu)|click/
              , Uo = (Ds.prototype.bind = function(t, o, i, s) {
                function f(F) {
                    _.executeHandlers(hf(F || A.event), m)
                }
                var m, g, b, x, y, k, _ = this, A = window;
                if (t && 3 !== t.nodeType && 8 !== t.nodeType) {
                    t[_.expando] ? m = t[_.expando] : (m = _.count++,
                    t[_.expando] = m,
                    _.events[m] = {}),
                    s = s || t;
                    for (var P = o.split(" "), z = P.length; z--; )
                        y = f,
                        x = k = !1,
                        "DOMContentLoaded" === (b = P[z]) && (b = "ready"),
                        _.domLoaded && "ready" === b && "complete" === t.readyState ? i.call(s, hf({
                            type: b
                        })) : (_.hasMouseEnterLeave || (x = _.mouseEnterLeave[b]) && (y = function(F) {
                            var H = F.currentTarget
                              , V = F.relatedTarget;
                            if (V && H.contains)
                                V = H.contains(V);
                            else
                                for (; V && V !== H; )
                                    V = V.parentNode;
                            V || ((F = hf(F || A.event)).type = "mouseout" === F.type ? "mouseleave" : "mouseenter",
                            F.target = H,
                            _.executeHandlers(F, m))
                        }
                        ),
                        _.hasFocusIn || "focusin" !== b && "focusout" !== b || (k = !0,
                        x = "focusin" === b ? "focus" : "blur",
                        y = function(F) {
                            (F = hf(F || A.event)).type = "focus" === F.type ? "focusin" : "focusout",
                            _.executeHandlers(F, m)
                        }
                        ),
                        (g = _.events[m][b]) ? "ready" === b && _.domLoaded ? i(hf({
                            type: b
                        })) : g.push({
                            func: i,
                            scope: s
                        }) : (_.events[m][b] = g = [{
                            func: i,
                            scope: s
                        }],
                        g.fakeName = x,
                        g.capture = k,
                        g.nativeHandler = y,
                        "ready" === b ? function(F, H, V) {
                            var j, K = F.document, oe = {
                                type: "ready"
                            };
                            V.domLoaded ? H(oe) : (j = function() {
                                id(F, "DOMContentLoaded", j),
                                id(F, "load", j),
                                V.domLoaded || (V.domLoaded = !0,
                                H(oe)),
                                F = null
                            }
                            ,
                            "complete" === K.readyState || "interactive" === K.readyState && K.body ? j() : Rg(F, "DOMContentLoaded", j),
                            V.domLoaded || Rg(F, "load", j))
                        }(t, y, _) : Rg(t, x || b, y, k)));
                    return t = g = null,
                    i
                }
            }
            ,
            Ds.prototype.unbind = function(t, o, i) {
                var s, f, m;
                if (!t || 3 === t.nodeType || 8 === t.nodeType)
                    return this;
                var g = t[this.expando];
                if (g) {
                    if (m = this.events[g],
                    o) {
                        for (var b, x, y, k, _ = o.split(" "), A = _.length; A--; )
                            if (k = m[f = _[A]]) {
                                if (i)
                                    for (s = k.length; s--; )
                                        k[s].func === i && (b = k.nativeHandler,
                                        x = k.fakeName,
                                        y = k.capture,
                                        (k = k.slice(0, s).concat(k.slice(s + 1))).nativeHandler = b,
                                        k.fakeName = x,
                                        k.capture = y,
                                        m[f] = k);
                                i && 0 !== k.length || (delete m[f],
                                id(t, k.fakeName || f, k.nativeHandler, k.capture))
                            }
                    } else
                        Un(m, function(P, z) {
                            id(t, P.fakeName || z, P.nativeHandler, P.capture)
                        }),
                        m = {};
                    for (f in m)
                        if (St(m, f))
                            return this;
                    delete this.events[g];
                    try {
                        delete t[this.expando]
                    } catch (P) {
                        t[this.expando] = null
                    }
                }
                return this
            }
            ,
            Ds.prototype.fire = function(t, o, i) {
                var s;
                if (!t || 3 === t.nodeType || 8 === t.nodeType)
                    return this;
                for (var f = hf({
                    type: o,
                    target: t
                }, i); (s = t[this.expando]) && this.executeHandlers(f, s),
                (t = t.parentNode || t.ownerDocument || t.defaultView || t.parentWindow) && !f.isPropagationStopped(); )
                    ;
                return this
            }
            ,
            Ds.prototype.clean = function(t) {
                var o, i;
                if (!t || 3 === t.nodeType || 8 === t.nodeType)
                    return this;
                if (t[this.expando] && this.unbind(t),
                (t = t.getElementsByTagName ? t : t.document) && t.getElementsByTagName)
                    for (this.unbind(t),
                    o = (i = t.getElementsByTagName("*")).length; o--; )
                        (t = i[o])[this.expando] && this.unbind(t);
                return this
            }
            ,
            Ds.prototype.destroy = function() {
                this.events = {}
            }
            ,
            Ds.prototype.cancel = function(t) {
                return t && (t.preventDefault(),
                t.stopImmediatePropagation()),
                !1
            }
            ,
            Ds.prototype.executeHandlers = function(t, o) {
                var i = this.events[o]
                  , s = i && i[t.type];
                if (s)
                    for (var f = 0, m = s.length; f < m; f++) {
                        var g = s[f];
                        if (g && !1 === g.func.call(g.scope, t) && t.preventDefault(),
                        t.isImmediatePropagationStopped())
                            return
                    }
            }
            ,
            Ds.Event = new Ds,
            Ds);
            function Ds() {
                this.domLoaded = !1,
                this.events = {},
                this.count = 1,
                this.expando = "mce-data-" + (+new Date).toString(32),
                this.hasMouseEnterLeave = "onmouseenter"in document.documentElement,
                this.hasFocusIn = "onfocusin"in document.documentElement,
                this.count = 1
            }
            function Dc(t, o, i) {
                var s = "0x" + o - 65536;
                return s != s || i ? o : s < 0 ? String.fromCharCode(65536 + s) : String.fromCharCode(s >> 10 | 55296, 1023 & s | 56320)
            }
            var Zi, ga, Qp, Bg, Ng, Zf, e1, pf, Wo, Ms, Bi, uu, Qu, Ml, Jo, $i, sd, ot = "sizzle" + -new Date, ui = window.document, Rl = 0, fr = 0, zg = Hg(), Rb = Hg(), yi = Hg(), Fg = function(t, o) {
                return t === o && (Ms = !0),
                0
            }, cc = "undefined", Iw = {}.hasOwnProperty, Vi = [], To = Vi.pop, bf = Vi.push, yf = Vi.push, Ko = Vi.slice, rl = Vi.indexOf || function(t) {
                for (var o = 0, i = this.length; o < i; o++)
                    if (this[o] === t)
                        return o;
                return -1
            }
            , si = "[\\x20\\t\\r\\n\\f]", Ui = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", Pb = "\\[" + si + "*(" + Ui + ")(?:" + si + "*([*^$|!~]?=)" + si + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + Ui + "))|)" + si + "*\\]", Be = ":(" + Ui + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + Pb + ")*)|.*)\\)|)", ps = new RegExp("^" + si + "+|((?:^|[^\\\\])(?:\\\\.)*)" + si + "+$","g"), ol = new RegExp("^" + si + "*," + si + "*"), fm = new RegExp("^" + si + "*([>+~]|" + si + ")" + si + "*"), al = new RegExp("=" + si + "*([^\\]'\"]*?)" + si + "*\\]","g"), Qa = new RegExp(Be), Ba = new RegExp("^" + Ui + "$"), Ig = {
                ID: new RegExp("^#(" + Ui + ")"),
                CLASS: new RegExp("^\\.(" + Ui + ")"),
                TAG: new RegExp("^(" + Ui + "|[*])"),
                ATTR: new RegExp("^" + Pb),
                PSEUDO: new RegExp("^" + Be),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + si + "*(even|odd|(([+-]|)(\\d*)n|)" + si + "*(?:([+-]|)" + si + "*(\\d+)|))" + si + "*\\)|)","i"),
                bool: new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),
                needsContext: new RegExp("^" + si + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + si + "*((?:-\\d)?\\d*)" + si + "*\\)|)(?=[^-]|$)","i")
            }, Lg = /^(?:input|select|textarea|button)$/i, t1 = /^h\d$/i, Xn = /^[^{]+\{\s*\[native \w/, Lw = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, bs = /[+~]/, Bb = /'|\\/g, Qf = new RegExp("\\\\([\\da-f]{1,6}" + si + "?|(" + si + ")|.)","ig");
            try {
                yf.apply(Vi = Ko.call(ui.childNodes), ui.childNodes)
            } catch (t) {
                yf = {
                    apply: Vi.length ? function(o, i) {
                        bf.apply(o, Ko.call(i))
                    }
                    : function(o, i) {
                        for (var s = o.length, f = 0; o[s++] = i[f++]; )
                            ;
                        o.length = s - 1
                    }
                }
            }
            var Xo = function(t, o, i, s) {
                var f, m, g, b, x, y, k, _, A, P;
                if ((o ? o.ownerDocument || o : ui) !== uu && Bi(o),
                i = i || [],
                !t || "string" != typeof t)
                    return i;
                if (1 !== (b = (o = o || uu).nodeType) && 9 !== b)
                    return [];
                if (Ml && !s) {
                    if (f = Lw.exec(t))
                        if (g = f[1]) {
                            if (9 === b) {
                                if (!(m = o.getElementById(g)) || !m.parentNode)
                                    return i;
                                if (m.id === g)
                                    return i.push(m),
                                    i
                            } else if (o.ownerDocument && (m = o.ownerDocument.getElementById(g)) && sd(o, m) && m.id === g)
                                return i.push(m),
                                i
                        } else {
                            if (f[2])
                                return yf.apply(i, o.getElementsByTagName(t)),
                                i;
                            if ((g = f[3]) && Zi.getElementsByClassName)
                                return yf.apply(i, o.getElementsByClassName(g)),
                                i
                        }
                    if (Zi.qsa && (!Jo || !Jo.test(t))) {
                        if (_ = k = ot,
                        A = o,
                        P = 9 === b && t,
                        1 === b && "object" !== o.nodeName.toLowerCase()) {
                            for (y = Ng(t),
                            (k = o.getAttribute("id")) ? _ = k.replace(Bb, "\\$&") : o.setAttribute("id", _),
                            _ = "[id='" + _ + "'] ",
                            x = y.length; x--; )
                                y[x] = _ + cd(y[x]);
                            A = bs.test(t) && Nb(o.parentNode) || o,
                            P = y.join(",")
                        }
                        if (P)
                            try {
                                return yf.apply(i, A.querySelectorAll(P)),
                                i
                            } catch (z) {} finally {
                                k || o.removeAttribute("id")
                            }
                    }
                }
                return e1(t.replace(ps, "$1"), o, i, s)
            };
            function Hg() {
                var t = [];
                return function o(i, s) {
                    return t.push(i + " ") > ga.cacheLength && delete o[t.shift()],
                    o[i + " "] = s
                }
            }
            function il(t) {
                return t[ot] = !0,
                t
            }
            function Mc(t, o) {
                var i = o && t
                  , s = i && 1 === t.nodeType && 1 === o.nodeType && (~o.sourceIndex || 1 << 31) - (~t.sourceIndex || 1 << 31);
                if (s)
                    return s;
                if (i)
                    for (; i = i.nextSibling; )
                        if (i === o)
                            return -1;
                return t ? 1 : -1
            }
            function Rc(t) {
                return il(function(o) {
                    return o = +o,
                    il(function(i, s) {
                        for (var f, m = t([], i.length, o), g = m.length; g--; )
                            i[f = m[g]] && (i[f] = !(s[f] = i[f]))
                    })
                })
            }
            function Nb(t) {
                return t && typeof t.getElementsByTagName != cc && t
            }
            function n1() {}
            function cd(t) {
                for (var o = 0, i = t.length, s = ""; o < i; o++)
                    s += t[o].value;
                return s
            }
            function r1(t, o, i) {
                var s = o.dir
                  , f = i && "parentNode" === s
                  , m = fr++;
                return o.first ? function(g, b, x) {
                    for (; g = g[s]; )
                        if (1 === g.nodeType || f)
                            return t(g, b, x)
                }
                : function(g, b, x) {
                    var y, k, _ = [Rl, m];
                    if (x) {
                        for (; g = g[s]; )
                            if ((1 === g.nodeType || f) && t(g, b, x))
                                return !0
                    } else
                        for (; g = g[s]; )
                            if (1 === g.nodeType || f) {
                                if ((y = (k = g[ot] || (g[ot] = {}))[s]) && y[0] === Rl && y[1] === m)
                                    return _[2] = y[2];
                                if ((k[s] = _)[2] = t(g, b, x))
                                    return !0
                            }
                }
            }
            function o1(t) {
                return 1 < t.length ? function(o, i, s) {
                    for (var f = t.length; f--; )
                        if (!t[f](o, i, s))
                            return !1;
                    return !0
                }
                : t[0]
            }
            function vm(t, o, i, s, f) {
                for (var m, g = [], b = 0, x = t.length, y = null != o; b < x; b++)
                    (m = t[b]) && (i && !i(m, s, f) || (g.push(m),
                    y && o.push(b)));
                return g
            }
            function dm(t) {
                return void 0 !== t
            }
            function a1(t) {
                return "string" == typeof t
            }
            function ld(t, o) {
                var i, s = (o = o || mm).createElement("div"), f = o.createDocumentFragment();
                for (s.innerHTML = t; i = s.firstChild; )
                    f.appendChild(i);
                return f
            }
            function Hw(t, o) {
                return t && o && -1 !== (" " + t.className + " ").indexOf(" " + o + " ")
            }
            function zb(t, o, i) {
                var s, f;
                return o = Br(o)[0],
                t.each(function() {
                    i && s === this.parentNode || (s = this.parentNode,
                    f = o.cloneNode(!1),
                    this.parentNode.insertBefore(f, this)),
                    f.appendChild(this)
                }),
                t
            }
            function Xs(t, o) {
                return new Br.fn.init(t,o)
            }
            function Fb(t) {
                return null == t ? "" : ("" + t).replace(gm, "")
            }
            function ha(t, o) {
                var i, s, f, m;
                if (t)
                    if (void 0 === (i = t.length)) {
                        for (s in t)
                            if (t.hasOwnProperty(s) && !1 === o.call(m = t[s], s, m))
                                break
                    } else
                        for (f = 0; f < i && !1 !== o.call(m = t[f], f, m); f++)
                            ;
                return t
            }
            function Pl(t, o) {
                var i = [];
                return ha(t, function(s, f) {
                    o(f, s) && i.push(f)
                }),
                i
            }
            Zi = Xo.support = {},
            Bg = Xo.isXML = function(t) {
                var o = t && (t.ownerDocument || t).documentElement;
                return !!o && "HTML" !== o.nodeName
            }
            ,
            Bi = Xo.setDocument = function(t) {
                var o, i = t ? t.ownerDocument || t : ui, s = i.defaultView;
                return i !== uu && 9 === i.nodeType && i.documentElement ? (Qu = (uu = i).documentElement,
                Ml = !Bg(i),
                s && s !== function(f) {
                    try {
                        return f.top
                    } catch (m) {}
                    return null
                }(s) && (s.addEventListener ? s.addEventListener("unload", function() {
                    Bi()
                }, !1) : s.attachEvent && s.attachEvent("onunload", function() {
                    Bi()
                })),
                Zi.attributes = !0,
                Zi.getElementsByTagName = !0,
                Zi.getElementsByClassName = Xn.test(i.getElementsByClassName),
                Zi.getById = !0,
                ga.find.ID = function(f, m) {
                    if (typeof m.getElementById != cc && Ml) {
                        var g = m.getElementById(f);
                        return g && g.parentNode ? [g] : []
                    }
                }
                ,
                ga.filter.ID = function(f) {
                    var m = f.replace(Qf, Dc);
                    return function(g) {
                        return g.getAttribute("id") === m
                    }
                }
                ,
                ga.find.TAG = Zi.getElementsByTagName ? function(f, m) {
                    if (typeof m.getElementsByTagName != cc)
                        return m.getElementsByTagName(f)
                }
                : function(f, m) {
                    var g, b = [], x = 0, y = m.getElementsByTagName(f);
                    if ("*" !== f)
                        return y;
                    for (; g = y[x++]; )
                        1 === g.nodeType && b.push(g);
                    return b
                }
                ,
                ga.find.CLASS = Zi.getElementsByClassName && function(f, m) {
                    if (Ml)
                        return m.getElementsByClassName(f)
                }
                ,
                $i = [],
                Jo = [],
                Zi.disconnectedMatch = !0,
                Jo = Jo.length && new RegExp(Jo.join("|")),
                $i = $i.length && new RegExp($i.join("|")),
                o = Xn.test(Qu.compareDocumentPosition),
                sd = o || Xn.test(Qu.contains) ? function(f, m) {
                    var g = 9 === f.nodeType ? f.documentElement : f
                      , b = m && m.parentNode;
                    return f === b || !(!b || 1 !== b.nodeType || !(g.contains ? g.contains(b) : f.compareDocumentPosition && 16 & f.compareDocumentPosition(b)))
                }
                : function(f, m) {
                    if (m)
                        for (; m = m.parentNode; )
                            if (m === f)
                                return !0;
                    return !1
                }
                ,
                Fg = o ? function(f, m) {
                    return f === m ? (Ms = !0,
                    0) : (g = !f.compareDocumentPosition - !m.compareDocumentPosition) || (1 & (g = (f.ownerDocument || f) === (m.ownerDocument || m) ? f.compareDocumentPosition(m) : 1) || !Zi.sortDetached && m.compareDocumentPosition(f) === g ? f === i || f.ownerDocument === ui && sd(ui, f) ? -1 : m === i || m.ownerDocument === ui && sd(ui, m) ? 1 : Wo ? rl.call(Wo, f) - rl.call(Wo, m) : 0 : 4 & g ? -1 : 1);
                    var g
                }
                : function(f, m) {
                    if (f === m)
                        return Ms = !0,
                        0;
                    var g, b = 0, x = f.parentNode, y = m.parentNode, k = [f], _ = [m];
                    if (!x || !y)
                        return f === i ? -1 : m === i ? 1 : x ? -1 : y ? 1 : Wo ? rl.call(Wo, f) - rl.call(Wo, m) : 0;
                    if (x === y)
                        return Mc(f, m);
                    for (g = f; g = g.parentNode; )
                        k.unshift(g);
                    for (g = m; g = g.parentNode; )
                        _.unshift(g);
                    for (; k[b] === _[b]; )
                        b++;
                    return b ? Mc(k[b], _[b]) : k[b] === ui ? -1 : _[b] === ui ? 1 : 0
                }
                ,
                i) : uu
            }
            ,
            Xo.matches = function(t, o) {
                return Xo(t, null, null, o)
            }
            ,
            Xo.matchesSelector = function(t, o) {
                if ((t.ownerDocument || t) !== uu && Bi(t),
                o = o.replace(al, "='$1']"),
                Zi.matchesSelector && Ml && (!$i || !$i.test(o)) && (!Jo || !Jo.test(o)))
                    try {
                        var i = (void 0).call(t, o);
                        if (i || Zi.disconnectedMatch || t.document && 11 !== t.document.nodeType)
                            return i
                    } catch (s) {}
                return 0 < Xo(o, uu, null, [t]).length
            }
            ,
            Xo.contains = function(t, o) {
                return (t.ownerDocument || t) !== uu && Bi(t),
                sd(t, o)
            }
            ,
            Xo.attr = function(t, o) {
                (t.ownerDocument || t) !== uu && Bi(t);
                var i = ga.attrHandle[o.toLowerCase()]
                  , s = i && Iw.call(ga.attrHandle, o.toLowerCase()) ? i(t, o, !Ml) : void 0;
                return void 0 !== s ? s : Zi.attributes || !Ml ? t.getAttribute(o) : (s = t.getAttributeNode(o)) && s.specified ? s.value : null
            }
            ,
            Xo.error = function(t) {
                throw new Error("Syntax error, unrecognized expression: " + t)
            }
            ,
            Xo.uniqueSort = function(t) {
                var o, i = [], s = 0, f = 0;
                if (Ms = !Zi.detectDuplicates,
                Wo = !Zi.sortStable && t.slice(0),
                t.sort(Fg),
                Ms) {
                    for (; o = t[f++]; )
                        o === t[f] && (s = i.push(f));
                    for (; s--; )
                        t.splice(i[s], 1)
                }
                return Wo = null,
                t
            }
            ,
            Qp = Xo.getText = function(t) {
                var o, i = "", s = 0, f = t.nodeType;
                if (f) {
                    if (1 === f || 9 === f || 11 === f) {
                        if ("string" == typeof t.textContent)
                            return t.textContent;
                        for (t = t.firstChild; t; t = t.nextSibling)
                            i += Qp(t)
                    } else if (3 === f || 4 === f)
                        return t.nodeValue
                } else
                    for (; o = t[s++]; )
                        i += Qp(o);
                return i
            }
            ,
            (ga = Xo.selectors = {
                cacheLength: 50,
                createPseudo: il,
                match: Ig,
                attrHandle: {},
                find: {},
                relative: {
                    ">": {
                        dir: "parentNode",
                        first: !0
                    },
                    " ": {
                        dir: "parentNode"
                    },
                    "+": {
                        dir: "previousSibling",
                        first: !0
                    },
                    "~": {
                        dir: "previousSibling"
                    }
                },
                preFilter: {
                    ATTR: function(t) {
                        return t[1] = t[1].replace(Qf, Dc),
                        t[3] = (t[3] || t[4] || t[5] || "").replace(Qf, Dc),
                        "~=" === t[2] && (t[3] = " " + t[3] + " "),
                        t.slice(0, 4)
                    },
                    CHILD: function(t) {
                        return t[1] = t[1].toLowerCase(),
                        "nth" === t[1].slice(0, 3) ? (t[3] || Xo.error(t[0]),
                        t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])),
                        t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && Xo.error(t[0]),
                        t
                    },
                    PSEUDO: function(t) {
                        var o, i = !t[6] && t[2];
                        return Ig.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : i && Qa.test(i) && (o = Ng(i, !0)) && (o = i.indexOf(")", i.length - o) - i.length) && (t[0] = t[0].slice(0, o),
                        t[2] = i.slice(0, o)),
                        t.slice(0, 3))
                    }
                },
                filter: {
                    TAG: function(t) {
                        var o = t.replace(Qf, Dc).toLowerCase();
                        return "*" === t ? function() {
                            return !0
                        }
                        : function(i) {
                            return i.nodeName && i.nodeName.toLowerCase() === o
                        }
                    },
                    CLASS: function(t) {
                        var o = zg[t + " "];
                        return o || (o = new RegExp("(^|" + si + ")" + t + "(" + si + "|$)")) && zg(t, function(i) {
                            return o.test("string" == typeof i.className && i.className || typeof i.getAttribute != cc && i.getAttribute("class") || "")
                        })
                    },
                    ATTR: function(t, o, i) {
                        return function(s) {
                            var f = Xo.attr(s, t);
                            return null == f ? "!=" === o : !o || (f += "",
                            "=" === o ? f === i : "!=" === o ? f !== i : "^=" === o ? i && 0 === f.indexOf(i) : "*=" === o ? i && -1 < f.indexOf(i) : "$=" === o ? i && f.slice(-i.length) === i : "~=" === o ? -1 < (" " + f + " ").indexOf(i) : "|=" === o && (f === i || f.slice(0, i.length + 1) === i + "-"))
                        }
                    },
                    CHILD: function(t, o, i, s, f) {
                        var m = "nth" !== t.slice(0, 3)
                          , g = "last" !== t.slice(-4)
                          , b = "of-type" === o;
                        return 1 === s && 0 === f ? function(x) {
                            return !!x.parentNode
                        }
                        : function(x, y, k) {
                            var _, A, P, z, F, H, V = m != g ? "nextSibling" : "previousSibling", j = x.parentNode, K = b && x.nodeName.toLowerCase(), oe = !k && !b;
                            if (j) {
                                if (m) {
                                    for (; V; ) {
                                        for (P = x; P = P[V]; )
                                            if (b ? P.nodeName.toLowerCase() === K : 1 === P.nodeType)
                                                return !1;
                                        H = V = "only" === t && !H && "nextSibling"
                                    }
                                    return !0
                                }
                                if (H = [g ? j.firstChild : j.lastChild],
                                g && oe) {
                                    for (F = (_ = (A = j[ot] || (j[ot] = {}))[t] || [])[0] === Rl && _[1],
                                    z = _[0] === Rl && _[2],
                                    P = F && j.childNodes[F]; P = ++F && P && P[V] || (z = F = 0) || H.pop(); )
                                        if (1 === P.nodeType && ++z && P === x) {
                                            A[t] = [Rl, F, z];
                                            break
                                        }
                                } else if (oe && (_ = (x[ot] || (x[ot] = {}))[t]) && _[0] === Rl)
                                    z = _[1];
                                else
                                    for (; (P = ++F && P && P[V] || (z = F = 0) || H.pop()) && ((b ? P.nodeName.toLowerCase() !== K : 1 !== P.nodeType) || !++z || (oe && ((P[ot] || (P[ot] = {}))[t] = [Rl, z]),
                                    P !== x)); )
                                        ;
                                return (z -= f) === s || z % s == 0 && 0 <= z / s
                            }
                        }
                    },
                    PSEUDO: function(t, o) {
                        var i, s = ga.pseudos[t] || ga.setFilters[t.toLowerCase()] || Xo.error("unsupported pseudo: " + t);
                        return s[ot] ? s(o) : 1 < s.length ? (i = [t, t, "", o],
                        ga.setFilters.hasOwnProperty(t.toLowerCase()) ? il(function(f, m) {
                            for (var g, b = s(f, o), x = b.length; x--; )
                                f[g = rl.call(f, b[x])] = !(m[g] = b[x])
                        }) : function(f) {
                            return s(f, 0, i)
                        }
                        ) : s
                    }
                },
                pseudos: {
                    not: il(function(t) {
                        var o = []
                          , i = []
                          , s = Zf(t.replace(ps, "$1"));
                        return s[ot] ? il(function(f, m, g, b) {
                            for (var x, y = s(f, null, b, []), k = f.length; k--; )
                                (x = y[k]) && (f[k] = !(m[k] = x))
                        }) : function(f, m, g) {
                            return o[0] = f,
                            s(o, null, g, i),
                            o[0] = null,
                            !i.pop()
                        }
                    }),
                    has: il(function(t) {
                        return function(o) {
                            return 0 < Xo(t, o).length
                        }
                    }),
                    contains: il(function(t) {
                        return t = t.replace(Qf, Dc),
                        function(o) {
                            return -1 < (o.textContent || o.innerText || Qp(o)).indexOf(t)
                        }
                    }),
                    lang: il(function(t) {
                        return Ba.test(t || "") || Xo.error("unsupported lang: " + t),
                        t = t.replace(Qf, Dc).toLowerCase(),
                        function(o) {
                            var i;
                            do {
                                if (i = Ml ? o.lang : o.getAttribute("xml:lang") || o.getAttribute("lang"))
                                    return (i = i.toLowerCase()) === t || 0 === i.indexOf(t + "-")
                            } while ((o = o.parentNode) && 1 === o.nodeType);
                            return !1
                        }
                    }),
                    target: function(t) {
                        var o = window.location && window.location.hash;
                        return o && o.slice(1) === t.id
                    },
                    root: function(t) {
                        return t === Qu
                    },
                    focus: function(t) {
                        return t === uu.activeElement && (!uu.hasFocus || uu.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                    },
                    enabled: function(t) {
                        return !1 === t.disabled
                    },
                    disabled: function(t) {
                        return !0 === t.disabled
                    },
                    checked: function(t) {
                        var o = t.nodeName.toLowerCase();
                        return "input" === o && !!t.checked || "option" === o && !!t.selected
                    },
                    selected: function(t) {
                        return !0 === t.selected
                    },
                    empty: function(t) {
                        for (t = t.firstChild; t; t = t.nextSibling)
                            if (t.nodeType < 6)
                                return !1;
                        return !0
                    },
                    parent: function(t) {
                        return !ga.pseudos.empty(t)
                    },
                    header: function(t) {
                        return t1.test(t.nodeName)
                    },
                    input: function(t) {
                        return Lg.test(t.nodeName)
                    },
                    button: function(t) {
                        var o = t.nodeName.toLowerCase();
                        return "input" === o && "button" === t.type || "button" === o
                    },
                    text: function(t) {
                        var o;
                        return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (o = t.getAttribute("type")) || "text" === o.toLowerCase())
                    },
                    first: Rc(function() {
                        return [0]
                    }),
                    last: Rc(function(t, o) {
                        return [o - 1]
                    }),
                    eq: Rc(function(t, o, i) {
                        return [i < 0 ? i + o : i]
                    }),
                    even: Rc(function(t, o) {
                        for (var i = 0; i < o; i += 2)
                            t.push(i);
                        return t
                    }),
                    odd: Rc(function(t, o) {
                        for (var i = 1; i < o; i += 2)
                            t.push(i);
                        return t
                    }),
                    lt: Rc(function(t, o, i) {
                        for (var s = i < 0 ? i + o : i; 0 <= --s; )
                            t.push(s);
                        return t
                    }),
                    gt: Rc(function(t, o, i) {
                        for (var s = i < 0 ? i + o : i; ++s < o; )
                            t.push(s);
                        return t
                    })
                }
            }).pseudos.nth = ga.pseudos.eq,
            tt(["radio", "checkbox", "file", "password", "image"], function(t) {
                var o;
                ga.pseudos[t] = (o = t,
                function(i) {
                    return "input" === i.nodeName.toLowerCase() && i.type === o
                }
                )
            }),
            tt(["submit", "reset"], function(t) {
                var o;
                ga.pseudos[t] = (o = t,
                function(i) {
                    var s = i.nodeName.toLowerCase();
                    return ("input" === s || "button" === s) && i.type === o
                }
                )
            }),
            n1.prototype = ga.filters = ga.pseudos,
            ga.setFilters = new n1,
            Ng = Xo.tokenize = function(t, o) {
                var i, s, f, m, g, b, x, y = Rb[t + " "];
                if (y)
                    return o ? 0 : y.slice(0);
                for (g = t,
                b = [],
                x = ga.preFilter; g; ) {
                    for (m in i && !(s = ol.exec(g)) || (s && (g = g.slice(s[0].length) || g),
                    b.push(f = [])),
                    i = !1,
                    (s = fm.exec(g)) && (i = s.shift(),
                    f.push({
                        value: i,
                        type: s[0].replace(ps, " ")
                    }),
                    g = g.slice(i.length)),
                    ga.filter)
                        ga.filter.hasOwnProperty(m) && (!(s = Ig[m].exec(g)) || x[m] && !(s = x[m](s)) || (i = s.shift(),
                        f.push({
                            value: i,
                            type: m,
                            matches: s
                        }),
                        g = g.slice(i.length)));
                    if (!i)
                        break
                }
                return o ? g.length : g ? Xo.error(t) : Rb(t, b).slice(0)
            }
            ,
            Zf = Xo.compile = function(t, o) {
                var i, s, f, m, g, b = [], x = [], y = yi[t + " "];
                if (!y) {
                    for (i = (o = o || Ng(t)).length; i--; )
                        ((y = function _(A) {
                            for (var P, z, F, H = A.length, V = ga.relative[A[0].type], j = V || ga.relative[" "], K = V ? 1 : 0, oe = r1(function(ne) {
                                return ne === P
                            }, j, !0), pe = r1(function(ne) {
                                return -1 < rl.call(P, ne)
                            }, j, !0), X = [function(ne, ue, Me) {
                                var Fe = !V && (Me || ue !== pf) || ((P = ue).nodeType ? oe : pe)(ne, ue, Me);
                                return P = null,
                                Fe
                            }
                            ]; K < H; K++)
                                if (z = ga.relative[A[K].type])
                                    X = [r1(o1(X), z)];
                                else {
                                    if ((z = ga.filter[A[K].type].apply(null, A[K].matches))[ot]) {
                                        for (F = ++K; F < H && !ga.relative[A[F].type]; F++)
                                            ;
                                        return function ne(ue, Me, Fe, Ge, Ve, he) {
                                            return Ge && !Ge[ot] && (Ge = ne(Ge)),
                                            Ve && !Ve[ot] && (Ve = ne(Ve, he)),
                                            il(function(ye, De, He, Dt) {
                                                var It, Tt, Lt, Rt = [], Ht = [], zt = De.length, ln = ye || function(Mt, xn, mn) {
                                                    for (var Vr = 0, ve = xn.length; Vr < ve; Vr++)
                                                        Xo(Mt, xn[Vr], mn);
                                                    return mn
                                                }(Me || "*", He.nodeType ? [He] : He, []), ft = !ue || !ye && Me ? ln : vm(ln, Rt, ue, He, Dt), Zt = Fe ? Ve || (ye ? ue : zt || Ge) ? [] : De : ft;
                                                if (Fe && Fe(ft, Zt, He, Dt),
                                                Ge)
                                                    for (It = vm(Zt, Ht),
                                                    Ge(It, [], He, Dt),
                                                    Tt = It.length; Tt--; )
                                                        (Lt = It[Tt]) && (Zt[Ht[Tt]] = !(ft[Ht[Tt]] = Lt));
                                                if (ye) {
                                                    if (Ve || ue) {
                                                        if (Ve) {
                                                            for (It = [],
                                                            Tt = Zt.length; Tt--; )
                                                                (Lt = Zt[Tt]) && It.push(ft[Tt] = Lt);
                                                            Ve(null, Zt = [], It, Dt)
                                                        }
                                                        for (Tt = Zt.length; Tt--; )
                                                            (Lt = Zt[Tt]) && -1 < (It = Ve ? rl.call(ye, Lt) : Rt[Tt]) && (ye[It] = !(De[It] = Lt))
                                                    }
                                                } else
                                                    Zt = vm(Zt === De ? Zt.splice(zt, Zt.length) : Zt),
                                                    Ve ? Ve(null, De, Zt, Dt) : yf.apply(De, Zt)
                                            })
                                        }(1 < K && o1(X), 1 < K && cd(A.slice(0, K - 1).concat({
                                            value: " " === A[K - 2].type ? "*" : ""
                                        })).replace(ps, "$1"), z, K < F && _(A.slice(K, F)), F < H && _(A = A.slice(F)), F < H && cd(A))
                                    }
                                    X.push(z)
                                }
                            return o1(X)
                        }(o[i]))[ot] ? b : x).push(y);
                    (y = yi(t, (s = x,
                    m = 0 < (f = b).length,
                    g = 0 < s.length,
                    m ? il(k) : k))).selector = t
                }
                function k(_, A, P, z, F) {
                    var H, V, j, K = 0, oe = "0", pe = _ && [], X = [], ne = pf, ue = _ || g && ga.find.TAG("*", F), Me = Rl += null == ne ? 1 : Math.random() || .1, Fe = ue.length;
                    for (F && (pf = A !== uu && A); oe !== Fe && null != (H = ue[oe]); oe++) {
                        if (g && H) {
                            for (V = 0; j = s[V++]; )
                                if (j(H, A, P)) {
                                    z.push(H);
                                    break
                                }
                            F && (Rl = Me)
                        }
                        m && ((H = !j && H) && K--,
                        _ && pe.push(H))
                    }
                    if (K += oe,
                    m && oe !== K) {
                        for (V = 0; j = f[V++]; )
                            j(pe, X, A, P);
                        if (_) {
                            if (0 < K)
                                for (; oe--; )
                                    pe[oe] || X[oe] || (X[oe] = To.call(z));
                            X = vm(X)
                        }
                        yf.apply(z, X),
                        F && !_ && 0 < X.length && 1 < K + f.length && Xo.uniqueSort(z)
                    }
                    return F && (Rl = Me,
                    pf = ne),
                    pe
                }
                return y
            }
            ,
            e1 = Xo.select = function(t, o, i, s) {
                var f, m, g, b, x, y = "function" == typeof t && t, k = !s && Ng(t = y.selector || t);
                if (i = i || [],
                1 === k.length) {
                    if (2 < (m = k[0] = k[0].slice(0)).length && "ID" === (g = m[0]).type && Zi.getById && 9 === o.nodeType && Ml && ga.relative[m[1].type]) {
                        if (!(o = (ga.find.ID(g.matches[0].replace(Qf, Dc), o) || [])[0]))
                            return i;
                        y && (o = o.parentNode),
                        t = t.slice(m.shift().value.length)
                    }
                    for (f = Ig.needsContext.test(t) ? 0 : m.length; f-- && !ga.relative[b = (g = m[f]).type]; )
                        if ((x = ga.find[b]) && (s = x(g.matches[0].replace(Qf, Dc), bs.test(m[0].type) && Nb(o.parentNode) || o))) {
                            if (m.splice(f, 1),
                            !(t = s.length && cd(m)))
                                return yf.apply(i, s),
                                i;
                            break
                        }
                }
                return (y || Zf(t, k))(s, o, !Ml, i, bs.test(t) && Nb(o.parentNode) || o),
                i
            }
            ,
            Zi.sortStable = ot.split("").sort(Fg).join("") === ot,
            Zi.detectDuplicates = !!Ms,
            Bi(),
            Zi.sortDetached = !0;
            var mm = document
              , fd = Array.prototype.push
              , $w = Array.prototype.slice
              , Pc = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/
              , wf = Uo.Event
              , ev = Ke.makeMap("children,contents,next,prev")
              , tv = function(t, o, i, s) {
                var f;
                if (a1(o))
                    o = ld(o, vd(t[0]));
                else if (o.length && !o.nodeType) {
                    if (o = Br.makeArray(o),
                    s)
                        for (f = o.length - 1; 0 <= f; f--)
                            tv(t, o[f], i, s);
                    else
                        for (f = 0; f < o.length; f++)
                            tv(t, o[f], i, s);
                    return t
                }
                if (o.nodeType)
                    for (f = t.length; f--; )
                        i.call(t[f], o);
                return t
            }
              , nv = Ke.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom", " ")
              , xf = Ke.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected", " ")
              , Vw = {
                for: "htmlFor",
                class: "className",
                readonly: "readOnly"
            }
              , i1 = {
                float: "cssFloat"
            }
              , u1 = {}
              , rv = {}
              , gm = /^\s*|\s*$/g
              , vd = function(t) {
                return t ? 9 === t.nodeType ? t : t.ownerDocument : mm
            };
            function Uw(t, o, i) {
                var s = []
                  , f = t[o];
                for ("string" != typeof i && i instanceof Br && (i = i[0]); f && 9 !== f.nodeType && (void 0 === i || !(f === i || "string" == typeof i && Br(f).is(i))); )
                    1 === f.nodeType && s.push(f),
                    f = f[o];
                return s
            }
            function dd(t, o, i, s) {
                var f = [];
                for (s instanceof Br && (s = s[0]); t; t = t[o])
                    if (!i || t.nodeType === i) {
                        if (void 0 !== s && (t === s || "string" == typeof s && Br(t).is(s)))
                            break;
                        f.push(t)
                    }
                return f
            }
            function Ww(t, o, i) {
                for (t = t[o]; t; t = t[o])
                    if (t.nodeType === i)
                        return t;
                return null
            }
            function jw(t, o) {
                var i = o.attr("style")
                  , s = t.serialize(t.parse(i), o[0].nodeName) || null;
                o.attr("data-mce-style", s)
            }
            function Oa(t, o) {
                var i, s, f = 0;
                if (t)
                    for (i = t.nodeType,
                    t = t.previousSibling; t; t = t.previousSibling)
                        s = t.nodeType,
                        (!o || 3 !== s || s !== i && t.nodeValue.length) && (f++,
                        i = s);
                return f
            }
            Xs.fn = Xs.prototype = {
                constructor: Xs,
                selector: "",
                context: null,
                length: 0,
                init: function(t, o) {
                    var i, s, f = this;
                    if (!t)
                        return f;
                    if (t.nodeType)
                        return f.context = f[0] = t,
                        f.length = 1,
                        f;
                    if (o && o.nodeType)
                        f.context = o;
                    else {
                        if (o)
                            return Br(t).attr(o);
                        f.context = o = document
                    }
                    if (a1(t)) {
                        if (!(i = "<" === (f.selector = t).charAt(0) && ">" === t.charAt(t.length - 1) && 3 <= t.length ? [null, t, null] : Pc.exec(t)))
                            return Br(o).find(t);
                        if (i[1])
                            for (s = ld(t, vd(o)).firstChild; s; )
                                fd.call(f, s),
                                s = s.nextSibling;
                        else {
                            if (!(s = vd(o).getElementById(i[2])))
                                return f;
                            if (s.id !== i[2])
                                return f.find(t);
                            f.length = 1,
                            f[0] = s
                        }
                    } else
                        this.add(t, !1);
                    return f
                },
                toArray: function() {
                    return Ke.toArray(this)
                },
                add: function(t, o) {
                    var i, s;
                    if (a1(t))
                        return this.add(Br(t));
                    if (!1 !== o)
                        for (i = Br.unique(this.toArray().concat(Br.makeArray(t))),
                        this.length = i.length,
                        s = 0; s < i.length; s++)
                            this[s] = i[s];
                    else
                        fd.apply(this, Br.makeArray(t));
                    return this
                },
                attr: function(t, o) {
                    var i, s = this;
                    if ("object" == typeof t)
                        ha(t, function(f, m) {
                            s.attr(f, m)
                        });
                    else {
                        if (!dm(o)) {
                            if (s[0] && 1 === s[0].nodeType) {
                                if ((i = u1[t]) && i.get)
                                    return i.get(s[0], t);
                                if (xf[t])
                                    return s.prop(t) ? t : void 0;
                                null === (o = s[0].getAttribute(t, 2)) && (o = void 0)
                            }
                            return o
                        }
                        this.each(function() {
                            var f;
                            1 === this.nodeType && ((f = u1[t]) && f.set ? f.set(this, o) : null === o ? this.removeAttribute(t, 2) : this.setAttribute(t, o, 2))
                        })
                    }
                    return s
                },
                removeAttr: function(t) {
                    return this.attr(t, null)
                },
                prop: function(t, o) {
                    var i = this;
                    if ("object" == typeof (t = Vw[t] || t))
                        ha(t, function(s, f) {
                            i.prop(s, f)
                        });
                    else {
                        if (!dm(o))
                            return i[0] && i[0].nodeType && t in i[0] ? i[0][t] : o;
                        this.each(function() {
                            1 === this.nodeType && (this[t] = o)
                        })
                    }
                    return i
                },
                css: function(t, o) {
                    function i(b) {
                        return b.replace(/-(\D)/g, function(x, y) {
                            return y.toUpperCase()
                        })
                    }
                    function s(b) {
                        return b.replace(/[A-Z]/g, function(x) {
                            return "-" + x
                        })
                    }
                    var f, m, g = this;
                    if ("object" == typeof t)
                        ha(t, function(b, x) {
                            g.css(b, x)
                        });
                    else if (dm(o))
                        t = i(t),
                        "number" != typeof o || nv[t] || (o = o.toString() + "px"),
                        g.each(function() {
                            var b = this.style;
                            if ((m = rv[t]) && m.set)
                                m.set(this, o);
                            else {
                                try {
                                    this.style[i1[t] || t] = o
                                } catch (x) {}
                                null !== o && "" !== o || (b.removeProperty ? b.removeProperty(s(t)) : b.removeAttribute(t))
                            }
                        });
                    else {
                        if (f = g[0],
                        (m = rv[t]) && m.get)
                            return m.get(f);
                        if (!f.ownerDocument.defaultView)
                            return f.currentStyle ? f.currentStyle[i(t)] : "";
                        try {
                            return f.ownerDocument.defaultView.getComputedStyle(f, null).getPropertyValue(s(t))
                        } catch (b) {
                            return
                        }
                    }
                    return g
                },
                remove: function() {
                    for (var t, o = this.length; o--; )
                        wf.clean(t = this[o]),
                        t.parentNode && t.parentNode.removeChild(t);
                    return this
                },
                empty: function() {
                    for (var t, o = this.length; o--; )
                        for (t = this[o]; t.firstChild; )
                            t.removeChild(t.firstChild);
                    return this
                },
                html: function(t) {
                    var o;
                    if (dm(t)) {
                        o = this.length;
                        try {
                            for (; o--; )
                                this[o].innerHTML = t
                        } catch (i) {
                            Br(this[o]).empty().append(t)
                        }
                        return this
                    }
                    return this[0] ? this[0].innerHTML : ""
                },
                text: function(t) {
                    var o;
                    if (dm(t)) {
                        for (o = this.length; o--; )
                            "innerText"in this[o] ? this[o].innerText = t : this[0].textContent = t;
                        return this
                    }
                    return this[0] ? this[0].innerText || this[0].textContent : ""
                },
                append: function() {
                    return tv(this, arguments, function(t) {
                        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.appendChild(t)
                    })
                },
                prepend: function() {
                    return tv(this, arguments, function(t) {
                        (1 === this.nodeType || this.host && 1 === this.host.nodeType) && this.insertBefore(t, this.firstChild)
                    }, !0)
                },
                before: function() {
                    return this[0] && this[0].parentNode ? tv(this, arguments, function(t) {
                        this.parentNode.insertBefore(t, this)
                    }) : this
                },
                after: function() {
                    return this[0] && this[0].parentNode ? tv(this, arguments, function(t) {
                        this.parentNode.insertBefore(t, this.nextSibling)
                    }, !0) : this
                },
                appendTo: function(t) {
                    return Br(t).append(this),
                    this
                },
                prependTo: function(t) {
                    return Br(t).prepend(this),
                    this
                },
                replaceWith: function(t) {
                    return this.before(t).remove()
                },
                wrap: function(t) {
                    return zb(this, t)
                },
                wrapAll: function(t) {
                    return zb(this, t, !0)
                },
                wrapInner: function(t) {
                    return this.each(function() {
                        Br(this).contents().wrapAll(t)
                    }),
                    this
                },
                unwrap: function() {
                    return this.parent().each(function() {
                        Br(this).replaceWith(this.childNodes)
                    })
                },
                clone: function() {
                    var t = [];
                    return this.each(function() {
                        t.push(this.cloneNode(!0))
                    }),
                    Br(t)
                },
                addClass: function(t) {
                    return this.toggleClass(t, !0)
                },
                removeClass: function(t) {
                    return this.toggleClass(t, !1)
                },
                toggleClass: function(t, o) {
                    var i = this;
                    return "string" != typeof t || (-1 !== t.indexOf(" ") ? ha(t.split(" "), function() {
                        i.toggleClass(this, o)
                    }) : i.each(function(s, f) {
                        var m, g = Hw(f, t);
                        g !== o && (m = f.className,
                        g ? f.className = Fb((" " + m + " ").replace(" " + t + " ", " ")) : f.className += m ? " " + t : t)
                    })),
                    i
                },
                hasClass: function(t) {
                    return Hw(this[0], t)
                },
                each: function(t) {
                    return ha(this, t)
                },
                on: function(t, o) {
                    return this.each(function() {
                        wf.bind(this, t, o)
                    })
                },
                off: function(t, o) {
                    return this.each(function() {
                        wf.unbind(this, t, o)
                    })
                },
                trigger: function(t) {
                    return this.each(function() {
                        "object" == typeof t ? wf.fire(this, t.type, t) : wf.fire(this, t)
                    })
                },
                show: function() {
                    return this.css("display", "")
                },
                hide: function() {
                    return this.css("display", "none")
                },
                slice: function() {
                    return Br($w.apply(this, arguments))
                },
                eq: function(t) {
                    return -1 === t ? this.slice(t) : this.slice(t, +t + 1)
                },
                first: function() {
                    return this.eq(0)
                },
                last: function() {
                    return this.eq(-1)
                },
                find: function(t) {
                    for (var o = [], i = 0, s = this.length; i < s; i++)
                        Br.find(t, this[i], o);
                    return Br(o)
                },
                filter: function(t) {
                    return Br("function" == typeof t ? Pl(this.toArray(), function(o, i) {
                        return t(i, o)
                    }) : Br.filter(t, this.toArray()))
                },
                closest: function(t) {
                    var o = [];
                    return t instanceof Br && (t = t[0]),
                    this.each(function(i, s) {
                        for (; s; ) {
                            if ("string" == typeof t && Br(s).is(t)) {
                                o.push(s);
                                break
                            }
                            if (s === t) {
                                o.push(s);
                                break
                            }
                            s = s.parentNode
                        }
                    }),
                    Br(o)
                },
                offset: function(t) {
                    var o, i, s, f, m = 0, g = 0;
                    return t ? this.css(t) : ((o = this[0]) && (s = (i = o.ownerDocument).documentElement,
                    o.getBoundingClientRect && (m = (f = o.getBoundingClientRect()).left + (s.scrollLeft || i.body.scrollLeft) - s.clientLeft,
                    g = f.top + (s.scrollTop || i.body.scrollTop) - s.clientTop)),
                    {
                        left: m,
                        top: g
                    })
                },
                push: fd,
                sort: Array.prototype.sort,
                splice: Array.prototype.splice
            },
            Ke.extend(Xs, {
                extend: Ke.extend,
                makeArray: function(t) {
                    return t && t === t.window || t.nodeType ? [t] : Ke.toArray(t)
                },
                inArray: function(t, o) {
                    var i;
                    if (o.indexOf)
                        return o.indexOf(t);
                    for (i = o.length; i--; )
                        if (o[i] === t)
                            return i;
                    return -1
                },
                isArray: Ke.isArray,
                each: ha,
                trim: Fb,
                grep: Pl,
                find: Xo,
                expr: Xo.selectors,
                unique: Xo.uniqueSort,
                text: Xo.getText,
                contains: Xo.contains,
                filter: function(t, o, i) {
                    var s = o.length;
                    for (i && (t = ":not(" + t + ")"); s--; )
                        1 !== o[s].nodeType && o.splice(s, 1);
                    return 1 === o.length ? Br.find.matchesSelector(o[0], t) ? [o[0]] : [] : Br.find.matches(t, o)
                }
            }),
            ha({
                parent: function(t) {
                    var o = t.parentNode;
                    return o && 11 !== o.nodeType ? o : null
                },
                parents: function(t) {
                    return Uw(t, "parentNode")
                },
                next: function(t) {
                    return Ww(t, "nextSibling", 1)
                },
                prev: function(t) {
                    return Ww(t, "previousSibling", 1)
                },
                children: function(t) {
                    return dd(t.firstChild, "nextSibling", 1)
                },
                contents: function(t) {
                    return Ke.toArray(("iframe" === t.nodeName ? t.contentDocument || t.contentWindow.document : t).childNodes)
                }
            }, function(t, o) {
                Xs.fn[t] = function(i) {
                    var s = [];
                    this.each(function() {
                        var m = o.call(s, this, i, s);
                        m && (Br.isArray(m) ? s.push.apply(s, m) : s.push(m))
                    }),
                    1 < this.length && (ev[t] || (s = Br.unique(s)),
                    0 === t.indexOf("parents") && (s = s.reverse()));
                    var f = Br(s);
                    return i ? f.filter(i) : f
                }
            }),
            ha({
                parentsUntil: function(t, o) {
                    return Uw(t, "parentNode", o)
                },
                nextUntil: function(t, o) {
                    return dd(t, "nextSibling", 1, o).slice(1)
                },
                prevUntil: function(t, o) {
                    return dd(t, "previousSibling", 1, o).slice(1)
                }
            }, function(t, o) {
                Xs.fn[t] = function(i, s) {
                    var f = [];
                    this.each(function() {
                        var g = o.call(f, this, i, f);
                        g && (Br.isArray(g) ? f.push.apply(f, g) : f.push(g))
                    }),
                    1 < this.length && (f = Br.unique(f),
                    0 !== t.indexOf("parents") && "prevUntil" !== t || (f = f.reverse()));
                    var m = Br(f);
                    return s ? m.filter(s) : m
                }
            }),
            Xs.fn.is = function(t) {
                return !!t && 0 < this.filter(t).length
            }
            ,
            Xs.fn.init.prototype = Xs.fn,
            Xs.overrideDefaults = function(t) {
                var o, i = function(s, f) {
                    return o = o || t(),
                    0 === arguments.length && (s = o.element),
                    new i.fn.init(s,f = f || o.context)
                };
                return Br.extend(i, this),
                i
            }
            ,
            Xs.attrHooks = u1,
            Xs.cssHooks = rv;
            var Br = Xs
              , Bc = Ke.each
              , Ib = Ke.grep
              , md = er.ie
              , Cf = /^([a-z0-9],?)+$/i
              , co = function(t, o) {
                function i(ve) {
                    return ve && t && Fn(ve) ? t.getElementById(ve) : ve
                }
                function s(ve) {
                    return ft("string" == typeof ve ? i(ve) : ve)
                }
                function f(ve, Ce, Je) {
                    var bt, vt, jt = s(ve);
                    return void 0 === (vt = jt.length ? (bt = Vr[Ce]) && bt.get ? bt.get(jt, Ce) : jt.attr(Ce) : vt) ? Je || "" : vt
                }
                function m(ve) {
                    var Ce = i(ve);
                    return Ce ? Ce.attributes : []
                }
                function g(ve, Ce, Je) {
                    "" === Je && (Je = null);
                    var bt, vt = s(ve), jt = vt.attr(Ce);
                    vt.length && ((bt = Vr[Ce]) && bt.set ? bt.set(vt, Je, Ce) : vt.attr(Ce, Je),
                    jt !== Je && o.onSetAttrib && o.onSetAttrib({
                        attrElm: vt,
                        attrName: Ce,
                        attrValue: Je
                    }))
                }
                function b() {
                    return o.root_element || t.body
                }
                function x(ve, Ce) {
                    return function(Je, bt, vt) {
                        var jt, tr = 0, mr = 0, ra = Je.ownerDocument;
                        if (vt = vt || Je,
                        bt) {
                            if (vt === Je && bt.getBoundingClientRect && "static" === Ae(Oe.fromDom(Je), "position")) {
                                var Er = bt.getBoundingClientRect();
                                return {
                                    x: tr = Er.left + (ra.documentElement.scrollLeft || Je.scrollLeft) - ra.documentElement.clientLeft,
                                    y: mr = Er.top + (ra.documentElement.scrollTop || Je.scrollTop) - ra.documentElement.clientTop
                                }
                            }
                            for (var ar = bt; ar && ar !== vt && ar.nodeType && !Xt(ar, vt); )
                                tr += ar.offsetLeft || 0,
                                mr += ar.offsetTop || 0,
                                ar = ar.offsetParent;
                            for (ar = bt.parentNode; ar && ar !== vt && ar.nodeType && !Xt(ar, vt); )
                                tr -= ar.scrollLeft || 0,
                                mr -= ar.scrollTop || 0,
                                ar = ar.parentNode;
                            mr += (jt = Oe.fromDom(bt),
                            Qv.isFirefox() && "table" === Or(jt) ? or(to(jt)).filter(function(fi) {
                                return "caption" === Or(fi)
                            }).bind(function(fi) {
                                return or(J(fi)).map(function(nu) {
                                    return nu.dom.offsetTop <= fi.dom.offsetTop ? -fi.dom.offsetHeight : 0
                                })
                            }).getOr(0) : 0)
                        }
                        return {
                            x: tr,
                            y: mr
                        }
                    }(t.body, i(ve), Ce)
                }
                function y(ve, Ce, Je) {
                    var bt = s(ve);
                    return Je ? bt.css(Ce) : ("float" === (Ce = Ce.replace(/-(\D)/g, function(vt, jt) {
                        return jt.toUpperCase()
                    })) && (Ce = er.browser.isIE() ? "styleFloat" : "cssFloat"),
                    bt[0] && bt[0].style ? bt[0].style[Ce] : void 0)
                }
                function k(ve) {
                    var Ce = y(ve = i(ve), "width")
                      , Je = y(ve, "height");
                    return -1 === Ce.indexOf("px") && (Ce = 0),
                    -1 === Je.indexOf("px") && (Je = 0),
                    {
                        w: parseInt(Ce, 10) || ve.offsetWidth || ve.clientWidth,
                        h: parseInt(Je, 10) || ve.offsetHeight || ve.clientHeight
                    }
                }
                function _(ve, Ce) {
                    if (!ve)
                        return !1;
                    if (!Array.isArray(ve)) {
                        if ("*" === Ce)
                            return 1 === ve.nodeType;
                        if (Cf.test(Ce)) {
                            for (var Je = Ce.toLowerCase().split(/,/), bt = ve.nodeName.toLowerCase(), vt = Je.length - 1; 0 <= vt; vt--)
                                if (Je[vt] === bt)
                                    return !0;
                            return !1
                        }
                        if (ve.nodeType && 1 !== ve.nodeType)
                            return !1
                    }
                    var jt = Array.isArray(ve) ? ve : [ve];
                    return 0 < Xo(Ce, jt[0].ownerDocument || jt[0], null, jt).length
                }
                function A(ve, Ce, Je, bt) {
                    var vt, jt = [], tr = i(ve);
                    for (bt = void 0 === bt,
                    Je = Je || ("BODY" !== b().nodeName ? b().parentNode : null),
                    Ke.is(Ce, "string") && (Ce = "*" === (vt = Ce) ? function(mr) {
                        return 1 === mr.nodeType
                    }
                    : function(mr) {
                        return _(mr, vt)
                    }
                    ); tr && !(tr === Je || Hr(tr.nodeType) || Qc(tr) || Ja(tr)); ) {
                        if (!Ce || "function" == typeof Ce && Ce(tr)) {
                            if (!bt)
                                return [tr];
                            jt.push(tr)
                        }
                        tr = tr.parentNode
                    }
                    return bt ? jt : null
                }
                function P(ve, Ce, Je) {
                    var bt = Ce;
                    if (ve)
                        for ("string" == typeof Ce && (bt = function(vt) {
                            return _(vt, Ce)
                        }
                        ),
                        ve = ve[Je]; ve; ve = ve[Je])
                            if ("function" == typeof bt && bt(ve))
                                return ve;
                    return null
                }
                function z(ve, Ce, Je) {
                    var bt, vt = "string" == typeof ve ? i(ve) : ve;
                    return !!vt && (Ke.isArray(vt) && (vt.length || 0 === vt.length) ? (bt = [],
                    Bc(vt, function(jt, tr) {
                        jt && bt.push(Ce.call(Je, "string" == typeof jt ? i(jt) : jt, tr))
                    }),
                    bt) : Ce.call(Je || this, vt))
                }
                function F(ve, Ce) {
                    s(ve).each(function(Je, bt) {
                        Bc(Ce, function(vt, jt) {
                            g(bt, jt, vt)
                        })
                    })
                }
                function H(ve, Ce) {
                    var Je = s(ve);
                    md ? Je.each(function(bt, vt) {
                        if (!1 !== vt.canHaveHTML) {
                            for (; vt.firstChild; )
                                vt.removeChild(vt.firstChild);
                            try {
                                vt.innerHTML = "<br>" + Ce,
                                vt.removeChild(vt.firstChild)
                            } catch (jt) {
                                Br("<div></div>").html("<br>" + Ce).contents().slice(1).appendTo(vt)
                            }
                            return Ce
                        }
                    }) : Je.html(Ce)
                }
                function V(ve, Ce, Je, bt, vt) {
                    return z(ve, function(jt) {
                        var tr = "string" == typeof Ce ? t.createElement(Ce) : Ce;
                        return F(tr, Je),
                        bt && ("string" != typeof bt && bt.nodeType ? tr.appendChild(bt) : "string" == typeof bt && H(tr, bt)),
                        vt ? tr : jt.appendChild(tr)
                    })
                }
                function j(ve, Ce, Je) {
                    return V(t.createElement(ve), ve, Ce, Je, !0)
                }
                function K(ve, Ce) {
                    var Je = s(ve);
                    return (Ce ? Je.each(function() {
                        for (var bt; bt = this.firstChild; )
                            3 === bt.nodeType && 0 === bt.data.length ? this.removeChild(bt) : this.parentNode.insertBefore(bt, this)
                    }) : Je).remove(),
                    1 < Je.length ? Je.toArray() : Je[0]
                }
                function oe(ve, Ce, Je) {
                    s(ve).toggleClass(Ce, Je).each(function() {
                        "" === this.className && Br(this).attr("class", null)
                    })
                }
                function pe(ve, Ce, Je) {
                    return z(Ce, function(bt) {
                        return Ke.is(bt, "array") && (ve = ve.cloneNode(!0)),
                        Je && Bc(Ib(bt.childNodes), function(vt) {
                            ve.appendChild(vt)
                        }),
                        bt.parentNode.replaceChild(ve, bt)
                    })
                }
                function X(ve) {
                    if (Hn(ve)) {
                        var Ce = "a" === ve.nodeName.toLowerCase() && !f(ve, "href") && f(ve, "id");
                        return f(ve, "name") || f(ve, "data-mce-bookmark") || Ce ? 1 : void 0
                    }
                }
                function ne() {
                    return t.createRange()
                }
                function ue(ve) {
                    if (ve && Hn(ve)) {
                        var Ce = ve.getAttribute("data-mce-contenteditable");
                        return Ce && "inherit" !== Ce ? Ce : "inherit" !== ve.contentEditable ? ve.contentEditable : null
                    }
                    return null
                }
                void 0 === o && (o = {});
                var Me, Fe, Ge, Ve, he, ye, De = {}, He = window, Dt = {}, It = 0, Tt = Ri.forElement(Oe.fromDom(t), {
                    contentCssCors: o.contentCssCors,
                    referrerPolicy: o.referrerPolicy
                }), Lt = [], Rt = o.schema || Ac({}), Ht = cm({
                    url_converter: o.url_converter,
                    url_converter_scope: o.url_converter_scope
                }, o.schema), zt = o.ownEvents ? new Uo : Uo.Event, ln = Rt.getBlockElements(), ft = Br.overrideDefaults(function() {
                    return {
                        context: t,
                        element: mn.getRoot()
                    }
                }), Zt = Pi.encodeAllRaw, Mt = function(ve, Ce, Je, bt) {
                    if (Ke.isArray(ve)) {
                        for (var vt = ve.length, jt = []; vt--; )
                            jt[vt] = Mt(ve[vt], Ce, Je, bt);
                        return jt
                    }
                    return !o.collect || ve !== t && ve !== He || Lt.push([ve, Ce, Je, bt]),
                    zt.bind(ve, Ce, Je, bt || mn)
                }, xn = function(ve, Ce, Je) {
                    if (Ke.isArray(ve)) {
                        for (var bt = ve.length, vt = []; bt--; )
                            vt[bt] = xn(ve[bt], Ce, Je);
                        return vt
                    }
                    if (0 < Lt.length && (ve === t || ve === He))
                        for (bt = Lt.length; bt--; ) {
                            var jt = Lt[bt];
                            ve !== jt[0] || Ce && Ce !== jt[1] || Je && Je !== jt[2] || zt.unbind(jt[0], jt[1], jt[2])
                        }
                    return zt.unbind(ve, Ce, Je)
                }, mn = {
                    doc: t,
                    settings: o,
                    win: He,
                    files: Dt,
                    stdMode: !0,
                    boxModel: !0,
                    styleSheetLoader: Tt,
                    boundEvents: Lt,
                    styles: Ht,
                    schema: Rt,
                    events: zt,
                    isBlock: function(ve) {
                        if ("string" == typeof ve)
                            return !!ln[ve];
                        if (ve) {
                            var Ce = ve.nodeType;
                            if (Ce)
                                return !(1 !== Ce || !ln[ve.nodeName])
                        }
                        return !1
                    },
                    $: ft,
                    $$: s,
                    root: null,
                    clone: function(ve, Ce) {
                        if (!md || 1 !== ve.nodeType || Ce)
                            return ve.cloneNode(Ce);
                        var Je = t.createElement(ve.nodeName);
                        return Bc(m(ve), function(bt) {
                            g(Je, bt.nodeName, f(ve, bt.nodeName))
                        }),
                        Je
                    },
                    getRoot: b,
                    getViewPort: function(ve) {
                        var Ce = ac(ve);
                        return {
                            x: Ce.x,
                            y: Ce.y,
                            w: Ce.width,
                            h: Ce.height
                        }
                    },
                    getRect: function(ve) {
                        var Ce = x(ve = i(ve))
                          , Je = k(ve);
                        return {
                            x: Ce.x,
                            y: Ce.y,
                            w: Je.w,
                            h: Je.h
                        }
                    },
                    getSize: k,
                    getParent: function(ve, Ce, Je) {
                        var bt = A(ve, Ce, Je, !1);
                        return bt && 0 < bt.length ? bt[0] : null
                    },
                    getParents: A,
                    get: i,
                    getNext: function(ve, Ce) {
                        return P(ve, Ce, "nextSibling")
                    },
                    getPrev: function(ve, Ce) {
                        return P(ve, Ce, "previousSibling")
                    },
                    select: function(ve, Ce) {
                        return Xo(ve, i(Ce) || o.root_element || t, [])
                    },
                    is: _,
                    add: V,
                    create: j,
                    createHTML: function(ve, Ce, Je) {
                        var bt, vt = "";
                        for (bt in vt += "<" + ve,
                        Ce)
                            Et(Ce, bt) && (vt += " " + bt + '="' + Zt(Ce[bt]) + '"');
                        return void 0 !== Je ? vt + ">" + Je + "</" + ve + ">" : vt + " />"
                    },
                    createFragment: function(ve) {
                        var Ce, Je = t.createElement("div"), bt = t.createDocumentFragment();
                        for (bt.appendChild(Je),
                        ve && (Je.innerHTML = ve); Ce = Je.firstChild; )
                            bt.appendChild(Ce);
                        return bt.removeChild(Je),
                        bt
                    },
                    remove: K,
                    setStyle: function(ve, Ce, Je) {
                        var bt = Fn(Ce) ? s(ve).css(Ce, Je) : s(ve).css(Ce);
                        o.update_styles && jw(Ht, bt)
                    },
                    getStyle: y,
                    setStyles: function(ve, Ce) {
                        var Je = s(ve).css(Ce);
                        o.update_styles && jw(Ht, Je)
                    },
                    removeAllAttribs: function(ve) {
                        return z(ve, function(Ce) {
                            for (var Je = Ce.attributes, bt = Je.length - 1; 0 <= bt; bt--)
                                Ce.removeAttributeNode(Je.item(bt))
                        })
                    },
                    setAttrib: g,
                    setAttribs: F,
                    getAttrib: f,
                    getPos: x,
                    parseStyle: function(ve) {
                        return Ht.parse(ve)
                    },
                    serializeStyle: function(ve, Ce) {
                        return Ht.serialize(ve, Ce)
                    },
                    addStyle: function(ve) {
                        var Ce, Je;
                        if (mn !== co.DOM && t === document) {
                            if (De[ve])
                                return;
                            De[ve] = !0
                        }
                        (Je = t.getElementById("mceDefaultStyles")) || ((Je = t.createElement("style")).id = "mceDefaultStyles",
                        Je.type = "text/css",
                        (Ce = t.getElementsByTagName("head")[0]).firstChild ? Ce.insertBefore(Je, Ce.firstChild) : Ce.appendChild(Je)),
                        Je.styleSheet ? Je.styleSheet.cssText += ve : Je.appendChild(t.createTextNode(ve))
                    },
                    loadCSS: function(ve) {
                        tt((ve = ve || "").split(","), function(Ce) {
                            Dt[Ce] = !0,
                            Tt.load(Ce, _t)
                        })
                    },
                    addClass: function(ve, Ce) {
                        s(ve).addClass(Ce)
                    },
                    removeClass: function(ve, Ce) {
                        oe(ve, Ce, !1)
                    },
                    hasClass: function(ve, Ce) {
                        return s(ve).hasClass(Ce)
                    },
                    toggleClass: oe,
                    show: function(ve) {
                        s(ve).show()
                    },
                    hide: function(ve) {
                        s(ve).hide()
                    },
                    isHidden: function(ve) {
                        return "none" === s(ve).css("display")
                    },
                    uniqueId: function(ve) {
                        return (ve || "mce_") + It++
                    },
                    setHTML: H,
                    getOuterHTML: function(ve) {
                        var Ce = "string" == typeof ve ? i(ve) : ve;
                        return Hn(Ce) ? Ce.outerHTML : Br("<div></div>").append(Br(Ce).clone()).html()
                    },
                    setOuterHTML: function(ve, Ce) {
                        s(ve).each(function() {
                            try {
                                if ("outerHTML"in this)
                                    return void (this.outerHTML = Ce)
                            } catch (Je) {}
                            K(Br(this).html(Ce), !0)
                        })
                    },
                    decode: Pi.decode,
                    encode: Zt,
                    insertAfter: function(ve, Ce) {
                        var Je = i(Ce);
                        return z(ve, function(bt) {
                            var vt = Je.parentNode
                              , jt = Je.nextSibling;
                            return jt ? vt.insertBefore(bt, jt) : vt.appendChild(bt),
                            bt
                        })
                    },
                    replace: pe,
                    rename: function(ve, Ce) {
                        var Je;
                        return ve.nodeName !== Ce.toUpperCase() && (Je = j(Ce),
                        Bc(m(ve), function(bt) {
                            g(Je, bt.nodeName, f(ve, bt.nodeName))
                        }),
                        pe(Je, ve, !0)),
                        Je || ve
                    },
                    findCommonAncestor: function(ve, Ce) {
                        for (var Je, bt = ve; bt; ) {
                            for (Je = Ce; Je && bt !== Je; )
                                Je = Je.parentNode;
                            if (bt === Je)
                                break;
                            bt = bt.parentNode
                        }
                        return !bt && ve.ownerDocument ? ve.ownerDocument.documentElement : bt
                    },
                    toHex: function(ve) {
                        return Ht.toHex(Ke.trim(ve))
                    },
                    run: z,
                    getAttribs: m,
                    isEmpty: function(ve, Ce) {
                        var Je, bt, vt = 0;
                        if (X(ve))
                            return !1;
                        if (ve = ve.firstChild) {
                            var jt = new ao(ve,ve.parentNode)
                              , tr = Rt ? Rt.getWhiteSpaceElements() : {};
                            Ce = Ce || (Rt ? Rt.getNonEmptyElements() : null);
                            do {
                                if (Je = ve.nodeType,
                                Hn(ve)) {
                                    var mr = ve.getAttribute("data-mce-bogus");
                                    if (mr) {
                                        ve = jt.next("all" === mr);
                                        continue
                                    }
                                    if (bt = ve.nodeName.toLowerCase(),
                                    Ce && Ce[bt]) {
                                        if ("br" !== bt)
                                            return !1;
                                        vt++,
                                        ve = jt.next();
                                        continue
                                    }
                                    if (X(ve))
                                        return !1
                                }
                                if (8 === Je || 3 === Je && !ii(ve.nodeValue) || 3 === Je && ve.parentNode && tr[ve.parentNode.nodeName] && ii(ve.nodeValue))
                                    return !1;
                                ve = jt.next()
                            } while (ve)
                        }
                        return vt <= 1
                    },
                    createRng: ne,
                    nodeIndex: Oa,
                    split: function(ve, Ce, Je) {
                        var bt, vt, jt, tr = ne();
                        if (ve && Ce)
                            return tr.setStart(ve.parentNode, Oa(ve)),
                            tr.setEnd(Ce.parentNode, Oa(Ce)),
                            bt = tr.extractContents(),
                            (tr = ne()).setStart(Ce.parentNode, Oa(Ce) + 1),
                            tr.setEnd(ve.parentNode, Oa(ve) + 1),
                            vt = tr.extractContents(),
                            (jt = ve.parentNode).insertBefore(Yf(mn, bt), ve),
                            jt.insertBefore(Je || Ce, ve),
                            jt.insertBefore(Yf(mn, vt), ve),
                            K(ve),
                            Je || Ce
                    },
                    bind: Mt,
                    unbind: xn,
                    fire: function(ve, Ce, Je) {
                        return zt.fire(ve, Ce, Je)
                    },
                    getContentEditable: ue,
                    getContentEditableParent: function(ve) {
                        for (var Ce = b(), Je = null; ve && ve !== Ce && null === (Je = ue(ve)); ve = ve.parentNode)
                            ;
                        return Je
                    },
                    destroy: function() {
                        if (0 < Lt.length)
                            for (var ve = Lt.length; ve--; ) {
                                var Ce = Lt[ve];
                                zt.unbind(Ce[0], Ce[1], Ce[2])
                            }
                        Un(Dt, function(Je, bt) {
                            Tt.unload(bt),
                            delete Dt[bt]
                        }),
                        Xo.setDocument && Xo.setDocument()
                    },
                    isChildOf: function(ve, Ce) {
                        if (md) {
                            for (; ve; ) {
                                if (Ce === ve)
                                    return !0;
                                ve = ve.parentNode
                            }
                            return !1
                        }
                        return ve === Ce || Ce.contains(ve)
                    },
                    dumpRng: function(ve) {
                        return "startContainer: " + ve.startContainer.nodeName + ", startOffset: " + ve.startOffset + ", endContainer: " + ve.endContainer.nodeName + ", endOffset: " + ve.endOffset
                    }
                }, Vr = (Me = Ht,
                Ge = xe(mn),
                he = {
                    set: function(ve, Ce, Je) {
                        Fe.url_converter && null !== Ce && (Ce = Fe.url_converter.call(Fe.url_converter_scope || Ge(), Ce, Je, ve[0])),
                        ve.attr("data-mce-" + Je, Ce).attr(Je, Ce)
                    },
                    get: function(ve, Ce) {
                        return ve.attr("data-mce-" + Ce) || ve.attr(Ce)
                    }
                },
                ye = {
                    style: {
                        set: function(ve, Ce) {
                            null === Ce || "object" != typeof Ce ? (Ve && ve.attr("data-mce-style", Ce),
                            null !== Ce && "string" == typeof Ce ? (ve.removeAttr("style"),
                            ve.css(Me.parse(Ce))) : ve.attr("style", Ce)) : ve.css(Ce)
                        },
                        get: function(ve) {
                            var Ce = ve.attr("data-mce-style") || ve.attr("style");
                            return Me.serialize(Me.parse(Ce), ve[0].nodeName)
                        }
                    }
                },
                (Ve = (Fe = o).keep_values) && (ye.href = ye.src = he),
                ye);
                return mn
            };
            co.DOM = co(document),
            co.nodeIndex = Oa;
            var $g = co.DOM
              , gd = Ke.each
              , Lb = Ke.grep
              , lc = (Ys.prototype._setReferrerPolicy = function(t) {
                this.settings.referrerPolicy = t
            }
            ,
            Ys.prototype.loadScript = function(t, o, i) {
                function s() {
                    f.remove(m),
                    g && (g.onerror = g.onload = g = null)
                }
                var f = $g
                  , m = f.uniqueId()
                  , g = document.createElement("script");
                g.id = m,
                g.type = "text/javascript",
                g.src = Ke._addCacheSuffix(t),
                this.settings.referrerPolicy && f.setAttrib(g, "referrerpolicy", this.settings.referrerPolicy),
                g.onload = function() {
                    s(),
                    o()
                }
                ,
                g.onerror = function() {
                    s(),
                    Kn(i) ? i() : "undefined" != typeof console && console.log && console.log("Failed to load script: " + t)
                }
                ,
                (document.getElementsByTagName("head")[0] || document.body).appendChild(g)
            }
            ,
            Ys.prototype.isDone = function(t) {
                return 2 === this.states[t]
            }
            ,
            Ys.prototype.markDone = function(t) {
                this.states[t] = 2
            }
            ,
            Ys.prototype.add = function(t, o, i, s) {
                var f = this.states[t];
                this.queue.push(t),
                void 0 === f && (this.states[t] = 0),
                o && (this.scriptLoadedCallbacks[t] || (this.scriptLoadedCallbacks[t] = []),
                this.scriptLoadedCallbacks[t].push({
                    success: o,
                    failure: s,
                    scope: i || this
                }))
            }
            ,
            Ys.prototype.load = function(t, o, i, s) {
                return this.add(t, o, i, s)
            }
            ,
            Ys.prototype.remove = function(t) {
                delete this.states[t],
                delete this.scriptLoadedCallbacks[t]
            }
            ,
            Ys.prototype.loadQueue = function(t, o, i) {
                this.loadScripts(this.queue, t, o, i)
            }
            ,
            Ys.prototype.loadScripts = function(t, o, i, s) {
                function f(x, y) {
                    gd(m.scriptLoadedCallbacks[y], function(k) {
                        Kn(k[x]) && k[x].call(k.scope)
                    }),
                    m.scriptLoadedCallbacks[y] = void 0
                }
                var m = this
                  , g = [];
                m.queueLoadedCallbacks.push({
                    success: o,
                    failure: s,
                    scope: i || this
                });
                var b = function() {
                    var x, y = Lb(t);
                    t.length = 0,
                    gd(y, function(k) {
                        2 !== m.states[k] ? 3 !== m.states[k] ? 1 !== m.states[k] && (m.states[k] = 1,
                        m.loading++,
                        m.loadScript(k, function() {
                            m.states[k] = 2,
                            m.loading--,
                            f("success", k),
                            b()
                        }, function() {
                            m.states[k] = 3,
                            m.loading--,
                            g.push(k),
                            f("failure", k),
                            b()
                        })) : f("failure", k) : f("success", k)
                    }),
                    m.loading || (x = m.queueLoadedCallbacks.slice(0),
                    m.queueLoadedCallbacks.length = 0,
                    gd(x, function(k) {
                        0 === g.length ? Kn(k.success) && k.success.call(k.scope) : Kn(k.failure) && k.failure.call(k.scope, g)
                    }))
                };
                b()
            }
            ,
            Ys.ScriptLoader = new Ys,
            Ys);
            function Ys(t) {
                void 0 === t && (t = {}),
                this.states = {},
                this.queue = [],
                this.scriptLoadedCallbacks = {},
                this.queueLoadedCallbacks = [],
                this.loading = 0,
                this.settings = t
            }
            function su(t) {
                var o = t;
                return {
                    get: function() {
                        return o
                    },
                    set: function(i) {
                        o = i
                    }
                }
            }
            function Vg() {
                return pt(hm, pm.get())
            }
            var hm = {}
              , pm = su("en")
              , Rs = {
                getData: function() {
                    return xo(hm, function(t) {
                        return en({}, t)
                    })
                },
                setCode: function(t) {
                    t && pm.set(t)
                },
                getCode: function() {
                    return pm.get()
                },
                add: function(t, o) {
                    var i = hm[t];
                    i || (hm[t] = i = {}),
                    Un(o, function(s, f) {
                        i[f.toLowerCase()] = s
                    })
                },
                translate: function(t) {
                    function o(y) {
                        return Kn(y) ? Object.prototype.toString.call(y) : b(y) ? "" : "" + y
                    }
                    function i(y) {
                        var k = o(y);
                        return pt(g, k.toLowerCase()).map(o).getOr(k)
                    }
                    function s(y) {
                        return y.replace(/{context:\w+}$/, "")
                    }
                    var f, m, g = Vg().getOr({}), b = function(y) {
                        return "" === y || null == y
                    };
                    if (b(t))
                        return "";
                    if (an(f = t) && St(f, "raw"))
                        return o(t.raw);
                    if (Se(m = t) && 1 < m.length) {
                        var x = t.slice(1);
                        return s(i(t[0]).replace(/\{([0-9]+)\}/g, function(y, k) {
                            return St(x, k) ? o(x[k]) : y
                        }))
                    }
                    return s(i(t))
                },
                isRtl: function() {
                    return Vg().bind(function(t) {
                        return pt(t, "_dir")
                    }).exists(function(t) {
                        return "rtl" === t
                    })
                },
                hasCode: function(t) {
                    return St(hm, t)
                }
            }
              , cu = function() {
                function t(y, k) {
                    tt(nn(b, function(_) {
                        return _.name === y && _.state === k
                    }), function(_) {
                        return _.callback()
                    })
                }
                function o(y) {
                    return (g[y] ? g[y].dependencies : void 0) || []
                }
                function i(y, k) {
                    return "object" == typeof k ? k : "string" == typeof y ? {
                        prefix: "",
                        resource: k,
                        suffix: ""
                    } : {
                        prefix: y.prefix,
                        resource: k,
                        suffix: y.suffix
                    }
                }
                function s(y, k, _) {
                    void 0 === _ && (_ = "added"),
                    St(g, y) && "added" === _ || St(m, y) && "loaded" === _ ? k() : b.push({
                        name: y,
                        state: _,
                        callback: k
                    })
                }
                var f = []
                  , m = {}
                  , g = {}
                  , b = []
                  , x = function(y, k, _, A, P) {
                    var z, F;
                    m[y] || (0 !== (z = "string" == typeof k ? k : k.prefix + k.resource + k.suffix).indexOf("/") && -1 === z.indexOf("://") && (z = cu.baseURL + "/" + z),
                    m[y] = z.substring(0, z.lastIndexOf("/")),
                    F = function() {
                        var H, V, j;
                        t(y, "loaded"),
                        H = k,
                        V = _,
                        j = A,
                        tt(o(y), function(K) {
                            var oe = i(H, K);
                            x(oe.resource, oe, void 0, void 0)
                        }),
                        V && V.call(j || lc)
                    }
                    ,
                    g[y] ? F() : lc.ScriptLoader.add(z, F, A, P))
                };
                return {
                    items: f,
                    urls: m,
                    lookup: g,
                    _listeners: b,
                    get: function(y) {
                        if (g[y])
                            return g[y].instance
                    },
                    dependencies: o,
                    requireLangPack: function(y, k) {
                        !1 !== cu.languageLoad && s(y, function() {
                            var _ = Rs.getCode();
                            !_ || k && -1 === ("," + (k || "") + ",").indexOf("," + _ + ",") || lc.ScriptLoader.add(m[y] + "/langs/" + _ + ".js")
                        }, "loaded")
                    },
                    add: function(y, k, _) {
                        var A = k;
                        return f.push(A),
                        g[y] = {
                            instance: A,
                            dependencies: _
                        },
                        t(y, "added"),
                        A
                    },
                    remove: function(y) {
                        delete m[y],
                        delete g[y]
                    },
                    createUrl: i,
                    addComponents: function(y, k) {
                        var _ = m[y];
                        tt(k, function(A) {
                            lc.ScriptLoader.add(_ + "/" + A)
                        })
                    },
                    load: x,
                    waitFor: s
                }
            };
            function Bl() {
                var t, o, i = (t = _t,
                o = su(ee.none()),
                {
                    clear: function() {
                        s(),
                        o.set(ee.none())
                    },
                    isSet: function() {
                        return o.get().isSome()
                    },
                    get: function() {
                        return o.get()
                    },
                    set: function(f) {
                        s(),
                        o.set(ee.some(f))
                    }
                });
                function s() {
                    return o.get().each(t)
                }
                return en(en({}, i), {
                    on: function(f) {
                        return i.get().each(f)
                    }
                })
            }
            function fc(t, o) {
                var i = null;
                return {
                    cancel: function() {
                        _n(i) || (clearTimeout(i),
                        i = null)
                    },
                    throttle: function() {
                        for (var s = [], f = 0; f < arguments.length; f++)
                            s[f] = arguments[f];
                        _n(i) && (i = setTimeout(function() {
                            i = null,
                            t.apply(null, s)
                        }, o))
                    }
                }
            }
            function Hb(t, o) {
                function i() {
                    _n(s) || (clearTimeout(s),
                    s = null)
                }
                var s = null;
                return {
                    cancel: i,
                    throttle: function() {
                        for (var f = [], m = 0; m < arguments.length; m++)
                            f[m] = arguments[m];
                        i(),
                        s = setTimeout(function() {
                            s = null,
                            t.apply(null, f)
                        }, o)
                    }
                }
            }
            function s1(t, o) {
                var i = C(t, o);
                return void 0 === i || "" === i ? [] : i.split(" ")
            }
            function bm(t) {
                return void 0 !== t.dom.classList
            }
            function Ug(t, o) {
                var i, s, f;
                bm(t) ? t.dom.classList.add(o) : (s = o,
                f = s1(i = t, "class").concat([s]),
                L(i, "class", f.join(" ")))
            }
            function $b(t, o) {
                return bm(t) && t.dom.classList.contains(o)
            }
            function ys(t, o) {
                return oa(i = void 0 === t ? document : t.dom) ? [] : bn(i.querySelectorAll(o), Oe.fromDom);
                var i
            }
            function c1(t, o) {
                function i(b, x) {
                    return (y = b.dom) && y.hasAttribute && y.hasAttribute(x) ? ee.some(C(b, x)) : ee.none();
                    var y
                }
                var s = t.selection.getRng()
                  , f = Oe.fromDom(s.startContainer)
                  , m = Oe.fromDom(t.getBody())
                  , g = o.fold(function() {
                    return "." + m1()
                }, function(b) {
                    return "[" + Ps() + '="' + b + '"]'
                });
                return qf(we(f, s.startOffset).getOr(f), g, function(b) {
                    return uo(b, m)
                }).bind(function(b) {
                    return i(b, "" + av()).bind(function(x) {
                        return i(b, "" + Ps()).map(function(y) {
                            var k = Nl(t, x);
                            return {
                                uid: x,
                                name: y,
                                elements: k
                            }
                        })
                    })
                })
            }
            function Vn(t) {
                var o = (new Date).getTime();
                return t + "_" + Math.floor(1e9 * Math.random()) + ++yd + String(o)
            }
            function ov(t, o) {
                var i, s, f = fs(t).dom, m = Oe.fromDom(f.createDocumentFragment());
                Xi(m, (i = o,
                (s = (f || document).createElement("div")).innerHTML = i,
                to(Oe.fromDom(s)))),
                Pa(t),
                no(t, m)
            }
            function l1(t, o) {
                return Oe.fromDom(t.dom.cloneNode(o))
            }
            function Sf(t) {
                return l1(t, !1)
            }
            function ym(t) {
                return l1(t, !0)
            }
            function Lo(t, o, i) {
                function s(m) {
                    for (var g; (g = f[m]()) && !dn(g) && !i(g); )
                        ;
                    return ee.from(g).filter(dn)
                }
                void 0 === i && (i = Ct);
                var f = new ao(t,o);
                return {
                    current: function() {
                        return ee.from(f.current()).filter(dn)
                    },
                    next: function() {
                        return s("next")
                    },
                    prev: function() {
                        return s("prev")
                    },
                    prev2: function() {
                        return s("prev2")
                    }
                }
            }
            function Vb(t, o) {
                var i = o || function(f) {
                    return t.isBlock(f) || zn(f) || ho(f)
                }
                  , s = function(f, m, g, b) {
                    if (dn(f)) {
                        var x = b(f, m, f.data);
                        if (-1 !== x)
                            return ee.some({
                                container: f,
                                offset: x
                            })
                    }
                    return g().bind(function(y) {
                        return s(y.container, y.offset, g, b)
                    })
                };
                return {
                    backwards: function(f, m, g, b) {
                        var x = Lo(f, b, i);
                        return s(f, m, function() {
                            return x.prev().map(function(y) {
                                return {
                                    container: y,
                                    offset: y.length
                                }
                            })
                        }, g).getOrNull()
                    },
                    forwards: function(f, m, g, b) {
                        var x = Lo(f, b, i);
                        return s(f, m, function() {
                            return x.next().map(function(y) {
                                return {
                                    container: y,
                                    offset: 0
                                }
                            })
                        }, g).getOrNull()
                    }
                }
            }
            function hd(t) {
                return t ? {
                    left: wm(t.left),
                    top: wm(t.top),
                    bottom: wm(t.bottom),
                    right: wm(t.right),
                    width: wm(t.width),
                    height: wm(t.height)
                } : {
                    left: 0,
                    top: 0,
                    bottom: 0,
                    right: 0,
                    width: 0,
                    height: 0
                }
            }
            function Wg(t, o) {
                return t = hd(t),
                o || (t.left = t.left + t.width),
                t.right = t.left,
                t.width = 0,
                t
            }
            function gt(t, o, i) {
                return 0 <= t && t <= Math.min(o.height, i.height) / 2
            }
            function Tf(t, o) {
                var i = Math.min(o.height / 2, t.height / 2);
                return t.bottom - i < o.top || !(t.top > o.bottom) && gt(o.top - t.bottom, t, o)
            }
            function pd(t, o) {
                return t.top > o.bottom || !(t.bottom < o.top) && gt(o.bottom - t.top, t, o)
            }
            function jg(t, o, i) {
                return o >= t.left && o <= t.right && i >= t.top && i <= t.bottom
            }
            function f1(t) {
                var o = t.startContainer
                  , i = t.startOffset;
                return o.hasChildNodes() && t.endOffset === i + 1 ? o.childNodes[i] : null
            }
            function vc(t, o) {
                if (Hn(t) && t.hasChildNodes()) {
                    var i = t.childNodes;
                    return i[(s = i.length - 1,
                    Math.min(Math.max(o, 0), s))]
                }
                return t;
                var s
            }
            function v1(t) {
                return "string" == typeof t && 768 <= t.charCodeAt(0) && oT.test(t)
            }
            function ul(t) {
                return "createRange"in t ? t.createRange() : co.DOM.createRng()
            }
            function d1(t) {
                return t && /[\r\n\t ]/.test(t)
            }
            function bd(t) {
                return t.setStart && t.setEnd
            }
            function pa(t) {
                var o = t.startContainer
                  , i = t.startOffset;
                if (d1(t.toString()) && Pn(o.parentNode) && dn(o)) {
                    var s = o.data;
                    return d1(s[i - 1]) || d1(s[i + 1]) ? 1 : void 0
                }
            }
            function sl(t) {
                return 0 === t.left && 0 === t.right && 0 === t.top && 0 === t.bottom
            }
            function dc(t, o) {
                var i = Wg(t, o);
                return i.width = 1,
                i.right = i.left + 1,
                i
            }
            cu.languageLoad = !0,
            cu.baseURL = "",
            cu.PluginManager = cu(),
            cu.ThemeManager = cu();
            var cl = function(t, o) {
                var i = [];
                return tt(to(t), function(s) {
                    i = (i = o(s) ? i.concat([s]) : i).concat(cl(s, o))
                }),
                i
            }
              , m1 = xe("mce-annotation")
              , Ps = xe("data-mce-annotation")
              , av = xe("data-mce-annotation-uid")
              , Nl = function(t, o) {
                return ys(Oe.fromDom(t.getBody()), "[" + av() + '="' + o + '"]')
            }
              , yd = 0
              , wm = Math.round
              , oT = new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]")
              , _f = Hn
              , xm = hi
              , Gw = _c("display", "block table")
              , g1 = _c("float", "left right")
              , Cm = function() {
                for (var t = [], o = 0; o < arguments.length; o++)
                    t[o] = arguments[o];
                return function(i) {
                    for (var s = 0; s < t.length; s++)
                        if (!t[s](i))
                            return !1;
                    return !0
                }
            }(_f, xm, ge(g1))
              , Pn = ge(_c("white-space", "pre pre-line pre-wrap"))
              , iv = dn
              , Ub = zn
              , qw = co.nodeIndex
              , wd = function(t, o) {
                if (!(o < 0 && Hn(t) && t.hasChildNodes()))
                    return vc(t, o)
            }
              , uv = function(t) {
                var o = t.getClientRects()
                  , i = hd(0 < o.length ? o[0] : t.getBoundingClientRect());
                return !bd(t) && Ub(t) && sl(i) ? function(s) {
                    var f = s.ownerDocument
                      , m = ul(f)
                      , g = f.createTextNode(Tn)
                      , b = s.parentNode;
                    b.insertBefore(g, s),
                    m.setStart(g, 0),
                    m.setEnd(g, 1);
                    var x = hd(m.getBoundingClientRect());
                    return b.removeChild(g),
                    x
                }(t) : sl(i) && bd(t) ? function(s) {
                    var m = s.endContainer
                      , g = s.startOffset
                      , b = s.endOffset;
                    if (s.startContainer === m && dn(m) && 0 === g && 1 === b) {
                        var x = s.cloneRange();
                        return x.setEndAfter(m),
                        uv(x)
                    }
                    return null
                }(t) : i
            }
              , et = function(t, o, i) {
                function s() {
                    return i = i || function(f) {
                        function m(A) {
                            var P;
                            0 !== A.height && (0 < b.length && A.left === (P = b[b.length - 1]).left && A.top === P.top && A.bottom === P.bottom && A.right === P.right || b.push(A))
                        }
                        function g(A, P) {
                            var z = ul(A.ownerDocument);
                            if (P < A.data.length) {
                                if (v1(A.data[P]))
                                    return b;
                                if (v1(A.data[P - 1]) && (z.setStart(A, P),
                                z.setEnd(A, P + 1),
                                !pa(z)))
                                    return m(dc(uv(z), !1)),
                                    b
                            }
                            0 < P && (z.setStart(A, P - 1),
                            z.setEnd(A, P),
                            pa(z) || m(dc(uv(z), !1))),
                            P < A.data.length && (z.setStart(A, P),
                            z.setEnd(A, P + 1),
                            pa(z) || m(dc(uv(z), !0)))
                        }
                        var b = []
                          , x = f.container()
                          , y = f.offset();
                        if (iv(x))
                            return g(x, y),
                            b;
                        if (_f(x))
                            if (f.isAtEnd()) {
                                var k = wd(x, y);
                                iv(k) && g(k, k.data.length),
                                Cm(k) && !Ub(k) && m(dc(uv(k), !1))
                            } else {
                                if (k = wd(x, y),
                                iv(k) && g(k, 0),
                                Cm(k) && f.isAtEnd())
                                    return m(dc(uv(k), !1)),
                                    b;
                                var _ = wd(f.container(), f.offset() - 1);
                                Cm(_) && !Ub(_) && (!Gw(_) && !Gw(k) && Cm(k) || m(dc(uv(_), !1))),
                                Cm(k) && m(dc(uv(k), !0))
                            }
                        return b
                    }(et(t, o))
                }
                return {
                    container: xe(t),
                    offset: xe(o),
                    toRange: function() {
                        var f = ul(t.ownerDocument);
                        return f.setStart(t, o),
                        f.setEnd(t, o),
                        f
                    },
                    getClientRects: s,
                    isVisible: function() {
                        return 0 < s().length
                    },
                    isAtStart: function() {
                        return iv(t),
                        0 === o
                    },
                    isAtEnd: function() {
                        return iv(t) ? o >= t.data.length : o >= t.childNodes.length
                    },
                    isEqual: function(f) {
                        return f && t === f.container() && o === f.offset()
                    },
                    getNode: function(f) {
                        return wd(t, f ? o - 1 : o)
                    }
                }
            };
            function sv(t, o) {
                dn(o) && 0 === o.data.length && t.remove(o)
            }
            function cv(t, o, i) {
                var s, f, m, g, b, x, y;
                Ja(i) ? (m = t,
                g = o,
                x = ee.from((b = i).firstChild),
                y = ee.from(b.lastChild),
                g.insertNode(b),
                x.each(function(k) {
                    return sv(m, k.previousSibling)
                }),
                y.each(function(k) {
                    return sv(m, k.nextSibling)
                })) : (s = t,
                o.insertNode(f = i),
                sv(s, f.previousSibling),
                sv(s, f.nextSibling))
            }
            function lv(t) {
                return function(o) {
                    return t === o
                }
            }
            function Gg(t) {
                var o, i, s, f;
                return (lu(t) ? "text()" : t.nodeName.toLowerCase()) + "[" + (s = An(i = Xb(Dm(o = t)), lv(o), o),
                f = Sr(i = i.slice(0, s + 1), function(m, g, b) {
                    return lu(g) && lu(i[b - 1]) && m++,
                    m
                }, 0),
                An(i = vn(i, ka([o.nodeName])), lv(o), o) - f + "]")
            }
            function Sm(t, o) {
                var i, s, f, m = [], g = o.container(), b = o.offset();
                return lu(g) ? i = function(x, y) {
                    for (; (x = x.previousSibling) && lu(x); )
                        y += x.data.length;
                    return y
                }(g, b) : (b >= (s = g.childNodes).length ? (i = "after",
                b = s.length - 1) : i = "before",
                g = s[b]),
                m.push(Gg(g)),
                f = vn(function(x, y) {
                    var k = [];
                    for (y = y.parentNode; y !== x; y = y.parentNode)
                        k.push(y);
                    return k
                }(t, g), ge(Ya)),
                (m = m.concat(Yt(f, Gg))).reverse().join("/") + "," + i
            }
            function Kw(t, o) {
                if (!o)
                    return null;
                var i = o.split(",")
                  , s = i[0].split("/")
                  , f = 1 < i.length ? i[1] : "before"
                  , m = Sr(s, function(g, b) {
                    var x, y, k, _, A = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);
                    return A ? ("text()" === A[1] && (A[1] = "#text"),
                    x = g,
                    y = A[1],
                    k = parseInt(A[2], 10),
                    _ = vn(_ = Xb(x), function(P, z) {
                        return !lu(P) || !lu(_[z - 1])
                    }),
                    (_ = vn(_, ka([y])))[k]) : null
                }, t);
                return m ? lu(m) ? function(g, b) {
                    for (var x, y = g, k = 0; lu(y); ) {
                        if (x = y.data.length,
                        k <= b && b <= k + x) {
                            g = y,
                            b -= k;
                            break
                        }
                        if (!lu(y.nextSibling)) {
                            g = y,
                            b = x;
                            break
                        }
                        k += x,
                        y = y.nextSibling
                    }
                    return lu(g) && b > g.data.length && (b = g.data.length),
                    et(g, b)
                }(m, parseInt(f, 10)) : (f = "after" === f ? kf(m) + 1 : kf(m),
                et(m.parentNode, f)) : null
            }
            function h1(t, o, i, s, f) {
                var m, g = s[f ? "startContainer" : "endContainer"], b = s[f ? "startOffset" : "endOffset"], x = [], y = 0, k = t.getRoot();
                for (dn(g) ? x.push(i ? function(_, A, P) {
                    for (var z = _(A.data.slice(0, P)).length, F = A.previousSibling; F && dn(F); F = F.previousSibling)
                        z += _(F.data).length;
                    return z
                }(o, g, b) : b) : (b >= (m = g.childNodes).length && m.length && (y = 1,
                b = Math.max(0, m.length - 1)),
                x.push(t.nodeIndex(m[b], i) + y)); g && g !== k; g = g.parentNode)
                    x.push(t.nodeIndex(g, i));
                return x
            }
            function qg(t, o, i) {
                var s = 0;
                return Ke.each(t.select(o), function(f) {
                    if ("all" !== f.getAttribute("data-mce-bogus"))
                        return f !== i && void s++
                }),
                s
            }
            function Wb(t, o) {
                var i, s = o ? "start" : "end", f = t[s + "Container"], m = t[s + "Offset"];
                Hn(f) && "TR" === f.nodeName && (f = (i = f.childNodes)[Math.min(o ? m : m - 1, i.length - 1)]) && t["set" + (o ? "Start" : "End")](f, m = o ? 0 : f.childNodes.length)
            }
            function Kg(t) {
                return Wb(t, !0),
                Wb(t, !1),
                t
            }
            function Tm(t, o) {
                var i;
                return Hn(t) && (t = vc(t, o),
                b1(t)) ? t : iu(t) ? (i = (t = dn(t) && gf(t) ? t.parentNode : t).previousSibling,
                b1(i) || b1(i = t.nextSibling) ? i : void 0) : void 0
            }
            function _m(t, o, i) {
                var s = i.getNode()
                  , f = s ? s.nodeName : null
                  , m = i.getRng();
                if (b1(s) || "IMG" === f)
                    return {
                        name: f,
                        index: qg(i.dom, f, s)
                    };
                var g, b, x, y, k, _, A, P = Tm((g = m).startContainer, g.startOffset) || Tm(g.endContainer, g.endOffset);
                return P ? {
                    name: f = P.tagName,
                    index: qg(i.dom, f, P)
                } : (_ = (x = i).dom,
                (A = {}).start = h1(_, b = t, y = o, k = m, !0),
                x.isCollapsed() || (A.end = h1(_, b, y, k, !1)),
                As(k) && (A.isFakeCaret = !0),
                A)
            }
            function Xg(t, o, i) {
                var s = {
                    "data-mce-type": "bookmark",
                    id: o,
                    style: "overflow:hidden;line-height:0px"
                };
                return i ? t.create("span", s, "&#xFEFF;") : t.create("span", s)
            }
            function Nc(t, o) {
                var i = t.dom
                  , s = t.getRng()
                  , f = i.uniqueId()
                  , m = t.isCollapsed()
                  , g = t.getNode()
                  , b = g.nodeName;
                if ("IMG" === b)
                    return {
                        name: b,
                        index: qg(i, b, g)
                    };
                var x = Kg(s.cloneRange());
                return m || (x.collapse(!1),
                cv(i, x, Xg(i, f + "_end", o))),
                (s = Kg(s)).collapse(!0),
                cv(i, s, Xg(i, f + "_start", o)),
                t.moveToBookmark({
                    id: f,
                    keep: !0
                }),
                {
                    id: f
                }
            }
            function Bs(t, o, i) {
                var s = t.getParam(o, i);
                return -1 === s.indexOf("=") ? s : pt(t.getParam(o, "", "hash"), t.id).getOr(i)
            }
            function Xw(t) {
                return t.getParam("content_security_policy", "")
            }
            function zu(t) {
                if (t.getParam("force_p_newlines", !1))
                    return "p";
                var o = t.getParam("forced_root_block", "p");
                return !1 === o ? "" : !0 === o ? "p" : o
            }
            function Yg(t) {
                return t.getParam("forced_root_block_attrs", {})
            }
            function fv(t) {
                return t.getParam("automatic_uploads", !0, "boolean")
            }
            function mc(t) {
                return t.getParam("icons", "", "string")
            }
            function Yw(t) {
                return t.getParam("referrer_policy", "", "string")
            }
            function jb(t) {
                return t.getParam("language", "en", "string")
            }
            function Jw(t) {
                return t.getParam("indent_use_margin", !1)
            }
            function Zw(t) {
                var o = t.getParam("font_css", []);
                return Se(o) ? o : bn(o.split(","), ze)
            }
            function Qw(t) {
                var o = t.getParam("object_resizing");
                return !1 !== o && !er.iOS && (Fn(o) ? o : "table,img,figure.image,div,video,iframe")
            }
            function ex(t) {
                return t.getParam("event_root")
            }
            function xd(t) {
                return t.getParam("theme")
            }
            function Jg(t) {
                return !1 !== t.getParam("inline_boundaries")
            }
            function Zg(t) {
                return t.getParam("plugins", "", "string")
            }
            function Gb(t) {
                var o = t.parentNode;
                o && o.removeChild(t)
            }
            function tx(t) {
                var o = $a(t);
                return {
                    count: t.length - o.length,
                    text: o
                }
            }
            function nx(t) {
                for (var o; -1 !== (o = t.data.lastIndexOf(hr)); )
                    t.deleteData(o, 1)
            }
            function rx(t, o) {
                return gv(t),
                o
            }
            function p1(t, o) {
                var i, s = o.container(), f = (-1 === (i = qe(Go(s.childNodes), t)) ? ee.none() : ee.some(i)).map(function(m) {
                    return m < o.offset() ? et(s, o.offset() - 1) : o
                }).getOr(o);
                return gv(t),
                f
            }
            function ox(t, o) {
                return et.isTextPosition(o) ? (s = o,
                Yb(i = t) && s.container() === i ? (g = tx((f = i).data.substr(0, (m = s).offset())),
                b = tx(f.data.substr(m.offset())),
                0 < (g.text + b.text).length ? (nx(f),
                et(f, m.offset() - g.count)) : m) : rx(i, s)) : (x = t,
                ((y = o).container() === x.parentNode ? p1 : rx)(x, y));
                var i, s, f, m, g, b, x, y
            }
            function gc(t, o, i) {
                var s, f, m, g = Wg(o.getBoundingClientRect(), i), b = "BODY" === t.tagName ? (s = t.ownerDocument.documentElement,
                f = t.scrollLeft || s.scrollLeft,
                t.scrollTop || s.scrollTop) : (m = t.getBoundingClientRect(),
                f = t.scrollLeft - m.left,
                t.scrollTop - m.top);
                g.left += f,
                g.right += f,
                g.top += b,
                g.bottom += b,
                g.width = 1;
                var x = o.offsetWidth - o.clientWidth;
                return 0 < x && (i && (x *= -1),
                g.left += x,
                g.right += x),
                g
            }
            function ax() {
                return y1.isIE() || y1.isEdge() || y1.isFirefox()
            }
            function vv(t) {
                return th(t) || qu(t) && ax()
            }
            function km(t, o) {
                for (var i; i = t(o); )
                    if (!Qb(i))
                        return i;
                return null
            }
            function Em(t, o, i, s, f) {
                var m = new ao(t,s)
                  , g = Cd(t) || Qb(t);
                if (o < 0) {
                    if (g && i(t = km(m.prev.bind(m), !0)))
                        return t;
                    for (; t = km(m.prev.bind(m), f); )
                        if (i(t))
                            return t
                }
                if (0 < o) {
                    if (g && i(t = km(m.next.bind(m), !0)))
                        return t;
                    for (; t = km(m.next.bind(m), f); )
                        if (i(t))
                            return t
                }
                return null
            }
            function dv(t, o) {
                for (; t && t !== o; ) {
                    if (hc(t))
                        return t;
                    t = t.parentNode
                }
                return null
            }
            function zc(t, o, i) {
                return dv(t.container(), i) === dv(o.container(), i)
            }
            function Qg(t, o) {
                if (!o)
                    return null;
                var i = o.container()
                  , s = o.offset();
                return ey(i) ? i.childNodes[s + t] : null
            }
            function Am(t, o) {
                var i = o.ownerDocument.createRange();
                return t ? (i.setStartBefore(o),
                i.setEndBefore(o)) : (i.setStartAfter(o),
                i.setEndAfter(o)),
                i
            }
            function Om(t, o, i) {
                for (var s, f, m = t ? "previousSibling" : "nextSibling"; i && i !== o; ) {
                    var g = i[m];
                    if (Zb(g) && (g = g[m]),
                    Cd(g) || es(g)) {
                        if (f = i,
                        dv(g, s = o) === dv(f, s))
                            return g;
                        break
                    }
                    if (aT(g))
                        break;
                    i = i.parentNode
                }
                return null
            }
            function qb(t, o, i) {
                var s, f = st(Om, !0, o), m = st(Om, !1, o), g = i.startContainer, b = i.startOffset;
                if (gf(g)) {
                    var x = (g = ey(g) ? g : g.parentNode).getAttribute("data-mce-caret");
                    if ("before" === x && vv(s = g.nextSibling))
                        return nh(s);
                    if ("after" === x && vv(s = g.previousSibling))
                        return Mm(s)
                }
                if (!i.collapsed)
                    return i;
                if (dn(g)) {
                    if (Zb(g)) {
                        if (1 === t) {
                            if (s = m(g))
                                return nh(s);
                            if (s = f(g))
                                return Mm(s)
                        }
                        if (-1 === t) {
                            if (s = f(g))
                                return Mm(s);
                            if (s = m(g))
                                return nh(s)
                        }
                        return i
                    }
                    if (jp(g) && b >= g.data.length - 1)
                        return 1 === t && (s = m(g)) ? nh(s) : i;
                    if (lm(g) && b <= 1)
                        return -1 === t && (s = f(g)) ? Mm(s) : i;
                    if (b === g.data.length)
                        return (s = m(g)) ? nh(s) : i;
                    if (0 === b)
                        return (s = f(g)) ? Mm(s) : i
                }
                return i
            }
            function mv(t, o) {
                return ee.from(Qg(t ? 0 : -1, o)).filter(Cd)
            }
            function eh(t, o, i) {
                var s = qb(t, o, i);
                return -1 === t ? et.fromRangeStart(s) : et.fromRangeEnd(s)
            }
            function ki(t) {
                return ee.from(t.getNode()).map(Oe.fromDom)
            }
            function Kb(t, o) {
                for (; o = t(o); )
                    if (o.isVisible())
                        return o;
                return o
            }
            function ei(t, o) {
                var i = zc(t, o);
                return !(i || !zn(t.getNode())) || i
            }
            et.fromRangeStart = function(t) {
                return et(t.startContainer, t.startOffset)
            }
            ,
            et.fromRangeEnd = function(t) {
                return et(t.endContainer, t.endOffset)
            }
            ,
            et.after = function(t) {
                return et(t.parentNode, qw(t) + 1)
            }
            ,
            et.before = function(t) {
                return et(t.parentNode, qw(t))
            }
            ,
            et.isAbove = function(t, o) {
                return Qo($n(o.getClientRects()), Cr(t.getClientRects()), Tf).getOr(!1)
            }
            ,
            et.isBelow = function(t, o) {
                return Qo(Cr(o.getClientRects()), $n(t.getClientRects()), pd).getOr(!1)
            }
            ,
            et.isAtStart = function(t) {
                return !!t && t.isAtStart()
            }
            ,
            et.isAtEnd = function(t) {
                return !!t && t.isAtEnd()
            }
            ,
            et.isTextPosition = function(t) {
                return !!t && dn(t.container())
            }
            ,
            et.isElementPosition = function(t) {
                return !1 === et.isTextPosition(t)
            }
            ;
            var ea, Fc, lu = dn, ix = Ya, kf = co.nodeIndex, Dm = function(t) {
                var o = t.parentNode;
                return ix(o) ? Dm(o) : o
            }, Xb = function(t) {
                return t ? Sr(t.childNodes, function(o, i) {
                    return ix(i) && "BR" !== i.nodeName ? o = o.concat(Xb(i)) : o.push(i),
                    o
                }, []) : []
            }, b1 = ho, ux = st(_m, hn, !0), sx = co.DOM, cx = Hn, Yb = dn, gv = function(t) {
                cx(t) && iu(t) && (Dg(t) ? t.removeAttribute("data-mce-caret") : Gb(t)),
                Yb(t) && (nx(t),
                0 === t.data.length && Gb(t))
            }, y1 = Wr().browser, Jb = ho, Fu = Bo, Ef = ic, th = function(t) {
                return Jb(t) || Fu(t)
            }, Cd = ho, es = Bo, hc = _c("display", "block table table-cell table-caption list-item"), Zb = iu, Qb = gf, ey = Hn, aT = hi, nh = st(Am, !0), Mm = st(Am, !1);
            function Sd(t, o) {
                return t.hasChildNodes() && o < t.childNodes.length ? t.childNodes[o] : null
            }
            function lx(t, o) {
                if (0 < t) {
                    if (hv(o.previousSibling) && !$c(o.previousSibling))
                        return et.before(o);
                    if ($c(o))
                        return et(o, 0)
                }
                if (t < 0) {
                    if (hv(o.nextSibling) && !$c(o.nextSibling))
                        return et.after(o);
                    if ($c(o))
                        return et(o, o.data.length)
                }
                return t < 0 && !lh(o) ? et.after(o) : et.before(o)
            }
            function ta(t) {
                return {
                    next: function(o) {
                        return E1(ea.Forwards, o, t)
                    },
                    prev: function(o) {
                        return E1(ea.Backwards, o, t)
                    }
                }
            }
            function Ic(t) {
                return et.isTextPosition(t) ? 0 === t.offset() : hi(t.getNode())
            }
            function fx(t) {
                if (et.isTextPosition(t)) {
                    var o = t.container();
                    return t.offset() === o.data.length
                }
                return hi(t.getNode(!0))
            }
            function ty(t, o) {
                return !et.isTextPosition(t) && !et.isTextPosition(o) && t.getNode() === o.getNode(!0)
            }
            function w1(t, o, i) {
                return zs(t, o, i).bind(function(s) {
                    return zc(i, s, o) && (f = i,
                    m = s,
                    t ? !ty(f, m) && (et.isTextPosition(g = f) || !zn(g.getNode())) && fx(f) && Ic(m) : !ty(m, f) && Ic(f) && fx(m)) ? zs(t, o, s) : ee.some(s);
                    var f, m, g
                })
            }
            function Lc(t, o) {
                var i, s, f, m, g, b = t ? o.firstChild : o.lastChild;
                return dn(b) ? ee.some(et(b, t ? 0 : b.data.length)) : b ? hi(b) ? ee.some(t ? et.before(b) : zn(g = b) ? et.before(g) : et.after(g)) : (s = o,
                f = b,
                m = (i = t) ? et.before(f) : et.after(f),
                zs(i, s, m)) : ee.none()
            }
            function ll(t) {
                return Hn(t) && t.id === yx
            }
            function Js(t, o) {
                for (; o && o !== t; ) {
                    if (o.id === yx)
                        return o;
                    o = o.parentNode
                }
                return null
            }
            function x1(t) {
                return Ke.isArray(t.start)
            }
            function vx(t, o) {
                return Hn(o) && t.isBlock(o) && !o.innerHTML && !er.ie && (o.innerHTML = '<br data-mce-bogus="1" />'),
                o
            }
            function dx(t, o, i) {
                return !1 === o.hasChildNodes() && Js(t, o) && (f = i,
                m = (s = o).ownerDocument.createTextNode(hr),
                s.appendChild(m),
                f.setStart(m, 0),
                f.setEnd(m, 0),
                1);
                var s, f, m
            }
            function mx(t, o, i, s) {
                var f, m, g, b, x = i[o ? "start" : "end"], y = t.getRoot();
                if (x) {
                    for (g = x[0],
                    m = y,
                    f = x.length - 1; 1 <= f; f--) {
                        if (b = m.childNodes,
                        dx(y, m, s))
                            return 1;
                        if (x[f] > b.length - 1)
                            return dx(y, m, s) || function(k) {
                                return Ll(m).fold(Ct, function(_) {
                                    return k.setStart(_.container(), _.offset()),
                                    k.setEnd(_.container(), _.offset()),
                                    !0
                                })
                            }(s);
                        m = b[x[f]]
                    }
                    3 === m.nodeType && (g = Math.min(x[0], m.nodeValue.length)),
                    1 === m.nodeType && (g = Math.min(x[0], m.childNodes.length)),
                    o ? s.setStart(m, g) : s.setEnd(m, g)
                }
                return 1
            }
            function ny(t) {
                return dn(t) && 0 < t.data.length
            }
            function Td(t, o, i) {
                var s, f, m, g, b, x, y = t.get(i.id + "_" + o), k = i.keep;
                if (y) {
                    if (s = y.parentNode,
                    f = "start" === o ? k ? y.hasChildNodes() ? (s = y.firstChild,
                    1) : ny(y.nextSibling) ? (s = y.nextSibling,
                    0) : ny(y.previousSibling) ? (s = y.previousSibling,
                    y.previousSibling.data.length) : (s = y.parentNode,
                    t.nodeIndex(y) + 1) : t.nodeIndex(y) : k ? y.hasChildNodes() ? (s = y.firstChild,
                    1) : ny(y.previousSibling) ? (s = y.previousSibling,
                    y.previousSibling.data.length) : (s = y.parentNode,
                    t.nodeIndex(y)) : t.nodeIndex(y),
                    b = s,
                    x = f,
                    !k) {
                        for (g = y.previousSibling,
                        m = y.nextSibling,
                        Ke.each(Ke.grep(y.childNodes), function(_) {
                            dn(_) && (_.nodeValue = _.nodeValue.replace(/\uFEFF/g, ""))
                        }); y = t.get(i.id + "_" + o); )
                            t.remove(y, !0);
                        g && m && g.nodeType === m.nodeType && dn(g) && !er.opera && (f = g.nodeValue.length,
                        g.appendData(m.nodeValue),
                        t.remove(m),
                        b = g,
                        x = f)
                    }
                    return ee.some(et(b, x))
                }
                return ee.none()
            }
            function _d(t, o) {
                (function(i, s) {
                    var f, m, g, b, x, y, k, _, A, P, z, F, H = i.dom;
                    if (s) {
                        if (x1(s))
                            return z = s,
                            F = (P = H).createRng(),
                            mx(P, !0, z, F) && mx(P, !1, z, F) ? ee.some(F) : ee.none();
                        if (Fn(s.start))
                            return ee.some((k = s,
                            _ = (y = H).createRng(),
                            A = Kw(y.getRoot(), k.start),
                            _.setStart(A.container(), A.offset()),
                            A = Kw(y.getRoot(), k.end),
                            _.setEnd(A.container(), A.offset()),
                            _));
                        if (St(s, "id"))
                            return Qo(x = Td(g = H, "start", b = s), Td(g, "end", b).or(x), function(V, j) {
                                var K = g.createRng();
                                return K.setStart(vx(g, V.container()), V.offset()),
                                K.setEnd(vx(g, j.container()), j.offset()),
                                K
                            });
                        if (St(s, "name"))
                            return ee.from((f = H).select((m = s).name)[m.index]).map(function(V) {
                                var j = f.createRng();
                                return j.selectNode(V),
                                j
                            });
                        if (St(s, "rng"))
                            return ee.some(s.rng)
                    }
                    return ee.none()
                }
                )(t, o).each(function(i) {
                    t.setRng(i)
                })
            }
            function Ns(t) {
                return Hn(t) && "SPAN" === t.tagName && "bookmark" === t.getAttribute("data-mce-type")
            }
            function kd(t) {
                return "" !== t && -1 !== " \f\n\r\t\v".indexOf(t)
            }
            function rh(t) {
                return !kd(t) && !dh(t)
            }
            function Ed(t) {
                return t.nodeType
            }
            function gx(t, o, i) {
                var s, f = i.startOffset, m = i.startContainer;
                if ((m !== i.endContainer || !(s = m.childNodes[f]) || !/^(IMG)$/.test(s.nodeName)) && Hn(m)) {
                    var g = m.childNodes
                      , b = void 0;
                    f < g.length ? b = new ao(m = g[f],t.getParent(m, t.isBlock)) : (b = new ao(m = g[g.length - 1],t.getParent(m, t.isBlock))).next(!0);
                    for (var x = b.current(); x; x = b.next())
                        if (dn(x) && !cy(x))
                            return i.setStart(x, 0),
                            o.setRng(i),
                            0
                }
            }
            function ry(t, o, i) {
                if (t) {
                    var s = o ? "nextSibling" : "previousSibling";
                    for (t = i ? t : t[s]; t; t = t[s])
                        if (Hn(t) || !cy(t))
                            return t
                }
            }
            function Rm(t, o) {
                return Ed(o) && (o = o.nodeName),
                !!t.schema.getTextBlockElements()[o.toLowerCase()]
            }
            function fu(t, o, i) {
                return t.schema.isValidChild(o, i)
            }
            function Hc(t, o) {
                return Kn(t) ? t = t(o) : gn(o) && (t = t.replace(/%(\w+)/g, function(i, s) {
                    return o[s] || i
                })),
                t
            }
            function vo(t, o) {
                return t = "" + ((t = t || "").nodeName || t),
                o = "" + ((o = o || "").nodeName || o),
                t.toLowerCase() === o.toLowerCase()
            }
            function _u(t, o, i) {
                return "color" !== i && "backgroundColor" !== i || (o = t.toHex(o)),
                "fontWeight" === i && 700 === o && (o = "bold"),
                "" + ("fontFamily" === i ? o.replace(/[\'\"]/g, "").replace(/,\s+/g, ",") : o)
            }
            function fl(t, o, i) {
                return _u(t, t.getStyle(o, i), i)
            }
            function C1(t, o) {
                var i;
                return t.getParent(o, function(s) {
                    return (i = t.getStyle(s, "text-decoration")) && "none" !== i
                }),
                i
            }
            function Ho(t, o, i) {
                return t.getParents(o, i, t.getRoot())
            }
            function vl(t) {
                return Et(t, "block")
            }
            function na(t) {
                return Et(t, "selector")
            }
            function ti(t) {
                return Et(t, "inline")
            }
            function oy(t) {
                return na(t) && !1 !== t.expand && !ti(t)
            }
            function px(t, o) {
                for (var i = o; i; ) {
                    if (Hn(i) && t.getContentEditable(i))
                        return "false" === t.getContentEditable(i) ? i : o;
                    i = i.parentNode
                }
                return o
            }
            function bx(t, o, i, s) {
                for (var f = o.data, m = i; t ? 0 <= m : m < f.length; t ? m-- : m++)
                    if (s(f.charAt(m)))
                        return t ? m + 1 : m;
                return -1
            }
            function oh(t, o, i) {
                return bx(t, o, i, function(s) {
                    return dh(s) || kd(s)
                })
            }
            function Pm(t, o, i) {
                return bx(t, o, i, rh)
            }
            function ah(t, o, i, s, f, m) {
                function g(y, k, _) {
                    var A = Vb(t);
                    return ee.from((f ? A.backwards : A.forwards)(y, k, function(z, F) {
                        return zm(z.parentNode) ? -1 : _(f, b = z, F)
                    }, x))
                }
                var b, x = t.getParent(i, t.isBlock) || o;
                return g(i, s, oh).bind(function(y) {
                    return m ? g(y.container, y.offset + (f ? -1 : 0), Pm) : ee.some(y)
                }).orThunk(function() {
                    return b ? ee.some({
                        container: b,
                        offset: f ? 0 : b.length
                    }) : ee.none()
                })
            }
            function S1(t, o, i, s, f) {
                dn(s) && qi(s.data) && s[f] && (s = s[f]);
                for (var m = wx(t, s), g = 0; g < m.length; g++)
                    for (var b = 0; b < o.length; b++) {
                        var x = o[b];
                        if ((!gn(x.collapsed) || x.collapsed === i.collapsed) && na(x) && t.is(m[g], x.selector))
                            return m[g]
                    }
                return s
            }
            function Bm(t, o, i, s) {
                var f, m = i, g = t.dom, b = g.getRoot(), x = o[0];
                if ((m = vl(x) ? x.wrapper ? null : g.getParent(i, x.block, b) : m) || (f = g.getParent(i, "LI,TD,TH"),
                m = g.getParent(dn(i) ? i.parentNode : i, function(y) {
                    return y !== b && Wt(t, y)
                }, f)),
                !(m = m && vl(x) && x.wrapper && wx(g, m, "ul,ol").reverse()[0] || m))
                    for (m = i; m[s] && !g.isBlock(m[s]) && !vo(m = m[s], "br"); )
                        ;
                return m || i
            }
            function ih(t, o, i, s, f) {
                var m, g = i, b = f ? "previousSibling" : "nextSibling", x = t.getRoot();
                if (dn(i) && !O1(i) && (f ? 0 < s : s < i.data.length))
                    return i;
                for (; ; ) {
                    if (!o[0].block_expand && t.isBlock(g))
                        return g;
                    for (var y = g[b]; y; y = y[b]) {
                        var k = dn(y) && !ly(t, x, y, b);
                        if (!zm(y) && (!zn(m = y) || !m.getAttribute("data-mce-bogus") || m.nextSibling) && !O1(y, k))
                            return g
                    }
                    if (g === x || g.parentNode === x) {
                        i = g;
                        break
                    }
                    g = g.parentNode
                }
                return i
            }
            function ay(t) {
                return zm(t.parentNode) || zm(t)
            }
            function Ad(t, o, i, s) {
                void 0 === s && (s = !1);
                var f = o.startContainer
                  , m = o.startOffset
                  , g = o.endContainer
                  , b = o.endOffset
                  , x = t.dom
                  , y = i[0];
                return Hn(f) && f.hasChildNodes() && (f = vc(f, m),
                dn(f) && (m = 0)),
                Hn(g) && g.hasChildNodes() && (g = vc(g, o.collapsed ? b : b - 1),
                dn(g) && (b = g.nodeValue.length)),
                f = px(x, f),
                g = px(x, g),
                ay(f) && (f = zm(f) ? f : f.parentNode,
                dn(f = o.collapsed ? f.previousSibling || f : f.nextSibling || f) && (m = o.collapsed ? f.length : 0)),
                ay(g) && (g = zm(g) ? g : g.parentNode,
                dn(g = o.collapsed ? g.nextSibling || g : g.previousSibling || g) && (b = o.collapsed ? 0 : g.length)),
                o.collapsed && (ah(x, t.getBody(), f, m, !0, s).each(function(k) {
                    f = k.container,
                    m = k.offset
                }),
                ah(x, t.getBody(), g, b, !1, s).each(function(k) {
                    g = k.container,
                    b = k.offset
                })),
                (ti(y) || y.block_expand) && (ti(y) && dn(f) && 0 !== m || (f = ih(x, i, f, m, !0)),
                ti(y) && dn(g) && b !== g.nodeValue.length || (g = ih(x, i, g, b, !1))),
                oy(y) && (f = S1(x, i, o, f, "previousSibling"),
                g = S1(x, i, o, g, "nextSibling")),
                (vl(y) || na(y)) && (f = Bm(t, i, f, "previousSibling"),
                g = Bm(t, i, g, "nextSibling"),
                vl(y) && (x.isBlock(f) || (f = ih(x, i, f, m, !0)),
                x.isBlock(g) || (g = ih(x, i, g, b, !1)))),
                Hn(f) && (m = x.nodeIndex(f),
                f = f.parentNode),
                Hn(g) && (b = x.nodeIndex(g) + 1,
                g = g.parentNode),
                {
                    startContainer: f,
                    startOffset: m,
                    endContainer: g,
                    endOffset: b
                }
            }
            function Fl(t, o, i) {
                function s(F) {
                    var H = F[0];
                    dn(H) && H === x && b >= H.data.length && F.splice(0, 1);
                    var V = F[F.length - 1];
                    return 0 === y && 0 < F.length && V === k && dn(V) && F.splice(F.length - 1, 1),
                    F
                }
                function f(F, H, V) {
                    for (var j = []; F && F !== V; F = F[H])
                        j.push(F);
                    return j
                }
                function m(F, H) {
                    return t.getParent(F, function(V) {
                        return V.parentNode === H
                    }, H)
                }
                function g(F, H, V) {
                    for (var j = V ? "nextSibling" : "previousSibling", K = F; K && K !== H; K = oe) {
                        var oe = K.parentNode
                          , pe = f(K === F ? K : K[j], j);
                        pe.length && (V || pe.reverse(),
                        i(s(pe)))
                    }
                }
                var b = o.startOffset
                  , x = vc(o.startContainer, b)
                  , y = o.endOffset
                  , k = vc(o.endContainer, y - 1);
                if (x === k)
                    return i(s([x]));
                var _ = t.findCommonAncestor(x, k);
                if (t.isChildOf(x, k))
                    return g(x, _, !0);
                if (t.isChildOf(k, x))
                    return g(k, _);
                var A = m(x, _) || x
                  , P = m(k, _) || k;
                g(x, A, !0);
                var z = f(A === x ? A : A.nextSibling, "nextSibling", P === k ? P.nextSibling : P);
                z.length && i(s(z)),
                g(k, P)
            }
            function ts(t) {
                var o = [];
                if (t)
                    for (var i = 0; i < t.rangeCount; i++)
                        o.push(t.getRangeAt(i));
                return o
            }
            function iy(t, o) {
                var i = ys(o, "td[data-mce-selected],th[data-mce-selected]");
                return 0 < i.length ? i : nn(me(t, function(s) {
                    var f = f1(s);
                    return f ? [Oe.fromDom(f)] : []
                }), Ft)
            }
            function ci(t) {
                return iy(ts(t.selection.getSel()), Oe.fromDom(t.getBody()))
            }
            function Nm(t, o) {
                return Bu(t, "table", o)
            }
            function Il(t, o) {
                return Qo((f = o.startContainer,
                m = o.startOffset,
                dn(f) ? 0 === m ? ee.some(Oe.fromDom(f)) : ee.none() : ee.from(f.childNodes[m]).map(Oe.fromDom)), (i = o.endContainer,
                s = o.endOffset,
                dn(i) ? s === i.data.length ? ee.some(Oe.fromDom(i)) : ee.none() : ee.from(i.childNodes[s - 1]).map(Oe.fromDom)), function(g, b) {
                    var x = re(zi(t), st(uo, g))
                      , y = re(mh(t), st(uo, b));
                    return x.isSome() && y.isSome()
                }).getOr(!1);
                var i, s, f, m
            }
            function T1(t, o, i, s) {
                var f = i
                  , m = new ao(i,f)
                  , g = la(t.schema.getMoveCaretBeforeOnEnterElements(), function(b, x) {
                    return !D(["td", "th", "table"], x.toLowerCase())
                });
                do {
                    if (dn(i) && 0 !== Ke.trim(i.nodeValue).length)
                        return s ? o.setStart(i, 0) : o.setEnd(i, i.nodeValue.length),
                        0;
                    if (g[i.nodeName])
                        return s ? o.setStartBefore(i) : "BR" === i.nodeName ? o.setEndBefore(i) : o.setEndAfter(i),
                        0
                } while (i = s ? m.next() : m.prev());
                "BODY" === f.nodeName && (s ? o.setStart(f, 0) : o.setEnd(f, f.childNodes.length))
            }
            function Od(t) {
                var o = t.selection.getSel();
                return o && 0 < o.rangeCount
            }
            function uh(t, o) {
                var i = ci(t);
                0 < i.length ? tt(i, function(s) {
                    var f = s.dom
                      , m = t.dom.createRng();
                    m.setStartBefore(f),
                    m.setEndAfter(f),
                    o(m, !0)
                }) : o(t.selection.getRng(), !1)
            }
            function sh(t, o, i) {
                var s = Nc(t, o);
                i(s),
                t.moveToBookmark(s)
            }
            function ch(t) {
                return D1.get(t)
            }
            function uy(t, o, i, s) {
                var f = o.uid
                  , m = void 0 === f ? Vn("mce-annotation") : f
                  , g = function(P, z) {
                    var F = {};
                    for (V in P)
                        Object.prototype.hasOwnProperty.call(P, V) && z.indexOf(V) < 0 && (F[V] = P[V]);
                    if (null != P && "function" == typeof Object.getOwnPropertySymbols)
                        for (var H = 0, V = Object.getOwnPropertySymbols(P); H < V.length; H++)
                            z.indexOf(V[H]) < 0 && Object.prototype.propertyIsEnumerable.call(P, V[H]) && (F[V[H]] = P[V[H]]);
                    return F
                }(o, ["uid"])
                  , b = Oe.fromTag("span", t);
                Ug(b, m1()),
                L(b, "" + av(), m),
                L(b, "" + Ps(), i);
                var x, y = s(m, g), k = y.attributes, _ = y.classes, A = void 0 === _ ? [] : _;
                return R(b, void 0 === k ? {} : k),
                x = b,
                tt(A, function(P) {
                    Ug(x, P)
                }),
                b
            }
            function sy(t) {
                var o, i, s, f = (o = {},
                {
                    register: function(g, b) {
                        o[g] = {
                            name: g,
                            settings: b
                        }
                    },
                    lookup: function(g) {
                        return pt(o, g).map(function(b) {
                            return b.settings
                        })
                    }
                });
                s = f,
                (i = t).on("init", function() {
                    i.serializer.addNodeFilter("span", function(g) {
                        tt(g, function(b) {
                            ee.from(b.attr(Ps())).bind(s.lookup).each(function(x) {
                                !1 === x.persistent && b.unwrap()
                            })
                        })
                    })
                });
                var m = function(t) {
                    function o() {
                        return {
                            listeners: [],
                            previous: Bl()
                        }
                    }
                    function i(g, b) {
                        s(g, function(x) {
                            return b(x),
                            x
                        })
                    }
                    function s(g, b) {
                        var x = f.get()
                          , y = b(pt(x, g).getOrThunk(o));
                        x[g] = y,
                        f.set(x)
                    }
                    var f = su({})
                      , m = Hb(function() {
                        var g = f.get();
                        tt(Bt(xa(g)), function(b) {
                            s(b, function(x) {
                                var y = x.previous.get();
                                return c1(t, ee.some(b)).fold(function() {
                                    var k;
                                    y.isSome() && (i(k = b, function(_) {
                                        tt(_.listeners, function(A) {
                                            return A(!1, k)
                                        })
                                    }),
                                    x.previous.clear())
                                }, function(k) {
                                    var _, A, P, z = k.uid, F = k.name, H = k.elements;
                                    Ti(y, z) || (A = z,
                                    P = H,
                                    i(_ = F, function(V) {
                                        tt(V.listeners, function(j) {
                                            return j(!0, _, {
                                                uid: A,
                                                nodes: bn(P, function(K) {
                                                    return K.dom
                                                })
                                            })
                                        })
                                    }),
                                    x.previous.set(z))
                                }),
                                {
                                    previous: x.previous,
                                    listeners: x.listeners
                                }
                            })
                        })
                    }, 30);
                    return t.on("remove", function() {
                        m.cancel()
                    }),
                    t.on("NodeChange", function() {
                        m.throttle()
                    }),
                    {
                        addListener: function(g, b) {
                            s(g, function(x) {
                                return {
                                    previous: x.previous,
                                    listeners: x.listeners.concat([b])
                                }
                            })
                        }
                    }
                }(t);
                return {
                    register: function(g, b) {
                        f.register(g, b)
                    },
                    annotate: function(g, b) {
                        f.lookup(g).each(function(x) {
                            var y, k, _, A;
                            k = g,
                            _ = x,
                            A = b,
                            (y = t).undoManager.transact(function() {
                                var P, z, F, H, V = y.selection, j = V.getRng(), K = 0 < ci(y).length;
                                j.collapsed && !K && (F = Ad(P = y, z = j, [{
                                    inline: "span"
                                }]),
                                z.setStart(F.startContainer, F.startOffset),
                                z.setEnd(F.endContainer, F.endOffset),
                                P.selection.setRng(z)),
                                V.getRng().collapsed && !K ? (ov(H = uy(y.getDoc(), A, k, _.decorate), Tn),
                                V.getRng().insertNode(H.dom),
                                V.select(H.dom)) : sh(V, !1, function() {
                                    uh(y, function(oe) {
                                        !function(t, o, i, s, f) {
                                            function m() {
                                                y.clear()
                                            }
                                            function g(_) {
                                                tt(_, k)
                                            }
                                            var b = []
                                              , x = uy(t.getDoc(), f, i, s)
                                              , y = Bl()
                                              , k = function(_) {
                                                var A, P, z, F, H, V;
                                                switch (z = t,
                                                H = "span",
                                                V = Or(F = _),
                                                Ta(F).fold(function() {
                                                    return "skipping"
                                                }, function(j) {
                                                    return "br" === V || Bn(oe = F) && ch(oe) === hr ? "valid" : un(K = F) && $b(K, m1()) ? "existing" : ll(F.dom) ? "caret" : fu(z, H, V) && fu(z, Or(j), H) ? "valid" : "invalid-child";
                                                    var K, oe
                                                })) {
                                                case "invalid-child":
                                                    m(),
                                                    g(to(_)),
                                                    m();
                                                    break;
                                                case "valid":
                                                    Ir(A = _, P = y.get().getOrThunk(function() {
                                                        var j = Sf(x);
                                                        return b.push(j),
                                                        y.set(j),
                                                        j
                                                    })),
                                                    no(P, A)
                                                }
                                            };
                                            Fl(t.dom, o, function(_) {
                                                m(),
                                                g(bn(_, Oe.fromDom))
                                            })
                                        }(y, oe, k, _.decorate, A)
                                    })
                                })
                            })
                        })
                    },
                    annotationChanged: function(g, b) {
                        m.addListener(g, b)
                    },
                    remove: function(g) {
                        c1(t, ee.some(g)).each(function(b) {
                            tt(b.elements, xu)
                        })
                    },
                    getAll: function(g) {
                        var b, x, y;
                        return xo((b = g,
                        x = ys(Oe.fromDom(t.getBody()), "[" + Ps() + '="' + b + '"]'),
                        y = {},
                        tt(x, function(k) {
                            var _ = C(k, av())
                              , A = pt(y, _).getOr([]);
                            y[_] = A.concat([k])
                        }),
                        y), function(k) {
                            return bn(k, function(_) {
                                return _.dom
                            })
                        })
                    }
                }
            }
            function Ni(t) {
                return {
                    getBookmark: st(vh, t),
                    moveToBookmark: st(_d, t)
                }
            }
            function vu(t) {
                return Gp(t) || !!qp(o = t) && !0 !== kt(Go(o.getElementsByTagName("*")), function(i, s) {
                    return i || Nw(s)
                }, !1);
                var o
            }
            (Fc = ea = ea || {})[Fc.Backwards = -1] = "Backwards",
            Fc[Fc.Forwards = 1] = "Forwards";
            var ku, ws, Eu = ho, $c = dn, k1 = Hn, lh = zn, hv = hi, fh = Ju, E1 = function(t, o, i) {
                var s, f, m;
                if (!k1(i) || !o)
                    return null;
                if (o.isEqual(et.after(i)) && i.lastChild) {
                    if (m = et.after(i.lastChild),
                    t < 0 && hv(i.lastChild) && k1(i.lastChild))
                        return lh(i.lastChild) ? et.before(i.lastChild) : m
                } else
                    m = o;
                var g, b, x, y = m.container(), k = m.offset();
                if ($c(y)) {
                    if (t < 0 && 0 < k)
                        return et(y, --k);
                    if (0 < t && k < y.length)
                        return et(y, ++k);
                    s = y
                } else {
                    if (t < 0 && 0 < k && (_ = Sd(y, k - 1),
                    hv(_)))
                        return !vu(_) && (f = Em(_, t, fh, _)) ? $c(f) ? et(f, f.data.length) : et.after(f) : $c(_) ? et(_, _.data.length) : et.before(_);
                    if (0 < t && k < y.childNodes.length && (_ = Sd(y, k),
                    hv(_)))
                        return lh(_) ? (g = i,
                        (x = (b = _).nextSibling) && hv(x) ? $c(x) ? et(x, 0) : et.before(x) : E1(ea.Forwards, et.after(b), g)) : !vu(_) && (f = Em(_, t, fh, _)) ? $c(f) ? et(f, 0) : et.before(f) : $c(_) ? et(_, 0) : et.after(_);
                    s = _ || m.getNode()
                }
                if ((0 < t && m.isAtEnd() || t < 0 && m.isAtStart()) && (s = Em(s, t, Ot, i, !0),
                fh(s, i)))
                    return lx(t, s);
                var _ = Em(s, t, fh, i)
                  , A = Jr(nn(function(P, z) {
                    for (var F = []; P && P !== z; )
                        F.push(P),
                        P = P.parentNode;
                    return F
                }(y, i), Eu));
                return !A || _ && A.contains(_) ? _ ? lx(t, _) : null : 0 < t ? et.after(A) : et.before(A)
            }, zs = function(t, o, i) {
                var s = ta(o);
                return ee.from(t ? s.next(i) : s.prev(i))
            }, A1 = function(t, o, i, s) {
                return w1(t, o, i).bind(function(f) {
                    return s(f) ? A1(t, o, f, s) : ee.some(f)
                })
            }, du = st(zs, !0), pc = st(zs, !1), jo = st(Lc, !0), Ll = st(Lc, !1), yx = "_mce_caret", vh = function(t, o, i) {
                return 2 === o ? _m($a, i, t) : 3 === o ? (f = (s = t).getRng(),
                {
                    start: Sm(s.dom.getRoot(), et.fromRangeStart(f)),
                    end: Sm(s.dom.getRoot(), et.fromRangeEnd(f))
                }) : o ? {
                    rng: t.getRng()
                } : Nc(t, !1);
                var s, f
            }, dh = function(t) {
                return "\xa0" === t
            }, cy = function(t, o) {
                return void 0 === o && (o = !1),
                !(!gn(t) || !dn(t)) && ii(o ? t.data.replace(/ /g, "\xa0") : t.data)
            }, zm = Ns, wx = Ho, O1 = cy, Wt = Rm, ly = function(t, o, i, s) {
                var f = i.parentNode;
                return !gn(i[s]) && (!(f !== o && !Hr(f) && !t.isBlock(f)) || ly(t, o, f, s))
            }, zi = function(t) {
                return Ne(t).fold(xe([t]), function(o) {
                    return [t].concat(zi(o))
                })
            }, mh = function(t) {
                return at(t).fold(xe([t]), function(o) {
                    return "br" === Or(o) ? wu(o).map(function(i) {
                        return [t].concat(mh(i))
                    }).getOr([]) : [t].concat(mh(o))
                })
            }, D1 = (ku = Bn,
            {
                get: function(t) {
                    if (!ku(t))
                        throw new Error("Can only get text value of a text node");
                    return ws(t).getOr("")
                },
                getOption: ws = function(t) {
                    return ku(t) ? ee.from(t.dom.nodeValue) : ee.none()
                }
                ,
                set: function(t, o) {
                    if (!ku(t))
                        throw new Error("Can only set raw text value of a text node");
                    t.dom.nodeValue = o
                }
            });
            function pv(t, o) {
                for (; o && o !== t; ) {
                    if (Cu(o) || ho(o))
                        return o;
                    o = o.parentNode
                }
                return null
            }
            function Zs(t, o, i) {
                if (!i.collapsed) {
                    if (er.browser.isIE() && i.startOffset === i.endOffset - 1 && i.startContainer === i.endContainer) {
                        var s = i.startContainer.childNodes[i.startOffset];
                        if (Hn(s))
                            return pn(s.getClientRects(), function(f) {
                                return jg(f, t, o)
                            })
                    }
                    return pn(i.getClientRects(), function(f) {
                        return jg(f, t, o)
                    })
                }
            }
            function xx(t, o, i) {
                return t.fire(o, i)
            }
            function M1(t, o, i, s) {
                return t.fire("FormatApply", {
                    format: o,
                    node: i,
                    vars: s
                })
            }
            function Fm(t, o, i, s) {
                return t.fire("FormatRemove", {
                    format: o,
                    node: i,
                    vars: s
                })
            }
            function xs(t, o) {
                function i(ft) {
                    return ft && ("IMG" === ft.nodeName || o.dom.is(ft, "figure.image"))
                }
                function s(ft) {
                    return Bo(ft) || he.hasClass(ft, "mce-preview-object")
                }
                function f(ft) {
                    var Zt = ft.target;
                    !function(Mt, xn) {
                        if ("longpress" !== Mt.type && 0 !== Mt.type.indexOf("touch"))
                            return i(Mt.target) && !Zs(Mt.clientX, Mt.clientY, xn);
                        var mn = Mt.touches[0];
                        return i(Mt.target) && !Zs(mn.clientX, mn.clientY, xn)
                    }(ft, o.selection.getRng()) || ft.isDefaultPrevented() || o.selection.select(Zt)
                }
                function m(ft) {
                    return he.is(ft, "figure.image") ? [ft.querySelector("img")] : he.hasClass(ft, "mce-preview-object") && gn(ft.firstElementChild) ? [ft, ft.firstElementChild] : [ft]
                }
                function g(ft) {
                    var Zt = Qw(o);
                    return !!Zt && "false" !== ft.getAttribute("data-mce-resize") && ft !== o.getBody() && (he.hasClass(ft, "mce-preview-object") ? Ii(Oe.fromDom(ft.firstElementChild), Zt) : Ii(Oe.fromDom(ft), Zt))
                }
                function b(ft, Zt, Mt) {
                    gn(Mt) && tt(m(ft), function(xn) {
                        xn.style[Zt] || !o.schema.isValid(xn.nodeName.toLowerCase(), Zt) ? he.setStyle(xn, Zt, Mt) : he.setAttrib(xn, Zt, "" + Mt)
                    })
                }
                function x(ft, Zt, Mt) {
                    b(ft, "width", Zt),
                    b(ft, "height", Mt)
                }
                function y(ft) {
                    var Zt, Mt, Ce = ft.screenX - j, Je = ft.screenY - K;
                    ue = (ue = Ce * H[2] + oe) < 5 ? 5 : ue,
                    Me = (Me = Je * H[3] + pe) < 5 ? 5 : Me,
                    ((i(P) || s(P)) && !1 !== o.getParam("resize_img_proportional", !0, "boolean") ? !Zn.modifierPressed(ft) : Zn.modifierPressed(ft)) && (Dt(Ce) > Dt(Je) ? (Me = It(ue * X),
                    ue = It(Me / X)) : (ue = It(Me / X),
                    Me = It(ue * X))),
                    x(z, ue, Me),
                    he.setStyles(F, {
                        left: Zt = 0 < (Zt = H.startPos.x + Ce) ? Zt : 0,
                        top: Mt = 0 < (Mt = H.startPos.y + Je) ? Mt : 0,
                        display: "block"
                    }),
                    F.innerHTML = ue + " &times; " + Me,
                    H[2] < 0 && z.clientWidth <= ue && he.setStyle(z, "left", void 0 + (oe - ue)),
                    H[3] < 0 && z.clientHeight <= Me && he.setStyle(z, "top", void 0 + (pe - Me)),
                    (Ce = Tt.scrollWidth - Fe) + (Je = Tt.scrollHeight - Ge) != 0 && he.setStyles(F, {
                        left: Zt - Ce,
                        top: Mt - Je
                    }),
                    ne || (o.fire("ObjectResizeStart", {
                        target: P,
                        width: oe,
                        height: pe,
                        origin: "corner-" + H.name
                    }),
                    ne = !0)
                }
                function k(ft) {
                    function Zt(xn, mn) {
                        if (xn)
                            do {
                                if (xn === mn)
                                    return 1
                            } while (xn = xn.parentNode)
                    }
                    var Mt;
                    ne || o.removed || (ye(he.select("img[data-mce-selected],hr[data-mce-selected]"), function(xn) {
                        xn.removeAttribute(Ve)
                    }),
                    Mt = "mousedown" === ft.type ? ft.target : t.getNode(),
                    Zt(Mt = he.$(Mt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0], Tt) && (A(),
                    Zt(t.getStart(!0), Mt) && Zt(t.getEnd(!0), Mt)) ? Ht(Mt) : zt())
                }
                function _(ft) {
                    return fy(pv(o.getBody(), ft))
                }
                function A() {
                    try {
                        o.getDoc().execCommand("enableObjectResizing", !1, "false")
                    } catch (ft) {}
                }
                var P, z, F, H, V, j, K, oe, pe, X, ne, ue, Me, Fe, Ge, Ve = "data-mce-selected", he = o.dom, ye = Ke.each, De = o.getDoc(), He = document, Dt = Math.abs, It = Math.round, Tt = o.getBody(), Lt = {
                    nw: [0, 0, -1, -1],
                    ne: [1, 0, 1, -1],
                    se: [1, 1, 1, 1],
                    sw: [0, 1, -1, 1]
                }, Rt = function() {
                    var mn = ne;
                    ne = !1,
                    mn && (b(P, "width", ue),
                    b(P, "height", Me)),
                    he.unbind(De, "mousemove", y),
                    he.unbind(De, "mouseup", Rt),
                    He !== De && (he.unbind(He, "mousemove", y),
                    he.unbind(He, "mouseup", Rt)),
                    he.remove(z),
                    he.remove(F),
                    he.remove(V),
                    Ht(P),
                    mn && (o.fire("ObjectResized", {
                        target: P,
                        width: ue,
                        height: Me,
                        origin: "corner-" + H.name
                    }),
                    he.setAttrib(P, "style", he.getAttrib(P, "style"))),
                    o.nodeChanged()
                }, Ht = function(ft) {
                    ln();
                    var Zt = he.getPos(ft, Tt)
                      , Mt = Zt.x
                      , xn = Zt.y
                      , mn = ft.getBoundingClientRect()
                      , Vr = mn.width || mn.right - mn.left
                      , ve = mn.height || mn.bottom - mn.top;
                    P !== ft && (zt(),
                    P = ft,
                    ue = Me = 0);
                    var Ce = o.fire("ObjectSelected", {
                        target: ft
                    })
                      , Je = he.getAttrib(P, Ve, "1");
                    g(ft) && !Ce.isDefaultPrevented() ? ye(Lt, function(bt, vt) {
                        var jt = he.get("mceResizeHandle" + vt);
                        jt && he.remove(jt),
                        jt = he.add(Tt, "div", {
                            id: "mceResizeHandle" + vt,
                            "data-mce-bogus": "all",
                            class: "mce-resizehandle",
                            unselectable: !0,
                            style: "cursor:" + vt + "-resize; margin:0; padding:0"
                        }),
                        11 === er.ie && (jt.contentEditable = !1),
                        he.bind(jt, "mousedown", function(tr) {
                            var mr, ra, Er;
                            tr.stopImmediatePropagation(),
                            tr.preventDefault(),
                            mr = tr,
                            Er = m(P)[0],
                            j = mr.screenX,
                            K = mr.screenY,
                            X = (pe = Er.clientHeight) / (oe = Er.clientWidth),
                            (H = bt).name = vt,
                            H.startPos = {
                                x: Vr * bt[0] + Mt,
                                y: ve * bt[1] + xn
                            },
                            Fe = Tt.scrollWidth,
                            Ge = Tt.scrollHeight,
                            V = he.add(Tt, "div", {
                                class: "mce-resize-backdrop",
                                "data-mce-bogus": "all"
                            }),
                            he.setStyles(V, {
                                position: "fixed",
                                left: "0",
                                top: "0",
                                width: "100%",
                                height: "100%"
                            }),
                            z = s(ra = P) ? he.create("img", {
                                src: er.transparentSrc
                            }) : ra.cloneNode(!0),
                            he.addClass(z, "mce-clonedresizable"),
                            he.setAttrib(z, "data-mce-bogus", "all"),
                            z.contentEditable = "false",
                            he.setStyles(z, {
                                left: Mt,
                                top: xn,
                                margin: 0
                            }),
                            x(z, Vr, ve),
                            z.removeAttribute(Ve),
                            Tt.appendChild(z),
                            he.bind(De, "mousemove", y),
                            he.bind(De, "mouseup", Rt),
                            He !== De && (he.bind(He, "mousemove", y),
                            he.bind(He, "mouseup", Rt)),
                            F = he.add(Tt, "div", {
                                class: "mce-resize-helper",
                                "data-mce-bogus": "all"
                            }, oe + " &times; " + pe)
                        }),
                        bt.elm = jt,
                        he.setStyles(jt, {
                            left: Vr * bt[0] + Mt - jt.offsetWidth / 2,
                            top: ve * bt[1] + xn - jt.offsetHeight / 2
                        })
                    }) : zt(),
                    he.getAttrib(P, Ve) || P.setAttribute(Ve, Je)
                }, zt = function() {
                    ln(),
                    P && P.removeAttribute(Ve),
                    Un(Lt, function(ft, Zt) {
                        var Mt = he.get("mceResizeHandle" + Zt);
                        Mt && (he.unbind(Mt),
                        he.remove(Mt))
                    })
                }, ln = function() {
                    Un(Lt, function(ft) {
                        ft.elm && (he.unbind(ft.elm),
                        delete ft.elm)
                    })
                };
                return o.on("init", function() {
                    var ft;
                    A(),
                    (er.browser.isIE() || er.browser.isEdge()) && (o.on("mousedown click", function(Mt) {
                        var xn = Mt.target
                          , mn = xn.nodeName;
                        ne || !/^(TABLE|IMG|HR)$/.test(mn) || _(xn) || (2 !== Mt.button && o.selection.select(xn, "TABLE" === mn),
                        "mousedown" === Mt.type && o.nodeChanged())
                    }),
                    he.bind(Tt, "mscontrolselect", ft = function(Mt) {
                        function xn(mn) {
                            ai.setEditorTimeout(o, function() {
                                return o.selection.select(mn)
                            })
                        }
                        if (_(Mt.target) || Bo(Mt.target))
                            return Mt.preventDefault(),
                            void xn(Mt.target);
                        /^(TABLE|IMG|HR)$/.test(Mt.target.nodeName) && (Mt.preventDefault(),
                        "IMG" === Mt.target.tagName && xn(Mt.target))
                    }
                    ),
                    o.on("remove", function() {
                        return he.unbind(Tt, "mscontrolselect", ft)
                    }));
                    var Zt = ai.throttle(function(Mt) {
                        o.composing || k(Mt)
                    });
                    o.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop", Zt),
                    o.on("keyup compositionend", function(Mt) {
                        P && "TABLE" === P.nodeName && Zt(Mt)
                    }),
                    o.on("hide blur", zt),
                    o.on("contextmenu longpress", f, !0)
                }),
                o.on("remove", ln),
                {
                    isResizable: g,
                    showResizeRect: Ht,
                    hideResizeRect: zt,
                    updateResizeRect: k,
                    destroy: function() {
                        P = z = V = null
                    }
                }
            }
            function iT(t) {
                return Cu(t) || ho(t)
            }
            function R1(t, o, i) {
                var s, f, m, g, b, x = i;
                if (x.caretPositionFromPoint)
                    (f = x.caretPositionFromPoint(t, o)) && ((s = i.createRange()).setStart(f.offsetNode, f.offset),
                    s.collapse(!0));
                else if (x.caretRangeFromPoint)
                    s = x.caretRangeFromPoint(t, o);
                else if (x.body.createTextRange) {
                    s = x.body.createTextRange();
                    try {
                        s.moveToPoint(t, o),
                        s.collapse(!0)
                    } catch (y) {
                        s = function(k, _, A) {
                            var P, z = A.elementFromPoint(k, _), F = A.body.createTextRange();
                            if (z && "HTML" !== z.tagName || (z = A.body),
                            F.moveToElementText(z),
                            0 < (P = (P = Ke.toArray(F.getClientRects())).sort(function(H, V) {
                                return (H = Math.abs(Math.max(H.top - _, H.bottom - _))) - Math.abs(Math.max(V.top - _, V.bottom - _))
                            })).length) {
                                _ = (P[0].bottom + P[0].top) / 2;
                                try {
                                    return F.moveToPoint(k, _),
                                    F.collapse(!0),
                                    F
                                } catch (H) {}
                            }
                            return null
                        }(t, o, i)
                    }
                    return g = i.body,
                    b = (m = s) && m.parentElement ? m.parentElement() : null,
                    ho(function(y, k, _) {
                        for (; y && y !== k; ) {
                            if (_(y))
                                return y;
                            y = y.parentNode
                        }
                        return null
                    }(b, g, iT)) ? null : m
                }
                return s
            }
            function rs(t, o) {
                return t && o && t.startContainer === o.startContainer && t.startOffset === o.startOffset && t.endContainer === o.endContainer && t.endOffset === o.endOffset
            }
            function Qs(t, o, i) {
                return null !== function(s, f, m) {
                    for (; s && s !== f; ) {
                        if (m(s))
                            return s;
                        s = s.parentNode
                    }
                    return null
                }(t, o, i)
            }
            function P1(t) {
                return t && "TABLE" === t.nodeName
            }
            function ec(t, o, i) {
                for (var s = new ao(o,t.getParent(o.parentNode, t.isBlock) || t.getRoot()); o = s[i ? "prev" : "next"](); )
                    if (zn(o))
                        return 1
            }
            function Im(t, o, i, s, f) {
                var m, g, b = t.getRoot(), x = t.schema.getNonEmptyElements(), y = t.getParent(f.parentNode, t.isBlock) || b;
                if (s && zn(f) && o && t.isEmpty(y))
                    return ee.some(et(f.parentNode, t.nodeIndex(f)));
                for (var k, _, A = new ao(f,y); g = A[s ? "prev" : "next"](); ) {
                    if ("false" === t.getContentEditableParent(g) || (_ = b,
                    iu(k = g) && !1 === Qs(k, _, ll)))
                        return ee.none();
                    if (dn(g) && 0 < g.nodeValue.length)
                        return !1 === Qs(g, b, function(P) {
                            return "A" === P.nodeName
                        }) ? ee.some(et(g, s ? g.nodeValue.length : 0)) : ee.none();
                    if (t.isBlock(g) || x[g.nodeName.toLowerCase()])
                        return ee.none();
                    m = g
                }
                return i && m ? ee.some(et(m, 0)) : ee.none()
            }
            function Dd(t, o, i, s) {
                var f, m = t.getRoot(), g = !1, b = s[(i ? "start" : "end") + "Container"], x = s[(i ? "start" : "end") + "Offset"], y = Hn(b) && x === b.childNodes.length, k = t.schema.getNonEmptyElements(), _ = i;
                if (iu(b))
                    return ee.none();
                if (Hn(b) && x > b.childNodes.length - 1 && (_ = !1),
                Qc(b) && (b = m,
                x = 0),
                b === m) {
                    if (_ && (A = b.childNodes[0 < x ? x - 1 : 0]) && (iu(A) || k[A.nodeName] || P1(A)))
                        return ee.none();
                    if (b.hasChildNodes()) {
                        if (x = Math.min(!_ && 0 < x ? x - 1 : x, b.childNodes.length - 1),
                        x = dn(b = b.childNodes[x]) && y ? b.data.length : 0,
                        !o && b === m.lastChild && P1(b) || function(z, F) {
                            for (; F && F !== z; ) {
                                if (ho(F))
                                    return 1;
                                F = F.parentNode
                            }
                        }(m, b) || iu(b))
                            return ee.none();
                        if (b.hasChildNodes() && !1 === P1(b)) {
                            var A = b
                              , P = new ao(b,m);
                            do {
                                if (ho(A) || iu(A)) {
                                    g = !1;
                                    break
                                }
                                if (dn(A) && 0 < A.nodeValue.length) {
                                    x = _ ? 0 : A.nodeValue.length,
                                    b = A,
                                    g = !0;
                                    break
                                }
                                if (k[A.nodeName.toLowerCase()] && (!(f = A) || !/^(TD|TH|CAPTION)$/.test(f.nodeName))) {
                                    x = t.nodeIndex(A),
                                    b = A.parentNode,
                                    _ || x++,
                                    g = !0;
                                    break
                                }
                            } while (A = _ ? P.next() : P.prev())
                        }
                    }
                }
                return o && (dn(b) && 0 === x && Im(t, y, o, !0, b).each(function(z) {
                    b = z.container(),
                    x = z.offset(),
                    g = !0
                }),
                Hn(b) && (!(A = (A = b.childNodes[x]) || b.childNodes[x - 1]) || !zn(A) || A.previousSibling && "A" === A.previousSibling.nodeName || ec(t, A, !1) || ec(t, A, !0) || Im(t, y, o, !0, A).each(function(z) {
                    b = z.container(),
                    x = z.offset(),
                    g = !0
                }))),
                _ && !o && dn(b) && x === b.nodeValue.length && Im(t, y, o, !1, b).each(function(z) {
                    b = z.container(),
                    x = z.offset(),
                    g = !0
                }),
                g ? ee.some(et(b, x)) : ee.none()
            }
            function Af(t, o) {
                var i = o.collapsed
                  , s = o.cloneRange()
                  , f = et.fromRangeStart(o);
                return Dd(t, i, !0, s).each(function(m) {
                    i && et.isAbove(f, m) || s.setStart(m.container(), m.offset())
                }),
                i || Dd(t, i, !1, s).each(function(m) {
                    s.setEnd(m.container(), m.offset())
                }),
                i && s.collapse(!0),
                rs(o, s) ? ee.none() : ee.some(s)
            }
            function gh(t, o) {
                return t.splitText(o)
            }
            function hh(t) {
                var o = t.startContainer
                  , i = t.startOffset
                  , s = t.endContainer
                  , f = t.endOffset;
                return o === s && dn(o) ? 0 < i && i < o.nodeValue.length && (o = (s = gh(o, i)).previousSibling,
                i < f ? (o = s = gh(s, f -= i).previousSibling,
                f = s.nodeValue.length,
                i = 0) : f = 0) : (dn(o) && 0 < i && i < o.nodeValue.length && (o = gh(o, i),
                i = 0),
                dn(s) && 0 < f && f < s.nodeValue.length && (f = (s = gh(s, f).previousSibling).nodeValue.length)),
                {
                    startContainer: o,
                    startOffset: i,
                    endContainer: s,
                    endOffset: f
                }
            }
            function bv(t) {
                return {
                    walk: function(o, i) {
                        return Fl(t, o, i)
                    },
                    split: hh,
                    normalize: function(o) {
                        return Af(t, o).fold(Ct, function(i) {
                            return o.setStart(i.startContainer, i.startOffset),
                            o.setEnd(i.endContainer, i.endOffset),
                            !0
                        })
                    }
                }
            }
            Ni.isBookmarkNode = Ns;
            var Zn = {
                BACKSPACE: 8,
                DELETE: 46,
                DOWN: 40,
                ENTER: 13,
                ESC: 27,
                LEFT: 37,
                RIGHT: 39,
                SPACEBAR: 32,
                TAB: 9,
                UP: 38,
                PAGE_UP: 33,
                PAGE_DOWN: 34,
                END: 35,
                HOME: 36,
                modifierPressed: function(t) {
                    return t.shiftKey || t.ctrlKey || t.altKey || Zn.metaKeyPressed(t)
                },
                metaKeyPressed: function(t) {
                    return er.mac ? t.metaKey : t.ctrlKey && !t.altKey
                }
            }
              , fy = ho;
            bv.compareRanges = rs,
            bv.getCaretRangeFromPoint = R1,
            bv.getSelectedNode = f1,
            bv.getNode = vc;
            var ph, vy, uT = (ph = "height",
            vy = function(t) {
                var o = t.dom;
                return Ku(t) ? o.getBoundingClientRect().height : o.offsetHeight
            }
            ,
            {
                set: function(t, o) {
                    if (!$o(o) && !o.match(/^[0-9]+$/))
                        throw new Error(ph + ".set accepts only positive integer values. Value was " + o);
                    var i = t.dom;
                    ms(i) && (i.style[ph] = o + "px")
                },
                get: dy,
                getOuter: dy,
                aggregate: my,
                max: function(t, o, i) {
                    var s = my(t, i);
                    return s < o ? o - s : 0
                }
            });
            function dy(t) {
                var o = vy(t);
                if (o <= 0 || null === o) {
                    var i = Ae(t, ph);
                    return parseFloat(i) || 0
                }
                return o
            }
            function my(t, o) {
                return kt(o, function(i, s) {
                    var f = Ae(t, s)
                      , m = void 0 === f ? 0 : parseInt(f, 10);
                    return isNaN(m) ? i : i + m
                }, 0)
            }
            function Lm(t) {
                return "textarea" === Or(t)
            }
            function bh(t, o) {
                var i = function(f) {
                    var m = f.dom.ownerDocument
                      , g = m.body
                      , b = m.defaultView
                      , x = m.documentElement;
                    if (g === f.dom)
                        return wr(g.offsetLeft, g.offsetTop);
                    var y = ks(null == b ? void 0 : b.pageYOffset, x.scrollTop)
                      , k = ks(null == b ? void 0 : b.pageXOffset, x.scrollLeft)
                      , _ = ks(x.clientTop, g.clientTop)
                      , A = ks(x.clientLeft, g.clientLeft);
                    return Wf(f).translate(k - A, y - _)
                }(t)
                  , s = uT.get(t);
                return {
                    element: t,
                    bottom: i.top + s,
                    height: s,
                    pos: i,
                    cleanup: o
                }
            }
            function gy(t, o, i, s) {
                F1(t, function(f, m) {
                    return Um(t, o, i, s)
                }, i)
            }
            function Cx(t, o, i, s, f) {
                var m = {
                    elm: s.element.dom,
                    alignToTop: f
                };
                t.fire("ScrollIntoView", m).isDefaultPrevented() || (i(o, Pu(o).top, s, f),
                t.fire("AfterScrollIntoView", m))
            }
            function yh(t, o, i, s) {
                var f = Oe.fromDom(t.getDoc());
                Cx(t, f, i, bh(Oe.fromDom(o), _t), s)
            }
            function Md(t, o, i, s) {
                var m = t.pos;
                Zc(m.left, i ? m.top : m.top - o + t.height, s)
            }
            function B1(t, o, i, s, f) {
                var m = i + o
                  , g = s.pos.top
                  , b = s.bottom
                  , x = i <= b - g;
                g < o ? Md(s, i, !1 !== f, t) : m < g ? Md(s, i, x ? !1 !== f : !0 === f, t) : m < b && !x && Md(s, i, !0 === f, t)
            }
            function hy(t, o, i, s) {
                B1(t, o, t.dom.defaultView.innerHeight, i, s)
            }
            function Sx(t, o, i, s) {
                B1(t, o, t.dom.defaultView.innerHeight, i, s);
                var f, m, g, b, x, y, k, _ = (f = i.element,
                b = Pu(Oe.fromDom(document)),
                g = (m = vT).owner(f),
                x = Ex(m, g),
                y = Wf(f),
                k = ir(x, function(P, z) {
                    var F = Wf(z);
                    return {
                        left: P.left + F.left,
                        top: P.top + F.top
                    }
                }, {
                    left: 0,
                    top: 0
                }),
                wr(k.left + y.left + b.left, k.top + y.top + b.top)), A = ac(window);
                _.top < A.y ? Dr(i.element, !1 !== s) : _.top > A.bottom && Dr(i.element, !0 === s)
            }
            function sT(t, o, i) {
                return gy(t, hy, o, i)
            }
            function py(t, o, i) {
                return yh(t, o, hy, i)
            }
            function Tx(t, o, i) {
                return gy(t, Sx, o, i)
            }
            function yv(t, o, i) {
                return yh(t, o, Sx, i)
            }
            function Hm(t, o, i) {
                (t.inline ? sT : Tx)(t, o, i)
            }
            function ni(t) {
                var o = Ia(t).dom;
                return t.dom === o.activeElement
            }
            function wv(t) {
                return void 0 === t && (t = Oe.fromDom(document)),
                ee.from(t.dom.activeElement).map(Oe.fromDom)
            }
            function li(t, o) {
                var i = Bn(o) ? ch(o).length : to(o).length + 1;
                return i < t ? i : t < 0 ? 0 : t
            }
            function wh(t) {
                return dl.range(t.start, li(t.soffset, t.start), t.finish, li(t.foffset, t.finish))
            }
            function N1(t, o) {
                return !Yi(o.dom) && (qa(t, o) || uo(t, o))
            }
            function z1(t) {
                return function(o) {
                    return N1(t, o.start) && N1(t, o.finish)
                }
            }
            function xh(t) {
                return !0 === t.inline || Bd.isIE()
            }
            function _x(t) {
                return dl.range(Oe.fromDom(t.startContainer), t.startOffset, Oe.fromDom(t.endContainer), t.endOffset)
            }
            function cT(t) {
                var o = document.createRange();
                try {
                    return o.setStart(t.start.dom, t.soffset),
                    o.setEnd(t.finish.dom, t.foffset),
                    ee.some(o)
                } catch (i) {
                    return ee.none()
                }
            }
            function Rd(t) {
                var o, i, s = xh(t) ? ((i = Li(o = Oe.fromDom(t.getBody())).dom.getSelection()) && 0 !== i.rangeCount ? ee.from(i.getRangeAt(0)) : ee.none()).map(_x).filter(z1(o)) : ee.none();
                t.bookmark = s.isSome() ? s : t.bookmark
            }
            function $m(t) {
                return (t.bookmark || ee.none()).bind(function(o) {
                    return i = Oe.fromDom(t.getBody()),
                    ee.from(o).filter(z1(i)).map(wh);
                    var i
                }).bind(cT)
            }
            function Ch(t, o) {
                var i = t.getParam("custom_ui_selector", "", "string");
                return null !== bc.getParent(o, function(s) {
                    return Ax.isEditorUIElement(s) || !!i && t.dom.is(s, i)
                })
            }
            function by(t, o) {
                var i = o.editor;
                (function(t) {
                    var o = fc(function() {
                        Rd(t)
                    }, 0);
                    t.on("init", function() {
                        function i() {
                            f.throttle()
                        }
                        var s, f, m, g, b, x;
                        t.inline && (s = t,
                        f = o,
                        co.DOM.bind(document, "mouseup", i),
                        s.on("remove", function() {
                            co.DOM.unbind(document, "mouseup", i)
                        })),
                        m = t,
                        g = o,
                        Wr().browser.isIE() ? (x = m).on("focusout", function() {
                            Rd(x)
                        }) : (b = g,
                        m.on("mouseup touchend", function(y) {
                            b.throttle()
                        })),
                        m.on("keyup NodeChange", function(y) {
                            "nodechange" === y.type && y.selectionChange || Rd(m)
                        })
                    }),
                    t.on("remove", function() {
                        o.cancel()
                    })
                }
                )(i),
                i.on("focusin", function() {
                    var s = t.focusedEditor;
                    s !== i && (s && s.fire("blur", {
                        focusedEditor: i
                    }),
                    t.setActive(i),
                    (t.focusedEditor = i).fire("focus", {
                        blurredEditor: s
                    }),
                    i.focus(!0))
                }),
                i.on("focusout", function() {
                    ai.setEditorTimeout(i, function() {
                        var s = t.focusedEditor;
                        Ch(i, function(f) {
                            try {
                                return wv(Ia(Oe.fromDom(f.getElement()))).fold(function() {
                                    return document.body
                                }, function(m) {
                                    return m.dom
                                })
                            } catch (m) {
                                return document.body
                            }
                        }(i)) || s !== i || (i.fire("blur", {
                            focusedEditor: null
                        }),
                        t.focusedEditor = null)
                    })
                }),
                Vm || (Vm = function(s) {
                    var f = t.activeEditor;
                    f && function(m) {
                        if (oi() && gn(m.target)) {
                            var g = Oe.fromDom(m.target);
                            if (un(g) && gn(g.dom.shadowRoot) && m.composed && m.composedPath) {
                                var b = m.composedPath();
                                if (b)
                                    return $n(b)
                            }
                        }
                        return ee.from(m.target)
                    }(s).each(function(m) {
                        m.ownerDocument === document && (m === document.body || Ch(f, m) || t.focusedEditor !== f || (f.fire("blur", {
                            focusedEditor: null
                        }),
                        t.focusedEditor = null))
                    })
                }
                ,
                bc.bind(document, "focusin", Vm))
            }
            function fT(t, o) {
                t.focusedEditor === o.editor && (t.focusedEditor = null),
                t.activeEditor || (bc.unbind(document, "focusin", Vm),
                Vm = null)
            }
            function kx(t, o) {
                var i, s;
                i = Oe.fromDom(t.getBody()),
                ((s = o).collapsed ? ee.from(vc(s.startContainer, s.startOffset)).map(Oe.fromDom) : ee.none()).bind(function(f) {
                    return Pe(f) ? ee.some(f) : !1 === qa(i, f) ? ee.some(i) : ee.none()
                }).bind(function(f) {
                    return jo(f.dom)
                }).fold(function() {
                    t.selection.normalize()
                }, function(f) {
                    return t.selection.setRng(f.toRange())
                })
            }
            function Sh(t) {
                if (t.setActive)
                    try {
                        t.setActive()
                    } catch (o) {
                        t.focus()
                    }
                else
                    t.focus()
            }
            function Of(t) {
                return t.inline ? (s = t.getBody()) && (ni(o = Oe.fromDom(s)) || wv(Ia(i = o)).filter(function(f) {
                    return i.dom.contains(f.dom)
                }).isSome()) : t.iframeElement && ni(Oe.fromDom(t.iframeElement));
                var o, i, s
            }
            function yy(t, o, i, s, f) {
                var g = i ? o.startOffset : o.endOffset;
                return ee.from(i ? o.startContainer : o.endContainer).map(Oe.fromDom).map(function(b) {
                    return s && o.collapsed ? b : we(b, f(b, g)).getOr(b)
                }).bind(function(b) {
                    return un(b) ? ee.some(b) : Ta(b).filter(un)
                }).map(function(b) {
                    return b.dom
                }).getOr(t)
            }
            function wy(t, o, i) {
                return yy(t, o, !0, i, function(s, f) {
                    return Math.min(Nt(s), f)
                })
            }
            function xy(t, o, i) {
                return yy(t, o, !1, i, function(s, f) {
                    return 0 < f ? f - 1 : f
                })
            }
            function Cy(t, o) {
                for (var i = t; t && dn(t) && 0 === t.length; )
                    t = o ? t.nextSibling : t.previousSibling;
                return t || i
            }
            function Sy(t, o) {
                return bn(o, function(i) {
                    var s = t.fire("GetSelectionRange", {
                        range: i
                    });
                    return s.range !== i ? s.range : i
                })
            }
            function Vc(t, o, i) {
                var s = i ? "lastChild" : "firstChild"
                  , f = i ? "prev" : "next";
                if (t[s])
                    return t[s];
                if (t !== o) {
                    var m = t[f];
                    if (m)
                        return m;
                    for (var g = t.parent; g && g !== o; g = g.parent)
                        if (m = g[f])
                            return m
                }
            }
            function Pd(t) {
                var o = "a" === t.name && !t.attr("href") && t.attr("id");
                return t.attr("name") || t.attr("id") && !t.firstChild || t.attr("data-mce-bookmark") || o
            }
            var Vm, Ex = function(t, o) {
                return t.view(o).fold(xe([]), function(i) {
                    var s = t.owner(i)
                      , f = Ex(t, s);
                    return [i].concat(f)
                })
            }, vT = Object.freeze({
                __proto__: null,
                view: function(t) {
                    var o;
                    return (t.dom === document ? ee.none() : ee.from(null === (o = t.dom.defaultView) || void 0 === o ? void 0 : o.frameElement)).map(Oe.fromDom)
                },
                owner: Ru
            }), Um = function(t, o, i, s) {
                Oe.fromDom(t.getBody());
                var x, y, m = Oe.fromDom(t.getDoc()), k = (x = function(_, A) {
                    var P = to(_);
                    if (0 === P.length || Lm(_))
                        return {
                            element: _,
                            offset: A
                        };
                    if (A < P.length && !Lm(P[A]))
                        return {
                            element: P[A],
                            offset: 0
                        };
                    var z = P[P.length - 1];
                    return Lm(z) ? {
                        element: _,
                        offset: A
                    } : "img" === Or(z) ? {
                        element: z,
                        offset: 1
                    } : Bn(z) ? {
                        element: z,
                        offset: ch(z).length
                    } : {
                        element: z,
                        offset: to(z).length
                    }
                }(Oe.fromDom(i.startContainer), i.startOffset),
                y = Oe.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\ufeff</span>'),
                Ir(x.element, y),
                bh(y, function() {
                    return aa(y)
                }));
                Cx(t, m, o, k, s),
                k.cleanup()
            }, F1 = function(t, o, i) {
                var s = i.startContainer
                  , f = i.startOffset
                  , m = i.endContainer
                  , g = i.endOffset;
                o(Oe.fromDom(s), Oe.fromDom(m));
                var b = t.dom.createRng();
                b.setStart(s, f),
                b.setEnd(m, g),
                t.selection.setRng(i)
            }, I1 = (ia([{
                before: ["element"]
            }, {
                on: ["element", "offset"]
            }, {
                after: ["element"]
            }]),
            function(t) {
                return t.fold(hn, hn, hn)
            }
            ), L1 = ia([{
                domRange: ["rng"]
            }, {
                relative: ["startSitu", "finishSitu"]
            }, {
                exact: ["start", "soffset", "finish", "foffset"]
            }]), dl = {
                domRange: L1.domRange,
                relative: L1.relative,
                exact: L1.exact,
                exactFromRange: function(t) {
                    return L1.exact(t.start, t.soffset, t.finish, t.foffset)
                },
                getWin: function(t) {
                    return Li(t.match({
                        domRange: function(o) {
                            return Oe.fromDom(o.startContainer)
                        },
                        relative: function(o, i) {
                            return I1(o)
                        },
                        exact: function(o, i, s, f) {
                            return o
                        }
                    }))
                },
                range: function(t, o, i, s) {
                    return {
                        start: t,
                        soffset: o,
                        finish: i,
                        foffset: s
                    }
                }
            }, Bd = Wr().browser, Ax = {
                isEditorUIElement: function(t) {
                    var o = t.className.toString();
                    return -1 !== o.indexOf("tox-") || -1 !== o.indexOf("mce-")
                }
            }, bc = co.DOM, xv = function(t) {
                return t.editorManager.setActive(t)
            }, Ty = {
                "#text": 3,
                "#comment": 8,
                "#cdata": 4,
                "#pi": 7,
                "#doctype": 10,
                "#document-fragment": 11
            }, ba = (os.create = function(t, o) {
                var i = new os(t,Ty[t] || 1);
                return o && Un(o, function(s, f) {
                    i.attr(f, s)
                }),
                i
            }
            ,
            os.prototype.replace = function(t) {
                return t.parent && t.remove(),
                this.insert(t, this),
                this.remove(),
                this
            }
            ,
            os.prototype.attr = function(t, o) {
                var i, s = this;
                if ("string" != typeof t)
                    return null != t && Un(t, function(m, g) {
                        s.attr(g, m)
                    }),
                    s;
                if (i = s.attributes) {
                    if (void 0 === o)
                        return i.map[t];
                    if (null === o) {
                        if (t in i.map) {
                            delete i.map[t];
                            for (var f = i.length; f--; )
                                if (i[f].name === t)
                                    return i.splice(f, 1),
                                    s
                        }
                        return s
                    }
                    if (t in i.map) {
                        for (f = i.length; f--; )
                            if (i[f].name === t) {
                                i[f].value = o;
                                break
                            }
                    } else
                        i.push({
                            name: t,
                            value: o
                        });
                    return i.map[t] = o,
                    s
                }
            }
            ,
            os.prototype.clone = function() {
                var t, o = new os(this.name,this.type);
                if (t = this.attributes) {
                    var i = [];
                    i.map = {};
                    for (var s = 0, f = t.length; s < f; s++) {
                        var m = t[s];
                        "id" !== m.name && (i[i.length] = {
                            name: m.name,
                            value: m.value
                        },
                        i.map[m.name] = m.value)
                    }
                    o.attributes = i
                }
                return o.value = this.value,
                o.shortEnded = this.shortEnded,
                o
            }
            ,
            os.prototype.wrap = function(t) {
                return this.parent.insert(t, this),
                t.append(this),
                this
            }
            ,
            os.prototype.unwrap = function() {
                for (var t = this.firstChild; t; ) {
                    var o = t.next;
                    this.insert(t, this, !0),
                    t = o
                }
                this.remove()
            }
            ,
            os.prototype.remove = function() {
                var t = this.parent
                  , o = this.next
                  , i = this.prev;
                return t && (t.firstChild === this ? (t.firstChild = o) && (o.prev = null) : i.next = o,
                t.lastChild === this ? (t.lastChild = i) && (i.next = null) : o.prev = i,
                this.parent = this.next = this.prev = null),
                this
            }
            ,
            os.prototype.append = function(t) {
                t.parent && t.remove();
                var o = this.lastChild;
                return o ? ((o.next = t).prev = o,
                this.lastChild = t) : this.lastChild = this.firstChild = t,
                t.parent = this,
                t
            }
            ,
            os.prototype.insert = function(t, o, i) {
                t.parent && t.remove();
                var s = o.parent || this;
                return i ? (o === s.firstChild ? s.firstChild = t : o.prev.next = t,
                t.prev = o.prev,
                (t.next = o).prev = t) : (o === s.lastChild ? s.lastChild = t : o.next.prev = t,
                t.next = o.next,
                (t.prev = o).next = t),
                t.parent = s,
                t
            }
            ,
            os.prototype.getAll = function(t) {
                for (var o = [], i = this.firstChild; i; i = Vc(i, this))
                    i.name === t && o.push(i);
                return o
            }
            ,
            os.prototype.children = function() {
                for (var t = [], o = this.firstChild; o; o = o.next)
                    t.push(o);
                return t
            }
            ,
            os.prototype.empty = function() {
                if (this.firstChild) {
                    for (var t = [], o = this.firstChild; o; o = Vc(o, this))
                        t.push(o);
                    for (var i = t.length; i--; )
                        (o = t[i]).parent = o.firstChild = o.lastChild = o.next = o.prev = null
                }
                return this.firstChild = this.lastChild = null,
                this
            }
            ,
            os.prototype.isEmpty = function(t, o, i) {
                void 0 === o && (o = {});
                var s = this.firstChild;
                if (Pd(this))
                    return !1;
                if (s)
                    do {
                        if (1 === s.type) {
                            if (s.attr("data-mce-bogus"))
                                continue;
                            if (t[s.name] || Pd(s))
                                return !1
                        }
                        if (8 === s.type || 3 === s.type && !function(f) {
                            if (ii(f.value)) {
                                var m = f.parent;
                                return !m || "span" === m.name && !m.attr("style") || !/^[ ]+$/.test(f.value)
                            }
                        }(s) || 3 === s.type && s.parent && o[s.parent.name] && ii(s.value) || i && i(s))
                            return !1
                    } while (s = Vc(s, this));
                return !0
            }
            ,
            os.prototype.walk = function(t) {
                return Vc(this, null, t)
            }
            ,
            os);
            function os(t, o) {
                this.name = t,
                1 === (this.type = o) && (this.attributes = [],
                this.attributes.map = {})
            }
            function Th(t, o) {
                return t.replace(o.re, function(i) {
                    return pt(o.uris, i).getOr(i)
                })
            }
            var _y = Ke.each
              , dT = Ke.trim
              , Hl = "source protocol authority userInfo user password host port relative path directory file query anchor".split(" ")
              , $l = {
                ftp: 21,
                http: 80,
                https: 443,
                mailto: 25
            }
              , mT = ["img", "video"]
              , Vl = (Fs.parseDataUri = function(t) {
                var o, i = decodeURIComponent(t).split(","), s = /data:([^;]+)/.exec(i[0]);
                return {
                    type: o = s ? s[1] : o,
                    data: i[1]
                }
            }
            ,
            Fs.isDomSafe = function(t, o, i) {
                if ((i = void 0 === i ? {} : i).allow_script_urls)
                    return !0;
                var s, f, m, g, b = Pi.decode(t).replace(/[\s\u0000-\u001F]+/g, "");
                try {
                    b = decodeURIComponent(b)
                } catch (x) {
                    b = unescape(b)
                }
                return !(/((java|vb)script|mhtml):/i.test(b) || (f = b,
                m = o,
                !(s = i).allow_html_data_urls && (/^data:image\//i.test(f) ? (gn(g = s.allow_svg_data_urls) ? !g : !gn(m) || !D(mT, m)) && /^data:image\/svg\+xml/i.test(f) : /^data:/i.test(f))))
            }
            ,
            Fs.getDocumentBaseUrl = function(t) {
                var o = 0 !== t.protocol.indexOf("http") && "file:" !== t.protocol ? t.href : t.protocol + "//" + t.host + t.pathname;
                return /^[^:]+:\/\/\/?[^\/]+\//.test(o) && (o = o.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""),
                /[\/\\]$/.test(o) || (o += "/")),
                o
            }
            ,
            Fs.prototype.setPath = function(t) {
                var o = /^(.*?)\/?(\w+)?$/.exec(t);
                this.path = o[0],
                this.directory = o[1],
                this.file = o[2],
                this.source = "",
                this.getURI()
            }
            ,
            Fs.prototype.toRelative = function(t) {
                var o;
                if ("./" === t)
                    return t;
                var i = new Fs(t,{
                    base_uri: this
                });
                if ("mce_host" !== i.host && this.host !== i.host && i.host || this.port !== i.port || this.protocol !== i.protocol && "" !== i.protocol)
                    return i.getURI();
                var s = this.getURI()
                  , f = i.getURI();
                return s === f || "/" === s.charAt(s.length - 1) && s.substr(0, s.length - 1) === f ? s : (o = this.toRelPath(this.path, i.path),
                i.query && (o += "?" + i.query),
                i.anchor && (o += "#" + i.anchor),
                o)
            }
            ,
            Fs.prototype.toAbsolute = function(t, o) {
                var i = new Fs(t,{
                    base_uri: this
                });
                return i.getURI(o && this.isSameOrigin(i))
            }
            ,
            Fs.prototype.isSameOrigin = function(t) {
                if (this.host == t.host && this.protocol == t.protocol) {
                    if (this.port == t.port)
                        return !0;
                    var o = $l[this.protocol];
                    if (o && (this.port || o) == (t.port || o))
                        return !0
                }
                return !1
            }
            ,
            Fs.prototype.toRelPath = function(t, o) {
                var i, s, f = 0, m = "", g = t.substring(0, t.lastIndexOf("/")).split("/"), b = o.split("/");
                if (g.length >= b.length)
                    for (i = 0,
                    s = g.length; i < s; i++)
                        if (i >= b.length || g[i] !== b[i]) {
                            f = i + 1;
                            break
                        }
                if (g.length < b.length)
                    for (i = 0,
                    s = b.length; i < s; i++)
                        if (i >= g.length || g[i] !== b[i]) {
                            f = i + 1;
                            break
                        }
                if (1 === f)
                    return o;
                for (i = 0,
                s = g.length - (f - 1); i < s; i++)
                    m += "../";
                for (i = f - 1,
                s = b.length; i < s; i++)
                    m += i !== f - 1 ? "/" + b[i] : b[i];
                return m
            }
            ,
            Fs.prototype.toAbsPath = function(t, o) {
                var i, s, f = 0, m = [], g = /\/$/.test(o) ? "/" : "", b = t.split("/"), x = o.split("/");
                for (_y(b, function(y) {
                    y && m.push(y)
                }),
                b = m,
                i = x.length - 1,
                m = []; 0 <= i; i--)
                    0 !== x[i].length && "." !== x[i] && (".." !== x[i] ? 0 < f ? f-- : m.push(x[i]) : f++);
                return 0 !== (s = (i = b.length - f) <= 0 ? je(m).join("/") : b.slice(0, i).join("/") + "/" + je(m).join("/")).indexOf("/") && (s = "/" + s),
                g && s.lastIndexOf("/") !== s.length - 1 && (s += g),
                s
            }
            ,
            Fs.prototype.getURI = function(t) {
                var o;
                return void 0 === t && (t = !1),
                this.source && !t || (o = "",
                t || (o += this.protocol ? this.protocol + "://" : "//",
                this.userInfo && (o += this.userInfo + "@"),
                this.host && (o += this.host),
                this.port && (o += ":" + this.port)),
                this.path && (o += this.path),
                this.query && (o += "?" + this.query),
                this.anchor && (o += "#" + this.anchor),
                this.source = o),
                this.source
            }
            ,
            Fs);
            function Fs(t, o) {
                t = dT(t),
                this.settings = o || {};
                var i, s, f, m, g = this.settings.base_uri, b = this;
                /^([\w\-]+):([^\/]{2})/i.test(t) || /^\s*#/.test(t) ? b.source = t : (i = 0 === t.indexOf("//"),
                0 !== t.indexOf("/") || i || (t = (g && g.protocol || "http") + "://mce_host" + t),
                /^[\w\-]*:?\/\//.test(t) || (s = this.settings.base_uri ? this.settings.base_uri.path : new Fs(document.location.href).directory,
                t = this.settings.base_uri && "" == this.settings.base_uri.protocol ? "//mce_host" + b.toAbsPath(s, t) : (f = /([^#?]*)([#?]?.*)/.exec(t),
                (g && g.protocol || "http") + "://mce_host" + b.toAbsPath(s, f[1]) + f[2])),
                t = t.replace(/@@/g, "(mce_at)"),
                m = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),
                _y(Hl, function(x, y) {
                    var k = (k = m[y]) && k.replace(/\(mce_at\)/g, "@@");
                    b[x] = k
                }),
                g && (b.protocol || (b.protocol = g.protocol),
                b.userInfo || (b.userInfo = g.userInfo),
                b.port || "mce_host" !== b.host || (b.port = g.port),
                b.host && "mce_host" !== b.host || (b.host = g.host),
                b.source = ""),
                i && (b.protocol = ""))
            }
            function H1(t, o, i) {
                for (var s = /<([!?\/])?([A-Za-z0-9\-_:.]+)/g, f = /(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g, m = t.getShortEndedElements(), g = 1, b = i; 0 !== g; )
                    for (s.lastIndex = b; ; ) {
                        var x = s.exec(o);
                        if (null === x)
                            return b;
                        if ("!" === x[1]) {
                            b = Ee(x[2], "--") ? V1(o, !1, x.index + "!--".length) : V1(o, !0, x.index + 1);
                            break
                        }
                        f.lastIndex = s.lastIndex;
                        var y = f.exec(o);
                        if (!_n(y) && y.index === s.lastIndex) {
                            "/" === x[1] ? --g : St(m, x[2]) || (g += 1),
                            b = s.lastIndex + y[0].length;
                            break
                        }
                    }
                return b
            }
            function $1(t, o) {
                void 0 === o && (o = Ac()),
                t = t || {};
                var i = Ox()
                  , s = i.createElement("form");
                !1 !== t.fix_self_closing && (t.fix_self_closing = !0);
                var m = t.comment || _t
                  , g = t.cdata || _t
                  , b = t.text || _t
                  , x = t.start || _t
                  , y = t.end || _t
                  , k = t.pi || _t
                  , _ = t.doctype || _t;
                return {
                    parse: function(A, P) {
                        void 0 === P && (P = "html"),
                        function(A, P) {
                            void 0 === P && (P = "html");
                            for (var z, F, H, V, j, K, oe, pe, X, ne, ue, Me, Fe, Ge, Ve, he, ye, De, He, Dt = A.html, It = 0, Tt = [], Lt = 0, Rt = Pi.decode, Ht = Ke.makeMap("src,href,data,background,action,formaction,poster,xlink:href"), zt = "html" === P ? 0 : 1, ln = function(Er) {
                                for (var ar, go = Tt.length; go-- && Tt[go].name !== Er; )
                                    ;
                                if (0 <= go) {
                                    for (ar = Tt.length - 1; go <= ar; ar--)
                                        (Er = Tt[ar]).valid && y(Er.name);
                                    Tt.length = go
                                }
                            }, ft = function(Er, ar) {
                                return b(Th(Er, A), ar)
                            }, Zt = function(Er) {
                                "" !== Er && (">" === Er.charAt(0) && (Er = " " + Er),
                                t.allow_conditional_comments || "[if" !== Er.substr(0, 3).toLowerCase() || (Er = " " + Er),
                                m(Th(Er, A)))
                            }, Mt = function(Er, ar) {
                                var go = Er || ""
                                  , fi = !Ee(go, "--")
                                  , nu = V1(Dt, fi, ar);
                                return Er = Dt.substr(ar, nu - ar),
                                Zt(fi ? go + Er : Er),
                                nu + 1
                            }, xn = new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"), mn = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g, Vr = o.getShortEndedElements(), ve = t.self_closing_elements || o.getSelfClosingElements(), Ce = o.getBoolAttrs(), Je = t.validate, bt = t.remove_internals, vt = t.fix_self_closing, jt = o.getSpecialElements(), tr = Dt + ">"; z = xn.exec(tr); ) {
                                var mr = z[0];
                                if (It < z.index && ft(Rt(Dt.substr(It, z.index - It))),
                                F = z[7])
                                    ln(F = ":" === (F = F.toLowerCase()).charAt(0) ? F.substr(1) : F);
                                else if (F = z[8]) {
                                    if (z.index + mr.length > Dt.length) {
                                        ft(Rt(Dt.substr(z.index))),
                                        It = z.index + mr.length;
                                        continue
                                    }
                                    X = (F = ":" === (F = F.toLowerCase()).charAt(0) ? F.substr(1) : F)in Vr,
                                    vt && ve[F] && 0 < Tt.length && Tt[Tt.length - 1].name === F && ln(F);
                                    var ra = function(Er, ar) {
                                        var go = Er.exec(ar);
                                        if (go) {
                                            var fi = go[1]
                                              , nu = go[2];
                                            return "string" == typeof fi && "data-mce-bogus" === fi.toLowerCase() ? nu : null
                                        }
                                        return null
                                    }(mn, z[9]);
                                    if (null !== ra) {
                                        if ("all" === ra) {
                                            It = H1(o, Dt, xn.lastIndex),
                                            xn.lastIndex = It;
                                            continue
                                        }
                                        ue = !1
                                    }
                                    if (!Je || (ne = o.getElementRule(F))) {
                                        if (ue = !0,
                                        Je && (Ge = ne.attributes,
                                        Ve = ne.attributePatterns),
                                        (Fe = z[9]) ? ((pe = -1 !== Fe.indexOf("data-mce-type")) && bt && (ue = !1),
                                        (V = []).map = {},
                                        Fe.replace(mn, function(Er, ar, go, fi, nu) {
                                            return function(wa, xi, Ai, Jd, Hf) {
                                                var Ap;
                                                if (Ai = Th((xi = xi.toLowerCase())in Ce ? xi : Rt(Ai || Jd || Hf || ""), A),
                                                Je && !pe && 0 == (0 === (Ap = xi).indexOf("data-") || 0 === Ap.indexOf("aria-"))) {
                                                    var sf = Ge[xi];
                                                    if (!sf && Ve) {
                                                        for (var Op = Ve.length; Op-- && !(sf = Ve[Op]).pattern.test(xi); )
                                                            ;
                                                        -1 === Op && (sf = null)
                                                    }
                                                    if (!sf || sf.validValues && !(Ai in sf.validValues))
                                                        return
                                                }
                                                ("name" === xi || "id" === xi) && wa in ky && (Ai in i || Ai in s) || Ht[xi] && !Vl.isDomSafe(Ai, wa, t) || pe && (xi in Ht || 0 === xi.indexOf("on")) || (V.map[xi] = Ai,
                                                V.push({
                                                    name: xi,
                                                    value: Ai
                                                }))
                                            }(F, ar, go, fi, nu),
                                            ""
                                        })) : (V = []).map = {},
                                        Je && !pe) {
                                            if (he = ne.attributesRequired,
                                            ye = ne.attributesDefault,
                                            ne.removeEmptyAttrs && !V.length && (ue = !1),
                                            De = ne.attributesForced)
                                                for (j = De.length; j--; )
                                                    oe = (Me = De[j]).name,
                                                    "{$uid}" === (He = Me.value) && (He = "mce_" + Lt++),
                                                    V.map[oe] = He,
                                                    V.push({
                                                        name: oe,
                                                        value: He
                                                    });
                                            if (ye)
                                                for (j = ye.length; j--; )
                                                    (oe = (Me = ye[j]).name)in V.map || ("{$uid}" === (He = Me.value) && (He = "mce_" + Lt++),
                                                    V.map[oe] = He,
                                                    V.push({
                                                        name: oe,
                                                        value: He
                                                    }));
                                            if (he) {
                                                for (j = he.length; j-- && !(he[j]in V.map); )
                                                    ;
                                                -1 === j && (ue = !1)
                                            }
                                            if (Me = V.map["data-mce-bogus"]) {
                                                if ("all" === Me) {
                                                    It = H1(o, Dt, xn.lastIndex),
                                                    xn.lastIndex = It;
                                                    continue
                                                }
                                                ue = !1
                                            }
                                        }
                                        ue && x(F, V, X)
                                    } else
                                        ue = !1;
                                    if (H = jt[F]) {
                                        H.lastIndex = It = z.index + mr.length,
                                        It = (z = H.exec(Dt)) ? (ue && (K = Dt.substr(It, z.index - It)),
                                        z.index + z[0].length) : (K = Dt.substr(It),
                                        Dt.length),
                                        ue && (0 < K.length && ft(K, !0),
                                        y(F)),
                                        xn.lastIndex = It;
                                        continue
                                    }
                                    X || (Fe && Fe.indexOf("/") === Fe.length - 1 ? ue && y(F) : Tt.push({
                                        name: F,
                                        valid: ue
                                    }))
                                } else if (F = z[1])
                                    Zt(F);
                                else if (F = z[2]) {
                                    if (!(1 == zt || t.preserve_cdata || 0 < Tt.length && o.isValidChild(Tt[Tt.length - 1].name, "#cdata"))) {
                                        It = Mt("", z.index + 2),
                                        xn.lastIndex = It;
                                        continue
                                    }
                                    g(F)
                                } else if (F = z[3])
                                    _(F);
                                else {
                                    if ((F = z[4]) || "<!" === mr) {
                                        It = Mt(F, z.index + mr.length),
                                        xn.lastIndex = It;
                                        continue
                                    }
                                    if (F = z[5]) {
                                        if (1 != zt) {
                                            It = Mt("?", z.index + 2),
                                            xn.lastIndex = It;
                                            continue
                                        }
                                        k(F, z[6])
                                    }
                                }
                                It = z.index + mr.length
                            }
                            for (It < Dt.length && ft(Rt(Dt.substr(It))),
                            j = Tt.length - 1; 0 <= j; j--)
                                (F = Tt[j]).valid && y(F.name)
                        }(function(z) {
                            for (var F, H = /data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi, V = [], j = {}, K = Vn("img"), oe = 0, pe = 0; F = H.exec(z); ) {
                                var X = F[0]
                                  , ne = K + "_" + pe++;
                                j[ne] = X,
                                oe < F.index && V.push(z.substr(oe, F.index - oe)),
                                V.push(ne),
                                oe = F.index + X.length
                            }
                            var ue = new RegExp(K + "_[0-9]+","g");
                            return 0 === oe ? {
                                prefix: K,
                                uris: j,
                                html: z,
                                re: ue
                            } : (oe < z.length && V.push(z.substr(oe)),
                            {
                                prefix: K,
                                uris: j,
                                html: V.join(""),
                                re: ue
                            })
                        }(A), P)
                    }
                }
            }
            var ky = Ke.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea")
              , Ox = Ca(function() {
                return document.implementation.createHTMLDocument("parser")
            })
              , V1 = function(t, o, i) {
                void 0 === i && (i = 0);
                var s = t.toLowerCase();
                if (-1 !== s.indexOf("[if ", i) && /^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(s.substr(i))) {
                    var f = s.indexOf("[endif]", i);
                    return s.indexOf(">", f)
                }
                if (o) {
                    var m = s.indexOf(">", i);
                    return -1 !== m ? m : s.length
                }
                var g = /--!?>/g;
                g.lastIndex = i;
                var x = g.exec(t);
                return x ? x.index + x[0].length : s.length
            };
            function Dx(t, o) {
                for (var i, s, f, m, g = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g, b = t.schema, x = (i = t.getTempAttrs(),
                s = o,
                f = new RegExp(["\\s?(" + i.join("|") + ')="[^"]+"'].join("|"),"gi"),
                s.replace(f, "")), y = b.getShortEndedElements(); m = g.exec(x); ) {
                    var k = g.lastIndex
                      , _ = m[0].length
                      , A = y[m[1]] ? k : $1.findEndTag(b, x, k);
                    x = x.substring(0, k - _) + x.substring(A),
                    g.lastIndex = k - _
                }
                return $a(x)
            }
            function Nd(t) {
                return {
                    compare: function(o, i) {
                        return o.nodeName === i.nodeName && !(!f(s(o), s(i)) || !f(t.parseStyle(t.getAttrib(o, "style")), t.parseStyle(t.getAttrib(i, "style"))) || Ns(o) || Ns(i));
                        function s(m) {
                            var g = {};
                            return Ey(t.getAttribs(m), function(b) {
                                var x = b.nodeName.toLowerCase();
                                0 !== x.indexOf("_") && "style" !== x && 0 !== x.indexOf("data-") && (g[x] = t.getAttrib(m, x))
                            }),
                            g
                        }
                        function f(m, g) {
                            var b, x;
                            for (x in m)
                                if (St(m, x)) {
                                    if (void 0 === (b = g[x]) || m[x] !== b)
                                        return;
                                    delete g[x]
                                }
                            for (x in g)
                                if (St(g, x))
                                    return;
                            return 1
                        }
                    }
                }
            }
            function jm(t) {
                var o = []
                  , i = (t = t || {}).indent
                  , s = _h(t.indent_before || "")
                  , f = _h(t.indent_after || "")
                  , m = Pi.getEncodeFunc(t.entity_encoding || "raw", t.entities)
                  , g = "html" === t.element_format;
                return {
                    start: function(b, x, y) {
                        var k, _, A, P;
                        if (i && s[b] && 0 < o.length && 0 < (P = o[o.length - 1]).length && "\n" !== P && o.push("\n"),
                        o.push("<", b),
                        x)
                            for (k = 0,
                            _ = x.length; k < _; k++)
                                o.push(" ", (A = x[k]).name, '="', m(A.value, !0), '"');
                        o[o.length] = !y || g ? ">" : " />",
                        y && i && f[b] && 0 < o.length && 0 < (P = o[o.length - 1]).length && "\n" !== P && o.push("\n")
                    },
                    end: function(b) {
                        var x;
                        o.push("</", b, ">"),
                        i && f[b] && 0 < o.length && 0 < (x = o[o.length - 1]).length && "\n" !== x && o.push("\n")
                    },
                    text: function(b, x) {
                        0 < b.length && (o[o.length] = x ? b : m(b))
                    },
                    cdata: function(b) {
                        o.push("<![CDATA[", b, "]]>")
                    },
                    comment: function(b) {
                        o.push("\x3c!--", b, "--\x3e")
                    },
                    pi: function(b, x) {
                        x ? o.push("<?", b, " ", m(x), "?>") : o.push("<?", b, "?>"),
                        i && o.push("\n")
                    },
                    doctype: function(b) {
                        o.push("<!DOCTYPE", b, ">", i ? "\n" : "")
                    },
                    reset: function() {
                        o.length = 0
                    },
                    getContent: function() {
                        return o.join("").replace(/\n$/, "")
                    }
                }
            }
            function Gm(t, o) {
                void 0 === o && (o = Ac());
                var i = jm(t);
                return (t = t || {}).validate = !("validate"in t) || t.validate,
                {
                    serialize: function(s) {
                        var f = t.validate
                          , m = {
                            3: function(b) {
                                i.text(b.value, b.raw)
                            },
                            8: function(b) {
                                i.comment(b.value)
                            },
                            7: function(b) {
                                i.pi(b.name, b.value)
                            },
                            10: function(b) {
                                i.doctype(b.value)
                            },
                            4: function(b) {
                                i.cdata(b.value)
                            },
                            11: function(b) {
                                if (b = b.firstChild)
                                    for (; g(b),
                                    b = b.next; )
                                        ;
                            }
                        };
                        i.reset();
                        var g = function(b) {
                            var x = m[b.type];
                            if (x)
                                x(b);
                            else {
                                var y = b.name
                                  , k = b.shortEnded
                                  , _ = b.attributes;
                                if (f && _ && 1 < _.length) {
                                    var A = [];
                                    A.map = {};
                                    var P = o.getElementRule(b.name);
                                    if (P) {
                                        for (var z = 0, F = P.attributesOrder.length; z < F; z++)
                                            (H = P.attributesOrder[z])in _.map && (A.map[H] = V = _.map[H],
                                            A.push({
                                                name: H,
                                                value: V
                                            }));
                                        var H, V;
                                        for (z = 0,
                                        F = _.length; z < F; z++)
                                            (H = _[z].name)in A.map || (A.map[H] = V = _.map[H],
                                            A.push({
                                                name: H,
                                                value: V
                                            }));
                                        _ = A
                                    }
                                }
                                if (i.start(b.name, _, k),
                                !k) {
                                    if (b = b.firstChild)
                                        for (; g(b),
                                        b = b.next; )
                                            ;
                                    i.end(y)
                                }
                            }
                        };
                        return 1 !== s.type || t.inner ? m[11](s) : g(s),
                        i.getContent()
                    }
                }
            }
            $1.findEndTag = H1;
            var Mx = Dx
              , Ey = Ke.each
              , _h = Ke.makeMap
              , Ay = new Set;
            function kh(t, o) {
                return xa(t.parseStyle(t.getAttrib(o, "style")))
            }
            function Rx(t, o, i) {
                return ee.from(i.container()).filter(dn).exists(function(s) {
                    var f = t ? 0 : -1;
                    return o(s.data.charAt(i.offset() + f))
                })
            }
            function gT(t) {
                var o = t.container();
                return dn(o) && (0 === o.data.length || fo(o.data) && Ni.isBookmarkNode(o.parentNode))
            }
            function Cv(t, o) {
                return function(i) {
                    return ee.from(Qg(t ? 0 : -1, i)).filter(o).isSome()
                }
            }
            function qm(t) {
                return Ea(t) && "block" === Ae(Oe.fromDom(t), "display")
            }
            function Eh(t) {
                return ho(t) && !(Hn(o = t) && "all" === o.getAttribute("data-mce-bogus"));
                var o
            }
            function zd(t) {
                Pa(t),
                no(t, Oe.fromHtml('<br data-mce-bogus="1">'))
            }
            function hT(t) {
                at(t).each(function(o) {
                    wu(o).each(function(i) {
                        M(t) && Nu(o) && M(i) && aa(o)
                    })
                })
            }
            function Oy(t, o) {
                return f = Ct,
                qa(s = o, i = t) ? function(m, g) {
                    for (var b = Kn(g) ? g : Ct, x = m.dom, y = []; null != x.parentNode; ) {
                        var k = x.parentNode
                          , _ = Oe.fromDom(k);
                        if (y.push(_),
                        !0 === b(_))
                            break;
                        x = k
                    }
                    return y
                }(i, function(m) {
                    return f(m) || uo(m, s)
                }).slice(0, -1) : [];
                var i, s, f
            }
            function Df(t, o) {
                return [t].concat(Oy(t, o))
            }
            function U1(t, o, i) {
                return A1(t, o, i, gT)
            }
            function Dy(t, o) {
                return re(Df(Oe.fromDom(o.container()), t), M)
            }
            function Px(t, o, i) {
                return U1(t, o.dom, i).forall(function(s) {
                    return Dy(o, i).fold(function() {
                        return !1 === zc(s, i, o.dom)
                    }, function(f) {
                        return !1 === zc(s, i, o.dom) && qa(f, Oe.fromDom(s.container()))
                    })
                })
            }
            function Fd(t, o, i) {
                return Dy(o, i).fold(function() {
                    return U1(t, o.dom, i).forall(function(s) {
                        return !1 === zc(s, i, o.dom)
                    })
                }, function(s) {
                    return U1(t, s.dom, i).isNone()
                })
            }
            function pT(t) {
                return ki(t).exists(Nu)
            }
            function Ah(t, o, i) {
                var s = $n(nn(Df(Oe.fromDom(i.container()), o), M)).getOr(o);
                return zs(t, s.dom, i).filter(pT)
            }
            function W1(t, o) {
                return ki(o).exists(Nu) || Ah(!0, t, o).isSome()
            }
            function j1(t, o) {
                return ee.from(o.getNode(!0)).map(Oe.fromDom).exists(Nu) || Ah(!1, t, o).isSome()
            }
            function My(t) {
                return et.isTextPosition(t) && !t.isAtStart() && !t.isAtEnd()
            }
            function Bx(t, o) {
                return $n(nn(Df(Oe.fromDom(o.container()), t), M)).getOr(t)
            }
            function Ry(t, o) {
                return My(o) ? i0(o) : i0(o) || pc(Bx(t, o).dom, o).exists(i0)
            }
            function Km(t, o) {
                return My(o) ? Id(o) : Id(o) || du(Bx(t, o).dom, o).exists(Id)
            }
            function G1(t) {
                return ki(t).bind(function(o) {
                    return Hi(o, un)
                }).exists(function(o) {
                    return D(["pre", "pre-wrap"], Ae(o, "white-space"))
                })
            }
            function Oh(t, o) {
                return !G1(o) && (e2(t, o) || Jx(t, o) || j1(t, o) || Ry(t, o))
            }
            function q1(t, o) {
                return !G1(o) && (Yx(t, o) || ST(t, o) || W1(t, o) || Km(t, o))
            }
            function Nx(t, o) {
                return Oh(t, o) || q1(t, (s = (i = o).container(),
                f = i.offset(),
                dn(s) && f < s.data.length ? et(s, f + 1) : i));
                var i, s, f
            }
            function K1(t, o) {
                return dh(t.charAt(o))
            }
            function Py(t) {
                var o = t.container();
                return dn(o) && bo(o.data, Tn)
            }
            function zx(t) {
                var o = Oe.fromDom(t.getBody());
                t.selection.isCollapsed() && function(t, o) {
                    return ee.some(o).filter(Py).bind(function(i) {
                        var s, f, m, g, b, x, y, k, _, A = i.container(), P = t, z = (b = A).data, F = et(b, 0);
                        return (!K1(z, 0) || Nx(P, F) ? (k = (x = A).data,
                        (_ = bn(y = k.split(""), function(H, V) {
                            return dh(H) && 0 < V && V < y.length - 1 && rh(y[V - 1]) && rh(y[V + 1]) ? " " : H
                        }).join("")) !== k && (x.data = _,
                        1)) : (b.data = " " + z.slice(1),
                        1)) || (s = t,
                        m = (f = A).data,
                        g = et(f, m.length - 1),
                        K1(m, m.length - 1) && !Nx(s, g) && (f.data = m.slice(0, -1) + " ",
                        1)) ? ee.some(i) : ee.none()
                    })
                }(o, et.fromRangeStart(t.selection.getRng())).each(function(i) {
                    t.selection.setRng(i.toRange())
                })
            }
            function X1(t, o, i) {
                var s, f, m, g, b, x, y, k;
                0 !== i && (f = Ks(s = Oe.fromDom(t), M).getOr(s),
                m = t.data.slice(o, o + i),
                g = o + i >= t.data.length && q1(f, et(t, t.data.length)),
                b = 0 === o && Oh(f, et(t, 0)),
                t.replaceData(o, i, (y = b,
                k = g,
                kt(x = m, function(_, A) {
                    return kd(A) || dh(A) ? _.previousCharIsSpace || "" === _.str && y || _.str.length === x.length - 1 && k ? {
                        previousCharIsSpace: !1,
                        str: _.str + Tn
                    } : {
                        previousCharIsSpace: !0,
                        str: _.str + " "
                    } : {
                        previousCharIsSpace: !1,
                        str: _.str + A
                    }
                }, {
                    previousCharIsSpace: !1,
                    str: ""
                }).str)))
            }
            function Y1(t, o) {
                var i = t.data.slice(o);
                X1(t, o, i.length - $e(i).length)
            }
            function J1(t, o) {
                var i = t.data.slice(0, o)
                  , s = i.length - qt(i).length;
                X1(t, o - s, s)
            }
            function Sv(t, o, i, s) {
                void 0 === s && (s = !0);
                var f = qt(t.data).length
                  , m = s ? t : o
                  , g = s ? o : t;
                return s ? m.appendData(g.data) : m.insertData(0, g.data),
                aa(Oe.fromDom(g)),
                i && Y1(m, f),
                m
            }
            function Fx(t, o) {
                return s = t,
                f = (i = o).container(),
                m = i.offset(),
                !1 === et.isTextPosition(i) && f === s.parentNode && m > et.before(s).offset() ? et(o.container(), o.offset() - 1) : o;
                var i, s, f, m
            }
            function Ny(t) {
                return hi(t.previousSibling) ? ee.some(dn(o = t.previousSibling) ? et(o, o.data.length) : et.after(o)) : t.previousSibling ? Ll(t.previousSibling) : ee.none();
                var o
            }
            function zy(t) {
                return hi(t.nextSibling) ? ee.some(dn(o = t.nextSibling) ? et(o, 0) : et.before(o)) : t.nextSibling ? jo(t.nextSibling) : ee.none();
                var o
            }
            function as(t, o) {
                return Ny(o).orThunk(function() {
                    return zy(o)
                }).orThunk(function() {
                    return i = t,
                    f = et.before((s = o).previousSibling || s.parentNode),
                    pc(i, f).fold(function() {
                        return du(i, et.after(s))
                    }, ee.some);
                    var i, s, f
                })
            }
            function bT(t, o) {
                return zy(o).orThunk(function() {
                    return Ny(o)
                }).orThunk(function() {
                    return du(i = t, et.after(s = o)).fold(function() {
                        return pc(i, et.before(s))
                    }, ee.some);
                    var i, s
                })
            }
            function Ix(t, o, i) {
                i.fold(function() {
                    t.focus()
                }, function(s) {
                    t.selection.setRng(s.toRange(), o)
                })
            }
            function Lx(t, o) {
                return o && St(t.schema.getBlockElements(), Or(o))
            }
            function Hx(t) {
                if (pi(t)) {
                    var o = Oe.fromHtml('<br data-mce-bogus="1">');
                    return Pa(t),
                    no(t, o),
                    ee.some(et.before(o.dom))
                }
                return ee.none()
            }
            function Qi(t, o, i, s) {
                void 0 === s && (s = !0);
                var f, m, g, b, x, y, k, _, A, P, z, V, j = (o ? bT : as)(t.getBody(), V = i.dom).map(st(Fx, V)), K = Ks(i, st(Lx, t), (f = t.getBody(),
                function(pe) {
                    return pe.dom === f
                }
                )), oe = (b = j,
                m = g = i,
                x = St(t.schema.getTextInlineElements(), Or(m)),
                P = wu(g).filter(Bn),
                z = gi(g).filter(Bn),
                aa(g),
                k = z,
                _ = b,
                A = function(pe, X, ne) {
                    var ue = pe.dom
                      , Me = X.dom
                      , Fe = ue.data.length;
                    return Sv(ue, Me, x),
                    ne.container() === Me ? et(ue, Fe) : ne
                }
                ,
                ((y = P).isSome() && k.isSome() && _.isSome() ? ee.some(A(y.getOrDie(), k.getOrDie(), _.getOrDie())) : ee.none()).orThunk(function() {
                    return x && (P.each(function(pe) {
                        return J1(pe.dom, pe.dom.length)
                    }),
                    z.each(function(pe) {
                        return Y1(pe.dom, 0)
                    })),
                    b
                }));
                t.dom.isEmpty(t.getBody()) ? (t.setContent(""),
                t.selection.setCursorLocation()) : K.bind(Hx).fold(function() {
                    s && Ix(t, o, oe)
                }, function(pe) {
                    s && Ix(t, o, ee.some(pe))
                })
            }
            function Fy(t) {
                return ys(t, "td,th")
            }
            function Z1(t, o) {
                return {
                    start: t,
                    end: o
                }
            }
            function Q1(t, o) {
                return qf(Oe.fromDom(t), "td,th", o)
            }
            function Dh(t) {
                return !uo(t.start, t.end)
            }
            function e0(t, o) {
                return Nm(t.start, o).bind(function(i) {
                    return Nm(t.end, o).bind(function(s) {
                        return uo(i, s) ? ee.some(i) : ee.none()
                    })
                })
            }
            function Xm(t) {
                return function(o) {
                    return e0(o, t).map(function(i) {
                        return {
                            rng: o,
                            table: i,
                            cells: Fy(i)
                        }
                    })
                }
            }
            function Iy(t, o, i, s) {
                if (i.collapsed || !t.forall(Dh))
                    return ee.none();
                if (o.isSameTable) {
                    var f = t.bind(Xm(s));
                    return ee.some({
                        start: f,
                        end: f
                    })
                }
                var m, g, b = Q1(i.startContainer, s), x = Q1(i.endContainer, s), y = b.bind((g = s,
                function(_) {
                    return Nm(_, g).bind(function(A) {
                        return Cr(Fy(A)).map(function(P) {
                            return Z1(_, P)
                        })
                    })
                }
                )).bind(Xm(s)), k = x.bind((m = s,
                function(_) {
                    return Nm(_, m).bind(function(A) {
                        return $n(Fy(A)).map(function(P) {
                            return Z1(P, _)
                        })
                    })
                }
                )).bind(Xm(s));
                return ee.some({
                    start: y,
                    end: k
                })
            }
            function $x(t, o) {
                return Re(t, function(i) {
                    return uo(i, o)
                })
            }
            function Ly(t) {
                return Qo($x(t.cells, t.rng.start), $x(t.cells, t.rng.end), function(o, i) {
                    return t.cells.slice(o, i + 1)
                })
            }
            function Ym(t, o) {
                var i = o.startTable
                  , s = o.endTable
                  , f = t.cloneRange();
                return i.each(function(m) {
                    return f.setStartAfter(m.dom)
                }),
                s.each(function(m) {
                    return f.setEndBefore(m.dom)
                }),
                f
            }
            function Jm(t) {
                return tt(t, function(o) {
                    G(o, "contenteditable"),
                    zd(o)
                }),
                0
            }
            function t0(t, o, i, s) {
                var f = i.cloneRange();
                s ? (f.setStart(i.startContainer, i.startOffset),
                f.setEndAfter(o.dom.lastChild)) : (f.setStartBefore(o.dom.firstChild),
                f.setEnd(i.endContainer, i.endOffset)),
                t2(t, f, o, !1)
            }
            function $y(t) {
                var o = ci(t)
                  , i = Oe.fromDom(t.selection.getNode());
                ic(i.dom) && pi(i) ? t.selection.setCursorLocation(i.dom, 0) : t.selection.collapse(!0),
                1 < o.length && pn(o, function(s) {
                    return uo(s, i)
                }) && L(i, "data-mce-selected", "1")
            }
            function Iu(t, o, i) {
                var s = t.selection.getRng();
                return Jm(i.bind(function(f) {
                    var g, b, x = f.rng, y = f.isStartInTable, k = ee.from(t.dom.getParent(y ? x.endContainer : x.startContainer, t.dom.isBlock)).map(Oe.fromDom);
                    x.deleteContents(),
                    g = t,
                    b = y,
                    k.filter(pi).each(function(A) {
                        b ? aa(A) : (zd(A),
                        g.selection.setCursorLocation(A.dom, 0))
                    });
                    var _ = y ? o[0] : o[o.length - 1];
                    return t0(t, _, s, y),
                    pi(_) ? ee.none() : ee.some(y ? o.slice(1) : o.slice(0, -1))
                }).getOr(o)),
                $y(t),
                !0
            }
            function Mh(t, o, i, s) {
                var f = t.selection.getRng()
                  , m = o[0]
                  , g = i[i.length - 1];
                t0(t, m, f, !0),
                t0(t, g, f, !1);
                var b = pi(m) ? o : o.slice(1)
                  , x = pi(g) ? i : i.slice(0, -1);
                return Jm(b.concat(x)),
                s.deleteContents(),
                $y(t),
                !0
            }
            function Vx(t, o) {
                return Qi(t, !1, o),
                !0
            }
            function Vy(t, o) {
                return re(Df(o, t), Ft)
            }
            function Uy(t, o) {
                return (t ? Zy : Qy)(o)
            }
            function n0(t, o) {
                var i, s, f, m, g, b, x, y, k = Oe.fromDom(t.selection.getStart(!0)), _ = ci(t);
                return t.selection.isCollapsed() && 0 === _.length ? function(t, o, i) {
                    var s = Oe.fromDom(t.getBody());
                    return n2(s, i).fold(function() {
                        return m = o,
                        g = s,
                        b = i,
                        x = et.fromRangeStart((f = t).selection.getRng()),
                        Vy(g, b).bind(function(A) {
                            return pi(A) ? u0(f, A) : (P = g,
                            z = A,
                            F = x,
                            w1(m, f.getBody(), F).bind(function(H) {
                                return Vy(P, Oe.fromDom(H.getNode())).map(function(V) {
                                    return !1 === uo(V, z)
                                })
                            }));
                            var P, z, F
                        }).getOr(!1) || (k = o,
                        _ = et.fromRangeStart((y = t).selection.getRng()),
                        Uy(k, _) || zs(k, y.getBody(), _).exists(function(A) {
                            return Uy(k, A)
                        }));
                        var f, m, g, b, x, y, k, _
                    }, function(f) {
                        return _ = o,
                        A = s,
                        P = f,
                        z = et.fromRangeStart((k = t).selection.getRng()),
                        (pi(P) ? u0(k, P) : (g = A,
                        x = P,
                        y = z,
                        w1(b = _, (m = k).getBody(), y).bind(function(F) {
                            return j = b,
                            K = y,
                            oe = F,
                            jo((V = x).dom).bind(function(pe) {
                                return Ll(V.dom).map(function(X) {
                                    return j ? K.isEqual(pe) && oe.isEqual(X) : K.isEqual(X) && oe.isEqual(pe)
                                })
                            }).getOr(!0) ? u0(m, x) : (H = x,
                            n2(g, Oe.fromDom(F.getNode())).map(function(pe) {
                                return !1 === uo(pe, H)
                            }));
                            var H, V, j, K, oe
                        }).or(ee.some(!0)))).getOr(!1);
                        var m, g, b, x, y, k, _, A, P, z
                    })
                }(t, o, k) : (s = k,
                f = _,
                m = Oe.fromDom((i = t).getBody()),
                g = i.selection.getRng(),
                0 !== f.length ? Iu(i, f, ee.none()) : (b = i,
                y = g,
                n2(x = m, s).fold(function() {
                    return A = b,
                    function(t, o) {
                        var i, s, f, m, g, b, x, y, k, _, A, P, z, F, H, V, j = (i = t,
                        function(X) {
                            return uo(i, X)
                        }
                        ), K = Qo(Q1((s = o).startContainer, f = j), Q1(s.endContainer, f), Z1), oe = (k = j,
                        _ = pe((y = o).startContainer),
                        A = pe(y.endContainer),
                        P = _.isSome(),
                        z = A.isSome(),
                        {
                            startTable: _,
                            endTable: A,
                            isStartInTable: P,
                            isEndInTable: z,
                            isSameTable: F = Qo(_, A, uo).getOr(!1),
                            isMultiTable: !F && P && z
                        });
                        function pe(X) {
                            return Nm(Oe.fromDom(X), k)
                        }
                        return H = o,
                        V = j,
                        K.exists(function(X) {
                            return !Dh(ne = X) && e0(ne, V).exists(function(ue) {
                                var Me = ue.dom.rows;
                                return 1 === Me.length && 1 === Me[0].cells.length
                            }) && Il(X.start, H);
                            var ne
                        }) ? K.map(function(X) {
                            return Ih.singleCellTable(o, X.start)
                        }) : oe.isMultiTable ? Iy(K, b = oe, x = o, j).bind(function(X) {
                            var ue = X.end
                              , Me = X.start.bind(Ly).getOr([])
                              , Fe = ue.bind(Ly).getOr([]);
                            if (0 < Me.length && 0 < Fe.length) {
                                var Ge = Ym(x, b);
                                return ee.some(Ih.multiTable(Me, Fe, Ge))
                            }
                            return ee.none()
                        }) : Iy(K, m = oe, g = o, j).bind(function(X) {
                            return X.start.or(X.end)
                        }).bind(function(X) {
                            var ne = m.isSameTable
                              , ue = Ly(X).getOr([]);
                            if (ne && X.cells.length === ue.length)
                                return ee.some(Ih.fullTable(X.table));
                            if (0 < ue.length) {
                                if (ne)
                                    return ee.some(Ih.partialTable(ue, ee.none()));
                                var Me = Ym(g, m);
                                return ee.some(Ih.partialTable(ue, ee.some(en(en({}, m), {
                                    rng: Me
                                }))))
                            }
                            return ee.none()
                        })
                    }(x, y).map(function(P) {
                        return P.fold(st(t2, A), st(Vx, A), st(Iu, A), st(Mh, A))
                    });
                    var A
                }, function(A) {
                    return u0(b, A)
                }).getOr(!1)))
            }
            function Wy(t) {
                return t.collapsed ? t : (i = et.fromRangeStart(o = t),
                s = et.fromRangeEnd(o),
                zs(!1, f = o.commonAncestorContainer, s).map(function(m) {
                    return !zc(i, s, f) && zc(i, m, f) ? (g = i.container(),
                    b = i.offset(),
                    x = m.container(),
                    y = m.offset(),
                    (k = document.createRange()).setStart(g, b),
                    k.setEnd(x, y),
                    k) : o;
                    var g, b, x, y, k
                }).getOr(o));
                var o, i, s, f
            }
            function Rh(t, o) {
                var i = t.getParent(o, t.isBlock);
                return i && "LI" === i.nodeName ? i : null
            }
            function Wx(t, o) {
                var i = et.after(t)
                  , s = ta(o).prev(i);
                return s ? s.toRange() : null
            }
            function CT(t, o, i) {
                var s, f, m, g, b = t.selection, x = t.dom;
                /^ | $/.test(o) && (s = x,
                f = b.getRng(),
                m = o,
                m = Oh(g = Oe.fromDom(s.getRoot()), et.fromRangeStart(f)) ? m.replace(/^ /, "&nbsp;") : m.replace(/^&nbsp;/, " "),
                o = m = q1(g, et.fromRangeEnd(f)) ? m.replace(/(&nbsp;| )(<br( \/)>)?$/, "&nbsp;") : m.replace(/&nbsp;(<br( \/)?>)?$/, " "));
                var y = t.parser
                  , k = i.merge
                  , _ = Gm({
                    validate: t.getParam("validate")
                }, t.schema)
                  , A = '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>'
                  , P = t.fire("BeforeSetContent", {
                    content: o,
                    format: "html",
                    selection: !0,
                    paste: i.paste
                });
                if (P.isDefaultPrevented())
                    t.fire("SetContent", {
                        content: P.content,
                        format: "html",
                        selection: !0,
                        paste: i.paste
                    });
                else {
                    -1 === (o = P.content).indexOf("{$caret}") && (o += "{$caret}"),
                    o = o.replace(/\{\$caret\}/, A);
                    var z, F, H = (z = b.getRng()).startContainer || (z.parentElement ? z.parentElement() : null), V = t.getBody();
                    H === V && b.isCollapsed() && x.isBlock(V.firstChild) && (F = V.firstChild) && !t.schema.getShortEndedElements()[F.nodeName] && x.isEmpty(V.firstChild) && ((z = x.createRng()).setStart(V.firstChild, 0),
                    z.setEnd(V.firstChild, 0),
                    b.setRng(z)),
                    b.isCollapsed() || function(Ht) {
                        var zt = Ht.dom
                          , ln = Wy(Ht.selection.getRng());
                        Ht.selection.setRng(ln);
                        var ft, Zt = zt.getParent(ln.startContainer, Gr), Mt = ln;
                        null !== (ft = Zt) && ft === zt.getParent(Mt.endContainer, Gr) && Il(Oe.fromDom(ft), Mt) ? t2(Ht, ln, Oe.fromDom(Zt)) : Ht.getDoc().execCommand("Delete", !1, null)
                    }(t);
                    var j, K, oe, pe, ne, ue, Me, Fe, Ge, Ve, he, ye, De, He = {
                        context: (Lt = b.getNode()).nodeName.toLowerCase(),
                        data: i.data,
                        insert: !0
                    }, Dt = y.parse(o, He);
                    if (!0 === i.paste && function(t, o) {
                        var i, s, f, m, g, b = o.firstChild, x = o.lastChild;
                        return b && "meta" === b.name && (b = b.next),
                        s = x = x && "mce_marker" === x.attr("id") ? x.prev : x,
                        f = (i = t).getNonEmptyElements(),
                        s && (s.isEmpty(f) || (m = s,
                        i.getBlockElements()[m.name] && m.firstChild && m.firstChild === m.lastChild && ("br" === (g = m.firstChild).name || g.value === Tn))) && (x = x.prev),
                        b && b === x && ("ul" === b.name || "ol" === b.name)
                    }(t.schema, Dt) && Rh(x, Lt))
                        return z = function(t, o, i, s) {
                            function f(He) {
                                var Dt = et.fromRangeStart(i)
                                  , It = ta(o.getRoot())
                                  , Tt = 1 === He ? It.prev(Dt) : It.next(Dt);
                                return !Tt || Rh(o, Tt.getNode()) !== he
                            }
                            var m, g, b, x, y, k, _, A, P, z, F, H, V, j, K, oe, pe, X, ne, ue, Me, Fe, Ge, Ve = (m = o,
                            y = t.serialize(s),
                            b = (g = m.createFragment(y)).firstChild,
                            x = g.lastChild,
                            b && "META" === b.nodeName && b.parentNode.removeChild(b),
                            x && "mce_marker" === x.id && x.parentNode.removeChild(x),
                            g), he = Rh(o, i.startContainer), ye = function(t) {
                                return 0 < t.length && (!(s = t[t.length - 1]).firstChild || (o = s) && o.firstChild && o.firstChild === o.lastChild && ((i = o.firstChild).data === Tn || zn(i))) ? t.slice(0, -1) : t;
                                var o, i, s
                            }(nn(Ve.firstChild.childNodes, function(He) {
                                return "LI" === He.nodeName
                            })), De = o.getRoot();
                            return f(1) ? (ne = De,
                            Ge = (X = he).parentNode,
                            Ke.each(ye, function(He) {
                                Ge.insertBefore(He, X)
                            }),
                            ue = ne,
                            Me = et.before(X),
                            (Fe = ta(ue).next(Me)) ? Fe.toRange() : null) : f(2) ? (k = he,
                            A = De,
                            o.insertAfter((_ = ye).reverse(), k),
                            Wx(_[0], A)) : (z = ye,
                            F = De,
                            H = P = he,
                            j = (V = i).cloneRange(),
                            K = V.cloneRange(),
                            j.setStartBefore(H),
                            K.setEndAfter(H),
                            oe = [j.cloneContents(), K.cloneContents()],
                            (pe = P.parentNode).insertBefore(oe[0], P),
                            Ke.each(z, function(He) {
                                pe.insertBefore(He, P)
                            }),
                            pe.insertBefore(oe[1], P),
                            pe.removeChild(P),
                            Wx(z[z.length - 1], F))
                        }(_, x, b.getRng(), Dt),
                        b.setRng(z),
                        void t.fire("SetContent", P);
                    if (function() {
                        for (var Ht = Dt; Ht = Ht.walk(); )
                            1 === Ht.type && Ht.attr("data-mce-fragment", "1")
                    }(),
                    "mce_marker" === (Tt = Dt.lastChild).attr("id"))
                        for (var It = Tt, Tt = Tt.prev; Tt; Tt = Tt.walk(!0))
                            if (3 === Tt.type || !x.isBlock(Tt.name)) {
                                t.schema.isValidChild(Tt.parent.name, "span") && Tt.parent.insert(It, Tt, "br" === Tt.name);
                                break
                            }
                    if (t._selectionOverrides.showBlockCaretContainer(Lt),
                    He.invalid) {
                        t.selection.setContent(A);
                        var Lt = b.getNode()
                          , Rt = t.getBody();
                        for (9 === Lt.nodeType ? Lt = Tt = Rt : Tt = Lt; Tt !== Rt; )
                            Tt = (Lt = Tt).parentNode;
                        o = Lt === Rt ? Rt.innerHTML : x.getOuterHTML(Lt),
                        o = _.serialize(y.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i, function() {
                            return _.serialize(Dt)
                        }))),
                        Lt === Rt ? x.setHTML(Rt, o) : x.setOuterHTML(Lt, o)
                    } else
                        j = t,
                        K = o = _.serialize(Dt),
                        "all" === (oe = Lt).getAttribute("data-mce-bogus") ? oe.parentNode.insertBefore(j.dom.createFragment(K), oe) : !(pe = oe.firstChild) || pe === oe.lastChild && "BR" === pe.nodeName ? j.dom.setHTML(oe, K) : j.selection.setContent(K);
                    ue = k,
                    Ge = (ne = t).schema.getTextInlineElements(),
                    Ve = ne.dom,
                    ue && (Me = ne.getBody(),
                    Fe = Nd(Ve),
                    Ke.each(Ve.select("*[data-mce-fragment]"), function(Ht) {
                        if (gn(Ge[Ht.nodeName.toLowerCase()]) && Le(kh(Ve, Ht), function(ln) {
                            return !Ay.has(ln)
                        }))
                            for (var zt = Ht.parentNode; gn(zt) && zt !== Me && !function(ln, ft, Zt) {
                                function Mt(Vr) {
                                    var ve = ln.getStyle(ft, Vr)
                                      , Ce = ln.getStyle(Zt, Vr);
                                    return Ga(ve) && Ga(Ce) && ve !== Ce
                                }
                                var xn = kh(ln, ft)
                                  , mn = kh(ln, Zt);
                                return pn(xn, function(Vr) {
                                    function ve(Je) {
                                        return pn(Je, function(bt) {
                                            return bt === Vr
                                        })
                                    }
                                    if (ve(mn) || !ve(a0))
                                        return Mt(Vr);
                                    var Ce = nn(mn, function(Je) {
                                        return pn(a0, function(bt) {
                                            return Ee(Je, bt)
                                        })
                                    });
                                    return pn(Ce, Mt)
                                })
                            }(Ve, Ht, zt); zt = zt.parentNode)
                                if (Fe.compare(zt, Ht)) {
                                    Ve.remove(Ht, !0);
                                    break
                                }
                    })),
                    function(Ht, zt) {
                        var ln, ft = Ht.dom, Zt = Ht.selection;
                        if (zt) {
                            Zt.scrollIntoView(zt);
                            var Mt = pv(Ht.getBody(), zt);
                            if ("false" === ft.getContentEditable(Mt))
                                return ft.remove(zt),
                                Zt.select(Mt);
                            var xn, mn = ft.createRng(), Vr = zt.previousSibling;
                            dn(Vr) ? (mn.setStart(Vr, Vr.nodeValue.length),
                            er.ie || dn(xn = zt.nextSibling) && (Vr.appendData(xn.data),
                            xn.parentNode.removeChild(xn))) : (mn.setStartBefore(zt),
                            mn.setEndBefore(zt));
                            var ve = ft.getParent(zt, ft.isBlock);
                            ft.remove(zt),
                            ve && ft.isEmpty(ve) && (Ht.$(ve).empty(),
                            mn.setStart(ve, 0),
                            mn.setEnd(ve, 0),
                            Gr(ve) || ve.getAttribute("data-mce-fragment") || !(ln = function(Ce) {
                                var Je = et.fromRangeStart(Ce);
                                if (Je = ta(Ht.getBody()).next(Je))
                                    return Je.toRange()
                            }(mn)) ? ft.add(ve, ft.create("br", {
                                "data-mce-bogus": "1"
                            })) : (mn = ln,
                            ft.remove(ve))),
                            Zt.setRng(mn)
                        }
                    }(t, x.get("mce_marker")),
                    he = t.getBody(),
                    Ke.each(he.getElementsByTagName("*"), function(Ht) {
                        Ht.removeAttribute("data-mce-fragment")
                    }),
                    ye = x,
                    De = b.getStart(),
                    ee.from(ye.getParent(De, "td,th")).map(Oe.fromDom).each(hT),
                    t.fire("SetContent", P),
                    t.addVisual()
                }
            }
            function jy(t) {
                return t instanceof ba
            }
            function Gy(t, o, i) {
                var s;
                t.dom.setHTML(t.getBody(), o),
                !0 !== i && Of(s = t) && jo(s.getBody()).each(function(f) {
                    var m = f.getNode()
                      , g = qu(m) ? jo(m).getOr(f) : f;
                    s.selection.setRng(g.toRange())
                })
            }
            function qy(t) {
                return Kn(t) ? t : Ct
            }
            function Ky(t, o, i) {
                var s = o(t)
                  , f = qy(i);
                return s.orThunk(function() {
                    return f(t) ? ee.none() : function(m) {
                        for (var g = t.dom, b = qy(f); g.parentNode; ) {
                            var x = Oe.fromDom(g = g.parentNode)
                              , y = m(x);
                            if (y.isSome())
                                return y;
                            if (b(x))
                                break
                        }
                        return ee.none()
                    }(o)
                })
            }
            function Ph(t, o, i) {
                var s = t.formatter.get(i);
                if (s)
                    for (var f = 0; f < s.length; f++) {
                        var m = s[f];
                        if (na(m) && !1 === m.inherit && t.dom.is(o, m.selector))
                            return 1
                    }
            }
            function Xy(t, o, i, s, f) {
                var m = t.dom.getRoot();
                return o !== m && (o = t.dom.getParent(o, function(g) {
                    return !!Ph(t, g, i) || g.parentNode === m || !!Uc(t, g, i, s, !0)
                }),
                !!Uc(t, o, i, s, f))
            }
            function Yy(t, o, i) {
                return !!Pf(o, i.inline) || !!Pf(o, i.block) || (i.selector ? 1 === o.nodeType && t.is(o, i.selector) : void 0)
            }
            function Gx(t, o, i, s, f, m) {
                var g = i[s];
                if (Kn(i.onmatch))
                    return i.onmatch(o, i, s);
                if (g)
                    if (In(g.length)) {
                        for (var b in g)
                            if (St(g, b)) {
                                var x = "attributes" === s ? t.getAttrib(o, b) : fl(t, o, b)
                                  , y = Hc(g[b], m)
                                  , k = Hr(x) || qi(x);
                                if ((!k || !Hr(y)) && (f && k && !i.exact || (!f || i.exact) && !Pf(x, _u(t, y, b))))
                                    return
                            }
                    } else
                        for (var _ = 0; _ < g.length; _++)
                            if ("attributes" === s ? t.getAttrib(o, g[_]) : fl(t, o, g[_]))
                                return 1;
                return 1
            }
            function Au(t, o, i, s, f) {
                if (s)
                    return Xy(t, s, o, i, f);
                if (s = t.selection.getNode(),
                Xy(t, s, o, i, f))
                    return !0;
                var m = t.selection.getStart();
                return !(m === s || !Xy(t, m, o, i, f))
            }
            function Bh(t) {
                return 0 < function(o) {
                    for (var i = []; o; ) {
                        if (3 === o.nodeType && o.nodeValue !== tg || 1 < o.childNodes.length)
                            return [];
                        1 === o.nodeType && i.push(o),
                        o = o.firstChild
                    }
                    return i
                }(t).length
            }
            function Nh(t) {
                if (t) {
                    var o = new ao(t,t);
                    for (t = o.current(); t; t = o.next())
                        if (dn(t))
                            return t
                }
                return null
            }
            function r0(t) {
                var o = Oe.fromTag("span");
                return R(o, {
                    id: s0,
                    "data-mce-bogus": "1",
                    "data-mce-type": "format-caret"
                }),
                t && no(o, Oe.fromText(tg)),
                o
            }
            function zh(t, o, i) {
                void 0 === i && (i = !0);
                var s, f, m, g, b, x, y, k, _ = t.dom, A = t.selection;
                Bh(o) ? Qi(t, !1, Oe.fromDom(o), i) : (s = A.getRng(),
                f = _.getParent(o, _.isBlock),
                m = s.startContainer,
                g = s.startOffset,
                b = s.endContainer,
                x = s.endOffset,
                (k = Nh(o)) && k.nodeValue.charAt(0) === tg && k.deleteData(0, 1),
                y = k,
                _.remove(o, !0),
                m === y && 0 < g && s.setStart(y, g - 1),
                b === y && 0 < x && s.setEnd(y, x - 1),
                f && _.isEmpty(f) && zd(Oe.fromDom(f)),
                A.setRng(s))
            }
            function Zm(t, o, i) {
                void 0 === i && (i = !0);
                var s = t.dom
                  , f = t.selection;
                if (o)
                    zh(t, o, i);
                else if (!(o = Js(t.getBody(), f.getStart())))
                    for (; o = s.get(s0); )
                        zh(t, o, !1)
            }
            function Mf(t, o) {
                return t.appendChild(o),
                o
            }
            function o0(t, o) {
                var i = ir(t, function(s, f) {
                    return Mf(s, f.cloneNode(!1))
                }, o);
                return Mf(i, i.ownerDocument.createTextNode(tg))
            }
            function qx(t, o) {
                var i = t.schema.getTextInlineElements();
                return St(i, Or(o)) && !ll(o.dom) && !Ya(o.dom)
            }
            tt(["margin", "margin-left", "margin-right", "margin-top", "margin-bottom", "padding", "padding-left", "padding-right", "padding-top", "padding-bottom", "border", "border-width", "border-style", "border-color", "background", "background-attachment", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-repeat", "background-size", "float", "position", "left", "right", "top", "bottom", "z-index", "display", "transform", "width", "max-width", "min-width", "height", "max-height", "min-height", "overflow", "overflow-x", "overflow-y", "text-overflow", "vertical-align", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function"], function(t) {
                Ay.add(t)
            });
            var Fh, a0 = ["font", "text-decoration", "text-emphasis"], Id = st(Rx, !0, kd), i0 = st(Rx, !1, kd), Kx = Cv(!0, qm), Xx = Cv(!1, qm), Qm = Cv(!0, Bo), eg = Cv(!1, Bo), Zy = Cv(!0, qu), Qy = Cv(!1, qu), _v = Cv(!0, Eh), kv = Cv(!1, Eh), e2 = st(Fd, !1), Yx = st(Fd, !0), Jx = st(Px, !1), ST = st(Px, !0), Zx = st(Ah, !1), TT = st(Ah, !0), Ih = ia([{
                singleCellTable: ["rng", "cell"]
            }, {
                fullTable: ["table"]
            }, {
                partialTable: ["cells", "outsideDetails"]
            }, {
                multiTable: ["startTableCells", "endTableCells", "betweenRng"]
            }]), Qx = function(t) {
                var o;
                return (8 === js(o = t) || "#comment" === Or(o) ? wu : at)(t).bind(Qx).orThunk(function() {
                    return ee.some(t)
                })
            }, t2 = function(t, o, i, s) {
                void 0 === s && (s = !0),
                o.deleteContents();
                var f, m = Qx(i).getOr(i), g = Oe.fromDom(t.dom.getParent(m.dom, t.dom.isBlock));
                return pi(g) && (zd(g),
                s && t.selection.setCursorLocation(g.dom, 0)),
                uo(i, g) || tt((Ti(Ta(g), i) ? [] : Ta(f = g).map(to).map(function(b) {
                    return nn(b, function(x) {
                        return !uo(f, x)
                    })
                }).getOr([])).concat(to(i)), function(b) {
                    uo(b, g) || qa(b, g) || !pi(b) || aa(b)
                }),
                !0
            }, n2 = function(t, o) {
                return re(Df(o, t), function(i) {
                    return un(i) && "caption" === Or(i)
                })
            }, u0 = function(t, o) {
                return zd(o),
                t.selection.setCursorLocation(o.dom, 0),
                ee.some(!0)
            }, Gr = ic, Rf = function(t, o) {
                o(t),
                t.firstChild && Rf(t.firstChild, o),
                t.next && Rf(t.next, o)
            }, Pf = vo, Uc = function(t, o, i, s, f) {
                var m = t.formatter.get(i)
                  , g = t.dom;
                if (m && o)
                    for (var b = 0; b < m.length; b++) {
                        var x = m[b];
                        if (Yy(t.dom, o, x) && Gx(g, o, x, "attributes", f, s) && Gx(g, o, x, "styles", f, s)) {
                            var y = x.classes;
                            if (y)
                                for (var k = 0; k < y.length; k++)
                                    if (!t.dom.hasClass(o, Hc(y[k], s)))
                                        return;
                            return x
                        }
                    }
            }, tg = hr, s0 = "_mce_caret", c0 = {}, l0 = vn, f0 = Vt;
            function v0(t) {
                return Hn(t) && !Ns(t) && !ll(t) && !Ya(t)
            }
            function r2(t, o) {
                for (var i = t; i; i = i[o]) {
                    if (dn(i) && Ga(i.data))
                        return t;
                    if (Hn(i) && !Ns(i))
                        return i
                }
                return t
            }
            function eC(t, o, i) {
                var s = Nd(t);
                if (o && i && (o = r2(o, "previousSibling"),
                i = r2(i, "nextSibling"),
                s.compare(o, i))) {
                    for (var f = o.nextSibling; f && f !== i; ) {
                        var m = f;
                        f = f.nextSibling,
                        o.appendChild(m)
                    }
                    return t.remove(i),
                    Ke.each(Ke.grep(i.childNodes), function(g) {
                        o.appendChild(g)
                    }),
                    o
                }
                return i
            }
            function tC(t, o, i, s) {
                var f;
                s && !1 !== o.merge_siblings && (f = eC(t, ry(s), s),
                eC(t, f, ry(f, !0)))
            }
            function nC(t, o) {
                return function(i) {
                    return !(!i || !fl(t, i, o))
                }
            }
            function rC(t, o, i) {
                return function(s) {
                    var f, m;
                    t.setStyle(s, o, i),
                    "" === s.getAttribute("style") && s.removeAttribute("style"),
                    f = t,
                    "SPAN" === (m = s).nodeName && 0 === f.getAttribs(m).length && f.remove(m, !0)
                }
            }
            function oC(t, o, i) {
                return t.isChildOf(o, i) && o !== i && !t.isBlock(i)
            }
            function o2(t, o, i) {
                var s, f = o[i ? "startContainer" : "endContainer"], m = o[i ? "startOffset" : "endOffset"];
                return Hn(f) && (!i && m && m--,
                f = f.childNodes[(s = f.childNodes.length - 1) < m ? s : m]),
                dn(f) && i && m >= f.nodeValue.length && (f = new ao(f,t.getBody()).next() || f),
                dn(f) && !i && 0 === m && new ao(f,t.getBody()).prev() || f
            }
            function aC(t, o) {
                var i = o ? "firstChild" : "lastChild";
                if (/^(TR|TH|TD)$/.test(t.nodeName) && t[i]) {
                    var s = t[i];
                    return "TR" === t.nodeName && s[i] || s
                }
                return t
            }
            function Lh(t, o, i, s) {
                var f = t.create(i, s);
                return o.parentNode.insertBefore(f, o),
                f.appendChild(o),
                f
            }
            function a2(t, o, i, s, f) {
                var m = Oe.fromDom(o)
                  , g = Oe.fromDom(t.create(s, f));
                return Xi(g, (i ? J : Ki)(m)),
                i ? (Ir(m, g),
                Xa(g, m)) : (_a(m, g),
                no(g, m)),
                g.dom
            }
            function Hh(t, o, i, s) {
                var f = ry(o, i, s);
                return Hr(f) || "BR" === f.nodeName || t.isBlock(f)
            }
            function d0(t, o, i, s, f) {
                var m, g, b = t.dom, x = b, y = s;
                if (!(ti(g = o) && Ov(y, g.inline) || vl(g) && Ov(y, g.block) || na(g) && Hn(y) && x.is(y, g.selector) || o.links && "A" === s.nodeName))
                    return qh.keep();
                var k, _, A, P, z, F, H, V, j = s;
                if (ti(o) && "all" === o.remove && Se(o.preserve_attributes)) {
                    var K = nn(b.getAttribs(j), function(ne) {
                        return D(o.preserve_attributes, ne.name.toLowerCase())
                    });
                    if (b.removeAllAttribs(j),
                    tt(K, function(ne) {
                        return b.setAttrib(j, ne.name, ne.value)
                    }),
                    0 < K.length)
                        return qh.rename("span")
                }
                if ("all" !== o.remove) {
                    Kh(o.styles, function(ne, ue) {
                        ne = _u(b, Hc(ne, i), ue + ""),
                        $o(ue) && (ue = ne,
                        f = null),
                        !o.remove_similar && f && !Ov(fl(b, f, ue), ne) || b.setStyle(j, ue, ""),
                        m = !0
                    }),
                    m && "" === b.getAttrib(j, "style") && (j.removeAttribute("style"),
                    j.removeAttribute("data-mce-style")),
                    Kh(o.attributes, function(ne, ue) {
                        var Me;
                        if (ne = Hc(ne, i),
                        $o(ue) && (ue = ne,
                        f = null),
                        o.remove_similar || !f || Ov(b.getAttrib(f, ue), ne))
                            if ("class" === ue && (ne = b.getAttrib(j, ue)) && (Me = "",
                            tt(ne.split(/\s+/), function(Fe) {
                                /mce\-\w+/.test(Fe) && (Me += (Me ? " " : "") + Fe)
                            }),
                            Me))
                                b.setAttrib(j, ue, Me);
                            else {
                                if (mC.test(ue) && j.removeAttribute("data-mce-" + ue),
                                "style" === ue && ka(["li"])(j) && "none" === b.getStyle(j, "list-style-type"))
                                    return j.removeAttribute(ue),
                                    void b.setStyle(j, "list-style-type", "none");
                                "class" === ue && j.removeAttribute("className"),
                                j.removeAttribute(ue)
                            }
                    }),
                    Kh(o.classes, function(ne) {
                        ne = Hc(ne, i),
                        f && !b.hasClass(f, ne) || b.removeClass(j, ne)
                    });
                    for (var oe = b.getAttribs(j), pe = 0; pe < oe.length; pe++) {
                        var X = oe[pe].nodeName;
                        if (0 !== X.indexOf("_") && 0 !== X.indexOf("data-"))
                            return qh.keep()
                    }
                }
                return "none" !== o.remove ? (A = o,
                F = (_ = j).parentNode,
                H = (k = t).dom,
                V = zu(k),
                vl(A) && (V ? F === H.getRoot() && (A.list_block && Ov(_, A.list_block) || tt(Go(_.childNodes), function(ne) {
                    fu(k, V, ne.nodeName.toLowerCase()) ? P ? P.appendChild(ne) : (P = Lh(H, ne, V),
                    H.setAttribs(P, k.settings.forced_root_block_attrs)) : P = null
                })) : H.isBlock(_) && !H.isBlock(F) && (Hh(H, _, !1) || Hh(H, _.firstChild, !0, !0) || _.insertBefore(H.create("br"), _.firstChild),
                Hh(H, _, !0) || Hh(H, _.lastChild, !1, !0) || _.appendChild(H.create("br")))),
                na(z = A) && ti(z) && Ti(pt(z, "mixed"), !0) && !Ov(A.inline, _) || H.remove(_, !0),
                qh.removed()) : qh.keep()
            }
            function ng(t, o, i, s, f) {
                return d0(t, o, i, s, f).fold(Ct, function(m) {
                    return t.dom.rename(s, m),
                    !0
                }, Ot)
            }
            function iC(t, o, i, s, f) {
                function m(V) {
                    var j, K, oe, pe, X, ne = (K = o,
                    oe = i,
                    pe = f,
                    tt(Ho((j = t).dom, V.parentNode).reverse(), function(ue) {
                        var Me;
                        X || "_start" === ue.id || "_end" === ue.id || (Me = Uc(j, ue, K, oe, pe)) && !1 !== Me.split && (X = ue)
                    }),
                    X);
                    return function(ue, Me, Fe, Ge, Ve, he, ye, De) {
                        var He, Dt, It = ue.dom;
                        if (Fe) {
                            for (var Tt = Fe.parentNode, Lt = Ge.parentNode; Lt && Lt !== Tt; Lt = Lt.parentNode) {
                                for (var Rt = It.clone(Lt, !1), Ht = 0; Ht < Me.length && null !== (Rt = function(zt, ln, ft) {
                                    return d0(zt, ln, De, ft, ft).fold(xe(ft), function(Zt) {
                                        return zt.dom.createFragment().appendChild(ft),
                                        zt.dom.rename(ft, Zt)
                                    }, xe(null))
                                }(ue, Me[Ht], Rt)); Ht++)
                                    ;
                                Rt && (He && Rt.appendChild(He),
                                Dt = Dt || Rt,
                                He = Rt)
                            }
                            ye.mixed && It.isBlock(Fe) || (Ge = It.split(Fe, Ge)),
                            He && (Ve.parentNode.insertBefore(He, Ve),
                            Dt.appendChild(Ve),
                            ti(ye) && tC(It, ye, 0, He))
                        }
                        return Ge
                    }(t, k, ne, V, V, 0, _, i)
                }
                function g(V) {
                    return pn(k, function(j) {
                        return ng(t, j, i, V, V)
                    })
                }
                function b(V) {
                    var j, K = P.get(V ? "_start" : "_end"), oe = K[V ? "firstChild" : "lastChild"];
                    return Ns(j = oe) && Hn(j) && ("_start" === j.id || "_end" === j.id) && (oe = oe[V ? "firstChild" : "lastChild"]),
                    dn(oe) && 0 === oe.data.length && (oe = V ? K.previousSibling || K.nextSibling : K.nextSibling || K.previousSibling),
                    P.remove(K, !0),
                    oe
                }
                function x(V) {
                    var j = Ad(t, V, k, V.collapsed);
                    if (_.split) {
                        if (j = hh(j),
                        (oe = o2(t, j, !0)) !== (pe = o2(t, j))) {
                            if (oe = aC(oe, !0),
                            pe = aC(pe, !1),
                            oC(P, oe, pe)) {
                                var K = ee.from(oe.firstChild).getOr(oe);
                                return m(a2(P, K, !0, "span", {
                                    id: "_start",
                                    "data-mce-type": "bookmark"
                                })),
                                void b(!0)
                            }
                            if (oC(P, pe, oe))
                                return K = ee.from(pe.lastChild).getOr(pe),
                                m(a2(P, K, !1, "span", {
                                    id: "_end",
                                    "data-mce-type": "bookmark"
                                })),
                                void b(!1);
                            var oe = Lh(P, oe, "span", {
                                id: "_start",
                                "data-mce-type": "bookmark"
                            })
                              , pe = Lh(P, pe, "span", {
                                id: "_end",
                                "data-mce-type": "bookmark"
                            })
                              , X = P.createRng();
                            X.setStartAfter(oe),
                            X.setEndBefore(pe),
                            Fl(P, X, function(ne) {
                                tt(ne, function(ue) {
                                    Ns(ue) || Ns(ue.parentNode) || m(ue)
                                })
                            }),
                            m(oe),
                            m(pe),
                            oe = b(!0),
                            pe = b()
                        } else
                            oe = pe = m(oe);
                        j.startContainer = oe.parentNode || oe,
                        j.startOffset = P.nodeIndex(oe),
                        j.endContainer = pe.parentNode || pe,
                        j.endOffset = P.nodeIndex(pe) + 1
                    }
                    Fl(P, j, function(ne) {
                        tt(ne, F)
                    })
                }
                var y, k = t.formatter.get(o), _ = k[0], A = !0, P = t.dom, z = t.selection, F = function(V) {
                    var j = !0
                      , K = !1;
                    Hn(V) && P.getContentEditable(V) && (j = A,
                    A = "true" === P.getContentEditable(V),
                    K = !0);
                    var oe, pe, X = Go(V.childNodes);
                    if (A && !K && (oe = g(V) || pn(k, function(ue) {
                        return Yy(P, V, ue)
                    }),
                    pe = V.parentNode,
                    !oe && gn(pe) && oy(_) && g(pe)),
                    _.deep && X.length) {
                        for (var ne = 0; ne < X.length; ne++)
                            F(X[ne]);
                        K && (A = j)
                    }
                    tt(["underline", "line-through", "overline"], function(ue) {
                        Hn(V) && t.dom.getStyle(V, "text-decoration") === ue && V.parentNode && C1(P, V.parentNode) === ue && ng(t, {
                            deep: !1,
                            exact: !0,
                            inline: "span",
                            styles: {
                                textDecoration: ue
                            }
                        }, null, V)
                    })
                };
                if (s)
                    return Ed(s) ? ((y = P.createRng()).setStartBefore(s),
                    y.setEndAfter(s),
                    x(y)) : x(s),
                    void Fm(t, o, s, i);
                if ("false" !== P.getContentEditable(z.getNode()))
                    z.isCollapsed() && ti(_) && !ci(t).length ? function(t, o, i, s) {
                        var f, m, g, b, x, y, k, _, A, P, z, F, H, V, j, K = t.dom, oe = t.selection, pe = [], X = oe.getRng(), ne = X.startContainer, Me = ne;
                        for (3 === ne.nodeType && (X.startOffset !== ne.nodeValue.length && (f = !0),
                        Me = Me.parentNode); Me; ) {
                            if (Uc(t, Me, o, i, s)) {
                                m = Me;
                                break
                            }
                            Me.nextSibling && (f = !0),
                            pe.push(Me),
                            Me = Me.parentNode
                        }
                        m && (f ? (g = oe.getBookmark(),
                        X.collapse(!0),
                        b = hh(Ad(t, X, t.formatter.get(o), !0)),
                        t.formatter.remove(o, i, b, s),
                        oe.moveToBookmark(g)) : (x = Js(t.getBody(), m),
                        A = y = r0(!1).dom,
                        (F = (z = t.dom).getParent(P = null !== x ? x : m, st(Rm, t))) && z.isEmpty(F) ? P.parentNode.replaceChild(A, P) : (V = ys(H = Oe.fromDom(P), "br"),
                        j = nn(function() {
                            for (var Fe = [], Ge = H.dom; Ge; )
                                Fe.push(Oe.fromDom(Ge)),
                                Ge = Ge.lastChild;
                            return Fe
                        }().slice(-1), Nu),
                        V.length === j.length && tt(j, aa),
                        z.isEmpty(P) ? P.parentNode.replaceChild(A, P) : z.insertAfter(A, P)),
                        k = function(t, o, i, s, f, m) {
                            var g, b, x = t.formatter, y = t.dom, k = nn(xa(x.get()), function(A) {
                                return A !== s && !bo(A, "removeformat")
                            });
                            if (0 < nn((g = t,
                            b = i,
                            kt(k, function(A, P) {
                                var z = function(t, o) {
                                    return pn(t.formatter.get(o), function(i) {
                                        function s(f) {
                                            return 1 < f.length && "%" === f.charAt(0)
                                        }
                                        return pn(["styles", "attributes"], function(f) {
                                            return pt(i, f).exists(function(m) {
                                                var g, b;
                                                return pn(Se(m) ? m : (g = hn,
                                                b = [],
                                                Un(m, function(x, y) {
                                                    b.push(g(x, y))
                                                }),
                                                b), s)
                                            })
                                        })
                                    })
                                }(g, P);
                                return g.formatter.matchNode(b, P, {}, z) ? A.concat([P]) : A
                            }, [])), function(A) {
                                return F = s,
                                H = ["inline", "block", "selector", "attributes", "styles", "classes"],
                                !pn((z = t).formatter.get(A), function(V) {
                                    var j = P(V);
                                    return pn(z.formatter.get(F), function(K) {
                                        var oe, pe = P(K), X = j, ne = pe;
                                        return Lr(oe = void 0 === oe ? Mr : oe).eq(X, ne)
                                    })
                                });
                                function P(V) {
                                    return la(V, function(j, K) {
                                        return pn(H, function(oe) {
                                            return oe === K
                                        })
                                    })
                                }
                                var z, F, H
                            }).length) {
                                var _ = i.cloneNode(!1);
                                return y.add(o, _),
                                x.remove(s, f, _, m),
                                y.remove(_),
                                ee.some(_)
                            }
                            return ee.none()
                        }(t, y, m, o, i, s),
                        _ = o0(pe.concat(k.toArray()), y),
                        zh(t, x, !1),
                        oe.setCursorLocation(_, 1),
                        K.isEmpty(m) && K.remove(m)))
                    }(t, o, i, f) : (sh(z, !0, function() {
                        uh(t, x)
                    }),
                    ti(_) && Au(t, o, i, z.getStart()) && gx(P, z, z.getRng()),
                    t.nodeChanged()),
                    Fm(t, o, s, i);
                else {
                    s = z.getNode();
                    for (var H = 0; H < k.length && (!k[H].ceFalseOverride || !ng(t, k[H], i, s, s)); H++)
                        ;
                    Fm(t, o, s, i)
                }
            }
            function uC(t) {
                return Hn(t) && !Ns(t) && !ll(t) && !Ya(t)
            }
            function sC(t) {
                return St(t, "vars")
            }
            function cC(t, o, i, s, f) {
                return Mn(o, function(m) {
                    var g = t.formatter.matchNode(m, i, null != f ? f : {}, s);
                    return !In(g)
                }, function(m) {
                    return Ph(t, m, i) || !s && gn(t.formatter.matchNode(m, i, f, !0))
                })
            }
            function lC(t, o) {
                var i = null != o ? o : tc(t);
                return nn(Ho(t.dom, i), function(s) {
                    return Hn(s) && !Ya(s)
                })
            }
            function m0(t, o) {
                var i = (o || document).createDocumentFragment();
                return tt(t, function(s) {
                    i.appendChild(s.dom)
                }),
                Oe.fromDom(i)
            }
            function rg(t, o, i) {
                return {
                    element: t,
                    width: o,
                    rows: i
                }
            }
            function g0(t, o) {
                return {
                    element: t,
                    cells: o
                }
            }
            function fC(t, o) {
                var i = parseInt(C(t, o), 10);
                return isNaN(i) ? 1 : i
            }
            function h0(t) {
                return kt(t, function(o, i) {
                    return i.cells.length > o ? i.cells.length : o
                }, 0)
            }
            function vC(t, o) {
                for (var i = t.rows, s = 0; s < i.length; s++)
                    for (var f = i[s].cells, m = 0; m < f.length; m++)
                        if (uo(f[m], o))
                            return ee.some({
                                x: m,
                                y: s
                            });
                return ee.none()
            }
            function p0(t, o, i, s, f) {
                for (var m = [], g = t.rows, b = i; b <= f; b++) {
                    var x = g[b].cells
                      , y = o < s ? x.slice(o, s + 1) : x.slice(s, o + 1);
                    m.push(g0(g[b].element, y))
                }
                return m
            }
            function $h() {
                return m0([])
            }
            function Vh(t, o) {
                return 0 <= o && o < t.length && kd(t.charAt(o))
            }
            function Ld(t, o) {
                var i = $a(t.innerText);
                return o ? i.replace(/^[ \f\n\r\t\v]+/, "") : i
            }
            function Uh(t) {
                return Hn(t) ? t.outerHTML : dn(t) ? Pi.encodeRaw(t.data, !1) : _i(t) ? "\x3c!--" + t.data + "--\x3e" : ""
            }
            function i2(t) {
                var o, i = me((o = t.getBody(),
                nn(bn(Go(o.childNodes), Uh), function(f) {
                    return 0 < f.length
                })), function(f) {
                    var m = Dx(t.serializer, f);
                    return 0 < m.length ? [m] : []
                }), s = i.join("");
                return -1 !== s.indexOf("</iframe>") ? {
                    type: "fragmented",
                    fragments: i,
                    content: "",
                    bookmark: null,
                    beforeBookmark: null
                } : {
                    type: "complete",
                    fragments: null,
                    content: s,
                    bookmark: null,
                    beforeBookmark: null
                }
            }
            function og(t, o, i) {
                var s, f, m, g, b, x, y, k, _, A, P, z = i ? o.beforeBookmark : o.bookmark;
                function F(H, V, j, K) {
                    for (var oe = H; oe - V < K && oe < j && g[oe] === b[oe - V]; )
                        ++oe;
                    return {
                        start: H,
                        end: oe,
                        diag: V
                    }
                }
                "fragmented" === o.type ? (s = o.fragments,
                f = t.getBody(),
                m = bn(Go(f.childNodes), Uh),
                function(t, o) {
                    var i = 0;
                    tt(t, function(s) {
                        var f, m, g, b, y, k, _;
                        0 === s[0] ? i++ : 1 === s[0] ? (b = o,
                        y = i,
                        _ = function(A) {
                            var P, z = document.createElement("div"), F = document.createDocumentFragment();
                            for (A && (z.innerHTML = A); P = z.firstChild; )
                                F.appendChild(P);
                            return F
                        }(s[1]),
                        b.hasChildNodes() && y < b.childNodes.length ? (k = b.childNodes[y]).parentNode.insertBefore(_, k) : b.appendChild(_),
                        i++) : 2 === s[0] && (m = i,
                        (f = o).hasChildNodes() && m < f.childNodes.length && (g = f.childNodes[m]).parentNode.removeChild(g))
                    })
                }((x = (g = m).length + (b = s).length + 2,
                y = new Array(x),
                k = new Array(x),
                _ = function(H, V, j, K, oe) {
                    var pe = A(H, V, j, K);
                    if (null === pe || pe.start === V && pe.diag === V - K || pe.end === H && pe.diag === H - j)
                        for (var X = H, ne = j; X < V || ne < K; )
                            X < V && ne < K && g[X] === b[ne] ? (oe.push([0, g[X]]),
                            ++X,
                            ++ne) : K - j < V - H ? (oe.push([2, g[X]]),
                            ++X) : (oe.push([1, b[ne]]),
                            ++ne);
                    else {
                        _(H, pe.start, j, pe.start - pe.diag, oe);
                        for (var ue = pe.start; ue < pe.end; ++ue)
                            oe.push([0, g[ue]]);
                        _(pe.end, V, pe.end - pe.diag, K, oe)
                    }
                }
                ,
                A = function(H, V, j, K) {
                    var oe = V - H
                      , pe = K - j;
                    if (0 == oe || 0 == pe)
                        return null;
                    var X, ne, ue, Me, Fe, Ge = oe - pe, Ve = pe + oe, he = (Ve % 2 == 0 ? Ve : 1 + Ve) / 2;
                    for (y[1 + he] = H,
                    k[1 + he] = V + 1,
                    X = 0; X <= he; ++X) {
                        for (ne = -X; ne <= X; ne += 2) {
                            for (y[ue = ne + he] = ne === -X || ne !== X && y[ue - 1] < y[ue + 1] ? y[ue + 1] : y[ue - 1] + 1,
                            Fe = (Me = y[ue]) - H + j - ne; Me < V && Fe < K && g[Me] === b[Fe]; )
                                y[ue] = ++Me,
                                ++Fe;
                            if (Ge % 2 != 0 && Ge - X <= ne && ne <= Ge + X && k[ue - Ge] <= y[ue])
                                return F(k[ue - Ge], ne + H - j, V, K)
                        }
                        for (ne = Ge - X; ne <= Ge + X; ne += 2) {
                            for (k[ue = ne + he - Ge] = ne === Ge - X || ne !== Ge + X && k[ue + 1] <= k[ue - 1] ? k[ue + 1] - 1 : k[ue - 1],
                            Fe = (Me = k[ue] - 1) - H + j - ne; H <= Me && j <= Fe && g[Me] === b[Fe]; )
                                k[ue] = Me--,
                                Fe--;
                            if (Ge % 2 == 0 && -X <= ne && ne <= X && k[ue] <= y[ue + Ge])
                                return F(k[ue], ne + H - j, V, K)
                        }
                    }
                }
                ,
                _(0, g.length, 0, b.length, P = []),
                P), f)) : t.setContent(o.content, {
                    format: "raw",
                    no_selection: !gn(z) || !x1(z) || !z.isFakeCaret
                }),
                t.selection.moveToBookmark(z)
            }
            function b0(t) {
                return "fragmented" === t.type ? t.fragments.join("") : t.content
            }
            function dC(t) {
                var o = Oe.fromTag("body", C0());
                return ov(o, b0(t)),
                tt(ys(o, "*[data-mce-bogus]"), xu),
                o.dom.innerHTML
            }
            function y0(t, o) {
                return !(!t || !o) && (s = o,
                b0(t) === b0(s) || (i = o,
                dC(t) === dC(i)));
                var i, s
            }
            function Ev(t) {
                return 0 === t.get()
            }
            function Wh(t, o, i) {
                Ev(i) && (t.typing = o)
            }
            function u2(t, o) {
                t.typing && (Wh(t, !1, o),
                t.add())
            }
            function Hd(t) {
                return {
                    undoManager: {
                        beforeChange: function(o, i) {
                            var s = t
                              , f = i;
                            Ev(o) && f.set(ux(s.selection))
                        },
                        add: function(o, i, s, f, m, g) {
                            return function(b, x, y, k, _, A, P) {
                                var z = i2(b);
                                if (A = Ke.extend(A = A || {}, z),
                                !1 === Ev(k) || b.removed)
                                    return null;
                                var F = x.data[y.get()];
                                if (b.fire("BeforeAddUndo", {
                                    level: A,
                                    lastLevel: F,
                                    originalEvent: P
                                }).isDefaultPrevented() || F && y0(F, A))
                                    return null;
                                x.data[y.get()] && _.get().each(function(K) {
                                    x.data[y.get()].beforeBookmark = K
                                });
                                var H = b.getParam("custom_undo_redo_levels", 0, "number");
                                if (H && x.data.length > H) {
                                    for (var V = 0; V < x.data.length - 1; V++)
                                        x.data[V] = x.data[V + 1];
                                    x.data.length--,
                                    y.set(x.data.length)
                                }
                                A.bookmark = ux(b.selection),
                                y.get() < x.data.length - 1 && (x.data.length = y.get() + 1),
                                x.data.push(A),
                                y.set(x.data.length - 1);
                                var j = {
                                    level: A,
                                    lastLevel: F,
                                    originalEvent: P
                                };
                                return 0 < y.get() ? (b.setDirty(!0),
                                b.fire("AddUndo", j),
                                b.fire("change", j)) : b.fire("AddUndo", j),
                                A
                            }(t, o, i, s, f, m, g)
                        },
                        undo: function(o, i, s) {
                            return f = t,
                            g = i,
                            b = s,
                            (m = o).typing && (m.add(),
                            m.typing = !1,
                            Wh(m, !1, g)),
                            0 < b.get() && (b.set(b.get() - 1),
                            og(f, x = m.data[b.get()], !0),
                            f.setDirty(!0),
                            f.fire("Undo", {
                                level: x
                            })),
                            x;
                            var f, m, g, b, x
                        },
                        redo: function(o, i) {
                            return s = t,
                            m = i,
                            (f = o).get() < m.length - 1 && (f.set(f.get() + 1),
                            og(s, g = m[f.get()], !1),
                            s.setDirty(!0),
                            s.fire("Redo", {
                                level: g
                            })),
                            g;
                            var s, f, m, g
                        },
                        clear: function(o, i) {
                            var s, f = t, m = i;
                            (s = o).data = [],
                            m.set(0),
                            s.typing = !1,
                            f.fire("ClearUndos")
                        },
                        reset: function(o) {
                            var i;
                            (i = o).clear(),
                            i.add()
                        },
                        hasUndo: function(o, i) {
                            return s = t,
                            f = o,
                            0 < i.get() || f.typing && f.data[0] && !y0(i2(s), f.data[0]);
                            var s, f
                        },
                        hasRedo: function(o, i) {
                            return s = o,
                            i.get() < s.data.length - 1 && !s.typing;
                            var s
                        },
                        transact: function(o, i, s) {
                            return m = s,
                            u2(f = o, i),
                            f.beforeChange(),
                            f.ignore(m),
                            f.add();
                            var f, m
                        },
                        ignore: function(o, i) {
                            try {
                                o.set(o.get() + 1),
                                i()
                            } finally {
                                o.set(o.get() - 1)
                            }
                        },
                        extra: function(o, i, s, f) {
                            var m, g, b = t, x = i, y = f;
                            (m = o).transact(s) && (g = m.data[x.get()].bookmark,
                            og(b, m.data[x.get() - 1], !0),
                            m.transact(y) && (m.data[x.get() - 1].beforeBookmark = g))
                        }
                    },
                    formatter: {
                        match: function(o, i, s, f) {
                            return Au(t, o, i, s, f)
                        },
                        matchAll: function(o, i) {
                            return f = o,
                            m = i,
                            g = [],
                            b = {},
                            x = (s = t).selection.getStart(),
                            s.dom.getParent(x, function(y) {
                                for (var k = 0; k < f.length; k++) {
                                    var _ = f[k];
                                    !b[_] && Uc(s, y, _, m) && (b[_] = !0,
                                    g.push(_))
                                }
                            }, s.dom.getRoot()),
                            g;
                            var s, f, m, g, b, x
                        },
                        matchNode: function(o, i, s, f) {
                            return Uc(t, o, i, s, f)
                        },
                        canApply: function(o) {
                            return function(i) {
                                var s = i.formatter.get(o)
                                  , f = i.dom;
                                if (s)
                                    for (var m = Ho(f, i.selection.getStart()), g = s.length - 1; 0 <= g; g--) {
                                        var b = s[g];
                                        if (!na(b) || gn(b.defaultBlock))
                                            return !0;
                                        for (var x = m.length - 1; 0 <= x; x--)
                                            if (f.is(m[x], b.selector))
                                                return !0
                                    }
                                return !1
                            }(t)
                        },
                        closest: function(o) {
                            return f = o,
                            ee.from((s = t).selection.getStart(!0)).bind(function(m) {
                                return Ky(Oe.fromDom(m), function(g) {
                                    return Gt(f, function(b) {
                                        return Uc(s, g.dom, x = b) ? ee.some(x) : ee.none();
                                        var x
                                    })
                                }, i)
                            }).getOrNull();
                            function i(m) {
                                return uo(m, Oe.fromDom(s.getBody()))
                            }
                            var s, f
                        },
                        apply: function(o, i, s) {
                            return is(t, o, i, s)
                        },
                        remove: function(o, i, s, f) {
                            return iC(t, o, i, s, f)
                        },
                        toggle: function(o, i, s) {
                            var f, m = o, g = i, b = s, x = (f = t).formatter.get(m);
                            (!Au(f, m, g, b) || "toggle"in x[0] && !x[0].toggle ? is : iC)(f, m, g, b)
                        },
                        formatChanged: function(o, i, s, f, m) {
                            return function(t, o, i, s, f, m) {
                                var g, b, x, y, k, _, A, P, z;
                                return null === o.get() && (b = t,
                                (g = o).set({}),
                                b.on("NodeChange", function(F) {
                                    ig(b, F.element, g.get())
                                }),
                                b.on("FormatApply FormatRemove", function(F) {
                                    var H = ee.from(F.node).map(function(V) {
                                        return Ed(V) ? V : V.startContainer
                                    }).bind(function(V) {
                                        return Hn(V) ? ee.some(V) : ee.from(V.parentElement)
                                    }).getOrThunk(function() {
                                        return tc(b)
                                    });
                                    ig(b, H, g.get())
                                })),
                                x = t,
                                k = i,
                                _ = s,
                                A = f,
                                P = m,
                                z = (y = o).get(),
                                tt(k.split(","), function(F) {
                                    function H() {
                                        var K = lC(x);
                                        return cC(x, K, F, A, P).isSome()
                                    }
                                    var V, j = pt(z, F).getOrThunk(function() {
                                        var K = {
                                            withSimilar: {
                                                state: su(!1),
                                                similar: !0,
                                                callbacks: []
                                            },
                                            withoutSimilar: {
                                                state: su(!1),
                                                similar: !1,
                                                callbacks: []
                                            },
                                            withVars: []
                                        };
                                        return z[F] = K
                                    });
                                    In(P) ? ((V = A ? j.withSimilar : j.withoutSimilar).callbacks.push(_),
                                    1 === V.callbacks.length && V.state.set(H())) : j.withVars.push({
                                        state: su(H()),
                                        similar: A,
                                        vars: P,
                                        callback: _
                                    })
                                }),
                                y.set(z),
                                {
                                    unbind: function() {
                                        var F, H = i, V = s, j = (F = o).get();
                                        tt(H.split(","), function(K) {
                                            return pt(j, K).each(function(oe) {
                                                j[K] = {
                                                    withSimilar: en(en({}, oe.withSimilar), {
                                                        callbacks: nn(oe.withSimilar.callbacks, function(pe) {
                                                            return pe !== V
                                                        })
                                                    }),
                                                    withoutSimilar: en(en({}, oe.withoutSimilar), {
                                                        callbacks: nn(oe.withoutSimilar.callbacks, function(pe) {
                                                            return pe !== V
                                                        })
                                                    }),
                                                    withVars: nn(oe.withVars, function(pe) {
                                                        return pe.callback !== V
                                                    })
                                                }
                                            })
                                        }),
                                        F.set(j)
                                    }
                                }
                            }(t, o, i, s, f, m)
                        }
                    },
                    editor: {
                        getContent: function(o, i) {
                            return f = o,
                            m = i,
                            ee.from((s = t).getBody()).fold(xe("tree" === f.format ? new ba("body",11) : ""), function(g) {
                                return b = s,
                                y = g,
                                k = m,
                                F = en(en({}, x = f), {
                                    format: k,
                                    get: !0,
                                    getInner: !0
                                }),
                                V = "raw" === (H = x.no_events ? F : b.fire("BeforeGetContent", F)).format ? Ke.trim(Mx(b.serializer, y.innerHTML)) : "text" === H.format ? b.dom.isEmpty(y) ? "" : $a(y.innerText || y.textContent) : "tree" === H.format ? b.serializer.serialize(y, H) : (A = (_ = b).serializer.serialize(y, H),
                                P = zu(_),
                                z = new RegExp("^(<" + P + "[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/" + P + ">[\r\n]*|<br \\/>[\r\n]*)$"),
                                A.replace(z, "")),
                                H.content = D(["text", "tree"], H.format) || Rn(Oe.fromDom(y)) ? V : Ke.trim(V),
                                (H.no_events ? H : b.fire("GetContent", H)).content;
                                var b, x, y, k, _, A, P, z, F, H, V
                            });
                            var s, f, m
                        },
                        setContent: function(o, i) {
                            return function(t, o, i) {
                                var s, f = (s = o,
                                en(en({
                                    format: "html"
                                }, i), {
                                    set: !0,
                                    content: jy(s) ? "" : s
                                })), m = i.no_events ? f : t.fire("BeforeSetContent", f);
                                return jy(o) || (o = m.content),
                                ee.from(t.getBody()).fold(xe(o), function(g) {
                                    return jy(o) ? function(P, z, F, H) {
                                        var V, j, K, oe;
                                        V = P.parser.getNodeFilters(),
                                        j = P.parser.getAttributeFilters(),
                                        K = F,
                                        oe = function(X, ne) {
                                            var ue, Me, Fe = {}, Ge = {}, Ve = [];
                                            for (ue in K.firstChild && Rf(K.firstChild, function(he) {
                                                tt(X, function(ye) {
                                                    ye.name === he.name && (Fe[ye.name] ? Fe[ye.name].nodes.push(he) : Fe[ye.name] = {
                                                        filter: ye,
                                                        nodes: [he]
                                                    })
                                                }),
                                                tt(ne, function(ye) {
                                                    "string" == typeof he.attr(ye.name) && (Ge[ye.name] ? Ge[ye.name].nodes.push(he) : Ge[ye.name] = {
                                                        filter: ye,
                                                        nodes: [he]
                                                    })
                                                })
                                            }),
                                            Fe)
                                                St(Fe, ue) && Ve.push(Fe[ue]);
                                            for (Me in Ge)
                                                St(Ge, Me) && Ve.push(Ge[Me]);
                                            return Ve
                                        }(V, j),
                                        tt(oe, function(X) {
                                            tt(X.filter.callbacks, function(ne) {
                                                ne(X.nodes, X.filter.name, {})
                                            })
                                        });
                                        var pe = Gm({
                                            validate: P.validate
                                        }, P.schema).serialize(F);
                                        return H.content = Rn(Oe.fromDom(z)) ? pe : Ke.trim(pe),
                                        Gy(P, H.content, H.no_selection),
                                        H.no_events || P.fire("SetContent", H),
                                        F
                                    }(t, g, o, m) : (b = t,
                                    x = g,
                                    k = m,
                                    0 === (y = o).length || /^\s+$/.test(y) ? (_ = '<br data-mce-bogus="1">',
                                    "TABLE" === x.nodeName ? y = "<tr><td>" + _ + "</td></tr>" : /^(UL|OL)$/.test(x.nodeName) && (y = "<li>" + _ + "</li>"),
                                    y = (A = zu(b)) && b.schema.isValidChild(x.nodeName.toLowerCase(), A.toLowerCase()) ? (y = _,
                                    b.dom.createHTML(A, Yg(b), y)) : y || '<br data-mce-bogus="1">',
                                    Gy(b, y, k.no_selection),
                                    b.fire("SetContent", k)) : ("raw" !== k.format && (y = Gm({
                                        validate: b.validate
                                    }, b.schema).serialize(b.parser.parse(y, {
                                        isRootContent: !0,
                                        insert: !0
                                    }))),
                                    k.content = Rn(Oe.fromDom(x)) ? y : Ke.trim(y),
                                    Gy(b, k.content, k.no_selection),
                                    k.no_events || b.fire("SetContent", k)),
                                    k.content);
                                    var b, x, y, k, _, A
                                })
                            }(t, o, i)
                        },
                        insertContent: function(o, i) {
                            return CT(t, o, i)
                        },
                        addVisual: function(o) {
                            var i, s = o, f = (i = t).dom, m = gn(s) ? s : i.getBody();
                            In(i.hasVisual) && (i.hasVisual = i.getParam("visual", !0, "boolean")),
                            tt(f.select("table,a", m), function(g) {
                                switch (g.nodeName) {
                                case "TABLE":
                                    var b = i.getParam("visual_table_class", "mce-item-table", "string")
                                      , x = f.getAttrib(g, "border");
                                    x && "0" !== x || !i.hasVisual ? f.removeClass(g, b) : f.addClass(g, b);
                                    break;
                                case "A":
                                    var y, k;
                                    f.getAttrib(g, "href") || (y = f.getAttrib(g, "name") || g.id,
                                    k = i.getParam("visual_anchor_class", "mce-item-anchor", "string"),
                                    y && i.hasVisual ? f.addClass(g, k) : f.removeClass(g, k))
                                }
                            }),
                            i.fire("VisualAid", {
                                element: s,
                                hasVisual: i.hasVisual
                            })
                        }
                    },
                    selection: {
                        getContent: function(o, i) {
                            return function(s, f, m) {
                                var g, b = (g = f,
                                en(en({}, m = void 0 === m ? {} : m), {
                                    format: g,
                                    get: !0,
                                    selection: !0
                                })), x = s.fire("BeforeGetContent", b);
                                if (x.isDefaultPrevented())
                                    return s.fire("GetContent", x),
                                    x.content;
                                if ("text" === x.format)
                                    return ee.from((H = s).selection.getRng()).map(function(j) {
                                        var K = ee.from(H.dom.getParent(j.commonAncestorContainer, H.dom.isBlock))
                                          , oe = H.getBody()
                                          , pe = K.map(function(Ve) {
                                            return Ve.nodeName
                                        }).getOr("div").toLowerCase()
                                          , X = er.browser.isIE() && "pre" !== pe
                                          , ne = H.dom.add(oe, pe, {
                                            "data-mce-bogus": "all",
                                            style: "overflow: hidden; opacity: 0;"
                                        }, j.cloneContents())
                                          , ue = Ld(ne, X)
                                          , Me = $a(ne.textContent);
                                        if (H.dom.remove(ne),
                                        Vh(Me, 0) || Vh(Me, Me.length - 1)) {
                                            var Fe = Ld(K.getOr(oe), X)
                                              , Ge = Fe.indexOf(ue);
                                            return -1 === Ge ? ue : (Vh(Fe, Ge - 1) ? " " : "") + ue + (Vh(Fe, Ge + ue.length) ? " " : "")
                                        }
                                        return ue
                                    }).getOr("");
                                x.getInner = !0;
                                var y, k, _, A, P, z, F, H, V = (k = x,
                                _ = (y = s).selection.getRng(),
                                A = y.dom.create("body"),
                                P = y.selection.getSel(),
                                z = Sy(y, ts(P)),
                                (F = k.contextual ? function(t, o) {
                                    var i, s, f, m, g, b, x, y = iy(o, t);
                                    return 0 < y.length ? function(t, o) {
                                        return Bu(o[0], "table", st(uo, t)).bind(function(i) {
                                            var s, f, m = o[0], g = o[o.length - 1], b = function(t) {
                                                var o = rg(Sf(t), 0, []);
                                                return tt(ys(t, "tr"), function(i, s) {
                                                    tt(ys(i, "td,th"), function(f, m) {
                                                        !function(g, b, x, y, k) {
                                                            for (var _ = fC(k, "rowspan"), A = fC(k, "colspan"), P = g.rows, z = x; z < x + _; z++) {
                                                                P[z] || (P[z] = g0(ym(y), []));
                                                                for (var F = b; F < b + A; F++)
                                                                    P[z].cells[F] = z === x && F === b ? k : Sf(k)
                                                            }
                                                        }(o, function(g, b, x) {
                                                            for (; ((k = g.rows)[x] ? k[x].cells : [])[b]; )
                                                                b++;
                                                            var k;
                                                            return b
                                                        }(o, m, s), s, i, f)
                                                    })
                                                }),
                                                rg(o.element, h0(o.rows), o.rows)
                                            }(i);
                                            return f = g,
                                            vC(s = b, m).bind(function(x) {
                                                return vC(s, f).map(function(y) {
                                                    return k = s,
                                                    _ = x.x,
                                                    P = y.x,
                                                    F = (A = x.y) < (z = y.y) ? p0(k, _, A, P, z) : p0(k, _, z, P, A),
                                                    rg(k.element, h0(F), F);
                                                    var k, _, A, P, z, F
                                                })
                                            }).map(function(x) {
                                                return m0([(k = bn((y = x).rows, function(P) {
                                                    var z = bn(P.cells, function(H) {
                                                        var V = ym(H);
                                                        return G(V, "colspan"),
                                                        G(V, "rowspan"),
                                                        V
                                                    })
                                                      , F = Sf(P.element);
                                                    return Xi(F, z),
                                                    F
                                                }),
                                                _ = Sf(y.element),
                                                Xi(A = Oe.fromTag("tbody"), k),
                                                no(_, A),
                                                _)]);
                                                var y, k, _, A
                                            })
                                        }).getOrThunk($h)
                                    }(t, y) : (i = t,
                                    0 < (s = o).length && s[0].collapsed ? $h() : (f = i,
                                    g = Oe.fromDom((m = s[0]).cloneContents()),
                                    x = kt(b = function(t, o) {
                                        var i, s, f, m = Oe.fromDom(o.commonAncestorContainer), g = Df(m, t), b = nn(g, function(y) {
                                            return mf(y) || Wp(y)
                                        }), x = (f = o,
                                        re(s = g, function(y) {
                                            return "li" === Or(y) && Il(y, f)
                                        }).fold(xe([]), function(y) {
                                            return re(s, function(k) {
                                                return "ul" === Or(k) || "ol" === Or(k)
                                            }).map(function(k) {
                                                var _ = Oe.fromTag(Or(k));
                                                return function(t, o) {
                                                    var i = t.dom;
                                                    Un(o, function(s, f) {
                                                        !function(m, g, b) {
                                                            if (!Fn(b))
                                                                throw console.error("Invalid call to CSS.set. Property ", g, ":: Value ", b, ":: Element ", m),
                                                                new Error("CSS value must be a string: " + b);
                                                            ms(m) && m.style.setProperty(g, b)
                                                        }(i, f, s)
                                                    })
                                                }(_, la(Sn(k), function(A, P) {
                                                    return Ee(P, "list-style")
                                                })),
                                                [Oe.fromTag("li"), _]
                                            }).getOr([])
                                        }));
                                        return bn(b.concat(x.length ? x : fe(i = m) ? Ta(i).filter(Y).fold(xe([]), function(y) {
                                            return [i, y]
                                        }) : Y(i) ? [i] : []), Sf)
                                    }(f, m), function(k, _) {
                                        return no(_, k),
                                        _
                                    }, g),
                                    0 < b.length ? m0([x]) : x))
                                }(Oe.fromDom(y.getBody()), z).dom : _.cloneContents()) && A.appendChild(F),
                                y.selection.serializer.serialize(A, k));
                                return "tree" === x.format ? V : (x.content = s.selection.isCollapsed() ? "" : V,
                                s.fire("GetContent", x),
                                x.content)
                            }(t, o, i)
                        }
                    },
                    raw: {
                        getModel: function() {
                            return ee.none()
                        }
                    }
                }
            }
            function jc(t) {
                return St(t.plugins, "rtc")
            }
            function Ul(t) {
                return t.rtcInstance || Hd(t)
            }
            function Da(t) {
                var o = t.rtcInstance;
                if (o)
                    return o;
                throw new Error("Failed to get RTC instance not yet initialized.")
            }
            function $d(t) {
                return 0 === t.dom.length ? (aa(t),
                ee.none()) : ee.some(t)
            }
            function Bf(t, o, i, s) {
                t.bind(function(f) {
                    return (s ? J1 : Y1)(f.dom, s ? f.dom.length : 0),
                    o.filter(Bn).map(function(m) {
                        var g = i
                          , b = s
                          , x = f.dom
                          , y = m.dom
                          , k = (b ? x : y).length;
                        b ? (Sv(x, y, !1, !b),
                        g.setStart(y, k)) : (Sv(y, x, !1, !b),
                        g.setEnd(y, k))
                    })
                }).orThunk(function() {
                    var f = s;
                    return o.filter(function(m) {
                        return Ni.isBookmarkNode(m.dom)
                    }).bind(f ? gi : wu).or(o).filter(Bn).map(function(m) {
                        var g, b = s;
                        Ta(g = m).each(function(x) {
                            var y = g.dom;
                            b && Oh(x, et(y, 0)) ? Y1(y, 0) : !b && q1(x, et(y, y.length)) && J1(y, y.length)
                        })
                    })
                })
            }
            function Gh(t, o, i) {
                var s;
                t && St(t, o) && (0 === (s = nn(t[o], function(f) {
                    return f !== i
                })).length ? delete t[o] : t[o] = s)
            }
            Fh = function(t) {
                var o, i = t.selection.getRng(), s = ka(["pre"]);
                i.collapsed || (o = t.selection.getSelectedBlocks(),
                f0(l0(l0(o, s), function(f) {
                    return s(f.previousSibling) && -1 !== cr(o, f.previousSibling)
                }), function(f) {
                    var m, g = f.previousSibling;
                    Br(m = f).remove(),
                    Br(g).append("<br><br>").append(m.childNodes)
                }))
            }
            ,
            c0.pre || (c0.pre = []),
            c0.pre.push(Fh);
            var w0 = Ke.each
              , x0 = function(t, o, i) {
                w0(t.childNodes, function(s) {
                    v0(s) && (o(s) && i(s),
                    s.hasChildNodes() && x0(s, o, i))
                })
            }
              , qh = ia([{
                keep: []
            }, {
                rename: ["name"]
            }, {
                removed: []
            }])
              , mC = /^(src|href|style)$/
              , Kh = Ke.each
              , Ov = vo
              , ag = Ke.each
              , Va = Ke.each
              , is = function(t, o, i, s) {
                function f(K, oe) {
                    var pe;
                    Kn((oe = void 0 === oe ? A : oe).onformat) && oe.onformat(K, oe, i, s),
                    Va(oe.styles, function(X, ne) {
                        z.setStyle(K, ne, Hc(X, i))
                    }),
                    !oe.styles || (pe = z.getAttrib(K, "style")) && z.setAttrib(K, "data-mce-style", pe),
                    Va(oe.attributes, function(X, ne) {
                        z.setAttrib(K, ne, Hc(X, i))
                    }),
                    Va(oe.classes, function(X) {
                        X = Hc(X, i),
                        z.hasClass(K, X) || z.addClass(K, X)
                    })
                }
                function m(K, oe) {
                    var pe = !1;
                    return Va(K, function(X) {
                        return !!na(X) && (gn(X.collapsed) && X.collapsed !== P || !z.is(oe, X.selector) || ll(oe) ? void 0 : (f(oe, X),
                        !(pe = !0)))
                    }),
                    pe
                }
                function g(K, oe, pe) {
                    var X = []
                      , ne = !0
                      , ue = A.inline || A.block
                      , Me = function(Fe) {
                        if (Fn(Fe)) {
                            var Ge = z.create(Fe);
                            return f(Ge),
                            Ge
                        }
                        return null
                    }(ue);
                    Fl(K, oe, function(Fe) {
                        var Ge, Ve = function(he) {
                            var ye = !1
                              , De = ne
                              , He = he.nodeName.toLowerCase()
                              , Dt = he.parentNode
                              , It = Dt.nodeName.toLowerCase();
                            if (Hn(he) && K.getContentEditable(he) && (De = ne,
                            ne = "true" === K.getContentEditable(he),
                            ye = !0),
                            zn(he) && !function(Rt, Ht, zt, ln) {
                                if (Rt.getParam("format_empty_lines", !1, "boolean") && ti(Ht)) {
                                    var ft = Fr(Rt.schema)
                                      , Zt = (Mt = Oe.fromDom(zt),
                                    mn = function(ve) {
                                        return ll(ve.dom)
                                    }
                                    ,
                                    ((Vr = (xn = Mt).dom).parentNode ? function(t, o) {
                                        return re(t.dom.childNodes, function(i) {
                                            return ve = Oe.fromDom(i),
                                            !uo(xn, ve) && mn(ve);
                                            var ve
                                        }).map(Oe.fromDom)
                                    }(Oe.fromDom(Vr.parentNode)) : ee.none()).isSome());
                                    return Et(ft, ln) && pi(Oe.fromDom(zt.parentNode), !1) && !Zt
                                }
                                var Mt, xn, mn, Vr
                            }(t, A, he, It))
                                return Ge = null,
                                void (vl(A) && K.remove(he));
                            if (vl(A) && A.wrapper && Uc(t, he, o, i))
                                Ge = null;
                            else {
                                if (ne && !ye && vl(A) && !A.wrapper && Rm(t, He) && fu(t, It, ue)) {
                                    var Tt = K.rename(he, ue);
                                    return f(Tt),
                                    X.push(Tt),
                                    void (Ge = null)
                                }
                                if (na(A)) {
                                    var Lt = m(_, he);
                                    if (!Lt && gn(Dt) && oy(A) && (Lt = m(_, Dt)),
                                    !ti(A) || Lt)
                                        return void (Ge = null)
                                }
                                !ne || ye || !fu(t, ue, He) || !fu(t, It, ue) || !pe && dn(he) && fo(he.data) || ll(he) || ti(A) && K.isBlock(he) ? (Ge = null,
                                tt(Go(he.childNodes), Ve),
                                ye && (ne = De),
                                Ge = null) : (Ge || (Ge = K.clone(Me, !1),
                                he.parentNode.insertBefore(Ge, he),
                                X.push(Ge)),
                                Ge.appendChild(he))
                            }
                        };
                        tt(Fe, Ve)
                    }),
                    !0 === A.links && tt(X, function(Fe) {
                        var Ge = function(Ve) {
                            "A" === Ve.nodeName && f(Ve, A),
                            tt(Go(Ve.childNodes), Ge)
                        };
                        Ge(Fe)
                    }),
                    tt(X, function(Fe) {
                        var Ge, Ve, he, ye, De, Dt, It, Tt, Lt, Rt, Ht, zt, ln, ft, Zt, Mt, xn, mn = (Ge = 0,
                        tt(Fe.childNodes, function(ve) {
                            var Ce;
                            gn(Ce = ve) && dn(Ce) && 0 === Ce.length || Ns(ve) || Ge++
                        }),
                        Ge);
                        function Vr(ve) {
                            var Ce;
                            1 === ve.nodeType && ve.parentNode && 1 === ve.parentNode.nodeType && (Ce = C1(zt, ve.parentNode),
                            zt.getStyle(ve, "color") && Ce ? zt.setStyle(ve, "text-decoration", Ce) : zt.getStyle(ve, "text-decoration") === Ce && zt.setStyle(ve, "text-decoration", null))
                        }
                        !(1 < X.length) && K.isBlock(Fe) || 0 !== mn ? (ti(A) || vl(A) && A.wrapper) && (A.exact || 1 !== mn || (Fe = re((Ht = Fe).childNodes, uC).filter(function(ve) {
                            return Yy(K, ve, A)
                        }).map(function(ve) {
                            var Ce = K.clone(ve, !1);
                            return f(Ce),
                            K.replace(Ce, Ht, !0),
                            K.remove(ve, !0),
                            Ce
                        }).getOr(Ht)),
                        Zt = t,
                        Mt = i,
                        xn = Fe,
                        ag(_, function(ve) {
                            var Ce, Je;
                            ti(ve) && ag(Zt.dom.select(ve.inline, xn), function(vt) {
                                v0(vt) && ng(Zt, ve, Mt, vt, ve.exact ? vt : null)
                            }),
                            Ce = Zt.dom,
                            (Je = ve).clear_child_styles && w0(Ce.select(Je.links ? "*:not(a)" : "*", xn), function(vt) {
                                v0(vt) && w0(Je.styles, function(jt, tr) {
                                    Ce.setStyle(vt, tr, "")
                                })
                            })
                        }),
                        It = A,
                        Uc(Dt = t, (Rt = Fe).parentNode, Tt = o, Lt = i) && ng(Dt, It, Lt, Rt) || It.merge_with_parents && Dt.dom.getParent(Rt.parentNode, function(ve) {
                            if (Uc(Dt, ve, Tt, Lt))
                                return ng(Dt, It, Lt, Rt),
                                !0
                        }),
                        (De = A).styles && De.styles.backgroundColor && x0(Fe, nC(K, "fontSize"), rC(K, "backgroundColor", Hc(De.styles.backgroundColor, i))),
                        zt = K,
                        ft = Fe,
                        (ln = A).styles && (ln.styles.color || ln.styles.textDecoration) && (Ke.walk(ft, Vr, "childNodes"),
                        Vr(ft)),
                        Ve = K,
                        ye = Fe,
                        !ti(he = A) || "sub" !== he.inline && "sup" !== he.inline || (x0(ye, nC(Ve, "fontSize"), rC(Ve, "fontSize", "")),
                        Ve.remove(Ve.select("sup" === he.inline ? "sub" : "sup", ye), !0)),
                        tC(K, A, 0, Fe)) : K.remove(Fe, !0)
                    })
                }
                var b, x, y, k, _ = t.formatter.get(o), A = _[0], P = !s && t.selection.isCollapsed(), z = t.dom, F = t.selection;
                if ("false" !== z.getContentEditable(F.getNode()))
                    A && (s ? Ed(s) ? m(_, s) || ((b = z.createRng()).setStartBefore(s),
                    b.setEndAfter(s),
                    g(z, Ad(t, b, _), !0)) : g(z, s, !0) : P && ti(A) && !ci(t).length ? function(K, oe, pe) {
                        var X, ne = K.selection, ue = ne.getRng(), Me = ue.startOffset, Fe = ue.startContainer.nodeValue, Ge = Js(K.getBody(), ne.getStart());
                        Ge && (X = Nh(Ge));
                        var Ve, he, ye, De, He = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                        Fe && 0 < Me && Me < Fe.length && He.test(Fe.charAt(Me)) && He.test(Fe.charAt(Me - 1)) ? (Ve = ne.getBookmark(),
                        ue.collapse(!0),
                        he = hh(Ad(K, ue, K.formatter.get(oe))),
                        K.formatter.apply(oe, pe, he),
                        ne.moveToBookmark(Ve)) : (Ge && X.nodeValue === tg || (ye = K.getDoc(),
                        De = r0(!0).dom,
                        X = (Ge = ye.importNode(De, !0)).firstChild,
                        ue.insertNode(Ge),
                        Me = 1),
                        K.formatter.apply(oe, pe, Ge),
                        ne.setCursorLocation(X, Me))
                    }(t, o, i) : (x = F.getNode(),
                    y = _[0],
                    t.settings.forced_root_block || !y.defaultBlock || z.getParent(x, z.isBlock) || is(t, y.defaultBlock),
                    F.setRng(Wy(F.getRng())),
                    sh(F, !0, function() {
                        uh(t, function(K, oe) {
                            var pe = oe ? K : Ad(t, K, _);
                            g(z, pe, !1)
                        })
                    }),
                    gx(z, F, F.getRng()),
                    t.nodeChanged()),
                    k = t,
                    f0(c0[o], function(K) {
                        K(k)
                    })),
                    M1(t, o, s, i);
                else {
                    s = F.getNode();
                    for (var H = 0, V = _.length; H < V; H++) {
                        var j = _[H];
                        if (j.ceFalseOverride && na(j) && z.is(s, j.selector)) {
                            f(s, j);
                            break
                        }
                    }
                    M1(t, o, s, i)
                }
            }
              , tc = function(t) {
                return t.selection.getStart()
            }
              , ig = function(t, o, i) {
                var s = lC(t, o);
                Un(i, function(f, m) {
                    function g(b) {
                        var x, y = cC(t, s, m, b.similar, sC(b) ? b.vars : void 0), k = y.isSome();
                        b.state.get() !== k && (b.state.set(k),
                        x = y.getOr(o),
                        sC(b) ? b.callback(k, {
                            node: x,
                            format: m,
                            parents: s
                        }) : tt(b.callbacks, function(_) {
                            return _(k, {
                                node: x,
                                format: m,
                                parents: s
                            })
                        }))
                    }
                    tt([f.withSimilar, f.withoutSimilar], g),
                    tt(f.withVars, g)
                })
            }
              , C0 = Ca(function() {
                return document.implementation.createHTMLDocument("undo")
            });
            function S0(t) {
                return t.select
            }
            function T0(t) {
                return t && t.ownerDocument && qa(Oe.fromDom(t.ownerDocument), Oe.fromDom(t))
            }
            function gC(t, o, i, s) {
                function f(X, ne) {
                    return function(t, o, i) {
                        var s, f = (s = o,
                        en(en({
                            format: "html"
                        }, i = void 0 === i ? {} : i), {
                            set: !0,
                            selection: !0,
                            content: s
                        })), m = f;
                        if (!f.no_events) {
                            var g = t.fire("BeforeSetContent", f);
                            if (g.isDefaultPrevented())
                                return void t.fire("SetContent", g);
                            m = g
                        }
                        m.content = function(x, y) {
                            if ("raw" === y.format)
                                return y.content;
                            var k = x.selection.getRng()
                              , _ = x.dom.getParent(k.commonAncestorContainer, x.dom.isBlock)
                              , A = _ ? {
                                context: _.nodeName.toLowerCase()
                            } : {}
                              , P = x.parser.parse(y.content, en(en({
                                isRootContent: !0,
                                forced_root_block: !1
                            }, A), y));
                            return Gm({
                                validate: x.validate
                            }, x.schema).serialize(P)
                        }(t, m);
                        var b = t.selection.getRng();
                        (function(x, y) {
                            var k = ee.from(y.firstChild).map(Oe.fromDom)
                              , _ = ee.from(y.lastChild).map(Oe.fromDom);
                            x.deleteContents(),
                            x.insertNode(y);
                            var A = k.bind(wu).filter(Bn).bind($d)
                              , P = _.bind(gi).filter(Bn).bind($d);
                            Bf(A, k, x, !0),
                            Bf(P, _, x, !1),
                            x.collapse(!1)
                        }
                        )(b, b.createContextualFragment(m.content)),
                        t.selection.setRng(b),
                        Hm(t, b),
                        m.no_events || t.fire("SetContent", m)
                    }(s, X, ne)
                }
                function m() {
                    var X = b()
                      , ne = null == X ? void 0 : X.anchorNode
                      , ue = null == X ? void 0 : X.focusNode;
                    if (!X || !ne || !ue || Yi(ne) || Yi(ue))
                        return !0;
                    var Me = t.createRng();
                    Me.setStart(ne, X.anchorOffset),
                    Me.collapse(!0);
                    var Fe = t.createRng();
                    return Fe.setStart(ue, X.focusOffset),
                    Fe.collapse(!0),
                    Me.compareBoundaryPoints(Me.START_TO_START, Fe) <= 0
                }
                function g(X) {
                    var ne = F();
                    ne.collapse(!!X),
                    H(ne)
                }
                function b() {
                    return o.getSelection ? o.getSelection() : o.document.selection
                }
                var x, y, k, _, A, P, z = function(X, ne) {
                    return A || (A = {},
                    P = {},
                    _.on("NodeChange", function(ue) {
                        var Me = ue.element
                          , Fe = pe(Me)
                          , Ge = {};
                        Ke.each(A, function(Ve, he) {
                            oe(he, Fe).each(function(ye) {
                                P[he] || (tt(Ve, function(De) {
                                    De(!0, {
                                        node: ye,
                                        selector: he,
                                        parents: Fe
                                    })
                                }),
                                P[he] = Ve),
                                Ge[he] = Ve
                            })
                        }),
                        Ke.each(P, function(Ve, he) {
                            Ge[he] || (delete P[he],
                            Ke.each(Ve, function(ye) {
                                ye(!1, {
                                    node: Me,
                                    selector: he,
                                    parents: Fe
                                })
                            }))
                        })
                    })),
                    A[X] || (A[X] = []),
                    A[X].push(ne),
                    oe(X, pe(_.selection.getStart())).each(function() {
                        P[X] = A[X]
                    }),
                    {
                        unbind: function() {
                            Gh(A, X, ne),
                            Gh(P, X, ne)
                        }
                    }
                }, F = function() {
                    function X(Ve, he, ye) {
                        try {
                            return he.compareBoundaryPoints(Ve, ye)
                        } catch (De) {
                            return -1
                        }
                    }
                    var ne, ue, Me, Fe = o.document;
                    if (void 0 !== s.bookmark && !1 === Of(s)) {
                        var Ge = $m(s);
                        if (Ge.isSome())
                            return Ge.map(function(Ve) {
                                return Sy(s, [Ve])[0]
                            }).getOr(Fe.createRange())
                    }
                    try {
                        (ne = b()) && !Yi(ne.anchorNode) && (ue = 0 < ne.rangeCount ? ne.getRangeAt(0) : (ne.createRange ? ne : Fe).createRange(),
                        ue = Sy(s, [ue])[0])
                    } catch (Ve) {}
                    return (ue = ue || (Fe.createRange ? Fe.createRange() : Fe.body.createTextRange())).setStart && 9 === ue.startContainer.nodeType && ue.collapsed && (Me = t.getRoot(),
                    ue.setStart(Me, 0),
                    ue.setEnd(Me, 0)),
                    x && y && (0 === X(ue.START_TO_START, ue, x) && 0 === X(ue.END_TO_END, ue, x) ? ue = y : y = x = null),
                    ue
                }, H = function(X, ne) {
                    var ue;
                    if ((Me = X) && (S0(Me) || T0(Me.startContainer) && T0(Me.endContainer))) {
                        var Me, Fe = S0(X) ? X : null;
                        if (Fe) {
                            y = null;
                            try {
                                Fe.select()
                            } catch (Ve) {}
                        } else {
                            var Ge = b();
                            if (X = s.fire("SetSelectionRange", {
                                range: X,
                                forward: ne
                            }).range,
                            Ge) {
                                y = X;
                                try {
                                    Ge.removeAllRanges(),
                                    Ge.addRange(X)
                                } catch (Ve) {}
                                !1 === ne && Ge.extend && (Ge.collapse(X.endContainer, X.endOffset),
                                Ge.extend(X.startContainer, X.startOffset)),
                                x = 0 < Ge.rangeCount ? Ge.getRangeAt(0) : null
                            }
                            X.collapsed || X.startContainer !== X.endContainer || !Ge.setBaseAndExtent || er.ie || X.endOffset - X.startOffset < 2 && X.startContainer.hasChildNodes() && (ue = X.startContainer.childNodes[X.startOffset]) && "IMG" === ue.tagName && (Ge.setBaseAndExtent(X.startContainer, X.startOffset, X.endContainer, X.endOffset),
                            Ge.anchorNode === X.startContainer && Ge.focusNode === X.endContainer || Ge.setBaseAndExtent(ue, 0, ue, 1)),
                            s.fire("AfterSetSelectionRange", {
                                range: X,
                                forward: ne
                            })
                        }
                    }
                }, V = {
                    bookmarkManager: null,
                    controlSelection: null,
                    dom: k = t,
                    win: o,
                    serializer: i,
                    editor: _ = s,
                    collapse: g,
                    setCursorLocation: function(X, ne) {
                        var ue = t.createRng();
                        gn(X) && gn(ne) ? (ue.setStart(X, ne),
                        ue.setEnd(X, ne),
                        H(ue),
                        g(!1)) : (T1(t, ue, s.getBody(), !0),
                        H(ue))
                    },
                    getContent: function(X) {
                        return ue = (ne = void 0 === (ne = X) ? {} : ne).format || "html",
                        Me = ne,
                        Da(s).selection.getContent(ue, Me);
                        var ne, ue, Me
                    },
                    setContent: f,
                    getBookmark: function(X, ne) {
                        return j.getBookmark(X, ne)
                    },
                    moveToBookmark: function(X) {
                        return j.moveToBookmark(X)
                    },
                    select: function(X, ne) {
                        var ue = t
                          , Me = ne;
                        return ee.from(X).map(function(Fe) {
                            var Ge = ue.nodeIndex(Fe)
                              , Ve = ue.createRng();
                            return Ve.setStart(Fe.parentNode, Ge),
                            Ve.setEnd(Fe.parentNode, Ge + 1),
                            Me && (T1(ue, Ve, Fe, !0),
                            T1(ue, Ve, Fe, !1)),
                            Ve
                        }).each(H),
                        X
                    },
                    isCollapsed: function() {
                        var X = F()
                          , ne = b();
                        return !(!X || X.item) && (X.compareEndPoints ? 0 === X.compareEndPoints("StartToEnd", X) : !ne || X.collapsed)
                    },
                    isForward: m,
                    setNode: function(X) {
                        return f(t.getOuterHTML(X)),
                        X
                    },
                    getNode: function() {
                        return function(X, ne) {
                            if (!ne)
                                return X;
                            var ue = ne.startContainer
                              , Me = ne.endContainer
                              , Fe = ne.startOffset
                              , Ge = ne.endOffset
                              , Ve = ne.commonAncestorContainer;
                            return !ne.collapsed && (ue === Me && Ge - Fe < 2 && ue.hasChildNodes() && (Ve = ue.childNodes[Fe]),
                            3 === ue.nodeType && 3 === Me.nodeType && (ue = ue.length === Fe ? Cy(ue.nextSibling, !0) : ue.parentNode,
                            Me = 0 === Ge ? Cy(Me.previousSibling, !1) : Me.parentNode,
                            ue && ue === Me)) ? ue : Ve && 3 === Ve.nodeType ? Ve.parentNode : Ve
                        }(s.getBody(), F())
                    },
                    getSel: b,
                    setRng: H,
                    getRng: F,
                    getStart: function(X) {
                        return wy(s.getBody(), F(), X)
                    },
                    getEnd: function(X) {
                        return xy(s.getBody(), F(), X)
                    },
                    getSelectedBlocks: function(X, ne) {
                        return function(ue, Me, Fe, Ge) {
                            var Ve = []
                              , he = ue.getRoot();
                            if (Fe = ue.getParent(Fe || wy(he, Me, Me.collapsed), ue.isBlock),
                            Ge = ue.getParent(Ge || xy(he, Me, Me.collapsed), ue.isBlock),
                            Fe && Fe !== he && Ve.push(Fe),
                            Fe && Ge && Fe !== Ge)
                                for (var ye, De = new ao(Fe,he); (ye = De.next()) && ye !== Ge; )
                                    ue.isBlock(ye) && Ve.push(ye);
                            return Ge && Fe !== Ge && Ge !== he && Ve.push(Ge),
                            Ve
                        }(t, F(), X, ne)
                    },
                    normalize: function() {
                        var X = F();
                        if (1 < ts(b()).length || !Od(s))
                            return X;
                        var ne = Af(t, X);
                        return ne.each(function(ue) {
                            H(ue, m())
                        }),
                        ne.getOr(X)
                    },
                    selectorChanged: function(X, ne) {
                        return z(X, ne),
                        V
                    },
                    selectorChangedWithUnbind: z,
                    getScrollContainer: function() {
                        for (var X, ne = t.getRoot(); ne && "BODY" !== ne.nodeName; ) {
                            if (ne.scrollHeight > ne.clientHeight) {
                                X = ne;
                                break
                            }
                            ne = ne.parentNode
                        }
                        return X
                    },
                    scrollIntoView: function(X, ne) {
                        gn(X) ? (s.inline ? py : yv)(s, X, ne) : Hm(s, F(), ne)
                    },
                    placeCaretAt: function(X, ne) {
                        return H(R1(X, ne, s.getDoc()))
                    },
                    getBoundingClientRect: function() {
                        var X = F();
                        return X.collapsed ? et.fromRangeStart(X).getClientRects()[0] : X.getBoundingClientRect()
                    },
                    destroy: function() {
                        o = x = y = null,
                        K.destroy()
                    }
                }, j = Ni(V), K = xs(V, s);
                function oe(X, ne) {
                    return re(ne, function(ue) {
                        return k.is(ue, X)
                    })
                }
                function pe(X) {
                    return k.getParents(X, null, k.getRoot())
                }
                return V.bookmarkManager = j,
                V.controlSelection = K,
                V
            }
            function c2(t) {
                var o, i = decodeURIComponent(t).split(","), s = /data:([^;]+)/.exec(i[0]);
                return {
                    type: o = s ? s[1] : o,
                    data: i[1]
                }
            }
            function _0(t, o) {
                var i;
                try {
                    i = atob(o)
                } catch (m) {
                    return ee.none()
                }
                for (var s = new Uint8Array(i.length), f = 0; f < s.length; f++)
                    s[f] = i.charCodeAt(f);
                return ee.some(new Blob([s],{
                    type: t
                }))
            }
            function l2(t) {
                return 0 === t.indexOf("blob:") ? (o = t,
                new Mi(function(s, f) {
                    function m() {
                        f("Cannot convert " + o + " to Blob. Resource might not exist or is inaccessible.")
                    }
                    try {
                        var g = new XMLHttpRequest;
                        g.open("GET", o, !0),
                        g.responseType = "blob",
                        g.onload = function() {
                            200 === g.status ? s(g.response) : m()
                        }
                        ,
                        g.onerror = m,
                        g.send()
                    } catch (b) {
                        m()
                    }
                }
                )) : 0 === t.indexOf("data:") ? (i = t,
                new Mi(function(s) {
                    var f = c2(i);
                    _0(f.type, f.data).fold(function() {
                        return s(new Blob([]))
                    }, s)
                }
                )) : null;
                var o, i
            }
            function Xh(t) {
                return (t || "blobid") + d2++
            }
            function Yh(t, o, i, s) {
                (t.padd_empty_with_br || o.insert) && i[s.name] ? s.empty().append(new ba("br",1)).shortEnded = !0 : s.empty().append(new ba("#text",3)).value = Tn
            }
            function Ro(t, o, i, s) {
                return s.isEmpty(o, i, function(f) {
                    return (m = t.getElementRule(f.name)) && m.paddEmpty;
                    var m
                })
            }
            function k0(t, o) {
                void 0 === o && (o = Ac());
                var i = {}
                  , s = []
                  , f = {}
                  , m = {};
                function g(x) {
                    var y = x.name;
                    y in i && ((_ = f[y]) ? _.push(x) : f[y] = [x]);
                    for (var k = s.length; k--; ) {
                        var _, A = s[k].name;
                        A in x.attributes.map && ((_ = m[A]) ? _.push(x) : m[A] = [x])
                    }
                    return x
                }
                (t = t || {}).validate = !("validate"in t) || t.validate,
                t.root_name = t.root_name || "body";
                var b = {
                    schema: o,
                    addAttributeFilter: function(x, y) {
                        qr(TC(x), function(k) {
                            for (var _ = 0; _ < s.length; _++)
                                if (s[_].name === k)
                                    return void s[_].callbacks.push(y);
                            s.push({
                                name: k,
                                callbacks: [y]
                            })
                        })
                    },
                    getAttributeFilters: function() {
                        return [].concat(s)
                    },
                    addNodeFilter: function(x, y) {
                        qr(TC(x), function(k) {
                            var _ = i[k];
                            _ || (i[k] = _ = []),
                            _.push(y)
                        })
                    },
                    getNodeFilters: function() {
                        var x, y = [];
                        for (x in i)
                            St(i, x) && y.push({
                                name: x,
                                callbacks: i[x]
                            });
                        return y
                    },
                    filterNode: g,
                    parse: function(x, y) {
                        var k, _, A, P, z, F, H, V, j = [];
                        function K(Lt) {
                            for (var Rt = o.getBlockElements(), Ht = Lt.prev; Ht && 3 === Ht.type; ) {
                                var zt = Ht.value.replace(ye, "");
                                if (0 < zt.length)
                                    return Ht.value = zt,
                                    0;
                                var ln = Ht.next;
                                if (ln) {
                                    if (3 === ln.type && ln.value.length) {
                                        Ht = Ht.prev;
                                        continue
                                    }
                                    if (!Rt[ln.name] && "script" !== ln.name && "style" !== ln.name) {
                                        Ht = Ht.prev;
                                        continue
                                    }
                                }
                                var ft = Ht.prev;
                                Ht.remove(),
                                Ht = ft
                            }
                        }
                        function oe(Lt, Rt) {
                            var Ht, zt = new ba(Lt,Rt);
                            return Lt in i && ((Ht = f[Lt]) ? Ht.push(zt) : f[Lt] = [zt]),
                            zt
                        }
                        y = y || {},
                        f = {},
                        m = {};
                        var pe = m2(SC("script,style,head,html,body,title,meta,param"), o.getBlockElements())
                          , X = Fr(o)
                          , ne = o.getNonEmptyElements()
                          , ue = o.children
                          , Me = t.validate
                          , Fe = ("forced_root_block"in y ? y : t).forced_root_block
                          , Ge = !1 === Fe ? "" : !0 === Fe ? "p" : Fe
                          , Ve = o.getWhiteSpaceElements()
                          , he = /^[ \t\r\n]+/
                          , ye = /[ \t\r\n]+$/
                          , De = /[ \t\r\n]+/g
                          , He = /^[ \t\r\n]+$/
                          , Dt = St(Ve, y.context) || St(Ve, t.root_name)
                          , It = $1({
                            validate: Me,
                            document: t.document,
                            allow_html_data_urls: t.allow_html_data_urls,
                            allow_svg_data_urls: t.allow_svg_data_urls,
                            allow_script_urls: t.allow_script_urls,
                            allow_conditional_comments: t.allow_conditional_comments,
                            preserve_cdata: t.preserve_cdata,
                            self_closing_elements: function(Lt) {
                                var Rt, Ht = {};
                                for (Rt in Lt)
                                    "li" !== Rt && "p" !== Rt && (Ht[Rt] = Lt[Rt]);
                                return Ht
                            }(o.getSelfClosingElements()),
                            cdata: function(Lt) {
                                V.append(oe("#cdata", 4)).value = Lt
                            },
                            text: function(Lt, Rt) {
                                var Ht, zt;
                                Dt || (Lt = Lt.replace(De, " "),
                                (zt = V.lastChild) && (St(pe, zt.name) || "br" === zt.name) && (Lt = Lt.replace(he, ""))),
                                0 !== Lt.length && ((Ht = oe("#text", 3)).raw = !!Rt,
                                V.append(Ht).value = Lt)
                            },
                            comment: function(Lt) {
                                V.append(oe("#comment", 8)).value = Lt
                            },
                            pi: function(Lt, Rt) {
                                V.append(oe(Lt, 7)).value = Rt,
                                K(V)
                            },
                            doctype: function(Lt) {
                                V.append(oe("#doctype", 10)).value = Lt,
                                K(V)
                            },
                            start: function(Lt, Rt, Ht) {
                                var zt = Me ? o.getElementRule(Lt) : {};
                                if (zt) {
                                    var ln = oe(zt.outputName || Lt, 1);
                                    ln.attributes = Rt,
                                    ln.shortEnded = Ht,
                                    V.append(ln);
                                    var ft = ue[V.name];
                                    ft && ue[ln.name] && !ft[ln.name] && j.push(ln);
                                    for (var Zt = s.length; Zt--; ) {
                                        var Mt = s[Zt].name;
                                        Mt in Rt.map && ((F = m[Mt]) ? F.push(ln) : m[Mt] = [ln])
                                    }
                                    pe[Lt] && K(ln),
                                    Ht || (V = ln),
                                    !Dt && Ve[Lt] && (Dt = !0)
                                }
                            },
                            end: function(Lt) {
                                var Rt, Ht, zt, ln, ft = Me ? o.getElementRule(Lt) : {};
                                if (ft) {
                                    if (pe[Lt] && !Dt) {
                                        if ((Rt = V.firstChild) && 3 === Rt.type)
                                            if (0 < (Ht = Rt.value.replace(he, "")).length)
                                                Rt.value = Ht,
                                                Rt = Rt.next;
                                            else
                                                for (zt = Rt.next,
                                                Rt.remove(),
                                                Rt = zt; Rt && 3 === Rt.type; )
                                                    zt = Rt.next,
                                                    0 !== (Ht = Rt.value).length && !He.test(Ht) || (Rt.remove(),
                                                    Rt = zt),
                                                    Rt = zt;
                                        if ((Rt = V.lastChild) && 3 === Rt.type)
                                            if (0 < (Ht = Rt.value.replace(ye, "")).length)
                                                Rt.value = Ht,
                                                Rt = Rt.prev;
                                            else
                                                for (zt = Rt.prev,
                                                Rt.remove(),
                                                Rt = zt; Rt && 3 === Rt.type; )
                                                    zt = Rt.prev,
                                                    0 !== (Ht = Rt.value).length && !He.test(Ht) || (Rt.remove(),
                                                    Rt = zt),
                                                    Rt = zt
                                    }
                                    Dt && Ve[Lt] && (Dt = !1);
                                    var Zt = Ro(o, ne, Ve, V)
                                      , Mt = V.parent;
                                    ft.paddInEmptyBlock && Zt && function() {
                                        for (var xn = V; gn(xn); ) {
                                            if (xn.name in X)
                                                return Ro(o, ne, Ve, xn);
                                            xn = xn.parent
                                        }
                                    }() ? Yh(t, y, pe, V) : ft.removeEmpty && Zt ? pe[V.name] ? V.empty().remove() : V.unwrap() : ft.paddEmpty && (CC(ln = V, "#text") && ln.firstChild.value === Tn || Zt) && Yh(t, y, pe, V),
                                    V = Mt
                                }
                            }
                        }, o)
                          , Tt = V = new ba(y.context || t.root_name,11);
                        if (It.parse(x, y.format),
                        Me && j.length && (y.context ? y.invalid = !0 : function(Lt) {
                            for (var Rt = SC("tr,td,th,tbody,thead,tfoot,table"), Ht = o.getNonEmptyElements(), zt = o.getWhiteSpaceElements(), ln = o.getTextBlockElements(), ft = o.getSpecialElements(), Zt = function(mr, ra) {
                                if (void 0 === ra && (ra = mr.parent),
                                ft[mr.name])
                                    mr.empty().remove();
                                else {
                                    for (var Er = 0, ar = mr.children(); Er < ar.length; Er++) {
                                        var go = ar[Er];
                                        o.isValidChild(ra.name, go.name) || Zt(go, ra)
                                    }
                                    mr.unwrap()
                                }
                            }, Mt = 0; Mt < Lt.length; Mt++) {
                                var xn, mn = Lt[Mt], Vr = void 0, ve = void 0;
                                if (mn.parent && !mn.fixed)
                                    if (ln[mn.name] && "li" === mn.parent.name) {
                                        for (var Ce = mn.next; Ce && ln[Ce.name]; )
                                            Ce.name = "li",
                                            Ce.fixed = !0,
                                            mn.parent.insert(Ce, mn.parent),
                                            Ce = Ce.next;
                                        mn.unwrap()
                                    } else {
                                        var Je = [mn];
                                        for (Vr = mn.parent; Vr && !o.isValidChild(Vr.name, mn.name) && !Rt[Vr.name]; Vr = Vr.parent)
                                            Je.push(Vr);
                                        if (Vr && 1 < Je.length)
                                            if (o.isValidChild(Vr.name, mn.name)) {
                                                Je.reverse();
                                                for (var bt = xn = g(Je[0].clone()), vt = 0; vt < Je.length - 1; vt++) {
                                                    o.isValidChild(bt.name, Je[vt].name) ? (ve = g(Je[vt].clone()),
                                                    bt.append(ve)) : ve = bt;
                                                    for (var jt = Je[vt].firstChild; jt && jt !== Je[vt + 1]; ) {
                                                        var tr = jt.next;
                                                        ve.append(jt),
                                                        jt = tr
                                                    }
                                                    bt = ve
                                                }
                                                Ro(o, Ht, zt, xn) ? Vr.insert(mn, Je[0], !0) : (Vr.insert(xn, Je[0], !0),
                                                Vr.insert(mn, xn)),
                                                (Ro(o, Ht, zt, Vr = Je[0]) || CC(Vr, "br")) && Vr.empty().remove()
                                            } else
                                                Zt(mn);
                                        else
                                            mn.parent && ("li" !== mn.name ? o.isValidChild(mn.parent.name, "div") && o.isValidChild("div", mn.name) ? mn.wrap(g(new ba("div",1))) : Zt(mn) : !(Ce = mn.prev) || "ul" !== Ce.name && "ol" !== Ce.name ? !(Ce = mn.next) || "ul" !== Ce.name && "ol" !== Ce.name ? mn.wrap(g(new ba("ul",1))) : Ce.insert(mn, Ce.firstChild, !0) : Ce.append(mn))
                                    }
                            }
                        }(j)),
                        Ge && ("body" === Tt.name || y.isRootContent) && function() {
                            function Lt(ln) {
                                ln && ((Rt = ln.firstChild) && 3 === Rt.type && (Rt.value = Rt.value.replace(he, "")),
                                (Rt = ln.lastChild) && 3 === Rt.type && (Rt.value = Rt.value.replace(ye, "")))
                            }
                            var Rt = Tt.firstChild
                              , Ht = null;
                            if (o.isValidChild(Tt.name, Ge.toLowerCase())) {
                                for (; Rt; ) {
                                    var zt = Rt.next;
                                    3 === Rt.type || 1 === Rt.type && "p" !== Rt.name && !pe[Rt.name] && !Rt.attr("data-mce-type") ? (Ht || ((Ht = oe(Ge, 1)).attr(t.forced_root_block_attrs),
                                    Tt.insert(Ht, Rt)),
                                    Ht.append(Rt)) : (Lt(Ht),
                                    Ht = null),
                                    Rt = zt
                                }
                                Lt(Ht)
                            }
                        }(),
                        !y.invalid) {
                            for (H in f)
                                if (St(f, H)) {
                                    for (F = i[H],
                                    P = (k = f[H]).length; P--; )
                                        k[P].parent || k.splice(P, 1);
                                    for (_ = 0,
                                    A = F.length; _ < A; _++)
                                        F[_](k, H, y)
                                }
                            for (_ = 0,
                            A = s.length; _ < A; _++)
                                if ((F = s[_]).name in m) {
                                    for (P = (k = m[F.name]).length; P--; )
                                        k[P].parent || k.splice(P, 1);
                                    for (P = 0,
                                    z = F.callbacks.length; P < z; P++)
                                        F.callbacks[P](k, F.name, y)
                                }
                        }
                        return Tt
                    }
                };
                return function(t, o) {
                    var s, f, m = t.schema;
                    function g(b) {
                        var x, y, k = b.attr("src");
                        (x = b).attr("src") === er.transparentSrc || gn(x.attr("data-mce-placeholder")) || gn(b.attr("data-mce-bogus")) || ((y = /data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(k)) ? ee.some({
                            type: y[1],
                            data: decodeURIComponent(y[2])
                        }) : ee.none()).filter(function() {
                            return function(_, A) {
                                if (A.images_dataimg_filter) {
                                    var P = new Image;
                                    return P.src = _.attr("src"),
                                    Un(_.attributes.map, function(z, F) {
                                        P.setAttribute(F, z)
                                    }),
                                    A.images_dataimg_filter(P)
                                }
                                return !0
                            }(b, s)
                        }).bind(function(_) {
                            var A = _.type
                              , P = _.data;
                            return ee.from(f.getByData(P, A)).orThunk(function() {
                                return _0(A, P).map(function(z) {
                                    var F = f.create(Xh(), z, P);
                                    return f.add(F),
                                    F
                                })
                            })
                        }).each(function(_) {
                            b.attr("src", _.blobUri())
                        })
                    }
                    o.remove_trailing_brs && t.addNodeFilter("br", function(b, x, y) {
                        var k, _, A, P, z, F, H, V, j = b.length, K = Ke.extend({}, m.getBlockElements()), oe = m.getNonEmptyElements(), pe = m.getWhiteSpaceElements();
                        for (K.body = 1,
                        k = 0; k < j; k++)
                            if (A = (_ = b[k]).parent,
                            K[_.parent.name] && _ === A.lastChild) {
                                for (z = _.prev; z; ) {
                                    if ("span" !== (F = z.name) || "bookmark" !== z.attr("data-mce-type")) {
                                        "br" === F && (_ = null);
                                        break
                                    }
                                    z = z.prev
                                }
                                _ && (_.remove(),
                                Ro(m, oe, pe, A) && (H = m.getElementRule(A.name)) && (H.removeEmpty ? A.remove() : H.paddEmpty && Yh(o, y, K, A)))
                            } else {
                                for (P = _; A && A.firstChild === P && A.lastChild === P && !K[(P = A).name]; )
                                    A = A.parent;
                                P === A && !0 !== o.padd_empty_with_br && ((V = new ba("#text",3)).value = Tn,
                                _.replace(V))
                            }
                    }),
                    t.addAttributeFilter("href", function(b) {
                        var x, y, k = b.length;
                        if (!o.allow_unsafe_link_target)
                            for (; k--; ) {
                                var _ = b[k];
                                "a" === _.name && "_blank" === _.attr("target") && _.attr("rel", (y = void 0,
                                y = (x = _.attr("rel")) ? Ke.trim(x) : "",
                                /\b(noopener)\b/g.test(y) ? y : y.split(" ").filter(function(A) {
                                    return 0 < A.length
                                }).concat(["noopener"]).sort().join(" ")))
                            }
                    }),
                    o.allow_html_in_named_anchor || t.addAttributeFilter("id,name", function(b) {
                        for (var x, y, k, _, A = b.length; A--; )
                            if ("a" === (_ = b[A]).name && _.firstChild && !_.attr("href"))
                                for (k = _.parent,
                                x = _.lastChild; y = x.prev,
                                k.insert(x, _),
                                x = y; )
                                    ;
                    }),
                    o.fix_list_elements && t.addNodeFilter("ul,ol", function(b) {
                        for (var x, y, k, _ = b.length; _--; )
                            "ul" !== (k = (y = b[_]).parent).name && "ol" !== k.name || (y.prev && "li" === y.prev.name ? y.prev.append(y) : ((x = new ba("li",1)).attr("style", "list-style-type: none"),
                            y.wrap(x)))
                    }),
                    o.validate && m.getValidClasses() && t.addAttributeFilter("class", function(b) {
                        for (var x = m.getValidClasses(), y = b.length; y--; ) {
                            for (var k = b[y], _ = k.attr("class").split(" "), A = "", P = 0; P < _.length; P++) {
                                var z = _[P]
                                  , F = !1
                                  , H = x["*"];
                                H && H[z] && (F = !0),
                                H = x[k.name],
                                (F = !(F || !H || !H[z]) || F) && (A && (A += " "),
                                A += z)
                            }
                            A.length || (A = null),
                            k.attr("class", A)
                        }
                    }),
                    (f = (s = o).blob_cache) && t.addAttributeFilter("src", function(b) {
                        return tt(b, g)
                    })
                }(b, t),
                t.inline_styles && function(t, o) {
                    var i, s, f, m, g = cm();
                    o.convert_fonts_to_spans && (s = t,
                    f = g,
                    m = Ke.explode(o.font_size_legacy_values),
                    s.addNodeFilter("font", function(b) {
                        tt(b, function(x) {
                            var y, k = f.parse(x.attr("style")), _ = x.attr("color"), A = x.attr("face"), P = x.attr("size");
                            _ && (k.color = _),
                            A && (k["font-family"] = A),
                            P && (k["font-size"] = m[parseInt(x.attr("size"), 10) - 1]),
                            x.name = "span",
                            x.attr("style", f.serialize(k)),
                            y = x,
                            tt(["color", "face", "size"], function(z) {
                                y.attr(z, null)
                            })
                        })
                    })),
                    i = g,
                    t.addNodeFilter("strike", function(b) {
                        tt(b, function(x) {
                            var y = i.parse(x.attr("style"));
                            y["text-decoration"] = "line-through",
                            x.name = "span",
                            x.attr("style", i.serialize(y))
                        })
                    })
                }(b, t),
                b
            }
            function hC(t, o, i) {
                -1 === Ke.inArray(o, i) && (t.addAttributeFilter(i, function(s, f) {
                    for (var m = s.length; m--; )
                        s[m].attr(f, null)
                }),
                o.push(i))
            }
            function E0(t, o) {
                var i = function(t, o) {
                    var i = ["data-mce-selected"]
                      , s = o && o.dom ? o.dom : co.DOM
                      , f = o && o.schema ? o.schema : Ac(t);
                    t.entity_encoding = t.entity_encoding || "named",
                    t.remove_trailing_brs = !("remove_trailing_brs"in t) || t.remove_trailing_brs;
                    var m, g = k0(t, f), b = t, x = s;
                    return (m = g).addAttributeFilter("data-mce-tabindex", function(y, k) {
                        for (var _ = y.length; _--; ) {
                            var A = y[_];
                            A.attr("tabindex", A.attr("data-mce-tabindex")),
                            A.attr(k, null)
                        }
                    }),
                    m.addAttributeFilter("src,href,style", function(y, k) {
                        for (var _ = "data-mce-" + k, A = b.url_converter, P = b.url_converter_scope, z = y.length; z--; ) {
                            var F = y[z]
                              , H = F.attr(_);
                            void 0 !== H ? (F.attr(k, 0 < H.length ? H : null),
                            F.attr(_, null)) : (H = F.attr(k),
                            "style" === k ? H = x.serializeStyle(x.parseStyle(H), F.name) : A && (H = A.call(P, H, k, F.name)),
                            F.attr(k, 0 < H.length ? H : null))
                        }
                    }),
                    m.addAttributeFilter("class", function(y) {
                        for (var k = y.length; k--; ) {
                            var _, A = y[k];
                            A.attr("class") && (_ = A.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g, ""),
                            A.attr("class", 0 < _.length ? _ : null))
                        }
                    }),
                    m.addAttributeFilter("data-mce-type", function(y, k, _) {
                        for (var A = y.length; A--; ) {
                            var P = y[A];
                            "bookmark" !== P.attr("data-mce-type") || _.cleanup || (ee.from(P.firstChild).exists(function(z) {
                                return !fo(z.value)
                            }) ? P.unwrap() : P.remove())
                        }
                    }),
                    m.addNodeFilter("noscript", function(y) {
                        for (var k = y.length; k--; ) {
                            var _ = y[k].firstChild;
                            _ && (_.value = Pi.decode(_.value))
                        }
                    }),
                    m.addNodeFilter("script,style", function(y, k) {
                        for (var _ = function(H) {
                            return H.replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n").replace(/^[\r\n]*|[\r\n]*$/g, "").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi, "").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g, "")
                        }, A = y.length; A--; ) {
                            var P, z = y[A], F = z.firstChild ? z.firstChild.value : "";
                            "script" === k ? ((P = z.attr("type")) && z.attr("type", "mce-no/type" === P ? null : P.replace(/^mce\-/, "")),
                            "xhtml" === b.element_format && 0 < F.length && (z.firstChild.value = "// <![CDATA[\n" + _(F) + "\n// ]]>")) : "xhtml" === b.element_format && 0 < F.length && (z.firstChild.value = "\x3c!--\n" + _(F) + "\n--\x3e")
                        }
                    }),
                    m.addNodeFilter("#comment", function(y) {
                        for (var k = y.length; k--; ) {
                            var _ = y[k];
                            b.preserve_cdata && 0 === _.value.indexOf("[CDATA[") ? (_.name = "#cdata",
                            _.type = 4,
                            _.value = x.decode(_.value.replace(/^\[CDATA\[|\]\]$/g, ""))) : 0 === _.value.indexOf("mce:protected ") && (_.name = "#text",
                            _.type = 3,
                            _.raw = !0,
                            _.value = unescape(_.value).substr(14))
                        }
                    }),
                    m.addNodeFilter("xml:namespace,input", function(y, k) {
                        for (var _ = y.length; _--; ) {
                            var A = y[_];
                            7 === A.type ? A.remove() : 1 === A.type && ("input" !== k || A.attr("type") || A.attr("type", "text"))
                        }
                    }),
                    m.addAttributeFilter("data-mce-type", function(y) {
                        tt(y, function(k) {
                            "format-caret" === k.attr("data-mce-type") && (k.isEmpty(m.schema.getNonEmptyElements()) ? k.remove() : k.unwrap())
                        })
                    }),
                    m.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder", function(y, k) {
                        for (var _ = y.length; _--; )
                            y[_].attr(k, null)
                    }),
                    {
                        schema: f,
                        addNodeFilter: g.addNodeFilter,
                        addAttributeFilter: g.addAttributeFilter,
                        serialize: function(y, k) {
                            var _, A, P, z, F, H, V, j, K, oe, pe, X, ne, ue, Me, Fe, Ge, Ve, he, ye, De, He, Dt, It, Tt, Lt, Rt, Ht, zt, ln = en({
                                format: "html"
                            }, k = void 0 === k ? {} : k), ft = (X = y,
                            Dt = ne = ln,
                            _ = (pe = o) && pe.hasEventListeners("PreProcess") && !Dt.no_events ? (Me = ne,
                            ye = (ue = pe).dom,
                            De = X.cloneNode(!0),
                            (He = document.implementation).createHTMLDocument && (Ge = He.createHTMLDocument(""),
                            Ke.each("BODY" === De.nodeName ? De.childNodes : [De], function(xn) {
                                Ge.body.appendChild(Ge.importNode(xn, !0))
                            }),
                            De = "BODY" !== De.nodeName ? Ge.body.firstChild : Ge.body,
                            Fe = ye.doc,
                            ye.doc = Ge),
                            Ve = ue,
                            he = en(en({}, Me), {
                                node: De
                            }),
                            Ve.fire("PreProcess", he),
                            Fe && (ye.doc = Fe),
                            De) : X,
                            P = $a((A = ln).getInner ? _.innerHTML : s.getOuterHTML(_)),
                            A.selection || Rn(Oe.fromDom(_)) ? P : Ke.trim(P)), Zt = (z = g,
                            F = ft,
                            V = (H = ln).selection ? en({
                                forced_root_block: !1
                            }, H) : H,
                            !Mt(oe = (j = z.parse(F, V)).lastChild) || Mt(K = oe.prev) && (oe.remove(),
                            K.remove()),
                            j);
                            function Mt(xn) {
                                return xn && "br" === xn.name
                            }
                            return "tree" === ln.format ? Zt : (It = o,
                            Tt = ln,
                            Lt = Zt,
                            zt = Gm(t, f).serialize(Lt),
                            Tt.no_events || !It ? zt : (Rt = It,
                            Ht = en(en({}, Tt), {
                                content: zt
                            }),
                            Rt.fire("PostProcess", Ht).content))
                        },
                        addRules: f.addValidElements,
                        setRules: f.setValidElements,
                        addTempAttr: st(hC, g, i),
                        getTempAttrs: xe(i),
                        getNodeFilters: g.getNodeFilters,
                        getAttributeFilters: g.getAttributeFilters
                    }
                }(t, o);
                return {
                    schema: i.schema,
                    addNodeFilter: i.addNodeFilter,
                    addAttributeFilter: i.addAttributeFilter,
                    serialize: i.serialize,
                    addRules: i.addRules,
                    setRules: i.setRules,
                    addTempAttr: i.addTempAttr,
                    getTempAttrs: i.getTempAttrs,
                    getNodeFilters: i.getNodeFilters,
                    getAttributeFilters: i.getAttributeFilters
                }
            }
            function A0(t, o, i) {
                return s = i = void 0 === i ? {} : i,
                Ul(t).editor.setContent(o, s);
                var s
            }
            function ug(t) {
                return ee.from(t).each(function(o) {
                    return o.destroy()
                })
            }
            function Jh(t) {
                var o = Se(t) ? t.join(" ") : t;
                return nn(bn(Fn(o) ? o.split(" ") : [], ze), function(i) {
                    return 0 < i.length
                })
            }
            function Zh(t, o) {
                return St(t.sections(), o)
            }
            function yC(t, o) {
                return pt(t, "toolbar_mode").orThunk(function() {
                    return pt(t, "toolbar_drawer").map(function(i) {
                        return !1 === i ? "wrap" : i
                    })
                }).getOr(o)
            }
            function Dv(t, o, i) {
                return ee.from(o.settings[i]).filter(t)
            }
            function wC(t, o) {
                return o.dom[t]
            }
            function xC(t, o) {
                return parseInt(Ae(o, t), 10)
            }
            function O0(t, o, i) {
                var s, f, m, g, b, x, y = Oe.fromDom(t.getBody()), k = t.inline ? y : Oe.fromDom(Ru(y).dom.documentElement), _ = (s = t.inline,
                m = o,
                g = i,
                b = (f = k).dom.getBoundingClientRect(),
                {
                    x: m - (s ? b.left + f.dom.clientLeft + RT(f) : 0),
                    y: g - (s ? b.top + f.dom.clientTop + MT(f) : 0)
                }), A = _.x, P = _.y, z = p2(x = k), F = DT(x);
                return 0 <= A && 0 <= P && A <= z && P <= F
            }
            function nc(t) {
                function o() {
                    var y = t.theme;
                    return y && y.getNotificationManagerImpl ? y.getNotificationManagerImpl() : {
                        open: k,
                        close: k,
                        reposition: k,
                        getArgs: k
                    };
                    function k() {
                        throw new Error("Theme did not provide a NotificationManager implementation.")
                    }
                }
                function i() {
                    return ee.from(b[0])
                }
                function s() {
                    0 < b.length && o().reposition(b)
                }
                function f(y) {
                    Re(b, function(k) {
                        return k === y
                    }).each(function(k) {
                        b.splice(k, 1)
                    })
                }
                function m(y, k) {
                    if (void 0 === k && (k = !0),
                    !t.removed && (A = (_ = t).inline ? _.getBody() : _.getContentAreaContainer(),
                    ee.from(A).map(Oe.fromDom).map(Ku).getOr(!1)))
                        return k && t.fire("BeforeOpenNotification", {
                            notification: y
                        }),
                        re(b, function(P) {
                            return !((z = o().getArgs(P)).type !== y.type || z.text !== y.text || z.progressBar || z.timeout || y.progressBar || y.timeout);
                            var z
                        }).getOrThunk(function() {
                            t.editorManager.setActive(t);
                            var P = o().open(y, function() {
                                f(P),
                                s(),
                                i().fold(function() {
                                    return t.focus()
                                }, function(z) {
                                    return Oe.fromDom(z.getEl()).dom.focus()
                                })
                            });
                            return b.push(P),
                            s(),
                            t.fire("OpenNotification", {
                                notification: en({}, P)
                            }),
                            P
                        });
                    var _, A
                }
                var g, b = [], x = xe(b);
                return (g = t).on("SkinLoaded", function() {
                    var y = g.getParam("service_message");
                    y && m({
                        text: y,
                        type: "warning",
                        timeout: 0
                    }, !1),
                    s()
                }),
                g.on("show ResizeEditor ResizeWindow NodeChange", function() {
                    ai.requestAnimationFrame(s)
                }),
                g.on("remove", function() {
                    tt(b.slice(), function(y) {
                        o().close(y)
                    })
                }),
                {
                    open: m,
                    close: function() {
                        i().each(function(y) {
                            o().close(y),
                            f(y),
                            s()
                        })
                    },
                    getNotifications: x
                }
            }
            var Lu, jl, d2 = 0, CC = function(t, o) {
                return t && t.firstChild && t.firstChild === t.lastChild && t.firstChild.name === o
            }, SC = Ke.makeMap, qr = Ke.each, TC = Ke.explode, m2 = Ke.extend, ml = co.DOM, _C = (Lu = function(t, o) {
                return an(t) && an(o) ? _C(t, o) : o
            }
            ,
            function() {
                for (var t = [], o = 0; o < arguments.length; o++)
                    t[o] = arguments[o];
                if (0 === t.length)
                    throw new Error("Can't merge zero objects");
                for (var i = {}, s = 0; s < t.length; s++) {
                    var f, m = t[s];
                    for (f in m)
                        St(m, f) && (i[f] = Lu(i[f], m[f]))
                }
                return i
            }
            ), AT = "autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","), kC = "bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","), OT = "imagetools,toc".split(","), Vd = Wr().deviceType, g2 = Vd.isTouch(), Qh = Vd.isPhone(), h2 = Vd.isTablet(), EC = ["lists", "autolink", "autosave"], AC = {
                table_grid: !1,
                object_resizing: !1,
                resize: !1
            }, Mv = (jl = {},
            {
                add: function(t, o) {
                    jl[t] = o
                },
                get: function(t) {
                    return jl[t] || {
                        icons: {}
                    }
                },
                has: function(t) {
                    return St(jl, t)
                }
            }), p2 = st(wC, "clientWidth"), DT = st(wC, "clientHeight"), MT = st(xC, "margin-top"), RT = st(xC, "margin-left"), On = cu.PluginManager, Nf = cu.ThemeManager;
            function Hu(t) {
                function o() {
                    var g = t.theme;
                    return g && g.getWindowManagerImpl ? g.getWindowManagerImpl() : {
                        open: b,
                        openUrl: b,
                        alert: b,
                        confirm: b,
                        close: b,
                        getParams: b,
                        setParams: b
                    };
                    function b() {
                        throw new Error("Theme did not provide a WindowManager implementation.")
                    }
                }
                function i(g, b) {
                    return function() {
                        for (var x = [], y = 0; y < arguments.length; y++)
                            x[y] = arguments[y];
                        return b ? b.apply(g, x) : void 0
                    }
                }
                function s(g) {
                    t.fire("CloseWindow", {
                        dialog: g
                    }),
                    0 === (m = nn(m, function(b) {
                        return b !== g
                    })).length && t.focus()
                }
                function f(g) {
                    t.editorManager.setActive(t),
                    Rd(t);
                    var b, x = g();
                    return m.push(b = x),
                    t.fire("OpenWindow", {
                        dialog: b
                    }),
                    x
                }
                var m = [];
                return t.on("remove", function() {
                    tt(m, function(g) {
                        o().close(g)
                    })
                }),
                {
                    open: function(g, b) {
                        return f(function() {
                            return o().open(g, b, s)
                        })
                    },
                    openUrl: function(g) {
                        return f(function() {
                            return o().openUrl(g, s)
                        })
                    },
                    alert: function(g, b, x) {
                        var y = o();
                        y.alert(g, i(x || y, b))
                    },
                    confirm: function(g, b, x) {
                        var y = o();
                        y.confirm(g, i(x || y, b))
                    },
                    close: function() {
                        ee.from(m[m.length - 1]).each(function(g) {
                            o().close(g),
                            s(g)
                        })
                    }
                }
            }
            function ep(t, o) {
                t.notificationManager.open({
                    type: "error",
                    text: o
                })
            }
            function Rv(t, o) {
                t._skinLoaded ? ep(t, o) : t.on("SkinLoaded", function() {
                    ep(t, o)
                })
            }
            function b2(t, o, i) {
                xx(t, o, {
                    message: i
                }),
                console.error(i)
            }
            function y2(t, o, i) {
                return i ? "Failed to load " + t + ": " + i + " from url " + o : "Failed to load " + t + " url: " + o
            }
            function w2(t, o, i) {
                b2(t, "PluginLoadError", y2("plugin", o, i))
            }
            function D0() {
                function t(s, f) {
                    return {
                        status: s,
                        resultUri: f
                    }
                }
                function o(s) {
                    return s in i
                }
                var i = {};
                return {
                    hasBlobUri: o,
                    getResultUri: function(s) {
                        var f = i[s];
                        return f ? f.resultUri : null
                    },
                    isPending: function(s) {
                        return !!o(s) && 1 === i[s].status
                    },
                    isUploaded: function(s) {
                        return !!o(s) && 2 === i[s].status
                    },
                    markPending: function(s) {
                        i[s] = t(1, null)
                    },
                    markUploaded: function(s, f) {
                        i[s] = t(2, f)
                    },
                    removeFailed: function(s) {
                        delete i[s]
                    },
                    destroy: function() {
                        i = {}
                    }
                }
            }
            function OC(t) {
                return t + WC++ + "s" + (new Date).getTime().toString(36) + o() + o() + o();
                function o() {
                    return Math.round(4294967295 * Math.random()).toString(36)
                }
            }
            function x2(t) {
                return function() {
                    return t.notificationManager.open({
                        text: t.translate("Image uploading..."),
                        type: "info",
                        timeout: -1,
                        progressBar: !0
                    })
                }
            }
            function C2(t, o) {
                return function(t, o) {
                    function i(b, x, y, k) {
                        var _ = new XMLHttpRequest;
                        _.open("POST", o.url),
                        _.withCredentials = o.credentials,
                        _.upload.onprogress = function(P) {
                            k(P.loaded / P.total * 100)
                        }
                        ,
                        _.onerror = function() {
                            y("Image upload failed due to a XHR Transport error. Code: " + _.status)
                        }
                        ,
                        _.onload = function() {
                            var P, z, F;
                            _.status < 200 || 300 <= _.status ? y("HTTP Error: " + _.status) : (P = JSON.parse(_.responseText)) && "string" == typeof P.location ? x((F = P.location,
                            (z = o.basePath) ? z.replace(/\/$/, "") + "/" + F.replace(/^\//, "") : F)) : y("Invalid JSON: " + _.responseText)
                        }
                        ;
                        var A = new FormData;
                        A.append("file", b.blob(), b.filename()),
                        _.send(A)
                    }
                    function s(b, x) {
                        return {
                            url: x,
                            blobInfo: b,
                            status: !0
                        }
                    }
                    function f(b, x, y) {
                        return {
                            url: "",
                            blobInfo: b,
                            status: !1,
                            error: {
                                message: x,
                                options: y
                            }
                        }
                    }
                    function m(b, x) {
                        Ke.each(g[b], function(y) {
                            y(x)
                        }),
                        delete g[b]
                    }
                    var g = {};
                    return !1 === Kn(o.handler) && (o.handler = i),
                    {
                        upload: function(b, x) {
                            return o.url || o.handler !== i ? (k = x,
                            y = Ke.grep(b, function(_) {
                                return !t.isUploaded(_.blobUri())
                            }),
                            Mi.all(Ke.map(y, function(_) {
                                return t.isPending(_.blobUri()) ? (F = _.blobUri(),
                                new Mi(function(H) {
                                    g[F] = g[F] || [],
                                    g[F].push(H)
                                }
                                )) : (P = o.handler,
                                z = k,
                                t.markPending((A = _).blobUri()),
                                new Mi(function(H) {
                                    var V;
                                    try {
                                        var j = function() {
                                            V && V.close()
                                        };
                                        P(A, function(K) {
                                            j(),
                                            t.markUploaded(A.blobUri(), K),
                                            m(A.blobUri(), s(A, K)),
                                            H(s(A, K))
                                        }, function(K, oe) {
                                            var pe = oe || {};
                                            j(),
                                            t.removeFailed(A.blobUri()),
                                            m(A.blobUri(), f(A, K, pe)),
                                            H(f(A, K, pe))
                                        }, function(K) {
                                            K < 0 || 100 < K || ee.from(V).orThunk(function() {
                                                return ee.from(z).map(ca)
                                            }).each(function(oe) {
                                                (V = oe).progressBar.value(K)
                                            })
                                        })
                                    } catch (K) {
                                        H(f(A, K.message, {}))
                                    }
                                }
                                ));
                                var A, P, z, F
                            }))) : new Mi(function(_) {
                                _([])
                            }
                            );
                            var y, k
                        }
                    }
                }(o, {
                    url: t.getParam("images_upload_url", "", "string"),
                    basePath: t.getParam("images_upload_base_path", "", "string"),
                    credentials: t.getParam("images_upload_credentials", !1, "boolean"),
                    handler: t.getParam("images_upload_handler", null, "function")
                })
            }
            function MC(t, o) {
                function i(x) {
                    var y, k = ji.create((f = "string" == typeof x ? {
                        name: x,
                        classes: [],
                        attrs: {}
                    } : x).name), _ = k;
                    return (y = f).classes.length && ji.addClass(_, y.classes.join(" ")),
                    ji.setAttribs(_, y.attrs),
                    k
                }
                var s, f, m, g = o && o.schema || Ac({}), b = function(x, y, k) {
                    var _, A, P, z, F, H, V, j = 0 < y.length && y[0], K = j && j.name, oe = (z = K,
                    F = "string" != typeof (P = x) ? P.nodeName.toLowerCase() : P,
                    !(!(V = (H = g.getElementRule(F)) && H.parentsRequired) || !V.length) && (z && -1 !== Ke.inArray(V, z) ? z : V[0]));
                    if (oe)
                        K === oe ? (A = y[0],
                        y = y.slice(1)) : A = oe;
                    else if (j)
                        A = y[0],
                        y = y.slice(1);
                    else if (!k)
                        return x;
                    return A && (_ = i(A)).appendChild(x),
                    k && (_ || (_ = ji.create("div")).appendChild(x),
                    Ke.each(k, function(pe) {
                        var X = i(pe);
                        _.insertBefore(X, x)
                    })),
                    b(_, y, A && A.siblings)
                };
                return t && t.length ? (s = i(f = t[0]),
                (m = ji.create("div")).appendChild(b(s, t.slice(1), f.siblings)),
                m) : ""
            }
            function S2(t) {
                var o, i = {
                    classes: [],
                    attrs: {}
                };
                return "*" !== (t = i.selector = Ke.trim(t)) && (o = t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g, function(s, f, m, g, b) {
                    switch (f) {
                    case "#":
                        i.attrs.id = m;
                        break;
                    case ".":
                        i.classes.push(m);
                        break;
                    case ":":
                        -1 !== Ke.inArray("checked disabled enabled read-only required".split(" "), m) && (i.attrs[m] = m)
                    }
                    var x;
                    return "[" !== g || (x = b.match(/([\w\-]+)(?:\=\"([^\"]+))?/)) && (i.attrs[x[1]] = x[2]),
                    ""
                })),
                i.name = o || "div",
                i
            }
            function M0(t, o) {
                var i, s, f = "", m = (s = t.getParam("preview_styles", "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),
                Fn(s) ? s : "");
                if ("" === m)
                    return "";
                function g(P) {
                    return P.replace(/%(\w+)/g, "")
                }
                if ("string" == typeof o) {
                    if (!(o = t.formatter.get(o)))
                        return;
                    o = o[0]
                }
                if ("preview"in o) {
                    var b = pt(o, "preview");
                    if (Ti(b, !1))
                        return "";
                    m = b.getOr(m)
                }
                var x, y = o.block || o.inline || "span", k = (x = o.selector) && "string" == typeof x ? (x = (x = x.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g, "$1"),
                Ke.map(x.split(/(?:>|\s+(?![^\[\]]+\]))/), function(P) {
                    var z = Ke.map(P.split(/(?:~\+|~|\+)/), S2)
                      , F = z.pop();
                    return z.length && (F.siblings = z),
                    F
                }).reverse()) : [], _ = k.length ? (k[0].name || (k[0].name = y),
                y = o.selector,
                MC(k, t)) : MC([y], t), A = ji.select(y, _)[0] || _.firstChild;
                return Jl(o.styles, function(P, z) {
                    var F = g(P);
                    F && ji.setStyle(A, z, F)
                }),
                Jl(o.attributes, function(P, z) {
                    var F = g(P);
                    F && ji.setAttrib(A, z, F)
                }),
                Jl(o.classes, function(P) {
                    var z = g(P);
                    ji.hasClass(A, z) || ji.addClass(A, z)
                }),
                t.fire("PreviewFormats"),
                ji.setStyles(_, {
                    position: "absolute",
                    left: -65535
                }),
                t.getBody().appendChild(_),
                i = ji.getStyle(t.getBody(), "fontSize", !0),
                i = /px$/.test(i) ? parseInt(i, 10) : 0,
                Jl(m.split(" "), function(P) {
                    var z = ji.getStyle(A, P, !0);
                    if (!("background-color" === P && /transparent|rgba\s*\([^)]+,\s*0\)/.test(z) && (z = ji.getStyle(t.getBody(), P, !0),
                    "#ffffff" === ji.toHex(z).toLowerCase()) || "color" === P && "#000000" === ji.toHex(z).toLowerCase())) {
                        if ("font-size" === P && /em|%$/.test(z)) {
                            if (0 === i)
                                return;
                            z = parseFloat(z) / (/%$/.test(z) ? 100 : 1) * i + "px"
                        }
                        "border" === P && z && (f += "padding:0 2px;"),
                        f += P + ":" + z + ";"
                    }
                }),
                t.fire("AfterPreviewFormats"),
                ji.remove(_),
                f
            }
            function RC(t) {
                var o, i, s, f, m, g, b = (f = {},
                (m = function(y, k) {
                    y && (Fn(y) ? (tt(k = Se(k) ? k : [k], function(_) {
                        In(_.deep) && (_.deep = !na(_)),
                        In(_.split) && (_.split = !na(_) || ti(_)),
                        In(_.remove) && na(_) && !ti(_) && (_.remove = "none"),
                        na(_) && ti(_) && (_.mixed = !0,
                        _.block_expand = !0),
                        Fn(_.classes) && (_.classes = _.classes.split(/\s+/))
                    }),
                    f[y] = k) : Un(y, function(_, A) {
                        m(A, _)
                    }))
                }
                )((i = (o = t).dom,
                s = {
                    valigntop: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "top"
                        }
                    }],
                    valignmiddle: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "middle"
                        }
                    }],
                    valignbottom: [{
                        selector: "td,th",
                        styles: {
                            verticalAlign: "bottom"
                        }
                    }],
                    alignleft: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-left",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "left"
                        },
                        inherit: !1,
                        preview: !1,
                        defaultBlock: "div"
                    }, {
                        selector: "img,table,audio,video",
                        collapsed: !1,
                        styles: {
                            float: "left"
                        },
                        preview: "font-family font-size"
                    }],
                    aligncenter: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "center"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    }, {
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-center",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "img,audio,video",
                        collapsed: !1,
                        styles: {
                            display: "block",
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: !1
                    }, {
                        selector: "table",
                        collapsed: !1,
                        styles: {
                            marginLeft: "auto",
                            marginRight: "auto"
                        },
                        preview: "font-family font-size"
                    }],
                    alignright: [{
                        selector: "figure.image",
                        collapsed: !1,
                        classes: "align-right",
                        ceFalseOverride: !0,
                        preview: "font-family font-size"
                    }, {
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "right"
                        },
                        inherit: !1,
                        preview: "font-family font-size",
                        defaultBlock: "div"
                    }, {
                        selector: "img,table,audio,video",
                        collapsed: !1,
                        styles: {
                            float: "right"
                        },
                        preview: "font-family font-size"
                    }],
                    alignjustify: [{
                        selector: "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                        styles: {
                            textAlign: "justify"
                        },
                        inherit: !1,
                        defaultBlock: "div",
                        preview: "font-family font-size"
                    }],
                    bold: [{
                        inline: "strong",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }, {
                        inline: "span",
                        styles: {
                            fontWeight: "bold"
                        }
                    }, {
                        inline: "b",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }],
                    italic: [{
                        inline: "em",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }, {
                        inline: "span",
                        styles: {
                            fontStyle: "italic"
                        }
                    }, {
                        inline: "i",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }],
                    underline: [{
                        inline: "span",
                        styles: {
                            textDecoration: "underline"
                        },
                        exact: !0
                    }, {
                        inline: "u",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }],
                    strikethrough: [{
                        inline: "span",
                        styles: {
                            textDecoration: "line-through"
                        },
                        exact: !0
                    }, {
                        inline: "strike",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }, {
                        inline: "s",
                        remove: "all",
                        preserve_attributes: ["class", "style"]
                    }],
                    forecolor: {
                        inline: "span",
                        styles: {
                            color: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    hilitecolor: {
                        inline: "span",
                        styles: {
                            backgroundColor: "%value"
                        },
                        links: !0,
                        remove_similar: !0,
                        clear_child_styles: !0
                    },
                    fontname: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontFamily: "%value"
                        },
                        clear_child_styles: !0
                    },
                    fontsize: {
                        inline: "span",
                        toggle: !1,
                        styles: {
                            fontSize: "%value"
                        },
                        clear_child_styles: !0
                    },
                    lineheight: {
                        selector: "h1,h2,h3,h4,h5,h6,p,li,td,th,div",
                        defaultBlock: "p",
                        styles: {
                            lineHeight: "%value"
                        }
                    },
                    fontsize_class: {
                        inline: "span",
                        attributes: {
                            class: "%value"
                        }
                    },
                    blockquote: {
                        block: "blockquote",
                        wrapper: !0,
                        remove: "all"
                    },
                    subscript: {
                        inline: "sub"
                    },
                    superscript: {
                        inline: "sup"
                    },
                    code: {
                        inline: "code"
                    },
                    link: {
                        inline: "a",
                        selector: "a",
                        remove: "all",
                        split: !0,
                        deep: !0,
                        onmatch: function(y, k, _) {
                            return Hn(y) && y.hasAttribute("href")
                        },
                        onformat: function(y, k, _) {
                            Ke.each(_, function(A, P) {
                                i.setAttrib(y, P, A)
                            })
                        }
                    },
                    lang: {
                        inline: "span",
                        clear_child_styles: !0,
                        remove_similar: !0,
                        attributes: {
                            lang: "%value",
                            "data-mce-lang": function(y) {
                                var k;
                                return null !== (k = null == y ? void 0 : y.customValue) && void 0 !== k ? k : null
                            }
                        }
                    },
                    removeformat: [{
                        selector: "b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",
                        remove: "all",
                        split: !0,
                        expand: !1,
                        block_expand: !0,
                        deep: !0
                    }, {
                        selector: "span",
                        attributes: ["style", "class"],
                        remove: "empty",
                        split: !0,
                        expand: !1,
                        deep: !0
                    }, {
                        selector: "*",
                        attributes: ["style", "class"],
                        split: !1,
                        expand: !1,
                        deep: !0
                    }]
                },
                Ke.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/), function(y) {
                    s[y] = {
                        block: y,
                        remove: "all"
                    }
                }),
                s)),
                m(o.getParam("formats")),
                {
                    get: function(y) {
                        return gn(y) ? f[y] : f
                    },
                    has: function(y) {
                        return St(f, y)
                    },
                    register: m,
                    unregister: function(y) {
                        return y && f[y] && delete f[y],
                        f
                    }
                }), x = su(null);
                return function(y) {
                    y.addShortcut("meta+b", "", "Bold"),
                    y.addShortcut("meta+i", "", "Italic"),
                    y.addShortcut("meta+u", "", "Underline");
                    for (var k = 1; k <= 6; k++)
                        y.addShortcut("access+" + k, "", ["FormatBlock", !1, "h" + k]);
                    y.addShortcut("access+7", "", ["FormatBlock", !1, "p"]),
                    y.addShortcut("access+8", "", ["FormatBlock", !1, "div"]),
                    y.addShortcut("access+9", "", ["FormatBlock", !1, "address"])
                }(t),
                (g = t).on("mouseup keydown", function(y) {
                    var k = g
                      , _ = y.keyCode
                      , A = k.selection
                      , P = k.getBody();
                    Zm(k, null, !1),
                    8 !== _ && 46 !== _ || !A.isCollapsed() || A.getStart().innerHTML !== tg || Zm(k, Js(P, A.getStart())),
                    37 !== _ && 39 !== _ || Zm(k, Js(P, A.getStart()))
                }),
                {
                    get: b.get,
                    has: b.has,
                    register: b.register,
                    unregister: b.unregister,
                    apply: function(y, k, _) {
                        var A = y
                          , P = k
                          , z = _;
                        Da(t).formatter.apply(A, P, z)
                    },
                    remove: function(y, k, _, A) {
                        var P = y
                          , z = k
                          , F = _
                          , H = A;
                        Da(t).formatter.remove(P, z, F, H)
                    },
                    toggle: function(y, k, _) {
                        var A = y
                          , P = k
                          , z = _;
                        Da(t).formatter.toggle(A, P, z)
                    },
                    match: function(y, k, _, A) {
                        return P = y,
                        z = k,
                        F = _,
                        H = A,
                        Da(t).formatter.match(P, z, F, H);
                        var P, z, F, H
                    },
                    closest: function(y) {
                        return k = y,
                        Da(t).formatter.closest(k);
                        var k
                    },
                    matchAll: function(y, k) {
                        return _ = y,
                        A = k,
                        Da(t).formatter.matchAll(_, A);
                        var _, A
                    },
                    matchNode: function(y, k, _, A) {
                        return P = y,
                        z = k,
                        F = _,
                        H = A,
                        Da(t).formatter.matchNode(P, z, F, H);
                        var P, z, F, H
                    },
                    canApply: function(y) {
                        return k = y,
                        Da(t).formatter.canApply(k);
                        var k
                    },
                    formatChanged: function(y, k, _, A) {
                        return P = x,
                        z = y,
                        F = k,
                        H = _,
                        V = A,
                        Da(t).formatter.formatChanged(P, z, F, H, V);
                        var P, z, F, H, V
                    },
                    getCssText: st(M0, t)
                }
            }
            function _o(t) {
                switch (t.toLowerCase()) {
                case "undo":
                case "redo":
                case "mcerepaint":
                case "mcefocus":
                    return 1;
                default:
                    return
                }
            }
            function sg(t) {
                var o, i, s, f, m, g = Bl(), b = su(0), x = su(0), y = {
                    data: [],
                    typing: !1,
                    beforeChange: function() {
                        var _ = b
                          , A = g;
                        Da(t).undoManager.beforeChange(_, A)
                    },
                    add: function(_, A) {
                        return P = y,
                        z = x,
                        F = b,
                        H = g,
                        V = _,
                        j = A,
                        Da(t).undoManager.add(P, z, F, H, V, j);
                        var P, z, F, H, V, j
                    },
                    undo: function() {
                        return _ = y,
                        A = b,
                        P = x,
                        Da(t).undoManager.undo(_, A, P);
                        var _, A, P
                    },
                    redo: function() {
                        return _ = x,
                        A = y.data,
                        Da(t).undoManager.redo(_, A);
                        var _, A
                    },
                    clear: function() {
                        var _ = y
                          , A = x;
                        Da(t).undoManager.clear(_, A)
                    },
                    reset: function() {
                        var _ = y;
                        Da(t).undoManager.reset(_)
                    },
                    hasUndo: function() {
                        return _ = y,
                        A = x,
                        Da(t).undoManager.hasUndo(_, A);
                        var _, A
                    },
                    hasRedo: function() {
                        return _ = y,
                        A = x,
                        Da(t).undoManager.hasRedo(_, A);
                        var _, A
                    },
                    transact: function(_) {
                        return A = y,
                        P = b,
                        z = _,
                        Da(t).undoManager.transact(A, P, z);
                        var A, P, z
                    },
                    ignore: function(_) {
                        var A = b
                          , P = _;
                        Da(t).undoManager.ignore(A, P)
                    },
                    extra: function(_, A) {
                        var P = y
                          , z = x
                          , F = _
                          , H = A;
                        Da(t).undoManager.extra(P, z, F, H)
                    }
                };
                return jc(t) || (s = y,
                f = b,
                m = su(!1),
                (i = t).on("init", function() {
                    s.add()
                }),
                i.on("BeforeExecCommand", function(_) {
                    _o(_.command) || (u2(s, f),
                    s.beforeChange())
                }),
                i.on("ExecCommand", function(_) {
                    _o(_.command) || k(_)
                }),
                i.on("ObjectResizeStart cut", function() {
                    s.beforeChange()
                }),
                i.on("SaveContent ObjectResized blur", k),
                i.on("dragend", k),
                i.on("keyup", function(_) {
                    var A = _.keyCode;
                    _.isDefaultPrevented() || ((33 <= A && A <= 36 || 37 <= A && A <= 40 || 45 === A || _.ctrlKey) && (k(),
                    i.nodeChanged()),
                    46 !== A && 8 !== A || i.nodeChanged(),
                    m.get() && s.typing && !1 === y0(i2(i), s.data[0]) && (!1 === i.isDirty() && (i.setDirty(!0),
                    i.fire("change", {
                        level: s.data[0],
                        lastLevel: null
                    })),
                    i.fire("TypingUndo"),
                    m.set(!1),
                    i.nodeChanged()))
                }),
                i.on("keydown", function(_) {
                    var P = _.keyCode;
                    _.isDefaultPrevented() || (33 <= P && P <= 36 || 37 <= P && P <= 40 || 45 === P ? s.typing && k(_) : !(P < 16 || 20 < P) || 224 === P || 91 === P || s.typing || _.ctrlKey && !_.altKey || _.metaKey || (s.beforeChange(),
                    Wh(s, !0, f),
                    s.add({}, _),
                    m.set(!0)))
                }),
                i.on("mousedown", function(_) {
                    s.typing && k(_)
                }),
                i.on("input", function(_) {
                    _.inputType && ("insertReplacementText" === _.inputType || "insertText" === _.inputType && null === _.data || "insertFromPaste" === _.inputType || "insertFromDrop" === _.inputType) && k(_)
                }),
                i.on("AddUndo Undo Redo ClearUndos", function(_) {
                    _.isDefaultPrevented() || i.nodeChanged()
                })),
                (o = t).addShortcut("meta+z", "", "Undo"),
                o.addShortcut("meta+y,meta+shift+z", "", "Redo"),
                y;
                function k(_) {
                    Wh(s, !1, f),
                    s.add({}, _)
                }
            }
            function Gl(t) {
                return "keydown" === t.type || "keyup" === t.type
            }
            function gl(t) {
                var o = t.keyCode;
                return o === Zn.BACKSPACE || o === Zn.DELETE
            }
            function ql(t, o) {
                return Ii(Oe.fromDom(o), t.getParam("inline_boundaries_selector", "a[href],code,.mce-annotation", "string"))
            }
            function Ei(t, o, i) {
                var s, f, m = (s = t,
                f = o,
                nn(co.DOM.getParents(i.container(), "*", f), s));
                return ee.from(m[m.length - 1])
            }
            function $u(t, o) {
                if (!o)
                    return o;
                var i = o.container()
                  , s = o.offset();
                return t ? Yu(i) ? dn(i.nextSibling) ? et(i.nextSibling, 0) : et.after(i) : Al(o) ? et(i, s + 1) : o : Yu(i) ? dn(i.previousSibling) ? et(i.previousSibling, i.previousSibling.data.length) : et.before(i) : ad(o) ? et(i, s - 1) : o
            }
            function tp(t) {
                return U(t) || fe(t)
            }
            function Bv(t, o) {
                return qa(t, o) ? Hi(o, tp, (i = t,
                function(s) {
                    return uo(i, Oe.fromDom(s.dom.parentNode))
                }
                )) : ee.none();
                var i
            }
            function Ud(t) {
                var o, i, s;
                t.dom.isEmpty(t.getBody()) && (t.setContent(""),
                s = (i = (o = t).getBody()).firstChild && o.dom.isBlock(i.firstChild) ? i.firstChild : i,
                o.selection.setCursorLocation(s, 0))
            }
            function NT(t, o) {
                return {
                    from: t,
                    to: o
                }
            }
            function T2(t, o) {
                return Bv(Oe.fromDom(t), Oe.fromDom(o.container())).map(function(i) {
                    return {
                        block: i,
                        position: o
                    }
                })
            }
            function _2(t) {
                var o, i = Re(o = to(t), M).fold(xe(o), function(s) {
                    return o.slice(0, s)
                });
                return tt(i, aa),
                i
            }
            function PC(t, o) {
                return re(Df(o, t).reverse(), function(i) {
                    return pi(i)
                }).each(aa)
            }
            function Kr(t, o, i, s) {
                if (pi(i))
                    return zd(i),
                    jo(i.dom);
                0 === nn(Ki(s), function(m) {
                    return !pi(m)
                }).length && pi(o) && Ir(s, Oe.fromTag("br"));
                var f = pc(i.dom, et.before(s.dom));
                return tt(_2(o), function(m) {
                    Ir(s, m)
                }),
                PC(t, o),
                f
            }
            function hl(t, o, i) {
                if (pi(i))
                    return aa(i),
                    pi(o) && zd(o),
                    jo(o.dom);
                var s = Ll(i.dom);
                return tt(_2(o), function(f) {
                    no(i, f)
                }),
                PC(t, o),
                s
            }
            function Nv(t, o) {
                Lc(t, o.dom).map(function(i) {
                    return i.getNode()
                }).map(Oe.fromDom).filter(Nu).each(aa)
            }
            function k2(t, o, i) {
                return Nv(!0, o),
                Nv(!1, i),
                (qa(f = i, s = o) ? (m = Df(s, f),
                ee.from(m[m.length - 1])) : ee.none()).fold(st(hl, t, o, i), st(Kr, t, o, i));
                var s, f, m
            }
            function cg(t, o, i, s) {
                return o ? k2(t, s, i) : k2(t, i, s)
            }
            function Xr(t, o) {
                var i, s, f, m, g, b, x, y = Oe.fromDom(t.getBody()), k = (i = y.dom,
                s = o,
                ((f = t.selection.getRng()).collapsed ? (g = s,
                b = T2(m = i, et.fromRangeStart(f)),
                x = b.bind(function(_) {
                    return zs(g, m, _.position).bind(function(A) {
                        return T2(m, A).map(function(P) {
                            return z = m,
                            F = g,
                            zn((H = P).position.getNode()) && !1 === pi(H.block) ? Lc(!1, H.block.dom).bind(function(V) {
                                return V.isEqual(H.position) ? zs(F, z, V).bind(function(j) {
                                    return T2(z, j)
                                }) : ee.some(H)
                            }).getOr(H) : H;
                            var z, F, H
                        })
                    })
                }),
                Qo(b, x, NT).filter(function(_) {
                    return !1 === uo(_.from.block, _.to.block) && Ta((P = _).from.block).bind(function(z) {
                        return Ta(P.to.block).filter(function(F) {
                            return uo(z, F)
                        })
                    }).isSome() && !1 === ho((A = _).from.block.dom) && !1 === ho(A.to.block.dom);
                    var A, P
                })) : ee.none()).bind(function(_) {
                    return cg(y, o, _.from.block, _.to.block)
                }));
                return k.each(function(_) {
                    t.selection.setRng(_.toRange())
                }),
                k.isSome()
            }
            function BC(t, o) {
                var i = Oe.fromDom(o)
                  , s = st(uo, t);
                return Ks(i, Ft, s).isSome()
            }
            function Wd(t, o) {
                return !t.selection.isCollapsed() && function(t) {
                    var o, i, s, f, m, g, b, x, y, k, _ = Oe.fromDom(t.getBody()), A = t.selection.getRng();
                    return y = pc((m = _).dom, et.fromRangeStart(g = A)).isNone(),
                    k = du(m.dom, et.fromRangeEnd(g)).isNone(),
                    !BC(b = m, (x = g).startContainer) && !BC(b, x.endContainer) && y && k ? ((f = t).setContent(""),
                    f.selection.setCursorLocation(),
                    !0) : (o = _,
                    s = (i = t.selection).getRng(),
                    Qo(Bv(o, Oe.fromDom(s.startContainer)), Bv(o, Oe.fromDom(s.endContainer)), function(P, z) {
                        return !1 === uo(P, z) && (s.deleteContents(),
                        cg(o, !0, P, z).each(function(F) {
                            i.setRng(F.toRange())
                        }),
                        !0)
                    }).getOr(!1))
                }(t)
            }
            function Kl(t, o, i, s, f) {
                return ee.from(o._selectionOverrides.showCaret(t, i, s, f))
            }
            function Xl(t, o) {
                var i, s;
                return t.fire("BeforeObjectSelected", {
                    target: o
                }).isDefaultPrevented() ? ee.none() : ee.some(((s = (i = o).ownerDocument.createRange()).selectNode(i),
                s))
            }
            function zv(t, o, i) {
                var s = qb(1, t.getBody(), o)
                  , f = et.fromRangeStart(s)
                  , m = f.getNode();
                if (th(m))
                    return Kl(1, t, m, !f.isAtEnd(), !1);
                var g = f.getNode(!0);
                if (th(g))
                    return Kl(1, t, g, !1, !1);
                var b = t.dom.getParent(f.getNode(), function(x) {
                    return HT(x) || vg(x)
                });
                return th(b) ? Kl(1, t, b, !1, i) : ee.none()
            }
            function R0(t, o, i) {
                return o.collapsed ? zv(t, o, i).getOr(o) : o
            }
            function P0(t) {
                return _v(t) || Qm(t)
            }
            function zC(t) {
                return kv(t) || eg(t)
            }
            function B0(t, o, i, s, f, m) {
                var g, b;
                return Kl(s, t, m.getNode(!f), f, !0).each(function(x) {
                    var y;
                    o.collapsed ? (y = o.cloneRange(),
                    f ? y.setEnd(x.startContainer, x.startOffset) : y.setStart(x.endContainer, x.endOffset),
                    y.deleteContents()) : o.deleteContents(),
                    t.selection.setRng(x)
                }),
                g = t.dom,
                dn(b = i) && 0 === b.data.length && g.remove(b),
                !0
            }
            function Fv(t, o) {
                var i = t.selection.getRng();
                if (!dn(i.commonAncestorContainer))
                    return !1;
                var s = o ? ea.Forwards : ea.Backwards
                  , f = ta(t.getBody())
                  , m = st(Kb, o ? f.next : f.prev)
                  , g = o ? P0 : zC
                  , b = eh(s, t.getBody(), i)
                  , x = $u(o, m(b));
                if (!x || !ei(b, x))
                    return !1;
                if (g(x))
                    return B0(t, i, b.getNode(), s, o, x);
                var y = m(x);
                return !!(y && g(y) && ei(x, y)) && B0(t, i, b.getNode(), s, o, y)
            }
            function jd(t, o, i) {
                return zs(o, t, i).bind(function(s) {
                    return _ = s.getNode(),
                    Ft(Oe.fromDom(_)) || fe(Oe.fromDom(_)) || (b = t,
                    k = s,
                    mv(!(x = o), y = i).fold(function() {
                        return mv(x, k).fold(Ct, A)
                    }, A)) ? ee.none() : o && ho(s.getNode()) || !1 === o && ho(s.getNode(!0)) ? (f = t,
                    m = i,
                    g = s.getNode(!1 === o),
                    Bv(Oe.fromDom(f), Oe.fromDom(m.getNode())).map(function(P) {
                        return pi(P) ? yc.remove(P.dom) : yc.moveToElement(g)
                    }).orThunk(function() {
                        return ee.some(yc.moveToElement(g))
                    })) : o && kv(i) || !1 === o && _v(i) ? ee.some(yc.moveToPosition(s)) : ee.none();
                    var f, m, g, b, x, y, k, _;
                    function A(P) {
                        return mf(Oe.fromDom(P)) && !zc(y, k, b)
                    }
                })
            }
            function FC(t, o) {
                return ee.from(pv(t.getBody(), o))
            }
            function np(t, o) {
                var i = t.selection.getNode();
                return FC(t, i).filter(ho).fold(function() {
                    return _ = t.getBody(),
                    P = qb((A = o) ? 1 : -1, _, t.selection.getRng()),
                    z = et.fromRangeStart(P),
                    F = Oe.fromDom(_),
                    (!1 === A && kv(z) ? ee.some(yc.remove(z.getNode(!0))) : A && _v(z) ? ee.some(yc.remove(z.getNode())) : !1 === A && _v(z) && j1(F, z) ? Zx(F, z).map(function(H) {
                        return yc.remove(H.getNode())
                    }) : A && kv(z) && W1(F, z) ? TT(F, z).map(function(H) {
                        return yc.remove(H.getNode())
                    }) : (s = _,
                    f = A,
                    y = (m = z).getNode(!1 === (x = f)),
                    k = x ? "after" : "before",
                    Hn(y) && y.getAttribute("data-mce-caret") === k ? (b = m.getNode(!1 === (g = f)),
                    (g && ho(b.nextSibling) ? ee.some(yc.moveToElement(b.nextSibling)) : !1 === g && ho(b.previousSibling) ? ee.some(yc.moveToElement(b.previousSibling)) : ee.none()).fold(function() {
                        return jd(s, f, m)
                    }, ee.some)) : jd(s, f, m).bind(function(H) {
                        return V = s,
                        j = m,
                        H.fold(function(K) {
                            return ee.some(yc.remove(K))
                        }, function(K) {
                            return ee.some(yc.moveToElement(K))
                        }, function(K) {
                            return zc(j, K, V) ? ee.none() : ee.some(yc.moveToPosition(K))
                        });
                        var V, j
                    }))).exists(function(H) {
                        return H.fold(function(X) {
                            return oe._selectionOverrides.hideFakeCaret(),
                            Qi(oe, pe, Oe.fromDom(X)),
                            !0
                        }, (K = pe = o,
                        function(X) {
                            var ne = K ? et.before(X) : et.after(X);
                            return j.selection.setRng(ne.toRange()),
                            !0
                        }
                        ), (V = j = oe = t,
                        function(X) {
                            return V.selection.setRng(X.toRange()),
                            !0
                        }
                        ));
                        var V, j, K, oe, pe
                    });
                    var s, f, m, g, b, x, y, k, _, A, P, z, F
                }, Ot)
            }
            function IC(t, o) {
                var i = t.selection.getNode();
                return !(!ho(i) || ic(i)) && FC(t, i.parentNode).filter(ho).fold(function() {
                    return tt(ys(Oe.fromDom(t.getBody()), ".mce-offscreen-selection"), aa),
                    Qi(t, o, Oe.fromDom(t.selection.getNode())),
                    Ud(t),
                    !0
                }, Ot)
            }
            function N0(t) {
                var o, i = t.dom, s = t.selection, f = pv(t.getBody(), s.getNode());
                return Cu(f) && i.isBlock(f) && i.isEmpty(f) && (o = i.create("br", {
                    "data-mce-bogus": "1"
                }),
                i.setHTML(f, ""),
                f.appendChild(o),
                s.setRng(et.before(o).toRange())),
                !0
            }
            function z0(t, o) {
                return (t.selection.isCollapsed() ? np : IC)(t, o)
            }
            function lg(t, o) {
                return !!t.selection.isCollapsed() && (s = o,
                f = et.fromRangeStart((i = t).selection.getRng()),
                zs(s, i.getBody(), f).filter(function(m) {
                    return (s ? Kx : Xx)(m)
                }).bind(function(m) {
                    return ee.from(Qg(s ? 0 : -1, m))
                }).exists(function(m) {
                    return i.selection.select(m),
                    !0
                }));
                var i, s, f
            }
            function E2(t) {
                return zf(t) && t.data[0] === hr
            }
            function A2(t) {
                return zf(t) && t.data[t.data.length - 1] === hr
            }
            function O2(t) {
                return t.ownerDocument.createTextNode(hr)
            }
            function Gd(t, o) {
                return (t ? function(i) {
                    if (zf(i.previousSibling))
                        return A2(i.previousSibling) || i.previousSibling.appendData(hr),
                        i.previousSibling;
                    if (zf(i))
                        return E2(i) || i.insertData(0, hr),
                        i;
                    var s = O2(i);
                    return i.parentNode.insertBefore(s, i),
                    s
                }
                : function(i) {
                    if (zf(i.nextSibling))
                        return E2(i.nextSibling) || i.nextSibling.insertData(0, hr),
                        i.nextSibling;
                    if (zf(i))
                        return A2(i) || i.appendData(hr),
                        i;
                    var s = O2(i);
                    return i.nextSibling ? i.parentNode.insertBefore(s, i.nextSibling) : i.parentNode.appendChild(s),
                    s
                }
                )(o)
            }
            function F0(t, o) {
                return dn(t.container()) ? Gd(o, t.container()) : Gd(o, t.getNode())
            }
            function rp(t, o) {
                var i = o.get();
                return i && t.container() === i && Yu(i)
            }
            function I0(t, o) {
                return o.fold(function(i) {
                    gv(t.get());
                    var s = $T(i);
                    return t.set(s),
                    ee.some(et(s, s.length - 1))
                }, function(i) {
                    return jo(i).map(function(s) {
                        if (rp(s, t))
                            return et(t.get(), 1);
                        gv(t.get());
                        var f = F0(s, !0);
                        return t.set(f),
                        et(f, 1)
                    })
                }, function(i) {
                    return Ll(i).map(function(s) {
                        if (rp(s, t))
                            return et(t.get(), t.get().length - 1);
                        gv(t.get());
                        var f = F0(s, !1);
                        return t.set(f),
                        et(f, f.length - 1)
                    })
                }, function(i) {
                    gv(t.get());
                    var s = GC(i);
                    return t.set(s),
                    ee.some(et(s, 1))
                })
            }
            function L0(t, o) {
                for (var i = 0; i < t.length; i++) {
                    var s = t[i].apply(null, o);
                    if (s.isSome())
                        return s
                }
                return ee.none()
            }
            function D2(t, o) {
                return dv(o, t) || t
            }
            function H0(t, o, i) {
                var s = jC(i)
                  , f = D2(o, s.container());
                return Ei(t, f, s).fold(function() {
                    return du(f, s).bind(st(Ei, t, f)).map(function(m) {
                        return Ou.before(m)
                    })
                }, ee.none)
            }
            function zT(t, o) {
                return null === Js(t, o)
            }
            function M2(t, o, i) {
                return Ei(t, o, i).filter(st(zT, o))
            }
            function LC(t, o, i) {
                var s = B2(i);
                return M2(t, o, s).bind(function(f) {
                    return pc(f, s).isNone() ? ee.some(Ou.start(f)) : ee.none()
                })
            }
            function HC(t, o, i) {
                var s = jC(i);
                return M2(t, o, s).bind(function(f) {
                    return du(f, s).isNone() ? ee.some(Ou.end(f)) : ee.none()
                })
            }
            function $C(t, o, i) {
                var s = B2(i)
                  , f = D2(o, s.container());
                return Ei(t, f, s).fold(function() {
                    return pc(f, s).bind(st(Ei, t, f)).map(function(m) {
                        return Ou.after(m)
                    })
                }, ee.none)
            }
            function $0(t) {
                return o = ap(t),
                !1 === ("rtl" === co.DOM.getStyle(o, "direction", !0) || LT.test(o.textContent));
                var o
            }
            function pl(t, o, i) {
                return L0([H0, LC, HC, $C], [t, o, i]).filter($0)
            }
            function R2(t) {
                return t.fold(xe("before"), xe("start"), xe("end"), xe("after"))
            }
            function V0(t) {
                return t.fold(Ou.before, Ou.before, Ou.after, Ou.after)
            }
            function Iv(t) {
                return t.fold(Ou.start, Ou.start, Ou.end, Ou.end)
            }
            function FT(t, o, i, s, f, m) {
                return Qo(Ei(o, i, s), Ei(o, i, f), function(g, b) {
                    return g !== b && (y = b,
                    k = dv(g, x = i),
                    _ = dv(y, x),
                    k && k === _) ? Ou.after(t ? g : b) : m;
                    var x, y, k, _
                }).getOr(m)
            }
            function VC(t, o) {
                return t.fold(Ot, function(i) {
                    return f = o,
                    !(R2(s = i) === R2(f) && ap(s) === ap(f));
                    var s, f
                })
            }
            function UC(t, o) {
                return t ? o.fold(lr(ee.some, Ou.start), ee.none, lr(ee.some, Ou.after), ee.none) : o.fold(ee.none, lr(ee.some, Ou.before), ee.none, lr(ee.some, Ou.end))
            }
            function fg(t, o, i, s) {
                var f = $u(t, s)
                  , m = pl(o, i, f);
                return pl(o, i, f).bind(st(UC, t)).orThunk(function() {
                    return b = o,
                    x = i,
                    y = m,
                    k = $u(g = t, s),
                    zs(g, x, k).map(st($u, g)).fold(function() {
                        return y.map(V0)
                    }, function(_) {
                        return pl(b, x, _).map(st(FT, g, b, x, k, _)).filter(st(VC, y))
                    }).filter($0);
                    var g, b, x, y, k
                })
            }
            function U0(t) {
                for (var o = [], i = 1; i < arguments.length; i++)
                    o[i - 1] = arguments[i];
                var s = window.console;
                s && (s.error || s.log).apply(s, qo([t], o, !1))
            }
            var Yl, bl, op = function(t, o) {
                var i = t.editorManager.baseURL + "/skins/content"
                  , s = "content" + t.editorManager.suffix + ".css"
                  , f = !0 === t.inline;
                return bn(o, function(m) {
                    return /^[a-z0-9\-]+$/i.test(m) && !f ? i + "/" + m + "/" + s : t.documentBaseURI.toAbsolute(m)
                })
            }, WC = 0, Jl = Ke.each, ji = co.DOM, IT = [9, 27, Zn.HOME, Zn.END, 19, 20, 44, 144, 145, 33, 34, 45, 16, 17, 18, 91, 92, 93, Zn.DOWN, Zn.UP, Zn.LEFT, Zn.RIGHT].concat(er.browser.isFirefox() ? [224] : []), P2 = "data-mce-placeholder", LT = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/, jC = st($u, !0), B2 = st($u, !1), vg = Cu, HT = ho, yc = ia([{
                remove: ["element"]
            }, {
                moveToElement: ["element"]
            }, {
                moveToPosition: ["position"]
            }]), zf = dn, $T = st(Gd, !0), GC = st(Gd, !1), Ou = ia([{
                before: ["element"]
            }, {
                start: ["element"]
            }, {
                end: ["element"]
            }, {
                after: ["element"]
            }]), ap = function(t) {
                return t.fold(hn, hn, hn, hn)
            };
            function ip(t, o, i) {
                var s = t ? 1 : -1;
                return o.setRng(et(i.container(), i.offset() + s).toRange()),
                o.getSel().modify("move", t ? "forward" : "backward", "word"),
                !0
            }
            function up(t, o) {
                return t === ea.Backwards ? je(o) : o
            }
            function N2(t, o, i, s) {
                for (var f, m, g, b, x = ta(i), y = s, k = []; y; ) {
                    var _ = (g = x,
                    b = y,
                    o === ea.Forwards ? g.next(b) : g.prev(b));
                    if (!_)
                        break;
                    if (zn(_.getNode(!1)))
                        return o === ea.Forwards ? {
                            positions: up(o, k).concat([_]),
                            breakType: Yl.Br,
                            breakAt: ee.some(_)
                        } : {
                            positions: up(o, k),
                            breakType: Yl.Br,
                            breakAt: ee.some(_)
                        };
                    if (_.isVisible()) {
                        if (t(y, _)) {
                            var A = (f = y,
                            zn((m = _).getNode(o === ea.Forwards)) ? Yl.Br : !1 === zc(f, m) ? Yl.Block : Yl.Wrap);
                            return {
                                positions: up(o, k),
                                breakType: A,
                                breakAt: ee.some(_)
                            }
                        }
                        k.push(_),
                        y = _
                    } else
                        y = _
                }
                return {
                    positions: up(o, k),
                    breakType: Yl.Eol,
                    breakAt: ee.none()
                }
            }
            function qC(t, o, i, s) {
                return o(i, s).breakAt.map(function(f) {
                    var m = o(i, f).positions;
                    return t === ea.Backwards ? m.concat(f) : [f].concat(m)
                }).getOr([])
            }
            function dg(t, o) {
                return kt(t, function(i, s) {
                    return i.fold(function() {
                        return ee.some(s)
                    }, function(f) {
                        return Qo($n(f.getClientRects()), $n(s.getClientRects()), function(m, g) {
                            var b = Math.abs(o - m.left);
                            return Math.abs(o - g.left) <= b ? s : f
                        }).or(i)
                    })
                }, ee.none())
            }
            function z2(t, o) {
                return $n(o.getClientRects()).bind(function(i) {
                    return dg(t, i.left)
                })
            }
            function sp(t) {
                function o(s) {
                    return bn(s, function(f) {
                        var m = hd(f);
                        return m.node = t,
                        m
                    })
                }
                if (Hn(t))
                    return o(t.getClientRects());
                if (dn(t)) {
                    var i = t.ownerDocument.createRange();
                    return i.setStart(t, 0),
                    i.setEnd(t, t.data.length),
                    o(i.getClientRects())
                }
            }
            function W0(t) {
                return me(t, sp)
            }
            st(fg, !1),
            st(fg, !0),
            (bl = Yl = {})[bl.Br = 0] = "Br",
            bl[bl.Block = 1] = "Block",
            bl[bl.Wrap = 2] = "Wrap",
            bl[bl.Eol = 3] = "Eol";
            var Lv, j0, cp = st(N2, et.isAbove, -1), Zl = st(N2, et.isBelow, 1), VT = st(qC, -1, cp), UT = st(qC, 1, Zl);
            function KC(t, o, i, s, f, m) {
                function g(_) {
                    var A = W0([_]);
                    -1 === t && (A = A.reverse());
                    for (var P = 0; P < A.length; P++) {
                        var z = A[P];
                        if (!i(z, y)) {
                            if (0 < x.length && o(z, Jr(x)) && b++,
                            z.line = b,
                            f(z))
                                return !0;
                            x.push(z)
                        }
                    }
                }
                var b = 0
                  , x = []
                  , y = Jr(m.getClientRects());
                if (!y)
                    return x;
                var k = m.getNode();
                return g(k),
                function(_, A, P, z) {
                    for (; z = Em(z, _, Ju, A); )
                        if (P(z))
                            return
                }(t, s, g, k),
                x
            }
            function G0(t) {
                return function(o) {
                    return o.line > t
                }
            }
            function lp(t) {
                return function(o) {
                    return o.line === t
                }
            }
            function F2(t, o) {
                return Math.abs(t.left - o)
            }
            function I2(t, o) {
                return Math.abs(t.right - o)
            }
            function XC(t, o) {
                return t >= o.left && t <= o.right
            }
            function WT(t, o) {
                return t >= o.top && t <= o.bottom
            }
            function qd(t, o, i) {
                return void 0 === i && (i = Ot),
                Sr(t, function(s, f) {
                    if (XC(o, f))
                        return i(f) ? f : s;
                    if (XC(o, s))
                        return i(s) ? s : f;
                    var m = Math.min(F2(s, o), I2(s, o))
                      , g = Math.min(F2(f, o), I2(f, o));
                    return g === m && Et(f, "node") && Zr(f.node) || g < m ? f : s
                })
            }
            function mg(t, o, i, s, f) {
                var m = $r(s, t, Ju, o, !f);
                do {
                    if (!m || i(m))
                        return
                } while (m = $r(m, t, Ju, o))
            }
            function Ql(t, o) {
                t.selection.setRng(o),
                Hm(t, t.selection.getRng())
            }
            function L2(t, o, i) {
                return ee.some(R0(t, o, i))
            }
            function YC(t, o, i, s, f, m) {
                var g = o === ea.Forwards
                  , b = ta(t.getBody())
                  , x = st(Kb, g ? b.next : b.prev)
                  , y = g ? s : f;
                if (!i.collapsed) {
                    var k = f1(i);
                    if (m(k))
                        return Kl(o, t, k, o === ea.Backwards, !1)
                }
                var _ = eh(o, t.getBody(), i);
                if (y(_))
                    return Xl(t, _.getNode(!g));
                var A = $u(g, x(_))
                  , P = As(i);
                if (!A)
                    return P ? ee.some(i) : ee.none();
                if (y(A))
                    return Kl(o, t, A.getNode(!g), g, !1);
                var z = x(A);
                return z && y(z) && ei(A, z) ? Kl(o, t, z.getNode(!g), g, !1) : P ? L2(t, A.toRange(), !1) : ee.none()
            }
            function JC(t, o, i, s, f, m) {
                var g = eh(o, t.getBody(), i)
                  , b = Jr(g.getClientRects())
                  , x = o === Lv.Down;
                if (!b)
                    return ee.none();
                var y, k = nn((x ? rr : Jn)(t.getBody(), G0(1), g), lp(1)), _ = b.left, A = qd(k, _);
                if (A && m(A.node)) {
                    var P = Math.abs(_ - A.left)
                      , z = Math.abs(_ - A.right);
                    return Kl(o, t, A.node, P < z, !1)
                }
                if (y = s(g) ? g.getNode() : f(g) ? g.getNode(!0) : f1(i)) {
                    var F = function(V, j, K, oe) {
                        function pe(He) {
                            return Jr(He.getClientRects())
                        }
                        var X, ne, ue, Me = ta(j), Fe = [], Ge = 0, Ve = 1 === V ? (X = Me.next,
                        ne = pd,
                        ue = Tf,
                        et.after(oe)) : (X = Me.prev,
                        ne = Tf,
                        ue = pd,
                        et.before(oe)), he = pe(Ve);
                        do {
                            if (Ve.isVisible()) {
                                var ye = pe(Ve);
                                if (!ue(ye, he)) {
                                    0 < Fe.length && ne(ye, Jr(Fe)) && Ge++;
                                    var De = hd(ye);
                                    if (De.position = Ve,
                                    De.line = Ge,
                                    K(De))
                                        return Fe;
                                    Fe.push(De)
                                }
                            }
                        } while (Ve = X(Ve));
                        return Fe
                    }(o, t.getBody(), G0(1), y)
                      , H = qd(nn(F, lp(1)), _);
                    if (H || (H = Jr(nn(F, lp(0)))))
                        return L2(t, H.position.toRange(), !1)
                }
                return 0 === k.length ? wi(t, x).filter(x ? f : s).map(function(V) {
                    return R0(t, V.toRange(), !1)
                }) : ee.none()
            }
            function vp(t, o, i) {
                return wi(t, o).filter(i).exists(function(s) {
                    return t.selection.setRng(s.toRange()),
                    !0
                })
            }
            function dp(t, o) {
                var i = t.dom.createRng();
                i.setStart(o.container(), o.offset()),
                i.setEnd(o.container(), o.offset()),
                t.selection.setRng(i)
            }
            function q0(t, o) {
                t ? o.setAttribute("data-mce-selected", "inline-boundary") : o.removeAttribute("data-mce-selected")
            }
            function H2(t, o, i) {
                return I0(o, i).map(function(s) {
                    return dp(t, s),
                    i
                })
            }
            function yl(t, o, i) {
                return !!Jg(t) && (f = o,
                m = i,
                g = (s = t).getBody(),
                b = et.fromRangeStart(s.selection.getRng()),
                fg(m, st(ql, s), g, b).bind(function(x) {
                    return H2(s, f, x)
                }).isSome());
                var s, f, m, g, b
            }
            function $2(t, o, i) {
                return !!Jg(o) && (s = t,
                m = (f = o).selection.getRng(),
                g = s ? et.fromRangeEnd(m) : et.fromRangeStart(m),
                !!Kn(f.selection.getSel().modify) && (s && Al(g) ? ip(!0, f.selection, g) : !(s || !ad(g)) && ip(!1, f.selection, g)));
                var s, f, m, g
            }
            function K0(t, o, i) {
                if (Jg(t)) {
                    var s = wi(t, o).getOrThunk(function() {
                        var f = t.selection.getRng();
                        return o ? et.fromRangeEnd(f) : et.fromRangeStart(f)
                    });
                    return pl(st(ql, t), t.getBody(), s).exists(function(f) {
                        var m = V0(f);
                        return I0(i, m).exists(function(g) {
                            return dp(t, g),
                            !0
                        })
                    })
                }
                return !1
            }
            function V2(t, o) {
                return function(i) {
                    return I0(o, i).exists(function(s) {
                        return dp(t, s),
                        !0
                    })
                }
            }
            function ZC(t, o, i, s) {
                var f = t.getBody()
                  , m = st(ql, t);
                t.undoManager.ignore(function() {
                    var g, b, x;
                    t.selection.setRng((g = i,
                    b = s,
                    (x = document.createRange()).setStart(g.container(), g.offset()),
                    x.setEnd(b.container(), b.offset()),
                    x)),
                    t.execCommand("Delete"),
                    pl(m, f, et.fromRangeStart(t.selection.getRng())).map(Iv).map(V2(t, o))
                }),
                t.nodeChanged()
            }
            function X0(t, o, i) {
                if (t.selection.isCollapsed() && Jg(t)) {
                    var s = et.fromRangeStart(t.selection.getRng());
                    return m = o,
                    g = i,
                    b = s,
                    x = (f = t).getBody(),
                    y = dv(b.container(), x) || x,
                    k = st(ql, f),
                    (_ = pl(k, y, b)).bind(function(A) {
                        return g ? A.fold(xe(ee.some(Iv(A))), ee.none, xe(ee.some(V0(A))), ee.none) : A.fold(ee.none, xe(ee.some(V0(A))), ee.none, xe(ee.some(Iv(A))))
                    }).map(V2(f, m)).getOrThunk(function() {
                        var A = w1(g, y, b)
                          , P = A.bind(function(z) {
                            return pl(k, y, z)
                        });
                        return Qo(_, P, function() {
                            return Ei(k, y, b).exists(function(z) {
                                return !!Qo(jo(F = z), Ll(F), function(H, V) {
                                    var j = $u(!0, H)
                                      , K = $u(!1, V);
                                    return du(F, j).forall(function(oe) {
                                        return oe.isEqual(K)
                                    })
                                }).getOr(!0) && (Qi(f, g, Oe.fromDom(z)),
                                !0);
                                var F
                            })
                        }).orThunk(function() {
                            return P.bind(function(z) {
                                return A.map(function(F) {
                                    return g ? ZC(f, m, b, F) : ZC(f, m, F, b),
                                    !0
                                })
                            })
                        }).getOr(!1)
                    })
                }
                var f, m, g, b, x, y, k, _;
                return !1
            }
            function jT(t) {
                return 1 === Nt(t)
            }
            function Y0(t, o) {
                return !!t.selection.isCollapsed() && function(t, o) {
                    var i, s = Oe.fromDom(t.getBody()), f = Oe.fromDom(t.selection.getStart()), m = nn(Re(i = Df(f, s), M).fold(xe(i), function(g) {
                        return i.slice(0, g)
                    }), jT);
                    return Cr(m).exists(function(g) {
                        var b, x, y, k, _, A, P, z, F, H = et.fromRangeStart(t.selection.getRng()), V = o, j = H, K = g.dom;
                        return !(!Qo(jo(K), Ll(K), function(oe, pe) {
                            var X = $u(!0, oe)
                              , ne = $u(!1, pe)
                              , ue = $u(!1, j);
                            return V ? du(K, ue).exists(function(Me) {
                                return Me.isEqual(ne) && j.isEqual(X)
                            }) : pc(K, ue).exists(function(Me) {
                                return Me.isEqual(X) && j.isEqual(ne)
                            })
                        }).getOr(!0) || ll((b = g).dom) && Bh(b.dom) || (x = o,
                        k = g,
                        0 === (F = bn(nn(m, st(qx, y = t)), function(oe) {
                            return oe.dom
                        })).length ? Qi(y, x, k) : (A = k.dom,
                        z = o0(F, (P = r0(!1)).dom),
                        Ir(Oe.fromDom(A), P),
                        aa(Oe.fromDom(A)),
                        _ = et(z, 0),
                        y.selection.setRng(_.toRange())),
                        0))
                    })
                }(t, o)
            }
            function U2(t, o, i) {
                return t._selectionOverrides.hideFakeCaret(),
                Qi(t, o, Oe.fromDom(i)),
                !0
            }
            function gg(t, o) {
                return t.selection.isCollapsed() ? (b = (g = o) ? Qm : eg,
                y = eh(g ? ea.Forwards : ea.Backwards, (m = t).getBody(), m.selection.getRng()),
                b(y) ? U2(m, g, y.getNode(!g)) : ee.from($u(g, y)).filter(function(k) {
                    return b(k) && ei(y, k)
                }).exists(function(k) {
                    return U2(m, g, k.getNode(!g))
                })) : (s = o,
                f = (i = t).selection.getNode(),
                !!Bo(f) && U2(i, s, f));
                var i, s, f, m, g, b, y
            }
            function W2(t) {
                var o = parseInt(t, 10);
                return isNaN(o) ? 0 : o
            }
            function QC(t, o) {
                return (t || "table" === Or(o) ? "margin" : "padding") + ("rtl" === Ae(o, "direction") ? "-right" : "-left")
            }
            function eS(t) {
                var o, i = lo(t);
                return !t.mode.isReadOnly() && (1 < i.length || (o = t,
                Le(i, function(s) {
                    var f = lt(s, QC(Jw(o), s)).map(W2).getOr(0);
                    return "false" !== o.dom.getContentEditable(s.dom) && 0 < f
                })))
            }
            function j2(t) {
                return Y(t) || fe(t)
            }
            function hg(t, o) {
                var i = t.dom
                  , s = t.selection
                  , f = t.formatter
                  , m = t.getParam("indentation", "40px", "string")
                  , g = /[a-z%]+$/i.exec(m)[0]
                  , b = parseInt(m, 10)
                  , x = Jw(t)
                  , y = zu(t);
                t.queryCommandState("InsertUnorderedList") || t.queryCommandState("InsertOrderedList") || "" !== y || i.getParent(s.getNode(), i.isBlock) || f.apply("div"),
                tt(lo(t), function(k) {
                    var _, A = i, P = o, z = b, F = g, H = k.dom, V = QC(x, Oe.fromDom(H));
                    "outdent" === P ? (_ = Math.max(0, W2(H.style[V]) - z),
                    A.setStyle(H, V, _ ? _ + F : "")) : (_ = W2(H.style[V]) + z + F,
                    A.setStyle(H, V, _))
                })
            }
            function tS(t, o) {
                if (t.selection.isCollapsed() && eS(t)) {
                    var i = t.dom
                      , s = t.selection.getRng()
                      , f = et.fromRangeStart(s)
                      , m = i.getParent(s.startContainer, i.isBlock);
                    if (null !== m && e2(Oe.fromDom(m), f))
                        return hg(t, "outdent"),
                        !0
                }
                return !1
            }
            function nS(t, o) {
                t.getDoc().execCommand(o, !1, null)
            }
            function J0(t) {
                return void 0 === t.touches || 1 !== t.touches.length ? ee.none() : ee.some(t.touches[0])
            }
            function Z0(t, o) {
                return St(t, o.nodeName)
            }
            function Yn(t) {
                var o, i, s, f = t.dom, m = t.selection, g = t.schema, b = g.getBlockElements(), x = m.getStart(), y = t.getBody(), k = zu(t);
                if (x && Hn(x) && k) {
                    var _ = y.nodeName.toLowerCase();
                    if (g.isValidChild(_, k.toLowerCase()) && (A = b,
                    P = y,
                    !pn(Oy(Oe.fromDom(x), Oe.fromDom(P)), function(ne) {
                        return Z0(A, ne.dom)
                    }))) {
                        var A, P, F, H, V = m.getRng(), j = V.startContainer, K = V.startOffset, oe = V.endContainer, pe = V.endOffset, X = Of(t);
                        for (x = y.firstChild; x; )
                            F = b,
                            dn(H = x) || Hn(H) && !Z0(F, H) && !Ns(H) ? function(ue, Me) {
                                if (dn(Me) && (0 === Me.nodeValue.length || /^\s+$/.test(Me.nodeValue) && (!Me.nextSibling || Z0(ue, Me.nextSibling))))
                                    return 1
                            }(b, x) ? (x = (i = x).nextSibling,
                            f.remove(i)) : (o || (o = f.create(k, Yg(t)),
                            x.parentNode.insertBefore(o, x),
                            s = !0),
                            x = (i = x).nextSibling,
                            o.appendChild(i)) : (o = null,
                            x = x.nextSibling);
                        s && X && (V.setStart(j, K),
                        V.setEnd(oe, pe),
                        m.setRng(V),
                        t.nodeChanged())
                    }
                }
            }
            function rS(t, o) {
                o.hasAttribute("data-mce-caret") && (um(o),
                t.selection.setRng(t.selection.getRng()),
                t.selection.scrollIntoView(o))
            }
            function G2(t, o) {
                var i = vf(Oe.fromDom(t.getBody()), "*[data-mce-caret]").map(function(s) {
                    return s.dom
                }).getOrNull();
                if (i)
                    return "compositionstart" === o.type ? (o.preventDefault(),
                    o.stopPropagation(),
                    void rS(t, i)) : void (Dg(i) && (rS(t, i),
                    t.undoManager.add()))
            }
            function oS(t, o, i) {
                var s, f, m, g = ta(t.getBody()), b = st(Kb, 1 === o ? g.next : g.prev);
                !i.collapsed || "" === zu(t) || (s = t.dom.getParent(i.startContainer, "PRE")) && (b(et.fromRangeStart(i)) || (m = t.dom.create(zu(t)),
                (!er.ie || 11 <= er.ie) && (m.innerHTML = '<br data-mce-bogus="1">'),
                f = m,
                1 === o ? t.$(s).after(f) : t.$(s).before(f),
                t.selection.select(f, !0),
                t.selection.collapse()))
            }
            function q2(t, o) {
                return s = o ? ea.Forwards : ea.Backwards,
                f = (i = t).selection.getRng(),
                YC(i, s, f, _v, kv, gr).orThunk(function() {
                    return oS(i, s, f),
                    ee.none()
                }).exists(function(m) {
                    return Ql(t, m),
                    !0
                });
                var i, s, f
            }
            function Q0(t, o) {
                return s = o ? 1 : -1,
                f = (i = t).selection.getRng(),
                JC(i, s, f, function(m) {
                    return _v(m) || Zy(m)
                }, function(m) {
                    return kv(m) || Qy(m)
                }, gr).orThunk(function() {
                    return oS(i, s, f),
                    ee.none()
                }).exists(function(m) {
                    return Ql(t, m),
                    !0
                });
                var i, s, f
            }
            function mp(t, o) {
                return vp(t, o, o ? kv : _v)
            }
            function aS(t) {
                return D(["figcaption"], Or(t))
            }
            function K2(t) {
                var o = document.createRange();
                return o.setStartBefore(t.dom),
                o.setEndBefore(t.dom),
                o
            }
            function X2(t, o, i) {
                (i ? no : Xa)(t, o)
            }
            function Y2(t, o) {
                return !!t.selection.isCollapsed() && function(t, o) {
                    var i = Oe.fromDom(t.getBody())
                      , s = et.fromRangeStart(t.selection.getRng())
                      , f = zu(t)
                      , m = Yg(t)
                      , g = s
                      , b = st(uo, i);
                    return Hi(Oe.fromDom(g.container()), M, b).filter(aS).exists(function() {
                        if (oe = i,
                        pe = s,
                        o ? Zl(oe.dom, pe).breakAt.isNone() : cp(oe.dom, pe).breakAt.isNone()) {
                            var x = (y = i,
                            _ = m,
                            A = o,
                            "" === (k = f) ? (j = A,
                            X2(y, K = Oe.fromTag("br"), j),
                            K2(K)) : (P = y,
                            z = A,
                            F = _,
                            H = Oe.fromTag(k),
                            V = Oe.fromTag("br"),
                            R(H, F),
                            no(H, V),
                            X2(P, H, z),
                            K2(V)));
                            return t.selection.setRng(x),
                            !0
                        }
                        var y, k, _, A, P, z, F, H, V, j, K, oe, pe;
                        return !1
                    })
                }(t, o)
            }
            function rn(t) {
                for (var o = [], i = 1; i < arguments.length; i++)
                    o[i - 1] = arguments[i];
                return function() {
                    return t.apply(null, o)
                }
            }
            function Gc(t, o) {
                return re((i = o,
                me(bn(t, function(s) {
                    return en({
                        shiftKey: !1,
                        altKey: !1,
                        ctrlKey: !1,
                        metaKey: !1,
                        keyCode: 0,
                        action: _t
                    }, s)
                }), function(s) {
                    return i.keyCode === s.keyCode && i.shiftKey === s.shiftKey && i.altKey === s.altKey && i.ctrlKey === s.ctrlKey && i.metaKey === s.metaKey ? [s] : []
                })), function(s) {
                    return s.action()
                });
                var i
            }
            function eb(t, o) {
                var i = o ? ea.Forwards : ea.Backwards
                  , s = t.selection.getRng();
                return YC(t, i, s, Qm, eg, Bo).exists(function(f) {
                    return Ql(t, f),
                    !0
                })
            }
            function gp(t, o) {
                var i = o ? 1 : -1
                  , s = t.selection.getRng();
                return JC(t, i, s, Qm, eg, Bo).exists(function(f) {
                    return Ql(t, f),
                    !0
                })
            }
            function hp(t, o) {
                return vp(t, o, o ? eg : Qm)
            }
            function iS(t, o, i, s, f) {
                var m, g = ys(Oe.fromDom(i), "td,th,caption").map(function(k) {
                    return k.dom
                }), b = nn((m = t,
                me(g, function(k) {
                    var _, A = {
                        left: (_ = hd(k.getBoundingClientRect())).left - -1,
                        top: _.top - -1,
                        right: _.right + -2,
                        bottom: _.bottom + -2,
                        width: _.width + -1,
                        height: _.height + -1
                    };
                    return [{
                        x: A.left,
                        y: m(A),
                        cell: k
                    }, {
                        x: A.right,
                        y: m(A),
                        cell: k
                    }]
                })), function(k) {
                    return o(k, f)
                }), x = s, y = f;
                return kt(b, function(k, _) {
                    return k.fold(function() {
                        return ee.some(_)
                    }, function(A) {
                        var P = Math.sqrt(Math.abs(A.x - x) + Math.abs(A.y - y))
                          , z = Math.sqrt(Math.abs(_.x - x) + Math.abs(_.y - y));
                        return ee.some(z < P ? _ : A)
                    })
                }, ee.none()).map(function(k) {
                    return k.cell
                })
            }
            function uS(t, o, i) {
                var s, f, m = t(o, i);
                return m.breakType === Yl.Wrap && 0 === m.positions.length || !zn(i.getNode()) && m.breakType === Yl.Br && 1 === m.positions.length ? (s = t,
                f = o,
                !m.breakAt.exists(function(g) {
                    return s(f, g).breakAt.isSome()
                })) : m.breakAt.isNone()
            }
            function qT(t, o, i, s) {
                var f, m, g, b = t.selection.getRng(), x = o ? 1 : -1;
                return !(!ax() || (f = o,
                m = i,
                g = et.fromRangeStart(b),
                !Lc(!f, m).exists(function(y) {
                    return y.isEqual(g)
                })) || (Kl(x, t, i, !o, !1).each(function(y) {
                    Ql(t, y)
                }),
                0))
            }
            function sS(t, o, i) {
                var f, m = (f = i.getNode(!!o),
                Hn(f) && "TABLE" === f.nodeName ? ee.some(f) : ee.none()), g = !1 === o;
                m.fold(function() {
                    return Ql(t, i.toRange())
                }, function(b) {
                    return Lc(g, t.getBody()).filter(function(x) {
                        return x.isEqual(i)
                    }).fold(function() {
                        return Ql(t, i.toRange())
                    }, function(x) {
                        var y, k, _ = o, A = b, P = i;
                        (k = zu(y = t)) ? y.undoManager.transact(function() {
                            var z = Oe.fromTag(k);
                            R(z, Yg(y)),
                            no(z, Oe.fromTag("br")),
                            (_ ? _a : Ir)(Oe.fromDom(A), z);
                            var F = y.dom.createRng();
                            F.setStart(z.dom, 0),
                            F.setEnd(z.dom, 0),
                            Ql(y, F)
                        }) : Ql(y, P.toRange())
                    })
                })
            }
            function sr(t, o, i, s) {
                var f, m, g, b, x, y, k, _, A, P, z = t.selection.getRng(), F = et.fromRangeStart(z), H = t.getBody();
                if (o || !Ua(s, F))
                    return !(!o || !Ff(s, F) || (f = H,
                    A = m = i,
                    sS(t, o, V = Cr((P = g = F).getClientRects()).bind(function(j) {
                        return ua(A, j.left, j.top)
                    }).bind(function(j) {
                        return z2(jo(K = j).map(function(oe) {
                            return [oe].concat(Zl(K, oe).positions)
                        }).getOr([]), P);
                        var K
                    }).orThunk(function() {
                        return $n(g.getClientRects()).bind(function(j) {
                            return dg(UT(f, et.after(m)), j.left)
                        })
                    }).getOr(et.after(m))),
                    0));
                var V = (b = H,
                k = x = i,
                $n((_ = y = F).getClientRects()).bind(function(j) {
                    return ro(k, j.left, j.top)
                }).bind(function(j) {
                    return z2(Ll(K = j).map(function(oe) {
                        return cp(K, oe).positions.concat(oe)
                    }).getOr([]), _);
                    var K
                }).orThunk(function() {
                    return $n(y.getClientRects()).bind(function(j) {
                        return dg(VT(b, et.before(x)), j.left)
                    })
                }).getOr(et.before(x)));
                return sS(t, o, V),
                !0
            }
            function Kd(t, o, i) {
                return ee.from(t.dom.getParent(t.selection.getNode(), "td,th")).bind(function(s) {
                    return ee.from(t.dom.getParent(s, "table")).map(function(f) {
                        return i(t, o, f, s)
                    })
                }).getOr(!1)
            }
            function J2(t, o) {
                return Kd(t, o, qT)
            }
            function Z2(t, o) {
                return Kd(t, o, sr)
            }
            function pg(t, o) {
                var i, s, f = o, m = t.dom, g = t.schema.getMoveCaretBeforeOnEnterElements();
                if (o) {
                    !/^(LI|DT|DD)$/.test(o.nodeName) || (s = function(y) {
                        for (; y; ) {
                            if (1 === y.nodeType || 3 === y.nodeType && y.data && /[\r\n\s]/.test(y.data))
                                return y;
                            y = y.nextSibling
                        }
                    }(o.firstChild)) && /^(UL|OL|DL)$/.test(s.nodeName) && o.insertBefore(m.doc.createTextNode(Tn), o.firstChild);
                    var b = m.createRng();
                    if (o.normalize(),
                    o.hasChildNodes()) {
                        for (var x = new ao(o,o); i = x.current(); ) {
                            if (dn(i)) {
                                b.setStart(i, 0),
                                b.setEnd(i, 0);
                                break
                            }
                            if (g[i.nodeName.toLowerCase()]) {
                                b.setStartBefore(i),
                                b.setEndBefore(i);
                                break
                            }
                            f = i,
                            i = x.next()
                        }
                        i || (b.setStart(f, 0),
                        b.setEnd(f, 0))
                    } else
                        zn(o) ? o.nextSibling && m.isBlock(o.nextSibling) ? (b.setStartBefore(o),
                        b.setEndBefore(o)) : (b.setStartAfter(o),
                        b.setEndAfter(o)) : (b.setStart(o, 0),
                        b.setEnd(o, 0));
                    t.selection.setRng(b),
                    Hm(t, b)
                }
            }
            function tb(t) {
                return ee.from(t.dom.getParent(t.selection.getStart(!0), t.dom.isBlock))
            }
            function Q2(t, o) {
                return t && t.parentNode && t.parentNode.nodeName === o
            }
            function nb(t) {
                return t && /^(OL|UL|LI)$/.test(t.nodeName)
            }
            function rb(t) {
                var o = t.parentNode;
                return /^(LI|DT|DD)$/.test(o.nodeName) ? o : t
            }
            function pp(t, o, i) {
                for (var s = t[i ? "firstChild" : "lastChild"]; s && !Hn(s); )
                    s = s[i ? "nextSibling" : "previousSibling"];
                return s === o
            }
            function ew(t) {
                t.innerHTML = '<br data-mce-bogus="1">'
            }
            function tw(t, o) {
                return t.nodeName === o || t.previousSibling && t.previousSibling.nodeName === o
            }
            function cS(t, o) {
                return o && t.isBlock(o) && !/^(TD|TH|CAPTION|FORM)$/.test(o.nodeName) && !/^(fixed|absolute)/i.test(o.style.position) && "true" !== t.getContentEditable(o)
            }
            function nw(t, o, i) {
                return !1 === dn(o) ? i : t ? 1 === i && o.data.charAt(i - 1) === hr ? 0 : i : i === o.data.length - 1 && o.data.charAt(i) === hr ? o.data.length : i
            }
            function lS(t, o) {
                for (var i, s = t.getRoot(), f = o; f !== s && "false" !== t.getContentEditable(f); )
                    "true" === t.getContentEditable(f) && (i = f),
                    f = f.parentNode;
                return f !== s ? i : s
            }
            function Xd(t, o) {
                var i = zu(t);
                i && i.toLowerCase() === o.tagName.toLowerCase() && function(s, f, m) {
                    var g = s.dom;
                    ee.from(m.style).map(g.parseStyle).each(function(y) {
                        var k = Sn(Oe.fromDom(f))
                          , _ = en(en({}, k), y);
                        g.setStyles(f, _)
                    }),
                    Qo(ee.from(m.class).map(function(y) {
                        return y.split(/\s+/)
                    }), ee.from(f.className).map(function(y) {
                        return nn(y.split(/\s+/), function(k) {
                            return "" !== k
                        })
                    }), function(y, k) {
                        var _ = nn(k, function(P) {
                            return !D(y, P)
                        })
                          , A = qo(qo([], y, !0), _, !0);
                        g.setAttrib(f, "class", A.join(" "))
                    });
                    var b = ["style", "class"]
                      , x = la(m, function(y, k) {
                        return !D(b, k)
                    });
                    g.setAttribs(f, x)
                }(t, o, Yg(t))
            }
            function rw(t, o, i) {
                var s = t.dom.createRng();
                i ? (s.setStartBefore(o),
                s.setEndBefore(o)) : (s.setStartAfter(o),
                s.setEndAfter(o)),
                t.selection.setRng(s),
                Hm(t, s)
            }
            function XT(t, o) {
                var i = Oe.fromTag("br");
                Ir(Oe.fromDom(o), i),
                t.undoManager.add()
            }
            function io(t, o) {
                us(t.getBody(), o) || _a(Oe.fromDom(o), Oe.fromTag("br"));
                var i = Oe.fromTag("br");
                _a(Oe.fromDom(o), i),
                rw(t, i.dom, !1),
                t.undoManager.add()
            }
            function ow(t) {
                return t && "A" === t.nodeName && "href"in t
            }
            function ob(t) {
                return t.fold(Ct, ow, ow, Ct)
            }
            function fS(t, o) {
                o.fold(_t, st(XT, t), st(io, t), _t)
            }
            function aw(t, o) {
                var i, s, f, m = (s = st(ql, i = t),
                f = et.fromRangeStart(i.selection.getRng()),
                pl(s, i.getBody(), f).filter(ob));
                m.isSome() ? m.each(st(fS, t)) : function(g, b) {
                    var x, y, _ = g.dom, A = g.selection.getRng();
                    Af(_, A).each(function(oe) {
                        A.setStart(oe.startContainer, oe.startOffset),
                        A.setEnd(oe.endContainer, oe.endOffset)
                    });
                    var P, z = A.startOffset, F = A.startContainer;
                    1 === F.nodeType && F.hasChildNodes() && (P = z > F.childNodes.length - 1,
                    F = F.childNodes[Math.min(z, F.childNodes.length - 1)] || F,
                    z = P && 3 === F.nodeType ? F.nodeValue.length : 0);
                    var H = _.getParent(F, _.isBlock)
                      , V = H ? _.getParent(H.parentNode, _.isBlock) : null;
                    "LI" !== (V ? V.nodeName.toUpperCase() : "") || !(!b || !b.ctrlKey) || (H = V),
                    F && 3 === F.nodeType && z >= F.nodeValue.length && !function(oe) {
                        for (var pe, X = new ao(F,H), ne = oe.getNonEmptyElements(); pe = X.next(); )
                            if (ne[pe.nodeName.toLowerCase()] || 0 < pe.length)
                                return 1
                    }(g.schema) && (x = _.create("br"),
                    A.insertNode(x),
                    A.setStartAfter(x),
                    A.setEndAfter(x),
                    y = !0),
                    x = _.create("br"),
                    cv(_, A, x),
                    rw(g, x, y),
                    g.undoManager.add()
                }(t, o)
            }
            function a(t, o) {
                return tb(t).filter(function(i) {
                    return 0 < o.length && Ii(Oe.fromDom(i), o)
                }).isSome()
            }
            function c(t, o) {
                return a(t, t.getParam("no_newline_selector", ""))
            }
            function v(t) {
                return function(o, i) {
                    return "" === zu(o) === t
                }
            }
            function h(t) {
                return function(o, i) {
                    return tb(o).filter(function(s) {
                        return fe(Oe.fromDom(s))
                    }).isSome() === t
                }
            }
            function w(t, o) {
                return function(i, s) {
                    return tb(i).fold(xe(""), function(f) {
                        return f.nodeName.toUpperCase()
                    }) === t.toUpperCase() === o
                }
            }
            function E(t) {
                return w("pre", t)
            }
            function N(t) {
                return function(o, i) {
                    return o.getParam("br_in_pre", !0) === t
                }
            }
            function W(t, o) {
                return a(t, t.getParam("br_newline_selector", ".mce-toc h2,figcaption,caption"))
            }
            function Q(t, o) {
                return o
            }
            function se(t) {
                var o = zu(t)
                  , i = function(s, f) {
                    for (var m, g = s.getRoot(), b = f; b !== g && "false" !== s.getContentEditable(b); )
                        "true" === s.getContentEditable(b) && (m = b),
                        b = b.parentNode;
                    return b !== g ? m : g
                }(t.dom, t.selection.getStart());
                return i && t.schema.isValidChild(i.nodeName, o || "P")
            }
            function be(t, o) {
                return function(i, s) {
                    return kt(t, function(f, m) {
                        return f && m(i, s)
                    }, !0) ? ee.some(o) : ee.none()
                }
            }
            function nt(t, o) {
                var i, s;
                i = t,
                s = o,
                L0([be([c], Du.none()), be([w("summary", !0)], Du.br()), be([E(!0), N(!1), Q], Du.br()), be([E(!0), N(!1)], Du.block()), be([E(!0), N(!0), Q], Du.block()), be([E(!0), N(!0)], Du.br()), be([h(!0), Q], Du.br()), be([h(!0)], Du.block()), be([v(!0), Q, se], Du.block()), be([v(!0)], Du.br()), be([W], Du.br()), be([v(!1), Q], Du.br()), be([se], Du.block())], [i, !(!s || !s.shiftKey)]).getOr(Du.none()).fold(function() {
                    aw(t, o)
                }, function() {
                    !function(t, o) {
                        function i(zt) {
                            var ln, ft = P, Zt = k.getTextInlineElements(), Mt = zt || "TABLE" === oe || "HR" === oe ? y.create(zt || F) : j.cloneNode(!1), xn = Mt;
                            if (!1 === t.getParam("keep_styles", !0))
                                y.setAttrib(Mt, "style", null),
                                y.setAttrib(Mt, "class", null);
                            else
                                for (; Zt[ft.nodeName] && (ll(ft) || Ns(ft) || (ln = ft.cloneNode(!1),
                                y.setAttrib(ln, "id", ""),
                                Mt.hasChildNodes() ? ln.appendChild(Mt.firstChild) : xn = ln,
                                Mt.appendChild(ln))),
                                (ft = ft.parentNode) && ft !== Ht; )
                                    ;
                            return Xd(t, Mt),
                            ew(xn),
                            Mt
                        }
                        function s(zt) {
                            var ln, ft, Zt = nw(zt, P, z);
                            if (!dn(P) || !(zt ? 0 < Zt : Zt < P.nodeValue.length)) {
                                if (P.parentNode === j && x && !zt || zt && Hn(P) && P === j.firstChild)
                                    return 1;
                                if (tw(P, "TABLE") || tw(P, "HR"))
                                    return x && !zt || !x && zt;
                                var Mt = new ao(P,j);
                                for (dn(P) && (zt && 0 === Zt ? Mt.prev() : zt || Zt !== P.nodeValue.length || Mt.next()); ln = Mt.current(); ) {
                                    if (Hn(ln)) {
                                        if (!ln.getAttribute("data-mce-bogus") && (ft = ln.nodeName.toLowerCase(),
                                        _[ft] && "br" !== ft))
                                            return
                                    } else if (dn(ln) && !ii(ln.nodeValue))
                                        return;
                                    zt ? Mt.prev() : Mt.next()
                                }
                                return 1
                            }
                        }
                        function f() {
                            g = /^(H[1-6]|PRE|FIGURE)$/.test(oe) && "HGROUP" !== pe ? i(F) : i(),
                            t.getParam("end_container_on_empty_block", !1) && cS(y, K) && y.isEmpty(j) ? g = y.split(K, j) : y.insertAfter(g, j),
                            pg(t, g)
                        }
                        var m, g, b, x, y = t.dom, k = t.schema, _ = k.getNonEmptyElements(), A = t.selection.getRng();
                        Af(y, A).each(function(zt) {
                            A.setStart(zt.startContainer, zt.startOffset),
                            A.setEnd(zt.endContainer, zt.endOffset)
                        });
                        var P = A.startContainer
                          , z = A.startOffset
                          , F = zu(t)
                          , H = !(!o || !o.shiftKey)
                          , V = !(!o || !o.ctrlKey);
                        Hn(P) && P.hasChildNodes() && (x = z > P.childNodes.length - 1,
                        P = P.childNodes[Math.min(z, P.childNodes.length - 1)] || P,
                        z = x && dn(P) ? P.nodeValue.length : 0);
                        var j, K, oe, pe, X, ne, ue, Me, Fe, Ge, Ve, he, ye, De, He, Dt, It, Tt, Lt, Rt, Ht = lS(y, P);
                        Ht && ((F && !H || !F && H) && (P = function(zt, ln, ft, Zt) {
                            var Mt, xn, mn, Vr, ve, Ce, Je = F || "P", bt = zt.dom, vt = lS(bt, ft), jt = bt.getParent(ft, bt.isBlock);
                            if (!jt || !cS(bt, jt)) {
                                if (ve = ((jt = jt || vt) === zt.getBody() || (Ce = jt) && /^(TD|TH|CAPTION)$/.test(Ce.nodeName) ? jt : jt.parentNode).nodeName.toLowerCase(),
                                !jt.hasChildNodes())
                                    return Xd(zt, Mt = bt.create(Je)),
                                    jt.appendChild(Mt),
                                    ln.setStart(Mt, 0),
                                    ln.setEnd(Mt, 0),
                                    Mt;
                                for (mn = ft; mn.parentNode !== jt; )
                                    mn = mn.parentNode;
                                for (; mn && !bt.isBlock(mn); )
                                    mn = (xn = mn).previousSibling;
                                if (xn && zt.schema.isValidChild(ve, Je.toLowerCase())) {
                                    for (Xd(zt, Mt = bt.create(Je)),
                                    xn.parentNode.insertBefore(Mt, xn),
                                    mn = xn; mn && !bt.isBlock(mn); )
                                        Vr = mn.nextSibling,
                                        Mt.appendChild(mn),
                                        mn = Vr;
                                    ln.setStart(ft, Zt),
                                    ln.setEnd(ft, Zt)
                                }
                            }
                            return ft
                        }(t, A, P, z)),
                        K = (j = y.getParent(P, y.isBlock)) ? y.getParent(j.parentNode, y.isBlock) : null,
                        oe = j ? j.nodeName.toUpperCase() : "",
                        "LI" !== (pe = K ? K.nodeName.toUpperCase() : "") || V || (K = (j = K).parentNode,
                        oe = pe),
                        /^(LI|DT|DD)$/.test(oe) && y.isEmpty(j) ? (Me = i,
                        Fe = K,
                        Ge = j,
                        Ve = F,
                        Lt = (ue = t).dom,
                        Rt = ue.selection.getRng(),
                        Fe !== ue.getBody() && (ye = (Ve = nb(he = Fe) && nb(he.parentNode) ? "LI" : Ve) ? Me(Ve) : Lt.create("BR"),
                        pp(Fe, Ge, !0) && pp(Fe, Ge, !1) ? Q2(Fe, "LI") ? (De = rb(Fe),
                        Lt.insertAfter(ye, De),
                        (null === (Tt = (It = Fe).parentNode) || void 0 === Tt ? void 0 : Tt.firstChild) === It ? Lt.remove(De) : Lt.remove(Fe)) : Lt.replace(ye, Fe) : (pp(Fe, Ge, !0) ? Q2(Fe, "LI") ? (Lt.insertAfter(ye, rb(Fe)),
                        ye.appendChild(Lt.doc.createTextNode(" ")),
                        ye.appendChild(Fe)) : Fe.parentNode.insertBefore(ye, Fe) : pp(Fe, Ge, !1) ? Lt.insertAfter(ye, rb(Fe)) : (Fe = rb(Fe),
                        (He = Rt.cloneRange()).setStartAfter(Ge),
                        He.setEndAfter(Fe),
                        Dt = He.extractContents(),
                        "LI" === Ve && Dt.firstChild && "LI" === Dt.firstChild.nodeName ? (ye = Dt.firstChild,
                        Lt.insertAfter(Dt, Fe)) : (Lt.insertAfter(Dt, Fe),
                        Lt.insertAfter(ye, Fe))),
                        Lt.remove(Ge)),
                        pg(ue, ye))) : F && j === t.getBody() || (F = F || "P",
                        gf(j) ? (g = um(j),
                        y.isEmpty(j) && ew(j),
                        Xd(t, g),
                        pg(t, g)) : s() ? f() : s(!0) ? (g = j.parentNode.insertBefore(i(), j),
                        pg(t, tw(j, "HR") ? g : j)) : ((ne = (X = A).cloneRange()).setStart(X.startContainer, nw(!0, X.startContainer, X.startOffset)),
                        ne.setEnd(X.endContainer, nw(!1, X.endContainer, X.endOffset)),
                        (m = ne.cloneRange()).setEndAfter(j),
                        b = m.extractContents(),
                        tt(cl(Oe.fromDom(b), Bn), function(zt) {
                            var ln = zt.dom;
                            ln.nodeValue = $a(ln.nodeValue)
                        }),
                        function(zt) {
                            for (; dn(zt) && (zt.nodeValue = zt.nodeValue.replace(/^[\r\n]+/, "")),
                            zt = zt.firstChild; )
                                ;
                        }(b),
                        g = b.firstChild,
                        y.insertAfter(b, j),
                        function(zt, ln) {
                            var ft, Zt, Mt = g, xn = [];
                            if (Mt) {
                                for (; Mt = Mt.firstChild; ) {
                                    if (zt.isBlock(Mt))
                                        return;
                                    Hn(Mt) && !ln[Mt.nodeName.toLowerCase()] && xn.push(Mt)
                                }
                                for (ft = xn.length; ft--; )
                                    (!(Mt = xn[ft]).hasChildNodes() || Mt.firstChild === Mt.lastChild && "" === Mt.firstChild.nodeValue || (Zt = Mt) && "A" === Zt.nodeName && zt.isEmpty(Zt)) && zt.remove(Mt)
                            }
                        }(y, _),
                        function(zt, ln) {
                            ln.normalize();
                            var ft = ln.lastChild;
                            ft && !/^(left|right)$/gi.test(zt.getStyle(ft, "float", !0)) || zt.add(ln, "br")
                        }(y, j),
                        y.isEmpty(j) && ew(j),
                        g.normalize(),
                        y.isEmpty(g) ? (y.remove(g),
                        f()) : (Xd(t, g),
                        pg(t, g))),
                        y.setAttrib(g, "id", ""),
                        t.fire("NewBlock", {
                            newBlock: g
                        })))
                    }(t, o)
                }, _t)
            }
            function At(t) {
                return t.stopImmediatePropagation()
            }
            function dt(t) {
                return t.keyCode === Zn.PAGE_UP || t.keyCode === Zn.PAGE_DOWN
            }
            function rt(t, o, i) {
                i && !t.get() ? o.on("NodeChange", At, !0) : !i && t.get() && o.off("NodeChange", At),
                t.set(i)
            }
            function Ut(t, o) {
                var i = o.container()
                  , s = o.offset();
                return dn(i) ? (i.insertData(s, t),
                ee.some(et(i, s + t.length))) : ki(o).map(function(f) {
                    var m = Oe.fromText(t);
                    return (o.isAtEnd() ? _a : Ir)(f, m),
                    et(m.dom, t.length)
                })
            }
            function Qn(t) {
                var o, i, s = et.fromRangeStart(t.selection.getRng()), f = Oe.fromDom(t.getBody());
                if (t.selection.isCollapsed()) {
                    var m = st(ql, t)
                      , g = et.fromRangeStart(t.selection.getRng());
                    return pl(m, t.getBody(), g).bind((i = f,
                    function(b) {
                        return b.fold(function(x) {
                            return pc(i.dom, et.before(x))
                        }, function(x) {
                            return jo(x)
                        }, function(x) {
                            return Ll(x)
                        }, function(x) {
                            return du(i.dom, et.after(x))
                        })
                    }
                    )).bind(function(t, o) {
                        return function(i) {
                            return m = t,
                            (!G1(g = i) && (pc((s = m).dom, f = g).isNone() || du(s.dom, f).isNone() || e2(s, f) || Yx(s, f) || j1(s, f) || W1(s, f) || Ry(m, g) || Km(m, g)) ? qc : wl)(o);
                            var s, f, m, g
                        }
                    }(f, s)).exists((o = t,
                    function(b) {
                        return o.selection.setRng(b.toRange()),
                        o.nodeChanged(),
                        !0
                    }
                    ))
                }
                return !1
            }
            (j0 = Lv = Lv || {})[j0.Up = -1] = "Up",
            j0[j0.Down = 1] = "Down";
            var Jn = st(KC, Lv.Up, Tf, pd)
              , rr = st(KC, Lv.Down, pd, Tf)
              , Zr = ho
              , $r = Em
              , wi = function(t, o) {
                var i = t.selection.getRng()
                  , s = t.getBody();
                if (o) {
                    var f = et.fromRangeEnd(i)
                      , m = Zl(s, f);
                    return Cr(m.positions)
                }
                return f = et.fromRangeStart(i),
                $n((m = cp(s, f)).positions)
            }
              , tu = st($2, !0)
              , Vu = st($2, !1)
              , lo = function(t) {
                return nn(bn(t.selection.getSelectedBlocks(), Oe.fromDom), function(o) {
                    return !j2(o) && !Ta(o).exists(j2) && Hi(o, function(i) {
                        return Cu(i.dom) || ho(i.dom)
                    }).exists(function(i) {
                        return Cu(i.dom)
                    })
                })
            }
              , gr = ho
              , ro = st(iS, function(t) {
                return t.bottom
            }, function(t, o) {
                return t.y < o
            })
              , ua = st(iS, function(t) {
                return t.top
            }, function(t, o) {
                return t.y > o
            })
              , Ua = st(uS, cp)
              , Ff = st(uS, Zl)
              , us = function(t, o) {
                return i = et.after(o),
                !!zn(i.getNode()) || du(t, et.after(o)).map(function(s) {
                    return zn(s.getNode())
                }).getOr(!1);
                var i
            }
              , Du = ia([{
                br: []
            }, {
                block: []
            }, {
                none: []
            }])
              , Uu = Wr().browser
              , ya = Wr()
              , qc = st(Ut, Tn)
              , wl = st(Ut, " ")
              , Kc = (wc.prototype.nodeChanged = function(t) {
                var o, i, s, f = this.editor.selection;
                this.editor.initialized && f && !this.editor.getParam("disable_nodechange") && !this.editor.mode.isReadOnly() && (s = this.editor.getBody(),
                (o = f.getStart(!0) || s).ownerDocument === this.editor.getDoc() && this.editor.dom.isChildOf(o, s) || (o = s),
                i = [],
                this.editor.dom.getParent(o, function(m) {
                    return m === s || void i.push(m)
                }),
                (t = t || {}).element = o,
                t.parents = i,
                this.editor.fire("NodeChange", t))
            }
            ,
            wc.prototype.isSameElementPath = function(t) {
                var o, i = this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);
                if (i.length === this.lastPath.length) {
                    for (o = i.length; 0 <= o && i[o] === this.lastPath[o]; o--)
                        ;
                    if (-1 === o)
                        return this.lastPath = i,
                        !0
                }
                return this.lastPath = i,
                !1
            }
            ,
            wc);
            function wc(t) {
                var o;
                this.lastPath = [],
                this.editor = t;
                var i = this;
                "onselectionchange"in t.getDoc() || t.on("NodeChange click mouseup keyup focus", function(s) {
                    var f = t.selection.getRng()
                      , m = {
                        startContainer: f.startContainer,
                        startOffset: f.startOffset,
                        endContainer: f.endContainer,
                        endOffset: f.endOffset
                    };
                    "nodechange" !== s.type && rs(m, o) || t.fire("SelectionChange"),
                    o = m
                }),
                t.on("contextmenu", function() {
                    t.fire("SelectionChange")
                }),
                t.on("SelectionChange", function() {
                    var s = t.selection.getStart(!0);
                    !s || !er.range && t.selection.isCollapsed() || Od(t) && !i.isSameElementPath(s) && t.dom.isChildOf(s, t.getBody()) && t.nodeChanged({
                        selectionChange: !0
                    })
                }),
                t.on("mouseup", function(s) {
                    !s.isDefaultPrevented() && Od(t) && ("IMG" === t.selection.getNode().nodeName ? ai.setEditorTimeout(t, function() {
                        t.nodeChanged()
                    }) : t.nodeChanged())
                })
            }
            function ab(t) {
                return Hn(t) && U(Oe.fromDom(t))
            }
            function bg(t) {
                var o = t.getBoundingClientRect()
                  , i = t.ownerDocument
                  , s = i.documentElement
                  , f = i.defaultView;
                return {
                    top: o.top + f.pageYOffset - s.clientTop,
                    left: o.left + f.pageXOffset - s.clientLeft
                }
            }
            function iw(t) {
                t && t.parentNode && t.parentNode.removeChild(t)
            }
            function tf(t, o) {
                return pv(t.getBody(), o)
            }
            function xl(t) {
                function o(X) {
                    return X !== H && (yp(X) || Bo(X)) && z.isChildOf(X, H)
                }
                function i(X) {
                    return _v(X) || kv(X) || Qm(X) || eg(X)
                }
                function s(X) {
                    X && P.setRng(X)
                }
                function f(X, ne, ue, Me) {
                    return void 0 === Me && (Me = !0),
                    t.fire("ShowCaret", {
                        target: ne,
                        direction: X,
                        before: ue
                    }).isDefaultPrevented() ? null : (Me && P.scrollIntoView(ne, -1 === X),
                    V.show(ue, ne))
                }
                function m(X) {
                    return iu(X) || lm(X) || jp(X)
                }
                function g(X) {
                    return m(X.startContainer) || m(X.endContainer)
                }
                function b(X, ne) {
                    if (!X)
                        return null;
                    if (X.collapsed) {
                        if (!g(X)) {
                            var ue = ne ? 1 : -1
                              , Me = eh(ue, H, X)
                              , Fe = Me.getNode(!ne);
                            if (vv(Fe))
                                return f(ue, Fe, !!ne && !Me.isAtEnd(), !1);
                            var Ge = Me.getNode(ne);
                            if (vv(Ge))
                                return f(ue, Ge, !ne && !Me.isAtEnd(), !1)
                        }
                        return null
                    }
                    var Ve = X.startContainer
                      , he = X.startOffset
                      , ye = X.endOffset;
                    if (3 === Ve.nodeType && 0 === he && yp(Ve.parentNode) && (he = z.nodeIndex(Ve = Ve.parentNode),
                    Ve = Ve.parentNode),
                    1 !== Ve.nodeType)
                        return null;
                    if (ye === he + 1 && Ve === X.endContainer) {
                        var De = Ve.childNodes[he];
                        if (o(De))
                            return function(He) {
                                var Dt = He.cloneNode(!0)
                                  , It = t.fire("ObjectSelected", {
                                    target: He,
                                    targetClone: Dt
                                });
                                if (It.isDefaultPrevented())
                                    return null;
                                var Tt = function(Rt, Ht, zt) {
                                    var ln = t.$
                                      , ft = vf(Oe.fromDom(t.getBody()), "#" + j).fold(function() {
                                        return ln([])
                                    }, function(xn) {
                                        return ln([xn.dom])
                                    });
                                    0 === ft.length && (ft = ln('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id", j)).appendTo(t.getBody());
                                    var Zt = z.createRng();
                                    Ht === zt && er.ie ? (ft.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(Ht),
                                    Zt.setStartAfter(ft[0].firstChild.firstChild),
                                    Zt.setEndAfter(Ht)) : (ft.empty().append(Tn).append(Ht).append(Tn),
                                    Zt.setStart(ft[0].firstChild, 1),
                                    Zt.setEnd(ft[0].lastChild, 0)),
                                    ft.css({
                                        top: z.getPos(Rt, t.getBody()).y
                                    }),
                                    ft[0].focus();
                                    var Mt = P.getSel();
                                    return Mt.removeAllRanges(),
                                    Mt.addRange(Zt),
                                    Zt
                                }(He, It.targetClone, Dt)
                                  , Lt = Oe.fromDom(He);
                                return tt(ys(Oe.fromDom(t.getBody()), "*[data-mce-selected]"), function(Rt) {
                                    uo(Lt, Rt) || G(Rt, K)
                                }),
                                z.getAttrib(He, K) || He.setAttribute(K, "1"),
                                y = He,
                                pe(),
                                Tt
                            }(De)
                    }
                    return null
                }
                function x() {
                    y && y.removeAttribute(K),
                    vf(Oe.fromDom(t.getBody()), "#" + j).each(aa),
                    y = null
                }
                var y, k, _, A, P = t.selection, z = t.dom, F = z.isBlock, H = t.getBody(), V = function(t, o, i, s) {
                    function f() {
                        (function() {
                            for (var k = ys(Oe.fromDom(o), "*[contentEditable=false],video,audio,embed,object"), _ = 0; _ < k.length; _++) {
                                var A, P = k[_].dom, z = P.previousSibling;
                                jp(z) && (1 === (A = z.data).length ? z.parentNode.removeChild(z) : z.deleteData(A.length - 1, 1)),
                                lm(z = P.nextSibling) && (1 === (A = z.data).length ? z.parentNode.removeChild(z) : z.deleteData(0, 1))
                            }
                        }
                        )(),
                        g && (gv(g),
                        g = null),
                        b.on(function(k) {
                            Br(k.caret).remove(),
                            b.clear()
                        }),
                        m && (ai.clearInterval(m),
                        m = void 0)
                    }
                    var m, g, b = Bl(), x = zu(t), y = 0 < x.length ? x : "p";
                    return {
                        show: function(k, _) {
                            var A;
                            if (f(),
                            Ef(_))
                                return null;
                            if (!i(_))
                                return g = function(F, H) {
                                    var V = F.ownerDocument.createTextNode(hr)
                                      , j = F.parentNode;
                                    if (H) {
                                        if (Kf(K = F.previousSibling)) {
                                            if (iu(K))
                                                return K;
                                            if (jp(K))
                                                return K.splitText(K.data.length - 1)
                                        }
                                        j.insertBefore(V, F)
                                    } else {
                                        var K = F.nextSibling;
                                        if (Kf(K)) {
                                            if (iu(K))
                                                return K;
                                            if (lm(K))
                                                return K.splitText(1),
                                                K
                                        }
                                        F.nextSibling ? j.insertBefore(V, F.nextSibling) : j.appendChild(V)
                                    }
                                    return V
                                }(_, k),
                                A = _.ownerDocument.createRange(),
                                th(g.nextSibling) ? (A.setStart(g, 0),
                                A.setEnd(g, 0)) : (A.setStart(g, 1),
                                A.setEnd(g, 1)),
                                A;
                            g = function(F, H, V) {
                                var j, K = H.ownerDocument.createElement(F);
                                K.setAttribute("data-mce-caret", V ? "before" : "after"),
                                K.setAttribute("data-mce-bogus", "all"),
                                K.appendChild(((j = document.createElement("br")).setAttribute("data-mce-bogus", "1"),
                                j));
                                var oe = H.parentNode;
                                return V ? oe.insertBefore(K, H) : H.nextSibling ? oe.insertBefore(K, H.nextSibling) : oe.appendChild(K),
                                K
                            }(y, _, k);
                            var P = gc(o, _, k);
                            Br(g).css("top", P.top);
                            var z = Br('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(en({}, P)).appendTo(o)[0];
                            return b.set({
                                caret: z,
                                element: _,
                                before: k
                            }),
                            k && Br(z).addClass("mce-visual-caret-before"),
                            m = ai.setInterval(function() {
                                s() ? Br("div.mce-visual-caret", o).toggleClass("mce-visual-caret-hidden") : Br("div.mce-visual-caret", o).addClass("mce-visual-caret-hidden")
                            }, 500),
                            (A = _.ownerDocument.createRange()).setStart(g, 0),
                            A.setEnd(g, 0),
                            A
                        },
                        hide: f,
                        getCss: function() {
                            return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"
                        },
                        reposition: function() {
                            b.on(function(k) {
                                var _ = gc(o, k.element, k.before);
                                Br(k.caret).css(en({}, _))
                            })
                        },
                        destroy: function() {
                            return ai.clearInterval(m)
                        }
                    }
                }(t, H, F, function() {
                    return Of(t)
                }), j = "sel-" + z.uniqueId(), K = "data-mce-selected", oe = P.getRng, pe = function() {
                    V.hide()
                };
                return er.ceFalse && !jc(t) && (t.on("mouseup", function(X) {
                    var ne = oe();
                    ne.collapsed && O0(t, X.clientX, X.clientY) && zv(t, ne, !1).each(s)
                }),
                t.on("click", function(X) {
                    var ne = tf(t, X.target);
                    ne && (yp(ne) && (X.preventDefault(),
                    t.focus()),
                    G3(ne) && z.isChildOf(ne, P.getNode()) && x())
                }),
                t.on("blur NewBlock", x),
                t.on("ResizeWindow FullscreenStateChanged", V.reposition),
                t.on("tap", function(X) {
                    var ne = X.target
                      , ue = tf(t, ne);
                    yp(ue) ? (X.preventDefault(),
                    Xl(t, ue).each(b)) : o(ne) && Xl(t, ne).each(b)
                }, !0),
                t.on("mousedown", function(X) {
                    var ne, ue, Me, Fe, Ge, Ve, he, ye = X.target;
                    ye !== H && "HTML" !== ye.nodeName && !z.isChildOf(ye, H) || !1 === O0(t, X.clientX, X.clientY) || ((ne = tf(t, ye)) ? yp(ne) ? (X.preventDefault(),
                    Xl(t, ne).each(b)) : (x(),
                    G3(ne) && X.shiftKey || Zs(X.clientX, X.clientY, P.getRng()) || (pe(),
                    P.placeCaretAt(X.clientX, X.clientY))) : o(ye) ? Xl(t, ye).each(b) : !1 === vv(ye) && (x(),
                    pe(),
                    (ue = function(t, o, i) {
                        function s(y) {
                            return !qu(y.node) && !Bo(y.node)
                        }
                        var f, m, g, b = W0(nn(Go(t.getElementsByTagName("*")), vv));
                        return (g = qd(nn(b, st(WT, i)), o, s)) && (g = qd(function(y, k, _) {
                            function A(z, F) {
                                var H = nn(W0([F]), function(V) {
                                    return !z(V, k)
                                });
                                return P = P.concat(H),
                                0 === H.length
                            }
                            void 0 === _ && (_ = !0);
                            var P = [];
                            return P.push(k),
                            mg(Lv.Up, y, st(A, Tf), k.node, _),
                            mg(Lv.Down, y, st(A, pd), k.node, _),
                            P
                        }(t, g, s(g)), o, s)) && vv(g.node) ? {
                            node: (f = g).node,
                            before: F2(f, m = o) < I2(f, m)
                        } : null
                    }(H, X.clientX, X.clientY)) && (Fe = ue.node,
                    Ve = z.getParent(Me = ye, F),
                    he = z.getParent(Fe, F),
                    !Hr(Ve) && (Me !== he && z.isChildOf(Ve, he) && !1 === yp(tf(t, Ve)) || !z.isChildOf(he, Ve) && (Ge = he,
                    z.getParent(Ve, F) !== z.getParent(Ge, F)) && function(De) {
                        var He = De.firstChild;
                        if (!Hr(He)) {
                            var Dt = et.before(He);
                            if (zn(Dt.getNode()) && 1 === De.childNodes.length)
                                return !i(Dt);
                            var It = ta(De).next(Dt);
                            return It && !i(It)
                        }
                    }(Ve)) || (X.preventDefault(),
                    s(f(1, ue.node, ue.before, !1)),
                    t.getBody().focus()))))
                }),
                t.on("keypress", function(X) {
                    Zn.modifierPressed(X) || yp(P.getNode()) && X.preventDefault()
                }),
                t.on("GetSelectionRange", function(X) {
                    var ne = X.range;
                    y && (y.parentNode ? ((ne = ne.cloneRange()).selectNode(y),
                    X.range = ne) : y = null)
                }),
                t.on("SetSelectionRange", function(X) {
                    var ne, ue, Me, Fe, Ge, Ve, he;
                    X.range = (ne = X.range,
                    ue = t.schema.getShortEndedElements(),
                    Me = z.createRng(),
                    Ge = ne.startOffset,
                    Ve = ne.endContainer,
                    he = ne.endOffset,
                    St(ue, (Fe = ne.startContainer).nodeName.toLowerCase()) ? 0 === Ge ? Me.setStartBefore(Fe) : Me.setStartAfter(Fe) : Me.setStart(Fe, Ge),
                    St(ue, Ve.nodeName.toLowerCase()) ? 0 === he ? Me.setEndBefore(Ve) : Me.setEndAfter(Ve) : Me.setEnd(Ve, he),
                    Me);
                    var ye = b(X.range, X.forward);
                    ye && (X.range = ye)
                }),
                t.on("AfterSetSelectionRange", function(X) {
                    var ne = X.range
                      , ue = ne.startContainer.parentNode;
                    g(ne) || "mcepastebin" === ue.id || pe(),
                    z.hasClass(ue, "mce-offscreen-selection") || x()
                }),
                t.on("copy", function(X) {
                    var ne, ue, Me = X.clipboardData;
                    X.isDefaultPrevented() || !X.clipboardData || er.ie || (ne = (ue = z.get(j)) && ue.getElementsByTagName("*")[0]) && (X.preventDefault(),
                    Me.clearData(),
                    Me.setData("text/html", ne.outerHTML),
                    Me.setData("text/plain", ne.outerText || ne.innerText))
                }),
                function(t) {
                    var o, i;
                    function s(g) {
                        var b;
                        g.isDefaultPrevented() || (b = g.dataTransfer) && (D(b.types, "Files") || 0 < b.files.length) && (g.preventDefault(),
                        "drop" === g.type && Rv(i, "Dropped file type is not supported"))
                    }
                    function f(g) {
                        Ch(i, g.target) && s(g)
                    }
                    function m() {
                        var g = co.DOM
                          , b = i.dom
                          , x = document
                          , y = i.inline ? i.getBody() : i.getDoc()
                          , k = ["drop", "dragover"];
                        tt(k, function(_) {
                            g.bind(x, _, f),
                            b.bind(y, _, s)
                        }),
                        i.on("remove", function() {
                            tt(k, function(_) {
                                g.unbind(x, _, f),
                                b.unbind(y, _, s)
                            })
                        })
                    }
                    (function(t) {
                        var s, f, m, g, b, x, y = Bl(), k = co.DOM, _ = document, A = function(t, o) {
                            var i = ai.throttle(function(s, f) {
                                o._selectionOverrides.hideFakeCaret(),
                                o.selection.placeCaretAt(s, f)
                            }, 0);
                            return o.on("remove", i.stop),
                            function(s) {
                                return t.on(function(f) {
                                    var m, g, b, x, y, k, _, A, P, z, F, H, V, j, K, oe, pe, X, ne, ue, Me = Math.max(Math.abs(s.screenX - f.screenX), Math.abs(s.screenY - f.screenY));
                                    if (!f.dragging && 10 < Me) {
                                        if (o.fire("dragstart", {
                                            target: f.element
                                        }).isDefaultPrevented())
                                            return;
                                        f.dragging = !0,
                                        o.focus()
                                    }
                                    f.dragging && (H = f,
                                    m = {
                                        pageX: (K = s,
                                        oe = (j = o).inline ? bg(j.getBody()) : {
                                            left: 0,
                                            top: 0
                                        },
                                        ue = (ne = j).getBody(),
                                        pe = ne.inline ? {
                                            left: ue.scrollLeft,
                                            top: ue.scrollTop
                                        } : {
                                            left: 0,
                                            top: 0
                                        },
                                        (V = {
                                            pageX: (X = function(Fe, Ge) {
                                                if (Ge.target.ownerDocument === Fe.getDoc())
                                                    return {
                                                        left: Ge.pageX,
                                                        top: Ge.pageY
                                                    };
                                                var Ve, he, ye, Dt = bg(Fe.getContentAreaContainer()), It = (he = (Ve = Fe).getBody(),
                                                ye = Ve.getDoc().documentElement,
                                                Ve.inline ? {
                                                    left: he.scrollLeft,
                                                    top: he.scrollTop
                                                } : {
                                                    left: he.scrollLeft || ye.scrollLeft,
                                                    top: he.scrollTop || ye.scrollTop
                                                });
                                                return {
                                                    left: Ge.pageX - Dt.left + It.left,
                                                    top: Ge.pageY - Dt.top + It.top
                                                }
                                            }(j, K)).left - oe.left + pe.left,
                                            pageY: X.top - oe.top + pe.top
                                        }).pageX - H.relX),
                                        pageY: V.pageY + 5
                                    },
                                    z = f.ghost,
                                    F = o.getBody(),
                                    z.parentNode !== F && F.appendChild(z),
                                    x = f.width,
                                    y = f.height,
                                    k = f.maxX,
                                    _ = f.maxY,
                                    P = A = 0,
                                    (g = f.ghost).style.left = (b = m).pageX + "px",
                                    g.style.top = b.pageY + "px",
                                    _ < b.pageY + y && (P = b.pageY + y - _),
                                    g.style.width = x - (A = k < b.pageX + x ? b.pageX + x - k : A) + "px",
                                    g.style.height = y - P + "px",
                                    i(s.clientX, s.clientY))
                                })
                            }
                        }(b = y, x = t), P = (s = m = y,
                        function() {
                            s.on(function(z) {
                                z.dragging && f.fire("dragend")
                            }),
                            j3(s)
                        }
                        );
                        (f = g = t).on("mousedown", function(z) {
                            var F, H, V, j, K, oe;
                            0 === z.button && (F = re(x.dom.getParents(z.target), function() {
                                for (var pe = [], X = 0; X < arguments.length; X++)
                                    pe[X] = arguments[X];
                                return function(ne) {
                                    for (var ue = 0; ue < pe.length; ue++)
                                        if (pe[ue](ne))
                                            return !0;
                                    return !1
                                }
                            }(uw, If)).getOr(null),
                            K = x.getBody(),
                            uw(oe = F) && oe !== K && (H = x.dom.getPos(F),
                            V = x.getBody(),
                            j = x.getDoc().documentElement,
                            b.set({
                                element: F,
                                dragging: !1,
                                screenX: z.screenX,
                                screenY: z.screenY,
                                maxX: (x.inline ? V.scrollWidth : j.offsetWidth) - 2,
                                maxY: (x.inline ? V.scrollHeight : j.offsetHeight) - 2,
                                relX: z.pageX - H.x,
                                relY: z.pageY - H.y,
                                width: F.offsetWidth,
                                height: F.offsetHeight,
                                ghost: function(pe, X, ne) {
                                    var ue = x.dom
                                      , Me = pe.cloneNode(!0);
                                    ue.setStyles(Me, {
                                        width: X,
                                        height: ne
                                    }),
                                    ue.setAttrib(Me, "data-mce-selected", null);
                                    var Fe = ue.create("div", {
                                        class: "mce-drag-container",
                                        "data-mce-bogus": "all",
                                        unselectable: "on",
                                        contenteditable: "false"
                                    });
                                    return ue.setStyles(Fe, {
                                        position: "absolute",
                                        opacity: .5,
                                        overflow: "hidden",
                                        border: 0,
                                        padding: 0,
                                        margin: 0,
                                        width: X,
                                        height: ne
                                    }),
                                    ue.setStyles(Me, {
                                        margin: 0,
                                        boxSizing: "border-box"
                                    }),
                                    Fe.appendChild(Me),
                                    Fe
                                }(F, F.offsetWidth, F.offsetHeight)
                            })))
                        }),
                        t.on("mousemove", A),
                        t.on("mouseup", function(z) {
                            m.on(function(F) {
                                var H, V, j, K, oe, pe;
                                F.dragging && ((K = 3 === (pe = (j = g).selection.getSel().getRangeAt(0).startContainer).nodeType ? pe.parentNode : pe) === (oe = F.element) || j.dom.isChildOf(K, oe) || uw(K) || ((V = F.element.cloneNode(!0)).removeAttribute("data-mce-selected"),
                                H = V,
                                g.fire("drop", {
                                    clientX: z.clientX,
                                    clientY: z.clientY
                                }).isDefaultPrevented() || g.undoManager.transact(function() {
                                    iw(F.element),
                                    g.insertContent(g.dom.getOuterHTML(H)),
                                    g._selectionOverrides.hideFakeCaret()
                                })),
                                g.fire("dragend"))
                            }),
                            j3(m)
                        }),
                        k.bind(_, "mousemove", A),
                        k.bind(_, "mouseup", P),
                        t.on("remove", function() {
                            k.unbind(_, "mousemove", A),
                            k.unbind(_, "mouseup", P)
                        }),
                        t.on("keydown", function(z) {
                            z.keyCode === Zn.ESC && P()
                        })
                    }
                    )(t),
                    (o = t).on("drop", function(g) {
                        var b = void 0 !== g.clientX ? o.getDoc().elementFromPoint(g.clientX, g.clientY) : null;
                        !uw(b) && "false" !== o.dom.getContentEditableParent(b) || g.preventDefault()
                    }),
                    t.getParam("block_unsupported_drop", !0, "boolean") && (i = t).on("init", function() {
                        ai.setEditorTimeout(i, m, 0)
                    })
                }(t),
                _ = fc(function() {
                    var X, ne;
                    k.removed || !k.getBody().contains(document.activeElement) || (X = k.selection.getRng()).collapsed && (ne = R0(k, X, !1),
                    k.selection.setRng(ne))
                }, 0),
                (k = t).on("focus", function() {
                    _.throttle()
                }),
                k.on("blur", function() {
                    _.cancel()
                }),
                (A = t).on("init", function() {
                    A.on("focusin", function(X) {
                        var ne, ue, Me = X.target;
                        Bo(Me) && (ne = pv(A.getBody(), Me),
                        ue = ho(ne) ? ne : Me,
                        A.selection.getNode() !== ue && Xl(A, ue).each(function(Fe) {
                            return A.selection.setRng(Fe)
                        }))
                    })
                })),
                {
                    showCaret: f,
                    showBlockCaretContainer: function(X) {
                        X.hasAttribute("data-mce-caret") && (um(X),
                        s(oe()),
                        P.scrollIntoView(X))
                    },
                    hideFakeCaret: pe,
                    destroy: function() {
                        V.destroy(),
                        y = null
                    }
                }
            }
            function vS(t) {
                return la(t, function(o) {
                    return !1 === In(o)
                })
            }
            function YT(t) {
                var o = t.settings;
                return vS({
                    block_elements: o.block_elements,
                    boolean_attributes: o.boolean_attributes,
                    custom_elements: o.custom_elements,
                    extended_valid_elements: o.extended_valid_elements,
                    invalid_elements: o.invalid_elements,
                    invalid_styles: o.invalid_styles,
                    move_caret_before_on_enter_elements: o.move_caret_before_on_enter_elements,
                    non_empty_elements: o.non_empty_elements,
                    schema: o.schema,
                    self_closing_elements: o.self_closing_elements,
                    short_ended_elements: o.short_ended_elements,
                    special: o.special,
                    text_block_elements: o.text_block_elements,
                    text_inline_elements: o.text_inline_elements,
                    valid_children: o.valid_children,
                    valid_classes: o.valid_classes,
                    valid_elements: o.valid_elements,
                    valid_styles: o.valid_styles,
                    verify_html: o.verify_html,
                    whitespace_elements: o.whitespace_elements,
                    padd_empty_block_inline_children: o.format_empty_lines
                })
            }
            function H3(t) {
                var o = t.settings
                  , i = t.editorUpload.blobCache;
                return vS({
                    allow_conditional_comments: o.allow_conditional_comments,
                    allow_html_data_urls: o.allow_html_data_urls,
                    allow_svg_data_urls: o.allow_svg_data_urls,
                    allow_html_in_named_anchor: o.allow_html_in_named_anchor,
                    allow_script_urls: o.allow_script_urls,
                    allow_unsafe_link_target: o.allow_unsafe_link_target,
                    convert_fonts_to_spans: o.convert_fonts_to_spans,
                    fix_list_elements: o.fix_list_elements,
                    font_size_legacy_values: o.font_size_legacy_values,
                    forced_root_block: o.forced_root_block,
                    forced_root_block_attrs: o.forced_root_block_attrs,
                    padd_empty_with_br: o.padd_empty_with_br,
                    preserve_cdata: o.preserve_cdata,
                    remove_trailing_brs: o.remove_trailing_brs,
                    inline_styles: o.inline_styles,
                    root_name: t.inline ? t.getElement().nodeName.toLowerCase() : void 0,
                    validate: !0,
                    blob_cache: i,
                    document: t.getDoc(),
                    images_dataimg_filter: o.images_dataimg_filter
                })
            }
            function V3(t) {
                return (t.inline ? t.ui : t.dom).styleSheetLoader
            }
            function U3(t) {
                function o() {
                    f.unloadAll(g),
                    t.inline || t.ui.styleSheetLoader.unloadAll(m)
                }
                function i() {
                    t.removed ? o() : t.on("remove", o)
                }
                var s, f = V3(t), m = Zw(t), g = t.contentCSS;
                0 < t.contentStyles.length && (s = "",
                Ke.each(t.contentStyles, function(V) {
                    s += V + "\r\n"
                }),
                t.dom.addStyle(s));
                var b, x, y, k, _, A, P, z, F, H = Mi.all((b = t,
                x = g,
                y = m,
                k = [new Mi(function(V, j) {
                    return V3(b).loadAll(x, V, j)
                }
                )],
                b.inline ? k : k.concat([new Mi(function(V, j) {
                    return b.ui.styleSheetLoader.loadAll(y, V, j)
                }
                )]))).then(i).catch(i);
                return t.settings.content_style && (A = (_ = t).settings.content_style,
                P = Oe.fromDom(_.getBody()),
                z = eo(Ia(P)),
                L(F = Oe.fromTag("style"), "type", "text/css"),
                no(F, Oe.fromText(A)),
                no(z, F),
                _.on("remove", function() {
                    aa(F)
                })),
                H
            }
            function Hv(t) {
                var o;
                !0 !== t.removed && (jc(o = t) || o.load({
                    initial: !0,
                    format: "html"
                }),
                o.startContent = o.getContent({
                    format: "raw"
                }),
                function(t) {
                    var o, i, s;
                    t.bindPendingEventDelegates(),
                    t.initialized = !0,
                    t.fire("Init"),
                    t.focus(!0),
                    s = (i = t).dom.getRoot(),
                    i.inline || Od(i) && i.selection.getStart(!0) !== s || jo(s).each(function(f) {
                        var m, g, b, x, y = f.getNode(), k = qu(y) ? jo(y).getOr(f) : f;
                        er.browser.isIE() ? (m = i,
                        g = k.toRange(),
                        b = Oe.fromDom(m.getBody()),
                        x = (xh(m) ? ee.from(g) : ee.none()).map(_x).filter(z1(b)),
                        m.bookmark = x.isSome() ? x : m.bookmark) : i.selection.setRng(k.toRange())
                    }),
                    t.nodeChanged({
                        initial: !0
                    }),
                    t.execCallback("init_instance_callback", t),
                    (o = t).settings.auto_focus && ai.setEditorTimeout(o, function() {
                        var f = !0 === o.settings.auto_focus ? o : o.editorManager.get(o.settings.auto_focus);
                        f.destroyed || f.focus()
                    }, 100)
                }(t))
            }
            function JT(t, o) {
                var i = t.settings
                  , s = t.getElement()
                  , f = t.getDoc();
                i.inline || (t.getElement().style.visibility = t.orgVisibility),
                o || t.inline || (f.open(),
                f.write(t.iframeHTML),
                f.close()),
                t.inline && (sw.addClass(s, "mce-content-body"),
                t.contentDocument = f = document,
                t.contentWindow = window,
                t.bodyElement = s,
                t.contentAreaContainer = s);
                var m, g, b, x, y, k, _, A, P, z, F, H, V = t.getBody();
                V.disabled = !0,
                t.readonly = !!i.readonly,
                t.readonly || (t.inline && "static" === sw.getStyle(V, "position", !0) && (V.style.position = "relative"),
                V.contentEditable = t.getParam("content_editable_state", !0)),
                V.disabled = !1,
                t.editorUpload = function(t) {
                    function o(j) {
                        return function(K) {
                            return t.selection ? j(K) : []
                        }
                    }
                    function i(j, K, oe) {
                        for (var pe = 0; -1 !== (pe = j.indexOf(K, pe)) && (j = j.substring(0, pe) + oe + j.substr(pe + K.length),
                        pe += oe.length - K.length + 1),
                        -1 !== pe; )
                            ;
                        return j
                    }
                    function s(j, K, oe) {
                        return j = i(j, 'src="' + K + '"', 'src="' + oe + '"' + (oe === er.transparentSrc ? ' data-mce-placeholder="1"' : "")),
                        i(j, 'data-mce-src="' + K + '"', 'data-mce-src="' + oe + '"')
                    }
                    function f(j, K) {
                        tt(t.undoManager.data, function(oe) {
                            "fragmented" === oe.type ? oe.fragments = bn(oe.fragments, function(pe) {
                                return s(pe, j, K)
                            }) : oe.content = s(oe.content, j, K)
                        })
                    }
                    function m(j) {
                        return y = y || C2(t, z),
                        V().then(o(function(K) {
                            var oe = bn(K, function(pe) {
                                return pe.blobInfo
                            });
                            return y.upload(oe, x2(t)).then(o(function(pe) {
                                var X = []
                                  , ne = bn(pe, function(ue, Me) {
                                    var Ge, Ve, he, ye = K[Me].blobInfo, De = K[Me].image;
                                    return ue.status && t.getParam("images_replace_blob_uris", !0, "boolean") ? (P.removeByUri(De.src),
                                    jc(t) || (Ge = De,
                                    he = t.convertURL(Ve = ue.url, "src"),
                                    f(Ge.src, Ve),
                                    t.$(Ge).attr({
                                        src: t.getParam("images_reuse_filename", !1, "boolean") ? Ve + (-1 === Ve.indexOf("?") ? "?" : "&") + (new Date).getTime() : Ve,
                                        "data-mce-src": he
                                    }))) : ue.error && (ue.error.options.remove && (f(De.getAttribute("src"), er.transparentSrc),
                                    X.push(De)),
                                    Rv(t, Rs.translate(["Failed to upload image: {0}", ue.error.message]))),
                                    {
                                        element: De,
                                        status: ue.status,
                                        uploadUri: ue.url,
                                        blobInfo: ye
                                    }
                                });
                                return 0 < ne.length && H.fireIfChanged(),
                                0 < X.length && (jc(t) ? console.error("Removing images on failed uploads is currently unsupported for RTC") : t.undoManager.transact(function() {
                                    tt(X, function(ue) {
                                        t.dom.remove(ue),
                                        P.removeByUri(ue.src)
                                    })
                                })),
                                j && j(ne),
                                ne
                            }))
                        }))
                    }
                    function g(j) {
                        if (fv(t))
                            return m(j)
                    }
                    function b(j) {
                        return !1 !== Le(F, function(K) {
                            return K(j)
                        }) && (0 !== j.getAttribute("src").indexOf("data:") || t.getParam("images_dataimg_filter", Ot, "function")(j))
                    }
                    function x(j) {
                        return j.replace(/src="(blob:[^"]+)"/g, function(K, oe) {
                            var pe = z.getResultUri(oe);
                            if (pe)
                                return 'src="' + pe + '"';
                            var X = (X = P.getByUri(oe)) || kt(t.editorManager.get(), function(ne, ue) {
                                return ne || ue.editorUpload && ue.editorUpload.blobCache.getByUri(oe)
                            }, null);
                            return X ? 'src="data:' + X.blob().type + ";base64," + X.base64() + '"' : K
                        })
                    }
                    var y, k, _, A, P = function() {
                        function t(f) {
                            return re(s, f).getOrUndefined()
                        }
                        function o(f) {
                            if (!f.blob || !f.base64)
                                throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");
                            var m = f.id || OC("blobid")
                              , g = f.name || m
                              , b = f.blob;
                            return {
                                id: xe(m),
                                name: xe(g),
                                filename: xe(f.filename || g + "." + ({
                                    "image/jpeg": "jpg",
                                    "image/jpg": "jpg",
                                    "image/gif": "gif",
                                    "image/png": "png",
                                    "image/apng": "apng",
                                    "image/avif": "avif",
                                    "image/svg+xml": "svg",
                                    "image/webp": "webp",
                                    "image/bmp": "bmp",
                                    "image/tiff": "tiff"
                                }[b.type.toLowerCase()] || "dat")),
                                blob: xe(b),
                                base64: xe(f.base64),
                                blobUri: xe(f.blobUri || URL.createObjectURL(b)),
                                uri: xe(f.uri)
                            }
                        }
                        function i(f) {
                            return t(function(m) {
                                return m.id() === f
                            })
                        }
                        var s = [];
                        return {
                            create: function(f, m, g, b, x) {
                                if (Fn(f))
                                    return o({
                                        id: f,
                                        name: b,
                                        filename: x,
                                        blob: m,
                                        base64: g
                                    });
                                if (an(f))
                                    return o(f);
                                throw new Error("Unknown input type")
                            },
                            add: function(f) {
                                i(f.id()) || s.push(f)
                            },
                            get: i,
                            getByUri: function(f) {
                                return t(function(m) {
                                    return m.blobUri() === f
                                })
                            },
                            getByData: function(f, m) {
                                return t(function(g) {
                                    return g.base64() === f && g.blob().type === m
                                })
                            },
                            findFirst: t,
                            removeByUri: function(f) {
                                s = nn(s, function(m) {
                                    return m.blobUri() !== f || void URL.revokeObjectURL(m.blobUri())
                                })
                            },
                            destroy: function() {
                                tt(s, function(f) {
                                    URL.revokeObjectURL(f.blobUri())
                                }),
                                s = []
                            }
                        }
                    }(), z = D0(), F = [], H = (A = su(null),
                    (_ = t).on("change AddUndo", function(j) {
                        A.set(en({}, j.level))
                    }),
                    {
                        fireIfChanged: function() {
                            var j = _.undoManager.data;
                            Cr(j).filter(function(K) {
                                return !y0(A.get(), K)
                            }).each(function(K) {
                                _.setDirty(!0),
                                _.fire("change", {
                                    level: K,
                                    lastLevel: Gn(j, j.length - 2).getOrNull()
                                })
                            })
                        }
                    }), V = function() {
                        return (k = k || function(t, o) {
                            var i = {};
                            return {
                                findAll: function(s, f) {
                                    f = f || Ot;
                                    var m = bn(nn(s ? Go(s.getElementsByTagName("img")) : [], function(g) {
                                        var b = g.src;
                                        return er.fileApi && !g.hasAttribute("data-mce-bogus") && !g.hasAttribute("data-mce-placeholder") && b && b !== er.transparentSrc && (0 === b.indexOf("blob:") ? !t.isUploaded(b) && f(g) : 0 === b.indexOf("data:") && f(g))
                                    }), function(g) {
                                        if (void 0 !== i[g.src])
                                            return new Mi(function(x) {
                                                i[g.src].then(function(y) {
                                                    return "string" == typeof y ? y : void x({
                                                        image: g,
                                                        blobInfo: y.blobInfo
                                                    })
                                                })
                                            }
                                            );
                                        var b = new Mi(function(x, y) {
                                            var k, _, A, P, z, F, V, j;
                                            k = o,
                                            A = x,
                                            P = y,
                                            0 !== (_ = g).src.indexOf("blob:") ? (F = (z = c2(_.src)).data,
                                            (j = k.getByData(V = F, z.type)) ? A({
                                                image: _,
                                                blobInfo: j
                                            }) : l2(_.src).then(function(K) {
                                                j = k.create(Xh(), K, V),
                                                k.add(j),
                                                A({
                                                    image: _,
                                                    blobInfo: j
                                                })
                                            }, function(K) {
                                                P(K)
                                            })) : (j = k.getByUri(_.src)) ? A({
                                                image: _,
                                                blobInfo: j
                                            }) : l2(_.src).then(function(K) {
                                                var oe = K;
                                                new Mi(function(pe) {
                                                    var X = new FileReader;
                                                    X.onloadend = function() {
                                                        pe(X.result)
                                                    }
                                                    ,
                                                    X.readAsDataURL(oe)
                                                }
                                                ).then(function(pe) {
                                                    V = c2(pe).data,
                                                    j = k.create(Xh(), K, V),
                                                    k.add(j),
                                                    A({
                                                        image: _,
                                                        blobInfo: j
                                                    })
                                                })
                                            }, function(K) {
                                                P(K)
                                            })
                                        }
                                        ).then(function(x) {
                                            return delete i[x.image.src],
                                            x
                                        }).catch(function(x) {
                                            return delete i[g.src],
                                            x
                                        });
                                        return i[g.src] = b
                                    });
                                    return Mi.all(m)
                                }
                            }
                        }(z, P)).findAll(t.getBody(), b).then(o(function(j) {
                            return j = nn(j, function(K) {
                                return "string" != typeof K || void Rv(t, K)
                            }),
                            jc(t) || tt(j, function(K) {
                                f(K.image.src, K.blobInfo.blobUri()),
                                K.image.src = K.blobInfo.blobUri(),
                                K.image.removeAttribute("data-mce-src")
                            }),
                            j
                        }))
                    };
                    return t.on("SetContent", function() {
                        (fv(t) ? g : V)()
                    }),
                    t.on("RawSaveContent", function(j) {
                        j.content = x(j.content)
                    }),
                    t.on("GetContent", function(j) {
                        j.source_view || "raw" === j.format || "tree" === j.format || (j.content = x(j.content))
                    }),
                    t.on("PostRender", function() {
                        t.parser.addNodeFilter("img", function(j) {
                            tt(j, function(K) {
                                var oe, pe = K.attr("src");
                                P.getByUri(pe) || (oe = z.getResultUri(pe)) && K.attr("src", oe)
                            })
                        })
                    }),
                    {
                        blobCache: P,
                        addFilter: function(j) {
                            F.push(j)
                        },
                        uploadImages: m,
                        uploadImagesAuto: g,
                        scanForImages: V,
                        destroy: function() {
                            P.destroy(),
                            z.destroy(),
                            k = y = null
                        }
                    }
                }(t),
                t.schema = Ac(YT(t)),
                t.dom = co(f, {
                    keep_values: !0,
                    url_converter: t.convertURL,
                    url_converter_scope: t,
                    hex_colors: i.force_hex_style_colors,
                    update_styles: !0,
                    root_element: t.inline ? t.getBody() : null,
                    collect: function() {
                        return t.inline
                    },
                    schema: t.schema,
                    contentCssCors: t.getParam("content_css_cors", !1, "boolean"),
                    referrerPolicy: Yw(t),
                    onSetAttrib: function(he) {
                        t.fire("SetAttrib", he)
                    }
                }),
                t.parser = ((g = k0(H3(m = t), m.schema)).addAttributeFilter("src,href,style,tabindex", function(he, ye) {
                    for (var De, He, Dt = he.length, It = m.dom, Tt = "data-mce-" + ye; Dt--; )
                        (He = (De = he[Dt]).attr(ye)) && !De.attr(Tt) && 0 !== He.indexOf("data:") && 0 !== He.indexOf("blob:") && ("style" === ye ? ((He = It.serializeStyle(It.parseStyle(He), De.name)).length || (He = null),
                        De.attr(Tt, He),
                        De.attr(ye, He)) : "tabindex" === ye ? (De.attr(Tt, He),
                        De.attr(ye, null)) : De.attr(Tt, m.convertURL(He, ye, De.name)))
                }),
                g.addNodeFilter("script", function(he) {
                    for (var ye = he.length; ye--; ) {
                        var De = he[ye]
                          , He = De.attr("type") || "no/type";
                        0 !== He.indexOf("mce-") && De.attr("type", "mce-" + He)
                    }
                }),
                m.settings.preserve_cdata && g.addNodeFilter("#cdata", function(he) {
                    for (var ye = he.length; ye--; ) {
                        var De = he[ye];
                        De.type = 8,
                        De.name = "#comment",
                        De.value = "[CDATA[" + m.dom.encode(De.value) + "]]"
                    }
                }),
                g.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function(he) {
                    for (var ye = he.length, De = m.schema.getNonEmptyElements(); ye--; ) {
                        var He = he[ye];
                        He.isEmpty(De) && 0 === He.getAll("br").length && (He.append(new ba("br",1)).shortEnded = !0)
                    }
                }),
                g),
                t.serializer = E0((x = (b = t).settings,
                en(en(en({}, H3(b)), YT(b)), vS({
                    url_converter: x.url_converter,
                    url_converter_scope: x.url_converter_scope,
                    element_format: x.element_format,
                    entities: x.entities,
                    entity_encoding: x.entity_encoding,
                    indent: x.indent,
                    indent_after: x.indent_after,
                    indent_before: x.indent_before
                }))), t),
                t.selection = gC(t.dom, t.getWin(), t.serializer, t),
                t.annotator = sy(t),
                t.formatter = RC(t),
                t.undoManager = sg(t),
                t._nodeChangeDispatcher = new Kc(t),
                t._selectionOverrides = xl(t),
                P = t,
                z = Bl(),
                F = su(!1),
                H = Hb(function(he) {
                    P.fire("longpress", en(en({}, he), {
                        type: "longpress"
                    })),
                    F.set(!0)
                }, 400),
                P.on("touchstart", function(he) {
                    J0(he).each(function(ye) {
                        H.cancel();
                        var De = {
                            x: ye.clientX,
                            y: ye.clientY,
                            target: he.target
                        };
                        H.throttle(he),
                        F.set(!1),
                        z.set(De)
                    })
                }, !0),
                P.on("touchmove", function(he) {
                    H.cancel(),
                    J0(he).each(function(ye) {
                        z.on(function(De) {
                            var He = ye
                              , Dt = De
                              , It = Math.abs(He.clientX - Dt.x)
                              , Tt = Math.abs(He.clientY - Dt.y);
                            (5 < It || 5 < Tt) && (z.clear(),
                            F.set(!1),
                            P.fire("longpresscancel"))
                        })
                    })
                }, !0),
                P.on("touchend touchcancel", function(he) {
                    H.cancel(),
                    "touchcancel" !== he.type && z.get().filter(function(ye) {
                        return ye.target.isEqualNode(he.target)
                    }).each(function() {
                        F.get() ? he.preventDefault() : P.fire("tap", en(en({}, he), {
                            type: "tap"
                        }))
                    })
                }, !0),
                (_ = k = t).on("click", function(he) {
                    _.dom.getParent(he.target, "details") && he.preventDefault()
                }),
                (A = k).parser.addNodeFilter("details", function(he) {
                    tt(he, function(ye) {
                        ye.attr("data-mce-open", ye.attr("open")),
                        ye.attr("open", "open")
                    })
                }),
                A.serializer.addNodeFilter("details", function(he) {
                    tt(he, function(ye) {
                        var De = ye.attr("data-mce-open");
                        ye.attr("open", Fn(De) ? De : null),
                        ye.attr("data-mce-open", null)
                    })
                }),
                jc(t) || (y = t).on("click", function(he) {
                    var ye, De, He, Dt, It;
                    3 <= he.detail && (He = (ye = y).selection.getRng(),
                    Dt = et.fromRangeStart(He),
                    It = et.fromRangeEnd(He),
                    !et.isElementPosition(Dt) || ab(De = Dt.container()) && jo(De).each(function(Tt) {
                        return He.setStart(Tt.container(), Tt.offset())
                    }),
                    !et.isElementPosition(It) || ab(De = Dt.container()) && Ll(De).each(function(Tt) {
                        return He.setEnd(Tt.container(), Tt.offset())
                    }),
                    ye.selection.setRng(Wy(He)))
                });
                var j, K, oe, pe, X, ne, ue, Me, Fe, Ge = jc(j = t) ? su(null) : function(t) {
                    var o, i, s, f, m, g, b, x, y, k, _, A, P, z, F = function(t) {
                        var o = su(null)
                          , i = st(ql, t);
                        return t.on("NodeChange", function(s) {
                            var f, m, g, b, x, k, _, A, P, z, F, H;
                            !Jg(t) || er.browser.isIE() && s.initial || (x = i,
                            k = s.parents,
                            tt(We(_ = nn(bn(ys(Oe.fromDom(t.dom.getRoot()), '*[data-mce-selected="inline-boundary"]'), function(V) {
                                return V.dom
                            }), x), A = nn(k, x)), st(q0, !1)),
                            tt(We(A, _), st(q0, !0)),
                            z = o,
                            (P = t).selection.isCollapsed() && !0 !== P.composing && z.get() && (F = et.fromRangeStart(P.selection.getRng()),
                            et.isTextPosition(F) && !1 === (Al(H = F) || ad(H)) && (dp(P, ox(z.get(), F)),
                            z.set(null))),
                            f = i,
                            g = o,
                            b = s.parents,
                            (m = t).selection.isCollapsed() && tt(nn(b, f), function(V) {
                                var j = et.fromRangeStart(m.selection.getRng());
                                pl(f, m.getBody(), j).bind(function(K) {
                                    return H2(m, g, K)
                                })
                            }))
                        }),
                        o
                    }(t);
                    return t.on("keyup compositionstart", st(G2, t)),
                    z = F,
                    (P = t).on("keydown", function(H) {
                        var V, j, K, oe;
                        !1 === H.isDefaultPrevented() && (V = P,
                        j = z,
                        K = H,
                        oe = Wr().os,
                        Gc([{
                            keyCode: Zn.RIGHT,
                            action: rn(q2, V, !0)
                        }, {
                            keyCode: Zn.LEFT,
                            action: rn(q2, V, !1)
                        }, {
                            keyCode: Zn.UP,
                            action: rn(Q0, V, !1)
                        }, {
                            keyCode: Zn.DOWN,
                            action: rn(Q0, V, !0)
                        }, {
                            keyCode: Zn.RIGHT,
                            action: rn(J2, V, !0)
                        }, {
                            keyCode: Zn.LEFT,
                            action: rn(J2, V, !1)
                        }, {
                            keyCode: Zn.UP,
                            action: rn(Z2, V, !1)
                        }, {
                            keyCode: Zn.DOWN,
                            action: rn(Z2, V, !0)
                        }, {
                            keyCode: Zn.RIGHT,
                            action: rn(eb, V, !0)
                        }, {
                            keyCode: Zn.LEFT,
                            action: rn(eb, V, !1)
                        }, {
                            keyCode: Zn.UP,
                            action: rn(gp, V, !1)
                        }, {
                            keyCode: Zn.DOWN,
                            action: rn(gp, V, !0)
                        }, {
                            keyCode: Zn.RIGHT,
                            action: rn(yl, V, j, !0)
                        }, {
                            keyCode: Zn.LEFT,
                            action: rn(yl, V, j, !1)
                        }, {
                            keyCode: Zn.RIGHT,
                            ctrlKey: !oe.isOSX(),
                            altKey: oe.isOSX(),
                            action: rn(tu, V, j)
                        }, {
                            keyCode: Zn.LEFT,
                            ctrlKey: !oe.isOSX(),
                            altKey: oe.isOSX(),
                            action: rn(Vu, V, j)
                        }, {
                            keyCode: Zn.UP,
                            action: rn(Y2, V, !1)
                        }, {
                            keyCode: Zn.DOWN,
                            action: rn(Y2, V, !0)
                        }], K).each(function(pe) {
                            K.preventDefault()
                        }))
                    }),
                    A = F,
                    (_ = t).on("keydown", function(H) {
                        var V, j, K;
                        !1 === H.isDefaultPrevented() && (j = A,
                        K = H,
                        Gc([{
                            keyCode: Zn.BACKSPACE,
                            action: rn(tS, V = _, !1)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(z0, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(z0, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(Fv, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(Fv, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(X0, V, j, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(X0, V, j, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(n0, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(n0, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(lg, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(lg, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(gg, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(gg, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(Wd, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(Wd, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(Xr, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(Xr, V, !0)
                        }, {
                            keyCode: Zn.BACKSPACE,
                            action: rn(Y0, V, !1)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(Y0, V, !0)
                        }], K).each(function(oe) {
                            K.preventDefault()
                        }))
                    }),
                    _.on("keyup", function(H) {
                        var V, j;
                        !1 === H.isDefaultPrevented() && (j = H,
                        Gc([{
                            keyCode: Zn.BACKSPACE,
                            action: rn(N0, V = _)
                        }, {
                            keyCode: Zn.DELETE,
                            action: rn(N0, V)
                        }], j))
                    }),
                    (k = t).on("keydown", function(H) {
                        var V, j, K;
                        H.keyCode === Zn.ENTER && (V = k,
                        (j = H).isDefaultPrevented() || (j.preventDefault(),
                        (K = V.undoManager).typing && (K.typing = !1,
                        K.add()),
                        V.undoManager.transact(function() {
                            !1 === V.selection.isCollapsed() && V.execCommand("Delete"),
                            nt(V, j)
                        })))
                    }),
                    (y = t).on("keydown", function(H) {
                        var V;
                        !1 === H.isDefaultPrevented() && (V = H,
                        Gc([{
                            keyCode: Zn.SPACEBAR,
                            action: rn(Qn, y)
                        }], V).each(function(j) {
                            V.preventDefault()
                        }))
                    }),
                    b = g = t,
                    x = fc(function() {
                        b.composing || zx(b)
                    }, 0),
                    Uu.isIE() && (b.on("keypress", function(H) {
                        x.throttle()
                    }),
                    b.on("remove", function(H) {
                        x.cancel()
                    })),
                    g.on("input", function(H) {
                        !1 === H.isComposing && zx(g)
                    }),
                    m = F,
                    (f = t).on("keydown", function(H) {
                        var V, j, K;
                        !1 === H.isDefaultPrevented() && (j = m,
                        K = H,
                        Gc([{
                            keyCode: Zn.END,
                            action: rn(mp, V = f, !0)
                        }, {
                            keyCode: Zn.HOME,
                            action: rn(mp, V, !1)
                        }, {
                            keyCode: Zn.END,
                            action: rn(hp, V, !0)
                        }, {
                            keyCode: Zn.HOME,
                            action: rn(hp, V, !1)
                        }, {
                            keyCode: Zn.END,
                            action: rn(K0, V, !0, j)
                        }, {
                            keyCode: Zn.HOME,
                            action: rn(K0, V, !1, j)
                        }], K).each(function(oe) {
                            K.preventDefault()
                        }))
                    }),
                    o = t,
                    i = F,
                    ya.os.isOSX() || (s = su(!1),
                    o.on("keydown", function(H) {
                        dt(H) && rt(s, o, !0)
                    }),
                    o.on("keyup", function(H) {
                        var V, j, K;
                        !1 === H.isDefaultPrevented() && (K = H,
                        Gc([{
                            keyCode: Zn.PAGE_UP,
                            action: rn(K0, V = o, !1, j = i)
                        }, {
                            keyCode: Zn.PAGE_DOWN,
                            action: rn(K0, V, !0, j)
                        }], K)),
                        dt(H) && s.get() && (rt(s, o, !1),
                        o.nodeChanged())
                    })),
                    F
                }(j);
                Fe = Ge,
                (Me = t).addCommand("delete", function() {
                    var he, ye = Fe;
                    tS(he = Me) || z0(he, !1) || Fv(he, !1) || X0(he, ye, !1) || Xr(he, !1) || n0(he) || lg(he, !1) || gg(he, !1) || Wd(he) || Y0(he, !1) || (nS(he, "Delete"),
                    Ud(he))
                }),
                Me.addCommand("forwardDelete", function() {
                    var he, ye = Fe;
                    z0(he = Me, !0) || Fv(he, !0) || X0(he, ye, !0) || Xr(he, !0) || n0(he) || lg(he, !0) || gg(he, !0) || Wd(he) || Y0(he, !0) || nS(he, "ForwardDelete")
                }),
                zu(K = t) && K.on("NodeChange", st(Yn, K)),
                pe = (oe = t).dom,
                X = zu(oe),
                ne = oe.getParam("placeholder", sx.getAttrib(oe.getElement(), "placeholder"), "string"),
                ue = function(he, ye) {
                    var De, He, Dt;
                    !function(It) {
                        if (Gl(It)) {
                            var Tt = It.keyCode;
                            return !gl(It) && (Zn.metaKeyPressed(It) || It.altKey || 112 <= Tt && Tt <= 123 || D(IT, Tt))
                        }
                    }(he) && (De = oe.getBody(),
                    He = !(Gl(Dt = he) && !(gl(Dt) || "keyup" === Dt.type && 229 === Dt.keyCode)) && function(It, Tt, Lt) {
                        if (pi(Oe.fromDom(Tt), !1)) {
                            var Rt = "" === Lt
                              , Ht = Tt.firstElementChild;
                            return !Ht || !It.getStyle(Tt.firstElementChild, "padding-left") && !It.getStyle(Tt.firstElementChild, "padding-right") && (Rt ? !It.isBlock(Ht) : Lt === Ht.nodeName.toLowerCase())
                        }
                        return !1
                    }(pe, De, X),
                    "" !== pe.getAttrib(De, P2) === He && !ye || (pe.setAttrib(De, P2, He ? ne : null),
                    pe.setAttrib(De, "aria-placeholder", He ? ne : null),
                    oe.fire("PlaceholderToggle", {
                        state: He
                    }),
                    oe.on(He ? "keydown" : "keyup", ue),
                    oe.off(He ? "keyup" : "keydown", ue)))
                }
                ,
                ne && oe.on("init", function(he) {
                    ue(he, !0),
                    oe.on("change SetContent ExecCommand", ue),
                    oe.on("paste", function(ye) {
                        return ai.setEditorTimeout(oe, function() {
                            return ue(ye)
                        })
                    })
                });
                var Ve = function(t) {
                    var o = t;
                    return pt(t.plugins, "rtc").bind(function(i) {
                        return ee.from(i.setup)
                    }).fold(function() {
                        return o.rtcInstance = Hd(t),
                        ee.none()
                    }, function(i) {
                        var s, f;
                        return o.rtcInstance = (s = xe(null),
                        f = xe(""),
                        {
                            undoManager: {
                                beforeChange: _t,
                                add: s,
                                undo: s,
                                redo: s,
                                clear: _t,
                                reset: _t,
                                hasUndo: Ct,
                                hasRedo: Ct,
                                transact: s,
                                ignore: _t,
                                extra: _t
                            },
                            formatter: {
                                match: Ct,
                                matchAll: xe([]),
                                matchNode: xe(void 0),
                                canApply: Ct,
                                closest: f,
                                apply: _t,
                                remove: _t,
                                toggle: _t,
                                formatChanged: xe({
                                    unbind: _t
                                })
                            },
                            editor: {
                                getContent: f,
                                setContent: f,
                                insertContent: _t,
                                addVisual: _t
                            },
                            selection: {
                                getContent: f
                            },
                            raw: {
                                getModel: xe(ee.none())
                            }
                        }),
                        ee.some(function() {
                            return i().then(function(m) {
                                return o.rtcInstance = (k = m.selection,
                                _ = m.raw,
                                {
                                    undoManager: {
                                        beforeChange: (b = m.undoManager).beforeChange,
                                        add: b.add,
                                        undo: b.undo,
                                        redo: b.redo,
                                        clear: b.clear,
                                        reset: b.reset,
                                        hasUndo: b.hasUndo,
                                        hasRedo: b.hasRedo,
                                        transact: function(A, P, z) {
                                            return b.transact(z)
                                        },
                                        ignore: function(A, P) {
                                            return b.ignore(P)
                                        },
                                        extra: function(A, P, z, F) {
                                            return b.extra(z, F)
                                        }
                                    },
                                    formatter: {
                                        match: function(A, P, z, F) {
                                            return x.match(A, g(P), F)
                                        },
                                        matchAll: (x = m.formatter).matchAll,
                                        matchNode: x.matchNode,
                                        canApply: function(A) {
                                            return x.canApply(A)
                                        },
                                        closest: function(A) {
                                            return x.closest(A)
                                        },
                                        apply: function(A, P, z) {
                                            return x.apply(A, g(P))
                                        },
                                        remove: function(A, P, z, F) {
                                            return x.remove(A, g(P))
                                        },
                                        toggle: function(A, P, z) {
                                            return x.toggle(A, g(P))
                                        },
                                        formatChanged: function(A, P, z, F, H) {
                                            return x.formatChanged(P, z, F, H)
                                        }
                                    },
                                    editor: {
                                        getContent: function(A, P) {
                                            return y.getContent(A)
                                        },
                                        setContent: function(A, P) {
                                            return y.setContent(A, P)
                                        },
                                        insertContent: function(A, P) {
                                            return y.insertContent(A)
                                        },
                                        addVisual: (y = m.editor).addVisual
                                    },
                                    selection: {
                                        getContent: function(A, P) {
                                            return k.getContent(P)
                                        }
                                    },
                                    raw: {
                                        getModel: function() {
                                            return ee.some(_.getRawModel())
                                        }
                                    }
                                }),
                                m.rtc.isRemote;
                                function g(A) {
                                    return an(A) ? A : {}
                                }
                                var b, x, y, k, _
                            })
                        })
                    })
                }(t);
                (function(he) {
                    var ye = he.settings
                      , De = he.getDoc()
                      , He = he.getBody();
                    he.fire("PreInit"),
                    ye.browser_spellcheck || ye.gecko_spellcheck || (De.body.spellcheck = !1,
                    sw.setAttrib(He, "spellcheck", "false")),
                    he.quirks = function(t) {
                        function o(ye, De) {
                            try {
                                t.getDoc().execCommand(ye, !1, De)
                            } catch (He) {}
                        }
                        function i(ye) {
                            return ye.isDefaultPrevented()
                        }
                        function s() {
                            t.shortcuts.add("meta+a", null, "SelectAll")
                        }
                        function f() {
                            t.inline || j.bind(t.getDoc(), "mousedown mouseup", function(ye) {
                                var De;
                                ye.target === t.getDoc().documentElement && (De = K.getRng(),
                                t.getBody().focus(),
                                "mousedown" === ye.type ? iu(De.startContainer) || K.placeCaretAt(ye.clientX, ye.clientY) : K.setRng(De))
                            })
                        }
                        function m() {
                            Range.prototype.getClientRects || t.on("mousedown", function(ye) {
                                var De;
                                i(ye) || "HTML" !== ye.target.nodeName || ((De = t.getBody()).blur(),
                                ai.setEditorTimeout(t, function() {
                                    De.focus()
                                }))
                            })
                        }
                        function g() {
                            t.on("click", function(ye) {
                                var De = ye.target;
                                /^(IMG|HR)$/.test(De.nodeName) && "false" !== j.getContentEditableParent(De) && (ye.preventDefault(),
                                t.selection.select(De),
                                t.nodeChanged()),
                                "A" === De.nodeName && j.hasClass(De, "mce-item-anchor") && (ye.preventDefault(),
                                K.select(De))
                            })
                        }
                        function b() {
                            t.on("keydown", function(ye) {
                                if (!i(ye) && ye.keyCode === H && K.isCollapsed() && 0 === K.getRng().startOffset) {
                                    var De = K.getNode().previousSibling;
                                    if (De && De.nodeName && "table" === De.nodeName.toLowerCase())
                                        return ye.preventDefault(),
                                        !1
                                }
                            })
                        }
                        function x() {
                            t.getParam("readonly") || t.on("BeforeExecCommand mousedown", function() {
                                o("StyleWithCSS", !1),
                                o("enableInlineTableEditing", !1),
                                Qw(t) || o("enableObjectResizing", !1)
                            })
                        }
                        function y() {
                            t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")
                        }
                        function k() {
                            t.inline || t.on("keydown", function() {
                                document.activeElement === document.body && t.getWin().focus()
                            })
                        }
                        function _() {
                            t.inline || (t.contentStyles.push("body {min-height: 150px}"),
                            t.on("click", function(ye) {
                                var De;
                                "HTML" === ye.target.nodeName && (11 < er.ie ? t.getBody().focus() : (De = t.selection.getRng(),
                                t.getBody().focus(),
                                t.selection.setRng(De),
                                t.selection.normalize(),
                                t.nodeChanged()))
                            }))
                        }
                        function A() {
                            er.mac && t.on("keydown", function(ye) {
                                !Zn.metaKeyPressed(ye) || ye.shiftKey || 37 !== ye.keyCode && 39 !== ye.keyCode || (ye.preventDefault(),
                                t.selection.getSel().modify("move", 37 === ye.keyCode ? "backward" : "forward", "lineboundary"))
                            })
                        }
                        function P() {
                            t.on("click", function(ye) {
                                var De = ye.target;
                                do {
                                    if ("A" === De.tagName)
                                        return void ye.preventDefault()
                                } while (De = De.parentNode)
                            }),
                            t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")
                        }
                        function z() {
                            t.on("init", function() {
                                t.dom.bind(t.getBody(), "submit", function(ye) {
                                    ye.preventDefault()
                                })
                            })
                        }
                        var F = Ke.each
                          , H = Zn.BACKSPACE
                          , V = Zn.DELETE
                          , j = t.dom
                          , K = t.selection
                          , oe = t.parser
                          , pe = er.gecko
                          , ne = er.webkit
                          , ue = "data:text/mce-internal,"
                          , Me = er.ie ? "Text" : "URL"
                          , Fe = _t;
                        return jc(t) ? (ne && (f(),
                        g(),
                        z(),
                        s(),
                        er.iOS && (k(),
                        _(),
                        P())),
                        pe && (m(),
                        x(),
                        y(),
                        A())) : (t.on("keydown", function(ye) {
                            if (!i(ye) && ye.keyCode === Zn.BACKSPACE) {
                                var De, He = (De = K.getRng()).startContainer, Dt = De.startOffset, It = j.getRoot(), Tt = He;
                                if (De.collapsed && 0 === Dt) {
                                    for (; Tt && Tt.parentNode && Tt.parentNode.firstChild === Tt && Tt.parentNode !== It; )
                                        Tt = Tt.parentNode;
                                    "BLOCKQUOTE" === Tt.tagName && (t.formatter.toggle("blockquote", null, Tt),
                                    (De = j.createRng()).setStart(He, 0),
                                    De.setEnd(He, 0),
                                    K.setRng(De))
                                }
                            }
                        }),
                        t.on("keydown", function(ye) {
                            var De, He, Dt, It, Tt = ye.keyCode;
                            i(ye) || Tt !== V && Tt !== H || (De = t.selection.isCollapsed(),
                            He = t.getBody(),
                            De && !j.isEmpty(He) || !De && (Dt = he(t.selection.getRng()),
                            (It = j.createRng()).selectNode(t.getBody()),
                            Dt !== he(It)) || (ye.preventDefault(),
                            t.setContent(""),
                            He.firstChild && j.isBlock(He.firstChild) ? t.selection.setCursorLocation(He.firstChild, 0) : t.selection.setCursorLocation(He, 0),
                            t.nodeChanged()))
                        }),
                        er.windowsPhone || t.on("keyup focusin mouseup", function(ye) {
                            Zn.modifierPressed(ye) || K.normalize()
                        }, !0),
                        ne && (f(),
                        g(),
                        zu(t) && t.on("init", function() {
                            o("DefaultParagraphSeparator", zu(t))
                        }),
                        z(),
                        b(),
                        oe.addNodeFilter("br", function(ye) {
                            for (var De = ye.length; De--; )
                                "Apple-interchange-newline" === ye[De].attr("class") && ye[De].remove()
                        }),
                        er.iOS ? (k(),
                        _(),
                        P()) : s()),
                        11 <= er.ie && (_(),
                        b()),
                        er.ie && (s(),
                        o("AutoUrlDetect", !1),
                        t.on("dragstart", function(ye) {
                            var De, He, Dt;
                            (De = ye).dataTransfer && (t.selection.isCollapsed() && "IMG" === De.target.tagName && K.select(De.target),
                            0 < (He = t.selection.getContent()).length && (Dt = ue + escape(t.id) + "," + escape(He),
                            De.dataTransfer.setData(Me, Dt)))
                        }),
                        t.on("drop", function(ye) {
                            var De, He, Dt, It;
                            i(ye) || (De = ye.dataTransfer && (It = ye.dataTransfer.getData(Me)) && 0 <= It.indexOf(ue) ? (It = It.substr(ue.length).split(","),
                            {
                                id: unescape(It[0]),
                                html: unescape(It[1])
                            }) : null) && De.id !== t.id && (ye.preventDefault(),
                            He = R1(ye.x, ye.y, t.getDoc()),
                            K.setRng(He),
                            Dt = De.html,
                            t.queryCommandSupported("mceInsertClipboardContent") ? t.execCommand("mceInsertClipboardContent", !1, {
                                content: Dt,
                                internal: !0
                            }) : t.execCommand("mceInsertContent", !1, Dt))
                        })),
                        pe && (t.on("keydown", function(ye) {
                            if (!i(ye) && ye.keyCode === H && t.getBody().getElementsByTagName("hr").length && K.isCollapsed() && 0 === K.getRng().startOffset) {
                                var De = K.getNode()
                                  , He = De.previousSibling;
                                if ("HR" === De.nodeName)
                                    return j.remove(De),
                                    void ye.preventDefault();
                                He && He.nodeName && "hr" === He.nodeName.toLowerCase() && (j.remove(He),
                                ye.preventDefault())
                            }
                        }),
                        m(),
                        t.on("keypress", function(ye) {
                            var De;
                            if (!i(ye) && (8 === ye.keyCode || 46 === ye.keyCode) && Ve())
                                return De = Ge(),
                                t.getDoc().execCommand("delete", !1, null),
                                De(),
                                ye.preventDefault(),
                                !1
                        }),
                        j.bind(t.getDoc(), "cut", function(ye) {
                            var De;
                            !i(ye) && Ve() && (De = Ge(),
                            ai.setEditorTimeout(t, function() {
                                De()
                            }))
                        }),
                        x(),
                        t.on("SetContent ExecCommand", function(ye) {
                            "setcontent" !== ye.type && "mceInsertLink" !== ye.command || F(j.select("a"), function(De) {
                                var He = De.parentNode
                                  , Dt = j.getRoot();
                                if (He.lastChild === De) {
                                    for (; He && !j.isBlock(He); ) {
                                        if (He.parentNode.lastChild !== He || He === Dt)
                                            return;
                                        He = He.parentNode
                                    }
                                    j.add(He, "br", {
                                        "data-mce-bogus": 1
                                    })
                                }
                            })
                        }),
                        y(),
                        A(),
                        b())),
                        {
                            refreshContentEditable: Fe,
                            isHidden: function() {
                                if (!pe || t.removed)
                                    return !1;
                                var ye = t.selection.getSel();
                                return !ye || !ye.rangeCount || 0 === ye.rangeCount
                            }
                        };
                        function Ge() {
                            var ye = j.getAttribs(K.getStart().cloneNode(!1));
                            return function() {
                                var De = K.getStart();
                                De !== t.getBody() && (j.setAttrib(De, "style", null),
                                F(ye, function(He) {
                                    De.setAttributeNode(He.cloneNode(!0))
                                }))
                            }
                        }
                        function Ve() {
                            return !K.isCollapsed() && j.getParent(K.getStart(), j.isBlock) !== j.getParent(K.getEnd(), j.isBlock)
                        }
                        function he(ye) {
                            var De = j.create("body")
                              , He = ye.cloneContents();
                            return De.appendChild(He),
                            K.serializer.serialize(De, {
                                format: "html"
                            })
                        }
                    }(he),
                    he.fire("PostRender");
                    var Dt = he.getParam("directionality", Rs.isRtl() ? "rtl" : void 0);
                    void 0 !== Dt && (He.dir = Dt),
                    ye.protect && he.on("BeforeSetContent", function(It) {
                        Ke.each(ye.protect, function(Tt) {
                            It.content = It.content.replace(Tt, function(Lt) {
                                return "\x3c!--mce:protected " + escape(Lt) + "--\x3e"
                            })
                        })
                    }),
                    he.on("SetContent", function() {
                        he.addVisual(he.getBody())
                    }),
                    he.on("compositionstart compositionend", function(It) {
                        he.composing = "compositionstart" === It.type
                    })
                }
                )(t),
                Ve.fold(function() {
                    U3(t).then(function() {
                        return Hv(t)
                    })
                }, function(he) {
                    t.setProgressState(!0),
                    U3(t).then(function() {
                        he().then(function(ye) {
                            t.setProgressState(!1),
                            Hv(t)
                        }, function(ye) {
                            t.notificationManager.open({
                                type: "error",
                                text: String(ye)
                            }),
                            Hv(t)
                        })
                    })
                })
            }
            function ko(t) {
                return t.replace(/^\-/, "")
            }
            function rf(t) {
                return {
                    editorContainer: t,
                    iframeContainer: t,
                    api: {}
                }
            }
            function ZT(t) {
                var o, i, s, f, m, g, b, x;
                t.fire("ScriptsLoaded"),
                i = Ke.trim(mc(o = t)),
                s = o.ui.registry.getAll().icons,
                Un(en(en({}, Mv.get("default").icons), Mv.get(i).icons), function(V, j) {
                    St(s, j) || o.ui.registry.addIcon(j, V)
                }),
                g = xd(f = t),
                Fn(g) ? (f.settings.theme = ko(g),
                m = Nf.get(g),
                f.theme = new m(f,Nf.urls[g]),
                f.theme.init && f.theme.init(f, Nf.urls[g] || f.documentBaseUrl.replace(/\/$/, ""), f.$)) : f.theme = {},
                x = [],
                Ke.each(Zg(b = t).split(/[ ,]/), function(V) {
                    hS(b, x, ko(V))
                });
                var y = function(t) {
                    var o, i, s, f, m, g, b, x = t.getElement();
                    return t.orgDisplay = x.style.display,
                    Fn(xd(t)) ? t.theme.renderUI() : Kn(xd(t)) ? (i = (o = t).getElement(),
                    (s = xd(o)(o, i)).editorContainer.nodeType && (s.editorContainer.id = s.editorContainer.id || o.id + "_parent"),
                    s.iframeContainer && s.iframeContainer.nodeType && (s.iframeContainer.id = s.iframeContainer.id || o.id + "_iframecontainer"),
                    s.height = s.iframeHeight || i.offsetHeight,
                    s) : (b = (f = t).getElement(),
                    f.inline ? rf(null) : (m = b,
                    g = q3.create("div"),
                    q3.insertAfter(g, m),
                    rf(g)))
                }(t)
                  , k = t
                  , _ = ee.from(y.api).getOr({})
                  , A = {
                    show: ee.from(_.show).getOr(_t),
                    hide: ee.from(_.hide).getOr(_t),
                    disable: ee.from(_.disable).getOr(_t),
                    isDisabled: ee.from(_.isDisabled).getOr(Ct),
                    enable: function() {
                        k.mode.isReadOnly() || ee.from(_.enable).map(ae)
                    }
                };
                k.ui = en(en({}, k.ui), A);
                var P, z, F, H = {
                    editorContainer: y.editorContainer,
                    iframeContainer: y.iframeContainer
                };
                return t.editorContainer = H.editorContainer || null,
                function(t) {
                    var o, i;
                    t.contentCSS = t.contentCSS.concat(op(t, (i = (o = t).getParam("content_css"),
                    Fn(i) ? bn(i.split(","), ze) : Se(i) ? i : !1 === i || o.inline ? [] : ["default"])), op(t, Zw(t)))
                }(t),
                t.inline ? JT(t) : (F = function(t, o) {
                    var i, s, f, m, g = t.translate("Rich Text Area"), b = (i = t.id,
                    s = g,
                    f = t.getParam("iframe_attrs", {}),
                    R(m = Oe.fromTag("iframe"), f),
                    R(m, {
                        id: i + "_ifr",
                        frameBorder: "0",
                        allowTransparency: "true",
                        title: s
                    }),
                    Ug(m, "tox-edit-area__iframe"),
                    m.dom);
                    b.onload = function() {
                        b.onload = null,
                        t.fire("load")
                    }
                    ;
                    var x = function(y, k) {
                        if (document.domain !== window.location.hostname && er.browser.isIE()) {
                            var _ = OC("mce");
                            y[_] = function() {
                                JT(y)
                            }
                            ;
                            var A = 'javascript:(function(){document.open();document.domain="' + document.domain + '";var ed = window.parent.tinymce.get("' + y.id + '");document.write(ed.iframeHTML);document.close();ed.' + _ + "(true);})()";
                            return cw.setAttrib(k, "src", A),
                            !0
                        }
                        return !1
                    }(t, b);
                    return t.contentAreaContainer = o.iframeContainer,
                    t.iframeElement = b,
                    t.iframeHTML = function(y) {
                        var k = y.getParam("doctype", "<!DOCTYPE html>") + "<html><head>";
                        y.getParam("document_base_url", "") !== y.documentBaseUrl && (k += '<base href="' + y.documentBaseURI.getURI() + '" />'),
                        k += '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';
                        var _ = Bs(y, "body_id", "tinymce")
                          , A = Bs(y, "body_class", "")
                          , P = y.translate(y.getParam("iframe_aria_text", "Rich Text Area. Press ALT-0 for help.", "string"));
                        return Xw(y) && (k += '<meta http-equiv="Content-Security-Policy" content="' + Xw(y) + '" />'),
                        k + '</head><body id="' + _ + '" class="mce-content-body ' + A + '" data-id="' + y.id + '" aria-label="' + P + '"><br></body></html>'
                    }(t),
                    cw.add(o.iframeContainer, b),
                    x
                }(P = t, z = H),
                z.editorContainer && (cw.get(z.editorContainer).style.display = P.orgDisplay,
                P.hidden = cw.isHidden(z.editorContainer)),
                P.getElement().style.display = "none",
                cw.setAttrib(P.id, "aria-hidden", "true"),
                void (F || JT(P)))
            }
            function dS(t) {
                return "-" === t.charAt(0)
            }
            function mS(t, o, i) {
                return ee.from(o).filter(function(s) {
                    return 0 < s.length && !Mv.has(s)
                }).map(function(s) {
                    return {
                        url: t.editorManager.baseURL + "/icons/" + s + "/icons" + i + ".js",
                        name: ee.some(s)
                    }
                })
            }
            function QT(t) {
                return function(o, i) {
                    return ee.from(i).map(Oe.fromDom).filter(un).bind(function(s) {
                        return f = t,
                        m = o,
                        Ky(Oe.fromDom(s.dom), function(x) {
                            return lt(y = x, f).orThunk(function() {
                                return "font" === Or(y) ? pt(ak, f).bind(function(k) {
                                    return B(y, k)
                                }) : ee.none()
                            });
                            var y
                        }, function(x) {
                            return uo(Oe.fromDom(m), x)
                        }).or(ee.from(co.DOM.getStyle(s.dom, t, !0)));
                        var f, m
                    }).getOr("")
                }
            }
            function ok(t) {
                return jo(t.getBody()).map(function(o) {
                    var i = o.container();
                    return dn(i) ? i.parentNode : i
                })
            }
            function e3(t, o) {
                return i = t,
                s = oo(ee.some, o),
                ee.from((f = i).selection.getRng()).bind(function(m) {
                    var g = f.getBody();
                    return m.startContainer === g && 0 === m.startOffset ? ee.none() : ee.from(f.selection.getStart(!0))
                }).orThunk(st(ok, i)).map(Oe.fromDom).filter(un).bind(s);
                var i, s, f
            }
            function gS(t, o) {
                if (/^[0-9.]+$/.test(o)) {
                    var i = parseInt(o, 10);
                    if (1 <= i && i <= 7) {
                        var s = Ke.explode(t.getParam("font_size_style_values", "xx-small,x-small,small,medium,large,x-large,xx-large"))
                          , f = Ke.explode(t.getParam("font_size_classes", ""));
                        return f ? f[i - 1] || o : s[i - 1] || o
                    }
                    return o
                }
                return o
            }
            var uw = ho
              , If = Cu
              , j3 = function(t) {
                t.on(function(o) {
                    iw(o.ghost)
                }),
                t.clear()
            }
              , G3 = Cu
              , yp = ho
              , sw = co.DOM
              , cw = co.DOM
              , q3 = co.DOM
              , hS = function(t, o, i) {
                var s, m, g, b = On.get(i), x = On.urls[i] || t.documentBaseUrl.replace(/\/$/, "");
                if (i = Ke.trim(i),
                b && -1 === Ke.inArray(o, i) && (Ke.each(On.dependencies(i), function(k) {
                    hS(t, o, k)
                }),
                !t.plugins[i]))
                    try {
                        var y = new b(t,x,t.$);
                        (t.plugins[i] = y).init && (y.init(t, x),
                        o.push(i))
                    } catch (k) {
                        m = k,
                        xx(s = t, "PluginLoadError", {
                            message: g = Rs.translate(["Failed to initialize plugin: {0}", i])
                        }),
                        U0(g, m),
                        Rv(s, g)
                    }
            }
              , wp = co.DOM
              , ak = {
                "font-size": "size",
                "font-family": "face"
            }
              , K3 = QT("font-size")
              , ik = lr(function(t) {
                return t.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",")
            }, QT("font-family"))
              , pS = Ke.each
              , bS = Ke.map
              , uk = Ke.inArray
              , t3 = (Ls.prototype.execCommand = function(t, o, i, s) {
                var f, m, g = !1, b = this;
                if (!b.editor.removed) {
                    if ("mcefocus" !== t.toLowerCase() && (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t) || s && s.skip_focus ? $m(m = b.editor).each(function(y) {
                        return m.selection.setRng(y)
                    }) : b.editor.focus()),
                    (s = b.editor.fire("BeforeExecCommand", {
                        command: t,
                        ui: o,
                        value: i
                    })).isDefaultPrevented())
                        return !1;
                    var x = t.toLowerCase();
                    if (f = b.commands.exec[x])
                        return f(x, o, i),
                        b.editor.fire("ExecCommand", {
                            command: t,
                            ui: o,
                            value: i
                        }),
                        !0;
                    if (pS(this.editor.plugins, function(y) {
                        if (y.execCommand && y.execCommand(t, o, i))
                            return b.editor.fire("ExecCommand", {
                                command: t,
                                ui: o,
                                value: i
                            }),
                            !(g = !0)
                    }),
                    g)
                        return g;
                    if (b.editor.theme && b.editor.theme.execCommand && b.editor.theme.execCommand(t, o, i))
                        return b.editor.fire("ExecCommand", {
                            command: t,
                            ui: o,
                            value: i
                        }),
                        !0;
                    try {
                        g = b.editor.getDoc().execCommand(t, o, i)
                    } catch (y) {}
                    return !!g && (b.editor.fire("ExecCommand", {
                        command: t,
                        ui: o,
                        value: i
                    }),
                    !0)
                }
            }
            ,
            Ls.prototype.queryCommandState = function(t) {
                var o;
                if (!this.editor.quirks.isHidden() && !this.editor.removed) {
                    if (t = t.toLowerCase(),
                    o = this.commands.state[t])
                        return o(t);
                    try {
                        return this.editor.getDoc().queryCommandState(t)
                    } catch (i) {}
                    return !1
                }
            }
            ,
            Ls.prototype.queryCommandValue = function(t) {
                var o;
                if (!this.editor.quirks.isHidden() && !this.editor.removed) {
                    if (t = t.toLowerCase(),
                    o = this.commands.value[t])
                        return o(t);
                    try {
                        return this.editor.getDoc().queryCommandValue(t)
                    } catch (i) {}
                }
            }
            ,
            Ls.prototype.addCommands = function(t, o) {
                void 0 === o && (o = "exec");
                var i = this;
                pS(t, function(s, f) {
                    pS(f.toLowerCase().split(","), function(m) {
                        i.commands[o][m] = s
                    })
                })
            }
            ,
            Ls.prototype.addCommand = function(t, o, i) {
                var s = this;
                t = t.toLowerCase(),
                this.commands.exec[t] = function(f, m, g, b) {
                    return o.call(i || s.editor, m, g, b)
                }
            }
            ,
            Ls.prototype.queryCommandSupported = function(t) {
                if (t = t.toLowerCase(),
                this.commands.exec[t])
                    return !0;
                try {
                    return this.editor.getDoc().queryCommandSupported(t)
                } catch (o) {}
                return !1
            }
            ,
            Ls.prototype.addQueryStateHandler = function(t, o, i) {
                var s = this;
                t = t.toLowerCase(),
                this.commands.state[t] = function() {
                    return o.call(i || s.editor)
                }
            }
            ,
            Ls.prototype.addQueryValueHandler = function(t, o, i) {
                var s = this;
                t = t.toLowerCase(),
                this.commands.value[t] = function() {
                    return o.call(i || s.editor)
                }
            }
            ,
            Ls.prototype.hasCustomCommand = function(t) {
                return t = t.toLowerCase(),
                !!this.commands.exec[t]
            }
            ,
            Ls.prototype.execNativeCommand = function(t, o, i) {
                return void 0 === o && (o = !1),
                void 0 === i && (i = null),
                this.editor.getDoc().execCommand(t, o, i)
            }
            ,
            Ls.prototype.isFormatMatch = function(t) {
                return this.editor.formatter.match(t)
            }
            ,
            Ls.prototype.toggleFormat = function(t, o) {
                this.editor.formatter.toggle(t, o),
                this.editor.nodeChanged()
            }
            ,
            Ls.prototype.storeSelection = function(t) {
                this.selectionBookmark = this.editor.selection.getBookmark(t)
            }
            ,
            Ls.prototype.restoreSelection = function() {
                this.editor.selection.moveToBookmark(this.selectionBookmark)
            }
            ,
            Ls.prototype.setupCommands = function(t) {
                var o = this;
                function i(s) {
                    return function() {
                        var f = t.selection
                          , m = f.isCollapsed() ? [t.dom.getParent(f.getNode(), t.dom.isBlock)] : f.getSelectedBlocks()
                          , g = bS(m, function(b) {
                            return !!t.formatter.matchNode(b, s)
                        });
                        return -1 !== uk(g, !0)
                    }
                }
                this.addCommands({
                    "mceResetDesignMode,mceBeginUndoLevel": _t,
                    "mceEndUndoLevel,mceAddUndoLevel": function() {
                        t.undoManager.add()
                    },
                    mceFocus: function(s, f, m) {
                        var g;
                        (g = t).removed || (m ? xv : function(x) {
                            var y = x.selection
                              , k = x.getBody()
                              , _ = y.getRng();
                            x.quirks.refreshContentEditable(),
                            void 0 !== x.bookmark && !1 === Of(x) && $m(x).each(function(F) {
                                x.selection.setRng(F),
                                _ = F
                            });
                            var A, P, z = (A = x,
                            P = y.getNode(),
                            A.dom.getParent(P, function(F) {
                                return "true" === A.dom.getContentEditable(F)
                            }));
                            if (x.$.contains(k, z))
                                return Sh(z),
                                kx(x, _),
                                xv(x);
                            x.inline || (er.opera || Sh(k),
                            x.getWin().focus()),
                            (er.gecko || x.inline) && (Sh(k),
                            kx(x, _)),
                            xv(x)
                        }
                        )(g)
                    },
                    "Cut,Copy,Paste": function(s) {
                        var f, m, g = t.getDoc();
                        try {
                            o.execNativeCommand(s)
                        } catch (b) {
                            f = !0
                        }
                        !(f = "paste" === s && !g.queryCommandEnabled(s) || f) && g.queryCommandSupported(s) || (m = t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),
                        er.mac && (m = m.replace(/Ctrl\+/g, "\u2318+")),
                        t.notificationManager.open({
                            text: m,
                            type: "error"
                        }))
                    },
                    unlink: function() {
                        var s;
                        t.selection.isCollapsed() ? (s = t.dom.getParent(t.selection.getStart(), "a")) && t.dom.remove(s, !0) : t.formatter.remove("link")
                    },
                    "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(s) {
                        var f = s.substring(7);
                        "full" === f && (f = "justify"),
                        pS("left,center,right,justify".split(","), function(m) {
                            f !== m && t.formatter.remove("align" + m)
                        }),
                        "none" !== f && o.toggleFormat("align" + f)
                    },
                    "InsertUnorderedList,InsertOrderedList": function(s) {
                        var f;
                        o.execNativeCommand(s);
                        var m = t.dom.getParent(t.selection.getNode(), "ol,ul");
                        m && /^(H[1-6]|P|ADDRESS|PRE)$/.test((f = m.parentNode).nodeName) && (o.storeSelection(),
                        t.dom.split(f, m),
                        o.restoreSelection())
                    },
                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(s) {
                        o.toggleFormat(s)
                    },
                    "ForeColor,HiliteColor": function(s, f, m) {
                        o.toggleFormat(s, {
                            value: m
                        })
                    },
                    FontName: function(s, f, m) {
                        var g, b;
                        b = gS(g = t, m),
                        g.formatter.toggle("fontname", {
                            value: bn(b.split(/\s*,\s*/), function(x) {
                                return -1 === x.indexOf(" ") || Ee(x, '"') || Ee(x, "'") ? x : "'" + x + "'"
                            }).join(",")
                        }),
                        g.nodeChanged()
                    },
                    FontSize: function(s, f, m) {
                        var g;
                        (g = t).formatter.toggle("fontsize", {
                            value: gS(g, m)
                        }),
                        g.nodeChanged()
                    },
                    LineHeight: function(s, f, m) {
                        var g;
                        (g = t).formatter.toggle("lineheight", {
                            value: String(m)
                        }),
                        g.nodeChanged()
                    },
                    Lang: function(s, f, m) {
                        o.toggleFormat(s, {
                            value: m.code,
                            customValue: m.customCode
                        })
                    },
                    RemoveFormat: function(s) {
                        t.formatter.remove(s)
                    },
                    mceBlockQuote: function() {
                        o.toggleFormat("blockquote")
                    },
                    FormatBlock: function(s, f, m) {
                        return o.toggleFormat(m || "p")
                    },
                    mceCleanup: function() {
                        var s = t.selection.getBookmark();
                        t.setContent(t.getContent()),
                        t.selection.moveToBookmark(s)
                    },
                    mceRemoveNode: function(s, f, m) {
                        var g = m || t.selection.getNode();
                        g !== t.getBody() && (o.storeSelection(),
                        t.dom.remove(g, !0),
                        o.restoreSelection())
                    },
                    mceSelectNodeDepth: function(s, f, m) {
                        var g = 0;
                        t.dom.getParent(t.selection.getNode(), function(b) {
                            if (1 === b.nodeType && g++ === m)
                                return t.selection.select(b),
                                !1
                        }, t.getBody())
                    },
                    mceSelectNode: function(s, f, m) {
                        t.selection.select(m)
                    },
                    mceInsertContent: function(s, f, m) {
                        var g, b, x, y;
                        g = t,
                        x = (b = function(k) {
                            if ("string" == typeof k)
                                return {
                                    content: k,
                                    details: {}
                                };
                            var _ = Ke.extend({
                                paste: k.paste,
                                data: {
                                    paste: k.paste
                                }
                            }, k);
                            return {
                                content: k.content,
                                details: _
                            }
                        }(m)).content,
                        y = b.details,
                        Ul(g).editor.insertContent(x, y)
                    },
                    mceInsertRawHTML: function(s, f, m) {
                        t.selection.setContent("tiny_mce_marker");
                        var g = t.getContent();
                        t.setContent(g.replace(/tiny_mce_marker/g, function() {
                            return m
                        }))
                    },
                    mceInsertNewLine: function(s, f, m) {
                        nt(t, m)
                    },
                    mceToggleFormat: function(s, f, m) {
                        o.toggleFormat(m)
                    },
                    mceSetContent: function(s, f, m) {
                        t.setContent(m)
                    },
                    "Indent,Outdent": function(s) {
                        hg(t, s)
                    },
                    mceRepaint: _t,
                    InsertHorizontalRule: function() {
                        t.execCommand("mceInsertContent", !1, "<hr />")
                    },
                    mceToggleVisualAid: function() {
                        t.hasVisual = !t.hasVisual,
                        t.addVisual()
                    },
                    mceReplaceContent: function(s, f, m) {
                        t.execCommand("mceInsertContent", !1, m.replace(/\{\$selection\}/g, t.selection.getContent({
                            format: "text"
                        })))
                    },
                    mceInsertLink: function(s, f, m) {
                        "string" == typeof m && (m = {
                            href: m
                        });
                        var g = t.dom.getParent(t.selection.getNode(), "a");
                        m.href = m.href.replace(/ /g, "%20"),
                        g && m.href || t.formatter.remove("link"),
                        m.href && t.formatter.apply("link", m, g)
                    },
                    selectAll: function() {
                        var s, f = t.dom.getParent(t.selection.getStart(), Cu);
                        f && ((s = t.dom.createRng()).selectNodeContents(f),
                        t.selection.setRng(s))
                    },
                    mceNewDocument: function() {
                        t.setContent("")
                    },
                    InsertLineBreak: function(s, f, m) {
                        return aw(t, m),
                        !0
                    }
                }),
                o.addCommands({
                    JustifyLeft: i("alignleft"),
                    JustifyCenter: i("aligncenter"),
                    JustifyRight: i("alignright"),
                    JustifyFull: i("alignjustify"),
                    "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(s) {
                        return o.isFormatMatch(s)
                    },
                    mceBlockQuote: function() {
                        return o.isFormatMatch("blockquote")
                    },
                    Outdent: function() {
                        return eS(t)
                    },
                    "InsertUnorderedList,InsertOrderedList": function(s) {
                        var f = t.dom.getParent(t.selection.getNode(), "ul,ol");
                        return f && ("insertunorderedlist" === s && "UL" === f.tagName || "insertorderedlist" === s && "OL" === f.tagName)
                    }
                }, "state"),
                o.addCommands({
                    Undo: function() {
                        t.undoManager.undo()
                    },
                    Redo: function() {
                        t.undoManager.redo()
                    }
                }),
                o.addQueryValueHandler("FontName", function() {
                    return e3(s = t, function(f) {
                        return ik(s.getBody(), f.dom)
                    }).getOr("");
                    var s
                }, this),
                o.addQueryValueHandler("FontSize", function() {
                    return e3(s = t, function(f) {
                        return K3(s.getBody(), f.dom)
                    }).getOr("");
                    var s
                }, this),
                o.addQueryValueHandler("LineHeight", function() {
                    return e3(s = t, function(f) {
                        var m = Oe.fromDom(s.getBody());
                        return Ky(f, function(g) {
                            return lt(g, "line-height")
                        }, st(uo, m)).getOrThunk(function() {
                            var g = parseFloat(Ae(f, "line-height"))
                              , b = parseFloat(Ae(f, "font-size"));
                            return String(g / b)
                        })
                    }).getOr("");
                    var s
                }, this)
            }
            ,
            Ls);
            function Ls(t) {
                this.commands = {
                    state: {},
                    exec: {},
                    value: {}
                },
                this.editor = t,
                this.setupCommands(t)
            }
            function r3(t, o, i) {
                try {
                    t.getDoc().execCommand(o, !1, String(i))
                } catch (s) {}
            }
            function yS(t, o) {
                t.dom.contentEditable = o ? "true" : "false"
            }
            function xp(t) {
                return t.readonly
            }
            function X3(t) {
                t.parser.addAttributeFilter("contenteditable", function(o) {
                    xp(t) && tt(o, function(i) {
                        i.attr(Lf, i.attr("contenteditable")),
                        i.attr("contenteditable", "false")
                    })
                }),
                t.serializer.addAttributeFilter(Lf, function(o) {
                    xp(t) && tt(o, function(i) {
                        i.attr("contenteditable", i.attr(Lf))
                    })
                }),
                t.serializer.addTempAttr(Lf)
            }
            var Lf = "data-mce-contenteditable"
              , a3 = Ke.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel", " ")
              , i3 = (Cp.isNative = function(t) {
                return !!a3[t.toLowerCase()]
            }
            ,
            Cp.prototype.fire = function(t, o) {
                var i = t.toLowerCase()
                  , s = Up(i, o || {}, this.scope);
                this.settings.beforeFire && this.settings.beforeFire(s);
                var f = this.bindings[i];
                if (f)
                    for (var m = 0, g = f.length; m < g; m++) {
                        var b = f[m];
                        if (!b.removed) {
                            if (b.once && this.off(i, b.func),
                            s.isImmediatePropagationStopped())
                                return s;
                            if (!1 === b.func.call(this.scope, s))
                                return s.preventDefault(),
                                s
                        }
                    }
                return s
            }
            ,
            Cp.prototype.on = function(t, o, i, s) {
                if (o = !1 === o ? Ct : o) {
                    var f = {
                        func: o,
                        removed: !1
                    };
                    s && Ke.extend(f, s);
                    for (var m = t.toLowerCase().split(" "), g = m.length; g--; ) {
                        var b = m[g]
                          , x = this.bindings[b];
                        x || (x = [],
                        this.toggleEvent(b, !0)),
                        x = i ? qo([f], x, !0) : qo(qo([], x, !0), [f], !1),
                        this.bindings[b] = x
                    }
                }
                return this
            }
            ,
            Cp.prototype.off = function(t, o) {
                var i = this;
                if (t)
                    for (var s = t.toLowerCase().split(" "), f = s.length; f--; ) {
                        var m, g = s[f], b = this.bindings[g];
                        if (!g)
                            return Un(this.bindings, function(x, y) {
                                i.toggleEvent(y, !1),
                                delete i.bindings[y]
                            }),
                            this;
                        b && (o ? (b = (m = jn(b, function(x) {
                            return x.func === o
                        })).fail,
                        this.bindings[g] = b,
                        tt(m.pass, function(x) {
                            x.removed = !0
                        })) : b.length = 0,
                        b.length || (this.toggleEvent(t, !1),
                        delete this.bindings[g]))
                    }
                else
                    Un(this.bindings, function(x, y) {
                        i.toggleEvent(y, !1)
                    }),
                    this.bindings = {};
                return this
            }
            ,
            Cp.prototype.once = function(t, o, i) {
                return this.on(t, o, i, {
                    once: !0
                })
            }
            ,
            Cp.prototype.has = function(t) {
                return t = t.toLowerCase(),
                !(!this.bindings[t] || 0 === this.bindings[t].length)
            }
            ,
            Cp);
            function Cp(t) {
                this.bindings = {},
                this.settings = t || {},
                this.scope = this.settings.scope || this,
                this.toggleEvent = this.settings.toggleEvent || Ct
            }
            function sb(t) {
                return t._eventDispatcher || (t._eventDispatcher = new i3({
                    scope: t,
                    toggleEvent: function(o, i) {
                        i3.isNative(o) && t.toggleNativeEvent && t.toggleNativeEvent(o, i)
                    }
                })),
                t._eventDispatcher
            }
            function lw(t, o) {
                if ("selectionchange" === o)
                    return t.getDoc();
                if (!t.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(o))
                    return t.getDoc().documentElement;
                var i = ex(t);
                return i ? (t.eventRoot || (t.eventRoot = wS.select(i)[0]),
                t.eventRoot) : t.getBody()
            }
            function Y3(t, o, i) {
                var s, f, m, g;
                t.hidden || xp(t) ? xp(t) && (s = t,
                "click" !== (f = i).type || Zn.metaKeyPressed(f) || (m = Oe.fromDom(f.target),
                g = s,
                qf(m, "a", function(b) {
                    return uo(b, Oe.fromDom(g.getBody()))
                }).bind(function(b) {
                    return B(b, "href")
                }).each(function(b) {
                    var x, y;
                    f.preventDefault(),
                    /^#/.test(b) ? (x = s.dom.select(b + ',[name="' + (Ee(y = b, "#") ? y.substring("#".length) : y) + '"]')).length && s.selection.scrollIntoView(x[0], !0) : window.open(b, "_blank", "rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")
                }))) : t.fire(o, i)
            }
            function J3(t, o) {
                var i, s;
                t.delegates || (t.delegates = {}),
                t.delegates[o] || t.removed || (s = lw(t, o),
                ex(t) ? (yg || (yg = {},
                t.editorManager.on("removeEditor", function() {
                    t.editorManager.activeEditor || yg && (Un(yg, function(f, m) {
                        t.dom.unbind(lw(t, m))
                    }),
                    yg = null)
                })),
                yg[o] || (yg[o] = i = function(f) {
                    for (var m = f.target, g = t.editorManager.get(), b = g.length; b--; ) {
                        var x = g[b].getBody();
                        x !== m && !wS.isChildOf(m, x) || Y3(g[b], o, f)
                    }
                }
                ,
                wS.bind(s, o, i))) : (wS.bind(s, o, i = function(f) {
                    Y3(t, o, f)
                }
                ),
                t.delegates[o] = i))
            }
            function Z3(t, o, i, s) {
                var f = i[o.get()]
                  , m = i[s];
                try {
                    m.activate()
                } catch (g) {
                    return void console.error("problem while activating editor mode " + s + ":", g)
                }
                f.deactivate(),
                f.editorReadOnly !== m.editorReadOnly && function(t, o) {
                    var i, s, f = Oe.fromDom(t.getBody());
                    (function(t, o, i) {
                        var s, f, m, g, x;
                        $b(t, o) && !1 === i ? (f = o,
                        bm(s = t) ? s.dom.classList.remove(f) : 0 < (x = nn(s1(g = s, "class"), function(y) {
                            return "mce-content-readonly" !== y
                        })).length ? L(g, "class", x.join(" ")) : G(g, "class"),
                        0 === (bm(m = s) ? m.dom.classList : s1(m, "class")).length && G(m, "class")) : i && Ug(t, o)
                    }
                    )(f, "mce-content-readonly", o),
                    o ? (t.selection.controlSelection.hideResizeRect(),
                    t._selectionOverrides.hideFakeCaret(),
                    ee.from(t.selection.getNode()).each(function(m) {
                        m.removeAttribute("data-mce-selected")
                    }),
                    yS(f, !(t.readonly = !0)),
                    tt(ys(f, '*[contenteditable="true"]'), function(m) {
                        L(m, Lf, "true"),
                        yS(m, !1)
                    })) : (yS(f, !(t.readonly = !1)),
                    tt(ys(f, "*[" + Lf + '="true"]'), function(m) {
                        G(m, Lf),
                        yS(m, !0)
                    }),
                    r3(t, "StyleWithCSS", !1),
                    r3(t, "enableInlineTableEditing", !1),
                    r3(t, "enableObjectResizing", !1),
                    (Of(i = t) || wv(Ia(Oe.fromDom((s = i).getElement()))).filter(function(m) {
                        return !(void 0 !== (g = m.dom.classList) && (g.contains("tox-edit-area") || g.contains("tox-edit-area__iframe") || g.contains("mce-content-body"))) && Ch(s, m.dom);
                        var g
                    }).isSome()) && t.focus(),
                    t.selection.setRng(t.selection.getRng()),
                    t.nodeChanged())
                }(t, m.editorReadOnly),
                o.set(s),
                t.fire("SwitchMode", {
                    mode: s
                })
            }
            function sk(t) {
                var o, i = {};
                u3(s3(t.toLowerCase(), "+"), function(f) {
                    f in cb ? i[f] = !0 : /^[0-9]{2,}$/.test(f) ? i.keyCode = parseInt(f, 10) : (i.charCode = f.charCodeAt(0),
                    i.keyCode = lk[f] || f.toUpperCase().charCodeAt(0))
                });
                var s = [i.keyCode];
                for (o in cb)
                    i[o] ? s.push(o) : i[o] = !1;
                return i.id = s.join(","),
                i.access && (i.alt = !0,
                er.mac ? i.ctrl = !0 : i.shift = !0),
                i.meta && (er.mac ? i.meta = !0 : (i.ctrl = !0,
                i.meta = !1)),
                i
            }
            var yg, fw = {
                fire: function(t, o, i) {
                    if (this.removed && "remove" !== t && "detach" !== t)
                        return o;
                    var s = sb(this).fire(t, o);
                    if (!1 !== i && this.parent)
                        for (var f = this.parent(); f && !s.isPropagationStopped(); )
                            f.fire(t, s, !1),
                            f = f.parent();
                    return s
                },
                on: function(t, o, i) {
                    return sb(this).on(t, o, i)
                },
                off: function(t, o) {
                    return sb(this).off(t, o)
                },
                once: function(t, o) {
                    return sb(this).once(t, o)
                },
                hasEventListeners: function(t) {
                    return sb(this).has(t)
                }
            }, wS = co.DOM, Q3 = en(en({}, fw), {
                bindPendingEventDelegates: function() {
                    var t = this;
                    Ke.each(t._pendingNativeEvents, function(o) {
                        J3(t, o)
                    })
                },
                toggleNativeEvent: function(t, o) {
                    var i = this;
                    "focus" !== t && "blur" !== t && (i.removed || (o ? i.initialized ? J3(i, t) : i._pendingNativeEvents ? i._pendingNativeEvents.push(t) : i._pendingNativeEvents = [t] : i.initialized && (i.dom.unbind(lw(i, t), t, i.delegates[t]),
                    delete i.delegates[t])))
                },
                unbindAllNativeEvents: function() {
                    var t = this
                      , o = t.getBody()
                      , i = t.dom;
                    t.delegates && (Un(t.delegates, function(s, f) {
                        t.dom.unbind(lw(t, f), f, s)
                    }),
                    delete t.delegates),
                    !t.inline && o && i && (o.onload = null,
                    i.unbind(t.getWin()),
                    i.unbind(t.getDoc())),
                    i && (i.unbind(o),
                    i.unbind(t.getContainer()))
                }
            }), ck = ["design", "readonly"], u3 = Ke.each, s3 = Ke.explode, lk = {
                f1: 112,
                f2: 113,
                f3: 114,
                f4: 115,
                f5: 116,
                f6: 117,
                f7: 118,
                f8: 119,
                f9: 120,
                f10: 121,
                f11: 122,
                f12: 123
            }, cb = Ke.makeMap("alt,ctrl,shift,meta,access"), e_ = ($v.prototype.add = function(t, o, i, s) {
                var f = this
                  , m = f.normalizeCommandFunc(i);
                return u3(s3(Ke.trim(t)), function(g) {
                    var b = f.createShortcut(g, o, m, s);
                    f.shortcuts[b.id] = b
                }),
                !0
            }
            ,
            $v.prototype.remove = function(t) {
                var o = this.createShortcut(t);
                return !!this.shortcuts[o.id] && (delete this.shortcuts[o.id],
                !0)
            }
            ,
            $v.prototype.normalizeCommandFunc = function(t) {
                var o = this
                  , i = t;
                return "string" == typeof i ? function() {
                    o.editor.execCommand(i, !1, null)
                }
                : Ke.isArray(i) ? function() {
                    o.editor.execCommand(i[0], i[1], i[2])
                }
                : i
            }
            ,
            $v.prototype.createShortcut = function(t, o, i, s) {
                var f = Ke.map(s3(t, ">"), sk);
                return f[f.length - 1] = Ke.extend(f[f.length - 1], {
                    func: i,
                    scope: s || this.editor
                }),
                Ke.extend(f[0], {
                    desc: this.editor.translate(o),
                    subpatterns: f.slice(1)
                })
            }
            ,
            $v.prototype.hasModifier = function(t) {
                return t.altKey || t.ctrlKey || t.metaKey
            }
            ,
            $v.prototype.isFunctionKey = function(t) {
                return "keydown" === t.type && 112 <= t.keyCode && t.keyCode <= 123
            }
            ,
            $v.prototype.matchShortcut = function(t, o) {
                return !!o && o.ctrl === t.ctrlKey && o.meta === t.metaKey && o.alt === t.altKey && o.shift === t.shiftKey && !!(t.keyCode === o.keyCode || t.charCode && t.charCode === o.charCode) && (t.preventDefault(),
                !0)
            }
            ,
            $v.prototype.executeShortcutAction = function(t) {
                return t.func ? t.func.call(t.scope) : null
            }
            ,
            $v);
            function $v(t) {
                this.shortcuts = {},
                this.pendingPatterns = [],
                this.editor = t;
                var o = this;
                t.on("keyup keypress keydown", function(i) {
                    !o.hasModifier(i) && !o.isFunctionKey(i) || i.isDefaultPrevented() || (u3(o.shortcuts, function(s) {
                        if (o.matchShortcut(i, s))
                            return o.pendingPatterns = s.subpatterns.slice(0),
                            "keydown" === i.type && o.executeShortcutAction(s),
                            !0
                    }),
                    o.matchShortcut(i, o.pendingPatterns[0]) && (1 === o.pendingPatterns.length && "keydown" === i.type && o.executeShortcutAction(o.pendingPatterns[0]),
                    o.pendingPatterns.shift()))
                })
            }
            var Yd = co.DOM
              , t_ = Ke.extend
              , n_ = Ke.each
              , c3 = Ke.resolve
              , fk = er.ie
              , xS = (wo.prototype.render = function() {
                !function(t) {
                    var o = t.id;
                    Rs.setCode(jb(t));
                    var i, s, f, m, g = function() {
                        wp.unbind(window, "ready", g),
                        t.render()
                    };
                    Uo.Event.domLoaded ? t.getElement() && er.contentEditable && (i = Oe.fromDom(t.getElement()),
                    s = kt(i.dom.attributes, function(b, x) {
                        return b[x.name] = x.value,
                        b
                    }, {}),
                    t.on("remove", function() {
                        kr(i.dom.attributes, function(b) {
                            return G(i, b.name),
                            0
                        }),
                        R(i, s)
                    }),
                    t.ui.styleSheetLoader = Ri.forElement(i, {
                        contentCssCors: (f = t).getParam("content_css_cors"),
                        referrerPolicy: Yw(f)
                    }),
                    t.getParam("inline") ? t.inline = !0 : (t.orgVisibility = t.getElement().style.visibility,
                    t.getElement().style.visibility = "hidden"),
                    (m = t.getElement().form || wp.getParent(o, "form")) && (t.formElement = m,
                    t.getParam("hidden_input") && !gs(t.getElement()) && (wp.insertAfter(wp.create("input", {
                        type: "hidden",
                        name: o
                    }), o),
                    t.hasHiddenInput = !0),
                    t.formEventDelegate = function(b) {
                        t.fire(b.type, b)
                    }
                    ,
                    wp.bind(m, "submit reset", t.formEventDelegate),
                    t.on("reset", function() {
                        t.resetContent()
                    }),
                    !t.getParam("submit_patch") || m.submit.nodeType || m.submit.length || m._mceOldSubmit || (m._mceOldSubmit = m.submit,
                    m.submit = function() {
                        return t.editorManager.triggerSave(),
                        t.setDirty(!1),
                        m._mceOldSubmit(m)
                    }
                    )),
                    t.windowManager = Hu(t),
                    t.notificationManager = nc(t),
                    "xml" === t.getParam("encoding") && t.on("GetContent", function(b) {
                        b.save && (b.content = wp.encode(b.content))
                    }),
                    t.getParam("add_form_submit_trigger") && t.on("submit", function() {
                        t.initialized && t.save()
                    }),
                    t.getParam("add_unload_trigger") && (t._beforeUnload = function() {
                        !t.initialized || t.destroyed || t.isHidden() || t.save({
                            format: "raw",
                            no_events: !0,
                            set_dirty: !1
                        })
                    }
                    ,
                    t.editorManager.on("BeforeUnload", t._beforeUnload)),
                    t.editorManager.add(t),
                    function(t, o) {
                        var i, s, f = lc.ScriptLoader, m = f, g = o, b = function() {
                            var y, k, _, A, P, z, F, H, V;
                            P = f,
                            H = jb(z = t),
                            V = z.getParam("language_url", "", "string"),
                            !1 === Rs.hasCode(H) && "en" !== H && P.add(F = "" !== V ? V : z.editorManager.baseURL + "/langs/" + H + ".js", _t, void 0, function() {
                                b2(z, "LanguageLoadError", y2("language", F, H))
                            }),
                            _ = f,
                            tt(function(j) {
                                for (var K = [], oe = function(X) {
                                    K.push(X)
                                }, pe = 0; pe < j.length; pe++)
                                    j[pe].each(oe);
                                return K
                            }([mS(A = t, "default", o), ee.from(A.getParam("icons_url", "", "string")).filter(function(j) {
                                return 0 < j.length
                            }).map(function(j) {
                                return {
                                    url: j,
                                    name: ee.none()
                                }
                            }).orThunk(function() {
                                return mS(A, mc(A), "")
                            })]), function(j) {
                                _.add(j.url, _t, void 0, function() {
                                    b2(A, "IconsLoadError", y2("icons", j.url, j.name.getOrUndefined()))
                                })
                            }),
                            k = o,
                            Ke.each((y = t).getParam("external_plugins"), function(j, K) {
                                On.load(K, j, _t, void 0, function() {
                                    w2(y, j, K)
                                }),
                                y.settings.plugins += " " + K
                            }),
                            Ke.each(Zg(y).split(/[ ,]/), function(j) {
                                var K, oe;
                                (j = Ke.trim(j)) && !On.urls[j] && (dS(j) ? (j = j.substr(1, j.length),
                                K = On.dependencies(j),
                                Ke.each(K, function(pe) {
                                    var X = On.createUrl({
                                        prefix: "plugins/",
                                        resource: pe,
                                        suffix: "/plugin" + k + ".js"
                                    }, pe);
                                    On.load(X.resource, X, _t, void 0, function() {
                                        w2(y, X.prefix + X.resource + X.suffix, X.resource)
                                    })
                                })) : On.load(j, oe = {
                                    prefix: "plugins/",
                                    resource: j,
                                    suffix: "/plugin" + k + ".js"
                                }, _t, void 0, function() {
                                    w2(y, oe.prefix + oe.resource + oe.suffix, j)
                                }))
                            }),
                            f.loadQueue(function() {
                                t.removed || ZT(t)
                            }, t, function() {
                                t.removed || ZT(t)
                            })
                        }, x = xd(i = t);
                        Fn(x) ? (dS(x) || St(Nf.urls, x) || ((s = i.getParam("theme_url")) ? Nf.load(x, i.documentBaseURI.toAbsolute(s)) : Nf.load(x, "themes/" + x + "/theme" + g + ".js")),
                        m.loadQueue(function() {
                            Nf.waitFor(x, b)
                        })) : b()
                    }(t, t.suffix)) : wp.bind(window, "ready", g)
                }(this)
            }
            ,
            wo.prototype.focus = function(t) {
                this.execCommand("mceFocus", !1, t)
            }
            ,
            wo.prototype.hasFocus = function() {
                return Of(this)
            }
            ,
            wo.prototype.execCallback = function(t) {
                for (var o = [], i = 1; i < arguments.length; i++)
                    o[i - 1] = arguments[i];
                var s, f = this.settings[t];
                if (f)
                    return this.callbackLookup && (s = this.callbackLookup[t]) && (f = s.func,
                    s = s.scope),
                    "string" == typeof f && (s = (s = f.replace(/\.\w+$/, "")) ? c3(s) : 0,
                    f = c3(f),
                    this.callbackLookup = this.callbackLookup || {},
                    this.callbackLookup[t] = {
                        func: f,
                        scope: s
                    }),
                    f.apply(s || this, o)
            }
            ,
            wo.prototype.translate = function(t) {
                return Rs.translate(t)
            }
            ,
            wo.prototype.getParam = function(t, o, i) {
                return m = o,
                k = (f = t)in (s = this).settings ? s.settings[f] : m,
                "hash" === (g = i) ? (y = {},
                "string" == typeof (x = k) ? tt(0 < x.indexOf("=") ? x.split(/[;,](?![^=;,]*(?:[;,]|$))/) : x.split(","), function(_) {
                    var A = _.split("=");
                    y[Ke.trim(A[0])] = Ke.trim(1 < A.length ? A[1] : A[0])
                }) : y = x,
                y) : "string" === g ? Dv(Fn, s, f).getOr(m) : "number" === g ? Dv($o, s, f).getOr(m) : "boolean" === g ? Dv(En, s, f).getOr(m) : "object" === g ? Dv(an, s, f).getOr(m) : "array" === g ? Dv(Se, s, f).getOr(m) : "string[]" === g ? Dv((b = Fn,
                function(_) {
                    return Se(_) && Le(_, b)
                }
                ), s, f).getOr(m) : "function" === g ? Dv(Kn, s, f).getOr(m) : k;
                var s, f, m, g, b, x, y, k
            }
            ,
            wo.prototype.hasPlugin = function(t, o) {
                return !(!D(Zg(this).split(/[ ,]/), t) || o && void 0 === On.get(t))
            }
            ,
            wo.prototype.nodeChanged = function(t) {
                this._nodeChangeDispatcher.nodeChanged(t)
            }
            ,
            wo.prototype.addCommand = function(t, o, i) {
                this.editorCommands.addCommand(t, o, i)
            }
            ,
            wo.prototype.addQueryStateHandler = function(t, o, i) {
                this.editorCommands.addQueryStateHandler(t, o, i)
            }
            ,
            wo.prototype.addQueryValueHandler = function(t, o, i) {
                this.editorCommands.addQueryValueHandler(t, o, i)
            }
            ,
            wo.prototype.addShortcut = function(t, o, i, s) {
                this.shortcuts.add(t, o, i, s)
            }
            ,
            wo.prototype.execCommand = function(t, o, i, s) {
                return this.editorCommands.execCommand(t, o, i, s)
            }
            ,
            wo.prototype.queryCommandState = function(t) {
                return this.editorCommands.queryCommandState(t)
            }
            ,
            wo.prototype.queryCommandValue = function(t) {
                return this.editorCommands.queryCommandValue(t)
            }
            ,
            wo.prototype.queryCommandSupported = function(t) {
                return this.editorCommands.queryCommandSupported(t)
            }
            ,
            wo.prototype.show = function() {
                this.hidden && (this.hidden = !1,
                this.inline ? this.getBody().contentEditable = "true" : (Yd.show(this.getContainer()),
                Yd.hide(this.id)),
                this.load(),
                this.fire("show"))
            }
            ,
            wo.prototype.hide = function() {
                var t = this
                  , o = t.getDoc();
                t.hidden || (fk && o && !t.inline && o.execCommand("SelectAll"),
                t.save(),
                t.inline ? (t.getBody().contentEditable = "false",
                t === t.editorManager.focusedEditor && (t.editorManager.focusedEditor = null)) : (Yd.hide(t.getContainer()),
                Yd.setStyle(t.id, "display", t.orgDisplay)),
                t.hidden = !0,
                t.fire("hide"))
            }
            ,
            wo.prototype.isHidden = function() {
                return !!this.hidden
            }
            ,
            wo.prototype.setProgressState = function(t, o) {
                this.fire("ProgressState", {
                    state: t,
                    time: o
                })
            }
            ,
            wo.prototype.load = function(t) {
                var o = this.getElement();
                if (this.removed)
                    return "";
                if (o) {
                    (t = t || {}).load = !0;
                    var i = gs(o) ? o.value : o.innerHTML
                      , s = this.setContent(i, t);
                    return t.element = o,
                    t.no_events || this.fire("LoadContent", t),
                    t.element = o = null,
                    s
                }
            }
            ,
            wo.prototype.save = function(t) {
                var o, i, s = this, f = s.getElement();
                if (f && s.initialized && !s.removed)
                    return (t = t || {}).save = !0,
                    t.element = f,
                    t.content = s.getContent(t),
                    t.no_events || s.fire("SaveContent", t),
                    "raw" === t.format && s.fire("RawSaveContent", t),
                    o = t.content,
                    gs(f) ? f.value = o : (!t.is_removing && s.inline || (f.innerHTML = o),
                    (i = Yd.getParent(s.id, "form")) && n_(i.elements, function(m) {
                        if (m.name === s.id)
                            return m.value = o,
                            !1
                    })),
                    t.element = f = null,
                    !1 !== t.set_dirty && s.setDirty(!1),
                    o
            }
            ,
            wo.prototype.setContent = function(t, o) {
                return A0(this, t, o)
            }
            ,
            wo.prototype.getContent = function(t) {
                return s = (i = void 0 === (i = t) ? {} : i).format || "html",
                f = i,
                Ul(this).editor.getContent(f, s);
                var i, s, f
            }
            ,
            wo.prototype.insertContent = function(t, o) {
                o && (t = t_({
                    content: t
                }, o)),
                this.execCommand("mceInsertContent", !1, t)
            }
            ,
            wo.prototype.resetContent = function(t) {
                void 0 === t ? A0(this, this.startContent, {
                    format: "raw"
                }) : A0(this, t),
                this.undoManager.reset(),
                this.setDirty(!1),
                this.nodeChanged()
            }
            ,
            wo.prototype.isDirty = function() {
                return !this.isNotDirty
            }
            ,
            wo.prototype.setDirty = function(t) {
                var o = !this.isNotDirty;
                this.isNotDirty = !t,
                t && t !== o && this.fire("dirty")
            }
            ,
            wo.prototype.getContainer = function() {
                return this.container || (this.container = Yd.get(this.editorContainer || this.id + "_parent")),
                this.container
            }
            ,
            wo.prototype.getContentAreaContainer = function() {
                return this.contentAreaContainer
            }
            ,
            wo.prototype.getElement = function() {
                return this.targetElm || (this.targetElm = Yd.get(this.id)),
                this.targetElm
            }
            ,
            wo.prototype.getWin = function() {
                var t;
                return this.contentWindow || (t = this.iframeElement) && (this.contentWindow = t.contentWindow),
                this.contentWindow
            }
            ,
            wo.prototype.getDoc = function() {
                var t;
                return this.contentDocument || (t = this.getWin()) && (this.contentDocument = t.document),
                this.contentDocument
            }
            ,
            wo.prototype.getBody = function() {
                var t = this.getDoc();
                return this.bodyElement || (t ? t.body : null)
            }
            ,
            wo.prototype.convertURL = function(t, o, i) {
                var s = this.settings;
                return s.urlconverter_callback ? this.execCallback("urlconverter_callback", t, i, !0, o) : !s.convert_urls || i && "LINK" === i.nodeName || 0 === t.indexOf("file:") || 0 === t.length ? t : s.relative_urls ? this.documentBaseURI.toRelative(t) : this.documentBaseURI.toAbsolute(t, s.remove_script_host)
            }
            ,
            wo.prototype.addVisual = function(t) {
                var o;
                o = t,
                Da(this).editor.addVisual(o)
            }
            ,
            wo.prototype.remove = function() {
                var t, o, i, s, f;
                (t = this).removed || (o = t._selectionOverrides,
                i = t.editorUpload,
                s = t.getBody(),
                f = t.getElement(),
                s && t.save({
                    is_removing: !0
                }),
                t.removed = !0,
                t.unbindAllNativeEvents(),
                t.hasHiddenInput && f && ml.remove(f.nextSibling),
                t.fire("remove"),
                t.editorManager.remove(t),
                !t.inline && s && ml.setStyle(t.id, "display", t.orgDisplay),
                t.fire("detach"),
                ml.remove(t.getContainer()),
                ug(o),
                ug(i),
                t.destroy())
            }
            ,
            wo.prototype.destroy = function(t) {
                var o, i, s, f, m, g, b;
                i = t,
                g = (o = this).selection,
                b = o.dom,
                o.destroyed || (i || o.removed ? (i || (o.editorManager.off("beforeunload", o._beforeUnload),
                o.theme && o.theme.destroy && o.theme.destroy(),
                ug(g),
                ug(b)),
                (f = (s = o).formElement) && (f._mceOldSubmit && (f.submit = f._mceOldSubmit,
                f._mceOldSubmit = null),
                ml.unbind(f, "submit reset", s.formEventDelegate)),
                (m = o).contentAreaContainer = m.formElement = m.container = m.editorContainer = null,
                m.bodyElement = m.contentDocument = m.contentWindow = null,
                m.iframeElement = m.targetElm = null,
                m.selection && (m.selection = m.selection.win = m.selection.dom = m.selection.dom.doc = null),
                o.destroyed = !0) : o.remove())
            }
            ,
            wo.prototype.uploadImages = function(t) {
                return this.editorUpload.uploadImages(t)
            }
            ,
            wo.prototype._scanForImages = function() {
                return this.editorUpload.scanForImages()
            }
            ,
            wo.prototype.addButton = function() {
                throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")
            }
            ,
            wo.prototype.addSidebar = function() {
                throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")
            }
            ,
            wo.prototype.addMenuItem = function() {
                throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")
            }
            ,
            wo.prototype.addContextToolbar = function() {
                throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")
            }
            ,
            wo);
            function wo(t, o, i) {
                var s, f, m, g, b, x, y, k, P, z, F, H, j, K, oe, pe = this;
                function X(he, ye) {
                    return function(De, He) {
                        return he[De.toLowerCase()] = en(en({}, He), {
                            type: ye
                        })
                    }
                }
                this.plugins = {},
                this.contentCSS = [],
                this.contentStyles = [],
                this.loadedCSS = {},
                this.isNotDirty = !1,
                this.editorManager = i,
                this.documentBaseUrl = i.documentBaseURL,
                t_(this, Q3),
                this.settings = (P = i.defaultSettings,
                F = this.documentBaseUrl,
                H = g2,
                j = {
                    id: t,
                    theme: "silver",
                    toolbar_mode: yC(z = o, "floating"),
                    plugins: "",
                    document_base_url: F,
                    add_form_submit_trigger: !0,
                    submit_patch: !0,
                    add_unload_trigger: !0,
                    convert_urls: !0,
                    relative_urls: !0,
                    remove_script_host: !0,
                    object_resizing: !0,
                    doctype: "<!DOCTYPE html>",
                    visual: !0,
                    font_size_legacy_values: "xx-small,small,medium,large,x-large,xx-large,300%",
                    forced_root_block: "p",
                    hidden_input: !0,
                    inline_styles: !0,
                    convert_fonts_to_spans: !0,
                    indent: !0,
                    indent_before: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                    indent_after: "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                    entity_encoding: "named",
                    url_converter: this.convertURL,
                    url_converter_scope: this
                },
                K = en(en({}, j), H ? AC : {}),
                !1 !== (oe = function(t, o, i, s, f) {
                    var m, g, b, x, y, k, _, A, P = t ? {
                        mobile: (m = o,
                        g = {
                            resize: !1,
                            toolbar_mode: yC(f.mobile || {}, "scrolling"),
                            toolbar_sticky: !1
                        },
                        en(en(en({}, AC), g), m ? {
                            menubar: !1
                        } : {}))
                    } : {}, z = (y = ["mobile"],
                    ja(_C(P, f), function(H, V) {
                        return D(y, V)
                    }, Fo(k = {}), Fo(_ = {})),
                    {
                        sections: xe((A = {
                            t: k,
                            f: _
                        }).t),
                        settings: xe(A.f)
                    }), F = Ke.extend(i, s, z.settings(), t && Zh(z, "mobile") ? function(H) {
                        void 0 === H && (H = {});
                        var V = pt(z.sections(), "mobile").getOr({});
                        return Ke.extend({}, H, V)
                    }() : {}, {
                        validate: !0,
                        external_plugins: (b = s,
                        x = z.settings().external_plugins || {},
                        b && b.external_plugins ? Ke.extend({}, b.external_plugins, x) : x)
                    });
                    return function(t, o, i, s) {
                        var f, m, g, b, x, y, k, _, A = Jh(i.forced_plugins), P = Jh(s.plugins), z = Zh(f = o, "mobile") ? f.sections().mobile : {}, H = (b = o,
                        x = P,
                        y = z.plugins ? Jh(z.plugins) : P,
                        m = (g = t) && (_ = (k = b).sections(),
                        Zh(k, "mobile") && "mobile" === _.mobile.theme) ? nn(y, st(D, EC)) : g && Zh(b, "mobile") ? y : x,
                        [].concat(Jh(A)).concat(Jh(m)));
                        if (er.browser.isIE() && D(H, "rtc"))
                            throw new Error("RTC plugin is not supported on IE 11.");
                        return Ke.extend(s, {
                            plugins: H.join(" ")
                        })
                    }(t, z, s, F)
                }(Qh || h2, Qh, K, P, z)).deprecation_warnings && function(t, o) {
                    var i, s, f, m, g, b, x, y = (i = t,
                    s = nn(AT, function(F) {
                        return St(i, F)
                    }),
                    !1 !== (f = i.forced_root_block) && "" !== f || s.push("forced_root_block (false only)"),
                    Bt(s)), k = (x = Ke.makeMap(o.plugins, " "),
                    Bt(qo(qo([], nn(kC, z), !0), me(OT, function(F) {
                        return z(F) ? [F + " (moving to premium)"] : []
                    }), !0))), _ = 0 < k.length, A = 0 < y.length, P = "mobile" === o.theme;
                    function z(F) {
                        return St(x, F)
                    }
                    (_ || A || P) && (m = P ? "\n\nThemes:\n- mobile" : "",
                    g = _ ? "\n\nPlugins:\n- " + k.join("\n- ") : "",
                    b = A ? "\n\nSettings:\n- " + y.join("\n- ") : "",
                    console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information." + m + g + b))
                }(z, oe),
                oe),
                this.settings.suffix && (i.suffix = this.settings.suffix),
                this.suffix = i.suffix,
                this.settings.base_url && i._setBaseUrl(this.settings.base_url),
                this.baseUri = i.baseURI,
                this.settings.referrer_policy && (lc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),
                co.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),
                cu.languageLoad = this.settings.language_load,
                cu.baseURL = i.baseURL,
                this.id = t,
                this.setDirty(!1),
                this.documentBaseURI = new Vl(this.settings.document_base_url,{
                    base_uri: this.baseUri
                }),
                this.baseURI = this.baseUri,
                this.inline = !!this.settings.inline,
                this.shortcuts = new e_(this),
                this.editorCommands = new t3(this),
                this.settings.cache_suffix && (er.cacheSuffix = this.settings.cache_suffix.replace(/^[\?\&]+/, "")),
                this.ui = {
                    registry: {
                        addAutocompleter: (b = {},
                        (s = {
                            addButton: X(f = {}, "button"),
                            addGroupToolbarButton: X(f, "grouptoolbarbutton"),
                            addToggleButton: X(f, "togglebutton"),
                            addMenuButton: X(f, "menubutton"),
                            addSplitButton: X(f, "splitbutton"),
                            addMenuItem: X(m = {}, "menuitem"),
                            addNestedMenuItem: X(m, "nestedmenuitem"),
                            addToggleMenuItem: X(m, "togglemenuitem"),
                            addAutocompleter: X(g = {}, "autocompleter"),
                            addContextMenu: X(x = {}, "contextmenu"),
                            addContextToolbar: X(y = {}, "contexttoolbar"),
                            addContextForm: X(y, "contextform"),
                            addSidebar: X(k = {}, "sidebar"),
                            addIcon: function(he, ye) {
                                return b[he.toLowerCase()] = ye
                            },
                            getAll: function() {
                                return {
                                    buttons: f,
                                    menuItems: m,
                                    icons: b,
                                    popups: g,
                                    contextMenus: x,
                                    contextToolbars: y,
                                    sidebars: k
                                }
                            }
                        }).addAutocompleter),
                        addButton: s.addButton,
                        addContextForm: s.addContextForm,
                        addContextMenu: s.addContextMenu,
                        addContextToolbar: s.addContextToolbar,
                        addIcon: s.addIcon,
                        addMenuButton: s.addMenuButton,
                        addMenuItem: s.addMenuItem,
                        addNestedMenuItem: s.addNestedMenuItem,
                        addSidebar: s.addSidebar,
                        addSplitButton: s.addSplitButton,
                        addToggleButton: s.addToggleButton,
                        addGroupToolbarButton: s.addGroupToolbarButton,
                        addToggleMenuItem: s.addToggleMenuItem,
                        getAll: s.getAll
                    },
                    styleSheetLoader: void 0,
                    show: _t,
                    hide: _t,
                    enable: _t,
                    disable: _t,
                    isDisabled: Ct
                };
                var ne, ue, Me, Fe, Ge, Ve = (Fe = su("design"),
                Ge = su({
                    design: {
                        activate: _t,
                        deactivate: _t,
                        editorReadOnly: !1
                    },
                    readonly: {
                        activate: _t,
                        deactivate: _t,
                        editorReadOnly: !0
                    }
                }),
                (ue = ne = this).serializer ? X3(ue) : ue.on("PreInit", function() {
                    X3(ue)
                }),
                (Me = ne).on("ShowCaret", function(he) {
                    xp(Me) && he.preventDefault()
                }),
                Me.on("ObjectSelected", function(he) {
                    xp(Me) && he.preventDefault()
                }),
                {
                    isReadOnly: function() {
                        return xp(ne)
                    },
                    set: function(he) {
                        return function(ye, De, He, Dt) {
                            if (Dt !== He.get()) {
                                if (!St(De, Dt))
                                    throw new Error("Editor mode '" + Dt + "' is invalid");
                                ye.initialized ? Z3(ye, He, De, Dt) : ye.on("init", function() {
                                    return Z3(ye, He, De, Dt)
                                })
                            }
                        }(ne, Ge.get(), Fe, he)
                    },
                    get: function() {
                        return Fe.get()
                    },
                    register: function(he, ye) {
                        Ge.set(function(De, He, Dt) {
                            var It;
                            if (D(ck, He))
                                throw new Error("Cannot override default mode " + He);
                            return en(en({}, De), ((It = {})[He] = en(en({}, Dt), {
                                deactivate: function() {
                                    try {
                                        Dt.deactivate()
                                    } catch (Tt) {
                                        console.error("problem while deactivating editor mode " + He + ":", Tt)
                                    }
                                }
                            }),
                            It))
                        }(Ge.get(), he, ye))
                    }
                });
                this.mode = Ve,
                this.setMode = Ve.set,
                i.fire("SetupEditor", {
                    editor: this
                }),
                this.execCallback("setup", this),
                this.$ = Br.overrideDefaults(function() {
                    return {
                        context: pe.inline ? pe.getBody() : pe.getDoc(),
                        element: pe.getBody()
                    }
                })
            }
            function r_(t) {
                var o = t.type;
                Vv(wg.get(), function(i) {
                    switch (o) {
                    case "scroll":
                        i.fire("ScrollWindow", t);
                        break;
                    case "resize":
                        i.fire("ResizeWindow", t)
                    }
                })
            }
            function o_(t) {
                t !== af && (t ? Br(window).on("resize scroll", r_) : Br(window).off("resize scroll", r_),
                af = t)
            }
            function a_(t) {
                var o = Hs;
                delete Uv[t.id];
                for (var i = 0; i < Uv.length; i++)
                    if (Uv[i] === t) {
                        Uv.splice(i, 1);
                        break
                    }
                return Hs = nn(Hs, function(s) {
                    return t !== s
                }),
                wg.activeEditor === t && (wg.activeEditor = 0 < Hs.length ? Hs[0] : null),
                wg.focusedEditor === t && (wg.focusedEditor = null),
                o.length !== Hs.length
            }
            var CS, of = co.DOM, vk = Ke.explode, Vv = Ke.each, dk = Ke.extend, SS = 0, af = !1, Uv = [], Hs = [], l3 = "CSS1Compat" !== document.compatMode, wg = en(en({}, fw), {
                baseURI: null,
                baseURL: null,
                defaultSettings: {},
                documentBaseURL: null,
                suffix: null,
                $: Br,
                majorVersion: "5",
                minorVersion: "10.7",
                releaseDate: "2022-12-06",
                editors: Uv,
                i18n: Rs,
                activeEditor: null,
                focusedEditor: null,
                settings: {},
                setup: function() {
                    var t, o = "", i = Vl.getDocumentBaseUrl(document.location);
                    /^[^:]+:\/\/\/?[^\/]+\//.test(i) && (i = i.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, ""),
                    /[\/\\]$/.test(i) || (i += "/"));
                    var s = window.tinymce || window.tinyMCEPreInit;
                    if (s)
                        t = s.base || s.baseURL,
                        o = s.suffix;
                    else {
                        for (var f, m = document.getElementsByTagName("script"), g = 0; g < m.length; g++)
                            if ("" !== (f = m[g].src || "")) {
                                var b = f.substring(f.lastIndexOf("/"));
                                if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(f)) {
                                    -1 !== b.indexOf(".min") && (o = ".min"),
                                    t = f.substring(0, f.lastIndexOf("/"));
                                    break
                                }
                            }
                        !t && document.currentScript && (-1 !== (f = document.currentScript.src).indexOf(".min") && (o = ".min"),
                        t = f.substring(0, f.lastIndexOf("/")))
                    }
                    this.baseURL = new Vl(i).toAbsolute(t),
                    this.documentBaseURL = i,
                    this.baseURI = new Vl(this.baseURL),
                    this.suffix = o,
                    this.on("AddEditor", st(by, this)),
                    this.on("RemoveEditor", st(fT, this))
                },
                overrideDefaults: function(t) {
                    var o = t.base_url;
                    o && this._setBaseUrl(o),
                    t.suffix && (this.suffix = t.suffix);
                    var s = (this.defaultSettings = t).plugin_base_urls;
                    void 0 !== s && Un(s, function(f, m) {
                        cu.PluginManager.urls[m] = f
                    })
                },
                init: function(t) {
                    function o(x) {
                        var y = x.id;
                        return y || (y = pt(x, "name").filter(function(k) {
                            return !of.get(k)
                        }).getOrThunk(of.uniqueId),
                        x.setAttribute("id", y)),
                        y
                    }
                    function i(x, y) {
                        return y.constructor === RegExp ? y.test(x.className) : of.hasClass(x, y)
                    }
                    var s, f = this, m = Ke.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu", " "), g = function(x) {
                        s = x
                    }, b = function() {
                        function x(P, z, F) {
                            var H = new xS(P,z,f);
                            A.push(H),
                            H.on("init", function() {
                                ++_ === y.length && g(A)
                            }),
                            H.targetElm = H.targetElm || F,
                            H.render()
                        }
                        var y, k, _ = 0, A = [];
                        of.unbind(window, "ready", b),
                        (k = t.onpageload) && k.apply(f, []),
                        y = Br.unique(function(P) {
                            var z = [];
                            if (er.browser.isIE() && er.browser.version.major < 11)
                                return U0("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),
                                [];
                            if (l3)
                                return U0("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),
                                [];
                            if (P.types)
                                return Vv(P.types, function(H) {
                                    z = z.concat(of.select(H.selector))
                                }),
                                z;
                            if (P.selector)
                                return of.select(P.selector);
                            if (P.target)
                                return [P.target];
                            switch (P.mode) {
                            case "exact":
                                var F = P.elements || "";
                                0 < F.length && Vv(vk(F), function(H) {
                                    var V = of.get(H);
                                    V ? z.push(V) : Vv(document.forms, function(j) {
                                        Vv(j.elements, function(K) {
                                            K.name === H && (H = "mce_editor_" + SS++,
                                            of.setAttrib(K, "id", H),
                                            z.push(K))
                                        })
                                    })
                                });
                                break;
                            case "textareas":
                            case "specific_textareas":
                                Vv(of.select("textarea"), function(H) {
                                    P.editor_deselector && i(H, P.editor_deselector) || P.editor_selector && !i(H, P.editor_selector) || z.push(H)
                                })
                            }
                            return z
                        }(t)),
                        t.types ? Vv(t.types, function(P) {
                            Ke.each(y, function(z) {
                                return !of.is(z, P.selector) || (x(o(z), dk({}, t, P), z),
                                !1)
                            })
                        }) : (Ke.each(y, function(P) {
                            var z;
                            (z = f.get(P.id)) && z.initialized && !(z.getContainer() || z.getBody()).parentNode && (a_(z),
                            z.unbindAllNativeEvents(),
                            z.destroy(!0),
                            z.removed = !0)
                        }),
                        0 === (y = Ke.grep(y, function(P) {
                            return !f.get(P.id)
                        })).length ? g([]) : Vv(y, function(P) {
                            t.inline && P.tagName.toLowerCase()in m ? U0("Could not initialize inline editor on invalid inline target element", P) : x(o(P), t, P)
                        }))
                    };
                    return f.settings = t,
                    of.bind(window, "ready", b),
                    new Mi(function(x) {
                        s ? x(s) : g = function(y) {
                            x(y)
                        }
                    }
                    )
                },
                get: function(t) {
                    return 0 === arguments.length ? Hs.slice(0) : Fn(t) ? re(Hs, function(o) {
                        return o.id === t
                    }).getOr(null) : $o(t) && Hs[t] || null
                },
                add: function(t) {
                    var o = this;
                    return Uv[t.id] === t || (null === o.get(t.id) && ("length" !== t.id && (Uv[t.id] = t),
                    Uv.push(t),
                    Hs.push(t)),
                    o_(!0),
                    o.activeEditor = t,
                    o.fire("AddEditor", {
                        editor: t
                    }),
                    CS || (CS = function(i) {
                        var s = o.fire("BeforeUnload");
                        if (s.returnValue)
                            return i.preventDefault(),
                            i.returnValue = s.returnValue,
                            s.returnValue
                    }
                    ,
                    window.addEventListener("beforeunload", CS))),
                    t
                },
                createEditor: function(t, o) {
                    return this.add(new xS(t,o,this))
                },
                remove: function(t) {
                    var o, i, s = this;
                    if (t) {
                        if (!Fn(t))
                            return _n(s.get((i = t).id)) ? null : (a_(i) && s.fire("RemoveEditor", {
                                editor: i
                            }),
                            0 === Hs.length && window.removeEventListener("beforeunload", CS),
                            i.remove(),
                            o_(0 < Hs.length),
                            i);
                        Vv(of.select(t), function(f) {
                            (i = s.get(f.id)) && s.remove(i)
                        })
                    } else
                        for (o = Hs.length - 1; 0 <= o; o--)
                            s.remove(Hs[o])
                },
                execCommand: function(t, o, i) {
                    var s = this.get(i);
                    switch (t) {
                    case "mceAddEditor":
                        return this.get(i) || new xS(i,this.settings,this).render(),
                        !0;
                    case "mceRemoveEditor":
                        return s && s.remove(),
                        !0;
                    case "mceToggleEditor":
                        return s ? s.isHidden() ? s.show() : s.hide() : this.execCommand("mceAddEditor", !1, i),
                        !0
                    }
                    return !!this.activeEditor && this.activeEditor.execCommand(t, o, i)
                },
                triggerSave: function() {
                    Vv(Hs, function(t) {
                        t.save()
                    })
                },
                addI18n: function(t, o) {
                    Rs.add(t, o)
                },
                translate: function(t) {
                    return Rs.translate(t)
                },
                setActive: function(t) {
                    var o = this.activeEditor;
                    this.activeEditor !== t && (o && o.fire("deactivate", {
                        relatedTarget: t
                    }),
                    t.fire("activate", {
                        relatedTarget: o
                    })),
                    this.activeEditor = t
                },
                _setBaseUrl: function(t) {
                    this.baseURL = new Vl(this.documentBaseURL).toAbsolute(t.replace(/\/+$/, "")),
                    this.baseURI = new Vl(this.baseURL)
                }
            });
            function f3(t, o, i) {
                var s = o.x
                  , f = o.y
                  , m = t.w
                  , g = t.h
                  , b = o.w
                  , x = o.h
                  , y = (i || "").split("");
                return "b" === y[0] && (f += x),
                "r" === y[1] && (s += b),
                "c" === y[0] && (f += TS(x / 2)),
                "c" === y[1] && (s += TS(b / 2)),
                "b" === y[3] && (f -= g),
                "r" === y[4] && (s -= m),
                "c" === y[3] && (f -= TS(g / 2)),
                "c" === y[4] && (s -= TS(m / 2)),
                Sp(s, f, m, g)
            }
            function i_() {}
            function Sp(t, o, i, s) {
                return {
                    x: t,
                    y: o,
                    w: i,
                    h: s
                }
            }
            wg.setup();
            var Tp, vw, v3, d3, lb = Math.min, _p = Math.max, TS = Math.round, u_ = {
                inflate: function(t, o, i) {
                    return Sp(t.x - o, t.y - i, t.w + 2 * o, t.h + 2 * i)
                },
                relativePosition: f3,
                findBestRelativePosition: function(t, o, i, s) {
                    for (var f, m = 0; m < s.length; m++)
                        if ((f = f3(t, o, s[m])).x >= i.x && f.x + f.w <= i.w + i.x && f.y >= i.y && f.y + f.h <= i.h + i.y)
                            return s[m];
                    return null
                },
                intersect: function(t, o) {
                    var i = _p(t.x, o.x)
                      , s = _p(t.y, o.y)
                      , f = lb(t.x + t.w, o.x + o.w)
                      , m = lb(t.y + t.h, o.y + o.h);
                    return f - i < 0 || m - s < 0 ? null : Sp(i, s, f - i, m - s)
                },
                clamp: function(t, o, i) {
                    var s = t.x
                      , f = t.y
                      , m = t.x + t.w
                      , g = t.y + t.h
                      , b = o.x + o.w
                      , x = o.y + o.h
                      , y = _p(0, o.x - s)
                      , k = _p(0, o.y - f)
                      , _ = _p(0, m - b)
                      , A = _p(0, g - x);
                    return s += y,
                    f += k,
                    i && (m += y,
                    g += k,
                    s -= _,
                    f -= A),
                    Sp(s, f, (m -= _) - s, (g -= A) - f)
                },
                create: Sp,
                fromClientRect: function(t) {
                    return Sp(t.left, t.top, t.width, t.height)
                }
            }, mk = (Tp = {},
            vw = {},
            {
                load: function(t, o) {
                    var i = 'Script at URL "' + o + '" failed to load'
                      , s = 'Script at URL "' + o + "\" did not call `tinymce.Resource.add('" + t + "', data)` within 1 second";
                    if (void 0 !== Tp[t])
                        return Tp[t];
                    var f = new Mi(function(m, g) {
                        var b = function(x, y, k) {
                            function _(H) {
                                return function() {
                                    for (var V = [], j = 0; j < arguments.length; j++)
                                        V[j] = arguments[j];
                                    A || (A = !0,
                                    null !== P && (clearTimeout(P),
                                    P = null),
                                    H.apply(null, V))
                                }
                            }
                            void 0 === k && (k = 1e3);
                            var A = !1
                              , P = null
                              , z = _(x)
                              , F = _(y);
                            return {
                                start: function() {
                                    for (var H = [], V = 0; V < arguments.length; V++)
                                        H[V] = arguments[V];
                                    A || null !== P || (P = setTimeout(function() {
                                        return F.apply(null, H)
                                    }, k))
                                },
                                resolve: z,
                                reject: F
                            }
                        }(m, g);
                        vw[t] = b.resolve,
                        lc.ScriptLoader.loadScript(o, function() {
                            return b.start(s)
                        }, function() {
                            return b.reject(i)
                        })
                    }
                    );
                    return Tp[t] = f
                },
                add: function(t, o) {
                    void 0 !== vw[t] && (vw[t](o),
                    delete vw[t]),
                    Tp[t] = Mi.resolve(o)
                }
            }), _S = Ke.each, gk = Ke.extend;
            i_.extend = v3 = function(t) {
                function o() {
                    var m, g, b;
                    if (!d3 && (this.init && this.init.apply(this, arguments),
                    g = this.Mixins))
                        for (m = g.length; m--; )
                            (b = g[m]).init && b.init.apply(this, arguments)
                }
                function i() {
                    return this
                }
                var s = this.prototype;
                d3 = !0;
                var f = new this;
                return d3 = !1,
                t.Mixins && (_S(t.Mixins, function(m) {
                    for (var g in m)
                        "init" !== g && (t[g] = m[g])
                }),
                s.Mixins && (t.Mixins = s.Mixins.concat(t.Mixins))),
                t.Methods && _S(t.Methods.split(","), function(m) {
                    t[m] = i
                }),
                t.Properties && _S(t.Properties.split(","), function(m) {
                    var g = "_" + m;
                    t[m] = function(b) {
                        return void 0 !== b ? (this[g] = b,
                        this) : this[g]
                    }
                }),
                t.Statics && _S(t.Statics, function(m, g) {
                    o[g] = m
                }),
                t.Defaults && s.Defaults && (t.Defaults = gk({}, s.Defaults, t.Defaults)),
                Un(t, function(m, g) {
                    var b, x;
                    f[g] = "function" == typeof m && s[g] ? (b = g,
                    x = m,
                    function() {
                        var y = this._super;
                        this._super = s[b];
                        var k = x.apply(this, arguments);
                        return this._super = y,
                        k
                    }
                    ) : m
                }),
                o.prototype = f,
                (o.constructor = o).extend = v3,
                o
            }
            ;
            var dw, kp, kS, ES = Math.min, fb = Math.max, uf = Math.round, m3 = {
                serialize: function(t) {
                    var o = JSON.stringify(t);
                    return Fn(o) ? o.replace(/[\u0080-\uFFFF]/g, function(i) {
                        var s = i.charCodeAt(0).toString(16);
                        return "\\u" + "0000".substring(s.length) + s
                    }) : o
                },
                parse: function(t) {
                    try {
                        return JSON.parse(t)
                    } catch (o) {}
                }
            }, hk = {
                callbacks: {},
                count: 0,
                send: function(t) {
                    var o = this
                      , i = co.DOM
                      , s = (void 0 !== t.count ? t : o).count
                      , f = "tinymce_jsonp_" + s;
                    o.callbacks[s] = function(m) {
                        i.remove(f),
                        delete o.callbacks[s],
                        t.callback(m)
                    }
                    ,
                    i.add(i.doc.body, "script", {
                        id: f,
                        src: t.url,
                        type: "text/javascript"
                    }),
                    o.count++
                }
            }, Ep = en(en({}, fw), {
                send: function(t) {
                    var o, i = 0, s = function() {
                        !t.async || 4 === o.readyState || 1e4 < i++ ? (t.success && i < 1e4 && 200 === o.status ? t.success.call(t.success_scope, "" + o.responseText, o, t) : t.error && t.error.call(t.error_scope, 1e4 < i ? "TIMED_OUT" : "GENERAL", o, t),
                        o = null) : ai.setTimeout(s, 10)
                    };
                    if (t.scope = t.scope || this,
                    t.success_scope = t.success_scope || t.scope,
                    t.error_scope = t.error_scope || t.scope,
                    t.async = !1 !== t.async,
                    t.data = t.data || "",
                    Ep.fire("beforeInitialize", {
                        settings: t
                    }),
                    (o = new XMLHttpRequest).overrideMimeType && o.overrideMimeType(t.content_type),
                    o.open(t.type || (t.data ? "POST" : "GET"), t.url, t.async),
                    t.crossDomain && (o.withCredentials = !0),
                    t.content_type && o.setRequestHeader("Content-Type", t.content_type),
                    t.requestheaders && Ke.each(t.requestheaders, function(f) {
                        o.setRequestHeader(f.key, f.value)
                    }),
                    o.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                    (o = Ep.fire("beforeSend", {
                        xhr: o,
                        settings: t
                    }).xhr).send(t.data),
                    !t.async)
                        return s();
                    ai.setTimeout(s, 10)
                }
            }), AS = Ke.extend, pk = (OS.sendRPC = function(t) {
                return (new OS).send(t)
            }
            ,
            OS.prototype.send = function(t) {
                var o = t.error
                  , i = t.success
                  , s = AS(this.settings, t);
                s.success = function(f, m) {
                    (f = void 0 === (f = m3.parse(f)) ? {
                        error: "JSON Parse error."
                    } : f).error ? o.call(s.error_scope || s.scope, f.error, m) : i.call(s.success_scope || s.scope, f.result)
                }
                ,
                s.error = function(f, m) {
                    o && o.call(s.error_scope || s.scope, f, m)
                }
                ,
                s.data = m3.serialize({
                    id: t.id || "c" + this.count++,
                    method: t.method,
                    params: t.params
                }),
                s.content_type = "application/json",
                Ep.send(s)
            }
            ,
            OS);
            function OS(t) {
                this.settings = AS({}, t),
                this.count = 0
            }
            try {
                var mw, gw = "__storage_test__";
                (mw = window.localStorage).setItem(gw, gw),
                mw.removeItem(gw)
            } catch (t) {
                dw = {},
                kp = [],
                kS = {
                    getItem: function(o) {
                        return dw[o] || null
                    },
                    setItem: function(o, i) {
                        kp.push(o),
                        dw[o] = String(i)
                    },
                    key: function(o) {
                        return kp[o]
                    },
                    removeItem: function(o) {
                        kp = kp.filter(function(i) {
                            return i === o
                        }),
                        delete dw[o]
                    },
                    clear: function() {
                        kp = [],
                        dw = {}
                    },
                    length: 0
                },
                Object.defineProperty(kS, "length", {
                    get: function() {
                        return kp.length
                    },
                    configurable: !1,
                    enumerable: !1
                }),
                mw = kS
            }
            var hw = Ke.extend(wg, {
                geom: {
                    Rect: u_
                },
                util: {
                    Promise: Mi,
                    Delay: ai,
                    Tools: Ke,
                    VK: Zn,
                    URI: Vl,
                    Class: i_,
                    EventDispatcher: i3,
                    Observable: fw,
                    I18n: Rs,
                    XHR: Ep,
                    JSON: m3,
                    JSONRequest: pk,
                    JSONP: hk,
                    LocalStorage: mw,
                    Color: function(t) {
                        function o(g) {
                            var b;
                            return "object" == typeof g ? "r"in g ? (s = g.r,
                            f = g.g,
                            m = g.b) : "v"in g && function(x, y, k) {
                                if (x = (parseInt(x, 10) || 0) % 360,
                                y = parseInt(y, 10) / 100,
                                k = parseInt(k, 10) / 100,
                                y = fb(0, ES(y, 1)),
                                k = fb(0, ES(k, 1)),
                                0 !== y) {
                                    var _ = x / 60
                                      , A = k * y
                                      , P = A * (1 - Math.abs(_ % 2 - 1))
                                      , z = k - A;
                                    switch (Math.floor(_)) {
                                    case 0:
                                        s = A,
                                        f = P,
                                        m = 0;
                                        break;
                                    case 1:
                                        s = P,
                                        f = A,
                                        m = 0;
                                        break;
                                    case 2:
                                        s = 0,
                                        f = A,
                                        m = P;
                                        break;
                                    case 3:
                                        s = 0,
                                        f = P,
                                        m = A;
                                        break;
                                    case 4:
                                        s = P,
                                        f = 0,
                                        m = A;
                                        break;
                                    case 5:
                                        s = A,
                                        f = 0,
                                        m = P;
                                        break;
                                    default:
                                        s = f = m = 0
                                    }
                                    s = uf(255 * (s + z)),
                                    f = uf(255 * (f + z)),
                                    m = uf(255 * (m + z))
                                } else
                                    s = f = m = uf(255 * k)
                            }(g.h, g.s, g.v) : (b = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(g)) ? (s = parseInt(b[1], 10),
                            f = parseInt(b[2], 10),
                            m = parseInt(b[3], 10)) : (b = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(g)) ? (s = parseInt(b[1], 16),
                            f = parseInt(b[2], 16),
                            m = parseInt(b[3], 16)) : (b = /#([0-F])([0-F])([0-F])/gi.exec(g)) && (s = parseInt(b[1] + b[1], 16),
                            f = parseInt(b[2] + b[2], 16),
                            m = parseInt(b[3] + b[3], 16)),
                            s = s < 0 ? 0 : 255 < s ? 255 : s,
                            f = f < 0 ? 0 : 255 < f ? 255 : f,
                            m = m < 0 ? 0 : 255 < m ? 255 : m,
                            i
                        }
                        var i = {}
                          , s = 0
                          , f = 0
                          , m = 0;
                        return t && o(t),
                        i.toRgb = function() {
                            return {
                                r: s,
                                g: f,
                                b: m
                            }
                        }
                        ,
                        i.toHsv = function() {
                            return g = s,
                            b = f,
                            x = m,
                            k = 0,
                            (_ = ES(g /= 255, ES(b /= 255, x /= 255))) === (A = fb(g, fb(b, x))) ? {
                                h: 0,
                                s: 0,
                                v: 100 * (k = _)
                            } : (y = (A - _) / A,
                            {
                                h: uf(60 * ((g === _ ? 3 : x === _ ? 1 : 5) - (g === _ ? b - x : x === _ ? g - b : x - g) / ((k = A) - _))),
                                s: uf(100 * y),
                                v: uf(100 * k)
                            });
                            var g, b, x, y, k, _, A
                        }
                        ,
                        i.toHex = function() {
                            function g(b) {
                                return 1 < (b = parseInt(b, 10).toString(16)).length ? b : "0" + b
                            }
                            return "#" + g(s) + g(f) + g(m)
                        }
                        ,
                        i.parse = o,
                        i
                    },
                    ImageUploader: function(t) {
                        var o = D0()
                          , i = C2(t, o);
                        return {
                            upload: function(s, f) {
                                return i.upload(s, (f = void 0 === f || f) ? x2(t) : void 0)
                            }
                        }
                    }
                },
                dom: {
                    EventUtils: Uo,
                    Sizzle: Xo,
                    DomQuery: Br,
                    TreeWalker: ao,
                    TextSeeker: Vb,
                    DOMUtils: co,
                    ScriptLoader: lc,
                    RangeUtils: bv,
                    Serializer: E0,
                    StyleSheetLoader: rd,
                    ControlSelection: xs,
                    BookmarkManager: Ni,
                    Selection: gC,
                    Event: Uo.Event
                },
                html: {
                    Styles: cm,
                    Entities: Pi,
                    Node: ba,
                    Schema: Ac,
                    SaxParser: $1,
                    DomParser: k0,
                    Writer: jm,
                    Serializer: Gm
                },
                Env: er,
                AddOnManager: cu,
                Annotator: sy,
                Formatter: RC,
                UndoManager: sg,
                EditorCommands: t3,
                WindowManager: Hu,
                NotificationManager: nc,
                EditorObservable: Q3,
                Shortcuts: e_,
                Editor: xS,
                FocusManager: Ax,
                EditorManager: wg,
                DOM: co.DOM,
                ScriptLoader: lc.ScriptLoader,
                PluginManager: On,
                ThemeManager: Nf,
                IconManager: Mv,
                Resource: mk,
                trim: Ke.trim,
                isArray: Ke.isArray,
                is: Ke.is,
                toArray: Ke.toArray,
                makeMap: Ke.makeMap,
                each: Ke.each,
                map: Ke.map,
                grep: Ke.grep,
                inArray: Ke.inArray,
                extend: Ke.extend,
                create: Ke.create,
                walk: Ke.walk,
                createNS: Ke.createNS,
                resolve: Ke.resolve,
                explode: Ke.explode,
                _addCacheSuffix: Ke._addCacheSuffix,
                isOpera: er.opera,
                isWebKit: er.webkit,
                isIE: er.ie,
                isGecko: er.gecko,
                isMac: er.mac
            })
              , Wv = hw;
            window.tinymce = Wv,
            window.tinyMCE = Wv,
            function(t) {
                try {
                    zo.exports = t
                } catch (o) {}
            }(hw)
        }()
    }
    ,
    22721: (zo,xr,cn)=>{
        "use strict";
        cn.d(xr, {
            d: ()=>Mn
        });
        var br = cn(86019)
          , Nn = cn(83668)
          , Lr = cn(49133);
        function nn(re, Re) {
            if (1 & re && Nn.\u0275\u0275element(0, "textarea", 3),
            2 & re) {
                const me = Nn.\u0275\u0275nextContext();
                Nn.\u0275\u0275propertyInterpolate("id", me.elementId)
            }
        }
        function ir(re, Re) {
            if (1 & re && Nn.\u0275\u0275element(0, "div", 4),
            2 & re) {
                const me = Nn.\u0275\u0275nextContext();
                Nn.\u0275\u0275propertyInterpolate("id", me.elementId)
            }
        }
        function kt(re, Re) {
            if (1 & re && (Nn.\u0275\u0275elementStart(0, "div", 5),
            Nn.\u0275\u0275text(1),
            Nn.\u0275\u0275elementEnd()),
            2 & re) {
                const me = Nn.\u0275\u0275nextContext();
                Nn.\u0275\u0275advance(1),
                Nn.\u0275\u0275textInterpolate(me.errorMsg)
            }
        }
        cn(42212),
        cn(29045),
        cn(64989),
        cn(33304),
        cn(98505),
        cn(85646),
        cn(27294),
        cn(14258),
        cn(68044),
        cn(85507),
        cn(15904),
        cn(67318),
        cn(89486),
        cn(46437),
        cn(62339),
        cn(32739),
        cn(21816),
        cn(73574),
        cn(38375);
        let Mn = (()=>{
            class re {
                constructor() {
                    this.showLink = !1,
                    this.showMedia = !1,
                    this.contentChange = new Nn.EventEmitter,
                    this.onEditorKeyup = new Nn.EventEmitter,
                    this.onError = new Nn.EventEmitter,
                    this.height = 300,
                    this.autoResizeImage = !1,
                    this.showMenubar = !1,
                    this.activeToolbar2 = !1,
                    this.EditElementWhereCursorIs = !1,
                    this.showCodeSample = !1,
                    this.changed = [],
                    this.touched = [],
                    this.plugins = ["lists charmap preview hr", "code fullscreen media", "table paste", "noneditable", "codesample", "image", "paste"]
                }
                ngOnInit() {
                    this.fullpage && this.plugins.push("fullpage"),
                    this.showLink && (this.plugins.push("link"),
                    this.plugins.push("image")),
                    this.showCodeSample && this.plugins.push("codeSample"),
                    console.log(this.content)
                }
                ngAfterViewInit() {
                    if (br.isPlatformBrowser) {
                        let Le = {
                            selector: "#" + this.elementId,
                            branding: !1,
                            height: this.height,
                            selection_toolbar: "bold italic | quicklink h2 h3 blockquote",
                            skin_url: "/assets/skins/ui/custom",
                            content_css: "/assets/skins/ui/reset-editor.css",
                            menu: !1,
                            inline: !1,
                            resize: !1,
                            theme: "silver",
                            menubar: this.showMenubar,
                            plugins: this.plugins,
                            target_list: [{
                                title: "None",
                                value: ""
                            }, {
                                title: "Same page",
                                value: "_self"
                            }, {
                                title: "New page",
                                value: "_blank"
                            }, {
                                title: "Parent frame",
                                value: "_parent"
                            }],
                            noneditable_noneditable_class: "mceNonEditable",
                            editable_editable_class: "mceEditable",
                            visualblocks_default_state: !1,
                            codesample_languages: [{
                                text: "No-heading",
                                value: "empty"
                            }, {
                                text: "HTML/XML",
                                value: "HTMl"
                            }, {
                                text: "JavaScript",
                                value: "JS"
                            }, {
                                text: "CSS",
                                value: "CSS"
                            }, {
                                text: "PHP",
                                value: "PHP"
                            }, {
                                text: "Ruby",
                                value: "Ruby"
                            }, {
                                text: "Python",
                                value: "Python"
                            }, {
                                text: "Java",
                                value: "Java"
                            }, {
                                text: "C",
                                value: "C"
                            }, {
                                text: "C#",
                                value: "CSharp"
                            }, {
                                text: "C++",
                                value: "CPP"
                            }],
                            extended_valid_elements: "app-course-code-editor[class=myclass|!langmode|border:0|editormode|data|language|height|style|pre|code],unsubscribe[style],app-course-quiz-element[class=myclass|!question|border:0|choices|correctanswer|style|span|p],app-course-snippet-code-editor[class=myclass|!langmode|border:0|editormode|data|language|height|style|pre|code],app-course-quiz-angular-element[class=myclass|!question|border:0|choices|correctanswer|style|span|p],app-generic-editor-code-snippet[class=myclass|!langmode|border:0|editormode|data|language|height|style|pre|code]",
                            toolbar1: " bold italic underline strikethrough  | alignleft aligncenter alignright alignjustify | fontsizeselect | cut copy paste | searchreplace | bullist numlist | undo redo |  image ",
                            toolbar2: this.extraToolbar,
                            relative_urls: !1,
                            remove_script_host: !1,
                            setup: je=>{
                                this.editor = je,
                                je.on("init", ()=>{
                                    null != this.content && je.setContent(this.content)
                                }
                                ),
                                je.ui.registry.addButton("customInsertButton", {
                                    icon: "preview",
                                    onAction: function(We) {
                                        je.windowManager.open(me)
                                    }
                                }),
                                je.on("click", ()=>{
                                    this.currentElementText = je.selection.getEnd().innerHTML
                                }
                                ),
                                je.on("keyup", ()=>{
                                    const We = je.getContent();
                                    this.value = We,
                                    this.contentChange.emit(We),
                                    this.onEditorKeyup.emit(We),
                                    null != this.validation && (this.checkValidation(je.getContent({
                                        format: "text"
                                    })),
                                    this.maxCharLimit && this.validateMaxLength(je.getContent()),
                                    this.minCharLimit && this.validateMinLength(je.getContent()))
                                }
                                ),
                                je.on("Change", ()=>{
                                    const We = je.getContent();
                                    this.value = We,
                                    this.contentChange.emit(We)
                                }
                                ),
                                je.on("NodeChange", function(We) {
                                    if (this.autoResizeImage && We && "img" == We.element.nodeName.toLowerCase()) {
                                        let Bt = We.element.width
                                          , Gn = We.element.height;
                                        Bt = "100%",
                                        Gn = null,
                                        tinymce.DOM.setAttribs(We.element, {
                                            width: Bt,
                                            height: Gn
                                        })
                                    }
                                })
                            }
                        };
                        1 == this.EditElementWhereCursorIs && (Le.toolbar1 += " | customInsertButton"),
                        this.inline && (Le.inline = !0,
                        Le.toolbar1 = " bold italic underline strikethrough | alignleft aligncenter alignright alignjustify  | bullist numlist | blockquote | undo redo | link"),
                        this.hideFontSize && (Le.toolbar1 = "bold italic underline  | alignleft aligncenter alignright alignjustify | cut copy paste | searchreplace | bullist numlist | undo redo |  image | link"),
                        this.hideFontSize && this.paragraph && (Le.toolbar1 = "formatselect | bold italic underline  | alignleft aligncenter alignright alignjustify | cut copy paste | searchreplace | bullist numlist | undo redo |  image link",
                        1 == this.showCodeSample && (Le.toolbar1 += " | codesample")),
                        this.showMedia && (Le.toolbar1 = "formatselect | bold italic underline  | alignleft aligncenter alignright alignjustify | cut copy paste | searchreplace | bullist numlist | undo redo |  image media"),
                        this.hideAll && (Le.toolbar1 = "formatselect | bold italic | searchreplace | bullist numlist | undo redo |  image "),
                        this.activeToolbar2 && (Le.toolbar1 = "bold italic underline strikethrough | alignleft aligncenter alignright alignjustify  | bullist numlist | cut copy paste | superscript subscript | image"),
                        setTimeout(()=>{
                            tinymce.init(Le)
                        }
                        , 100);
                        var me = {
                            title: "Exter Text You want To Replace",
                            body: {
                                type: "panel",
                                items: [{
                                    type: "input",
                                    name: "replaceText",
                                    label: "Enter Text"
                                }]
                            },
                            buttons: [{
                                type: "cancel",
                                name: "closeButton",
                                text: "Cancel"
                            }, {
                                type: "submit",
                                name: "submitButton",
                                text: "Submit",
                                primary: !0
                            }],
                            initialData: {
                                catdata: this.currentElementText
                            },
                            onSubmit: function(je) {
                                var We = je.getData();
                                tinymce.activeEditor.selection.getEnd().innerHTML = We.replaceText,
                                je.close()
                            }
                        }
                    }
                }
                ngOnDestroy() {
                    tinymce.remove(this.editor)
                }
                get value() {
                    return this.content
                }
                set value(me) {
                    this.content !== me && (this.content = me,
                    this.changed.forEach(Le=>Le(me)))
                }
                registerOnChange(me) {
                    this.changed.push(me)
                }
                registerOnTouched(me) {
                    this.touched.push(me)
                }
                setDisabledState(me) {
                    this.disabled = me
                }
                writeValue(me) {
                    this.content = me
                }
                refresh() {
                    this.refreshEditor(this.content)
                }
                refreshEditor(me) {
                    this.content = me,
                    this.editor.setContent(me)
                }
                AddDataAtCursorPosition(me) {
                    let Le = `<p><img src="${me}"></p>`;
                    tinymce.activeEditor.execCommand("mceInsertContent", !1, Le),
                    console.log(Le)
                }
                contentSelection() {
                    let Le = "<div class='special-text'>" + tinymce.activeEditor.selection.getContent() + "</div>";
                    console.log(Le),
                    tinymce.activeEditor.execCommand("mceInsertContent", !1, Le)
                }
                AddWhereCursorIs(me, Le=null) {
                    console.log(me),
                    null == Le ? tinymce.activeEditor.execCommand("mceInsertContent", !1, me) : (console.log("ye kr chala", tinymce.get(Le)),
                    tinymce.get(Le).execCommand("mceInsertContent", !1, me))
                }
                checkValidation(me) {
                    this.errorStatus = !1,
                    this.errorMsg = "",
                    "" == me && this.validation && this.validation.required && (this.errorStatus = !0,
                    this.errorMsg = "This Field is Required"),
                    "" != me && this.validation && this.validation.pattern && new RegExp(this.validation.pattern).test(me) && (this.errorStatus = !0,
                    this.errorMsg = "Some characters are not allowed."),
                    this.onError.emit(this.errorStatus)
                }
                validateMaxLength(me) {
                    me && this.maxCharLimit && me.length > this.maxCharLimit && (this.errorStatus = !0,
                    this.errorMsg = `Content exceeds ${this.maxCharLimit} characters`),
                    this.onError.emit(this.errorStatus)
                }
                validateMinLength(me) {
                    me && this.minCharLimit && me.length < this.minCharLimit && (this.errorStatus = !0,
                    this.errorMsg = `Content must not be less than ${this.minCharLimit} characters`),
                    this.onError.emit(this.errorStatus)
                }
            }
            return re.\u0275fac = function(me) {
                return new (me || re)
            }
            ,
            re.\u0275cmp = Nn.\u0275\u0275defineComponent({
                type: re,
                selectors: [["simple-tiny"]],
                inputs: {
                    elementId: "elementId",
                    content: "content",
                    inline: "inline",
                    hideFontSize: "hideFontSize",
                    paragraph: "paragraph",
                    showLink: "showLink",
                    hideAll: "hideAll",
                    showMedia: "showMedia",
                    height: "height",
                    validation: "validation",
                    autoResizeImage: "autoResizeImage",
                    extraToolbar: "extraToolbar",
                    fullpage: "fullpage",
                    showMenubar: "showMenubar",
                    id: "id",
                    activeToolbar2: "activeToolbar2",
                    name: "name",
                    placeholder: "placeholder",
                    EditElementWhereCursorIs: "EditElementWhereCursorIs",
                    showCodeSample: "showCodeSample",
                    maxCharLimit: "maxCharLimit",
                    minCharLimit: "minCharLimit"
                },
                outputs: {
                    contentChange: "contentChange",
                    onEditorKeyup: "onEditorKeyup",
                    onError: "onError"
                },
                features: [Nn.\u0275\u0275ProvidersFeature([{
                    provide: Lr.JU,
                    useExisting: (0,
                    Nn.forwardRef)(()=>re),
                    multi: !0
                }])],
                decls: 3,
                vars: 3,
                consts: [["textarea", "", 3, "id", 4, "ngIf"], ["class", "inline-editor d2c_font", 3, "id", 4, "ngIf"], ["class", "simple-tiny-error", 4, "ngIf"], ["textarea", "", 3, "id"], [1, "inline-editor", "d2c_font", 3, "id"], [1, "simple-tiny-error"]],
                template: function(me, Le) {
                    1 & me && (Nn.\u0275\u0275template(0, nn, 1, 1, "textarea", 0),
                    Nn.\u0275\u0275template(1, ir, 1, 1, "div", 1),
                    Nn.\u0275\u0275template(2, kt, 2, 1, "div", 2)),
                    2 & me && (Nn.\u0275\u0275property("ngIf", !Le.inline),
                    Nn.\u0275\u0275advance(1),
                    Nn.\u0275\u0275property("ngIf", Le.inline),
                    Nn.\u0275\u0275advance(1),
                    Nn.\u0275\u0275property("ngIf", Le.errorStatus))
                },
                directives: [br.NgIf],
                styles: [".inline-editor[_ngcontent-%COMP%]{position:relative;padding:10px 0;outline:none}  .mce-panel{border-color:#f1f1f1!important}  select{display:block}  .mce-ico{color:gray!important;border:none!important}  .mce-btn:hover,   .mce-btn:focus{color:#333!important;background-color:#e3e3e3c2!important;border-color:transparent!important}"]
            }),
            re
        }
        )()
    }
    ,
    83021: (zo,xr,cn)=>{
        "use strict";
        cn.d(xr, {
            y: ()=>Lr
        });
        var br = cn(86019)
          , Nn = cn(83668);
        let Lr = (()=>{
            class vr {
            }
            return vr.\u0275fac = function(fn) {
                return new (fn || vr)
            }
            ,
            vr.\u0275mod = Nn.\u0275\u0275defineNgModule({
                type: vr
            }),
            vr.\u0275inj = Nn.\u0275\u0275defineInjector({
                imports: [[br.CommonModule]]
            }),
            vr
        }
        )()
    }
}]);
